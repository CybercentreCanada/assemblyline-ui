{"version":3,"sources":["helpers/cbor.js","helpers/flow.js","commons/components/hooks/useAppTheme.ts","commons/components/app/AppContextProvider.tsx","commons/components/user/UserProvider.tsx","commons/components/hooks/useAppUser.ts","commons/components/layout/leftnav/LeftNavItem.tsx","commons/components/layout/leftnav/LeftNavGroup.tsx","commons/components/layout/topnav/AppTitle.tsx","commons/components/layout/leftnav/LeftNavDrawer.tsx","commons/components/hooks/useAppBarHeight.tsx","commons/components/hooks/useAppContext.tsx","commons/components/sitemap/SitemapProvider.tsx","i18n.ts","commons/components/hooks/useAppSitemap.ts","commons/components/layout/topnav/ThemeSelection.tsx","commons/components/layout/breadcrumbs/BreadcrumbIcon.tsx","commons/components/layout/breadcrumbs/BreadcrumbLinkItem.tsx","commons/components/layout/breadcrumbs/BreadcrumbLastItem.tsx","commons/components/layout/breadcrumbs/BreadcrumbList.tsx","commons/components/layout/breadcrumbs/Breadcrumbs.tsx","commons/components/layout/topnav/AppSwitcher.tsx","commons/components/layout/topnav/QuickSearch.tsx","commons/components/layout/topnav/ThemeSelectionIcon.tsx","commons/components/hooks/useGravatar.tsx","commons/components/layout/topnav/UserProfile.tsx","commons/components/layout/topnav/TopBar.tsx","commons/components/layout/LayoutProvider.tsx","commons/components/hooks/useAppLayout.ts","components/hooks/useALContext.tsx","components/hooks/useMyLayout.tsx","components/hooks/useMySnackbar.tsx","components/hooks/useMyUser.tsx","components/routes/loading.tsx","commons/components/layout/pages/PageCenter.tsx","components/routes/403.tsx","components/routes/locked.tsx","commons/components/layout/pages/CardCentered.tsx","helpers/xsrf.tsx","components/hooks/useMyAPI.tsx","components/routes/login/oauth.tsx","components/routes/login/otp.tsx","components/routes/login/reset.tsx","helpers/toArrayBuffer.tsx","components/routes/login/sectoken.tsx","components/routes/login/signup.tsx","components/routes/login/userpass.tsx","components/visual/TextDivider.tsx","components/routes/login.tsx","components/routes/404_dl.tsx","components/routes/user/api_keys.tsx","components/routes/user/disable_otp.tsx","components/routes/user/otp.tsx","components/routes/user/token.tsx","components/visual/CustomChip.tsx","helpers/classificationParser.ts","components/visual/Classification.tsx","components/visual/ConfirmationDialog.tsx","components/routes/user/apps.tsx","components/routes/user.tsx","components/routes/account.tsx","components/layout/linkgrid.tsx","components/routes/admin.tsx","commons/components/hooks/useClipboard.tsx","commons/components/layout/pages/PageFullWidth.tsx","commons/components/layout/pages/PageHeader.tsx","components/visual/DrawerProvider.tsx","components/hooks/useDrawer.tsx","commons/addons/elements/utils/browser.ts","commons/addons/elements/utils/keyboard.ts","components/visual/SearchBar/search-textfield.tsx","components/visual/SearchBar/search-bar.tsx","components/visual/SearchBar/simple-search-query.ts","components/visual/SearchPager.tsx","components/visual/DivTable.tsx","components/visual/InformativeAlert.tsx","components/visual/SearchResult/errors.tsx","components/routes/admin/error_viewer.tsx","components/visual/Empty.tsx","components/routes/admin/service_detail/container_dialog.tsx","components/routes/admin/service_detail/container_card.tsx","components/routes/admin/service_detail/container.tsx","components/routes/admin/service_detail/general.tsx","components/routes/admin/service_detail/multi_type_config.tsx","components/routes/admin/service_detail/multi_type_param.tsx","components/routes/admin/service_detail/parameters.tsx","components/routes/manage/signature_sources.tsx","components/routes/admin/service_detail/source_dialog.tsx","components/routes/admin/service_detail/updater.tsx","components/routes/admin/service_detail.tsx","components/visual/SearchResult/service.tsx","components/routes/admin/services.tsx","components/routes/admin/site_map.tsx","components/visual/SearchResult/users.tsx","components/routes/admin/users.tsx","components/visual/ChipList.tsx","helpers/utils.ts","components/visual/Verdict.tsx","components/routes/alerts/alert-priority.tsx","components/routes/alerts/alert-status.tsx","components/routes/alerts/alert-details.tsx","commons/addons/elements/carousel/Carousel.tsx","commons/addons/elements/utils/throttler.ts","commons/addons/elements/lists/hooks/useListNavigator.tsx","commons/addons/elements/lists/carousel/ListCarousel.tsx","commons/addons/elements/lists/navigator/ListNavigator.tsx","commons/addons/elements/lists/hooks/useListKeyboard.tsx","commons/addons/elements/lists/hooks/useListStyles.tsx","commons/addons/elements/lists/item/ListItemBase.tsx","commons/addons/elements/lists/scrollers/SimpleListScroller.ts","commons/addons/elements/lists/simplelist/SimpleList.tsx","components/routes/alerts/alert-list-item.tsx","components/routes/alerts/hooks/usePromiseAPI.tsx","components/routes/alerts/alert-list-item-actions.tsx","components/visual/SearchBar/search-query.ts","components/routes/alerts/alerts-filters.tsx","components/routes/alerts/hooks/useFavorites.tsx","components/routes/alerts/alerts-filters-favorites.tsx","components/routes/alerts/alerts-filters-selected.tsx","components/routes/alerts/alerts-workflow-actions.tsx","components/routes/alerts/hooks/useAlerts.ts","components/routes/alerts/alerts.tsx","components/visual/ExtendedScan.tsx","components/visual/VerdictBar.tsx","components/routes/alerts/alert-card.tsx","components/routes/alerts/legacy-alert.tsx","components/routes/authorize.tsx","commons/components/hooks/useFullscreenStatus.ts","commons/components/layout/pages/PageFullScreen.tsx","components/visual/ArcGauge.tsx","components/routes/dashboard.tsx","components/visual/HighlightProvider.tsx","components/hooks/useHighlighter.tsx","components/visual/ResultCard/extracted_file.tsx","components/visual/ResultCard/extracted.tsx","components/visual/Attack.tsx","components/visual/Heuristic.tsx","components/visual/SectionHighlight.tsx","components/visual/Tag.tsx","components/visual/TitleKey.tsx","components/visual/ResultCard/result_section.tsx","components/visual/ResultCard/supplementary.tsx","components/visual/ResultCard.tsx","components/visual/FileDetail/attacks.tsx","components/visual/FileDetail/childrens.tsx","components/visual/FileDetail/emptys.tsx","components/visual/ErrorCard.tsx","components/visual/FileDetail/errors.tsx","components/visual/FileDetail/freqency.tsx","components/visual/FileDetail/heuristics.tsx","components/visual/FileDetail/indent.tsx","components/visual/FileDetail/metadata.tsx","components/visual/FileDetail/parents.tsx","components/visual/FileDetail/results.tsx","components/visual/FileDetail/tags.tsx","components/visual/FileDetail.tsx","components/routes/file/detail.tsx","components/routes/file/viewer.tsx","components/routes/help.tsx","components/routes/help/api.tsx","components/routes/help/classification.tsx","components/routes/help/configuration.tsx","components/routes/under_construction.tsx","components/routes/help/search.tsx","components/routes/help/services.tsx","components/routes/logout.tsx","components/routes/manage.tsx","components/visual/SearchResult/heuristics.tsx","components/visual/Histogram.tsx","components/visual/SearchResult/results.tsx","components/routes/manage/heuristic_detail.tsx","components/routes/manage/heuristics.tsx","components/visual/SignatureStatus.tsx","components/visual/SearchResult/signatures.tsx","components/routes/manage/signature_detail.tsx","components/routes/manage/signatures.tsx","components/visual/SearchResult/workflow.tsx","components/routes/manage/workflow_detail.tsx","components/routes/manage/workflows.tsx","components/routes/optout.tsx","components/visual/SearchResult/alerts.tsx","components/visual/SearchResult/files.tsx","components/visual/SubmissionState.tsx","components/visual/SearchResult/submissions.tsx","components/routes/search.tsx","components/layout/serviceTree.tsx","components/routes/settings.tsx","helpers/errors.js","components/routes/submission/detail/attack.tsx","components/routes/submission/detail/errors.tsx","components/routes/submission/detail/file_tree.tsx","components/routes/submission/detail/heuristics.tsx","components/routes/submission/detail/info.tsx","components/routes/submission/detail/meta.tsx","components/routes/submission/detail/tags.tsx","components/routes/submission/detail.tsx","components/visual/TextVerdict.tsx","components/visual/VerdictGauge.tsx","components/routes/submission/report.tsx","components/routes/submissions.tsx","components/visual/FileDropper.tsx","components/routes/submit.tsx","helpers/uuid.js","components/routes/tos.tsx","components/routes/routes.tsx","components/app/app.tsx","components/hooks/useMySitemap.tsx","index.tsx"],"names":["global","undefined","define","encode","value","lastLength","data","ArrayBuffer","dataView","DataView","offset","prepareWrite","length","newByteLength","byteLength","requiredLength","oldDataView","uint32count","i","setUint32","getUint32","commitWrite","writeUint8","setUint8","writeUint8Array","writeTypeAndLength","type","setUint16","writeUint16","writeUint32","low","high","writeUint64","encodeItem","Math","floor","setFloat64","writeFloat64","utf8data","charCode","charCodeAt","push","Array","isArray","Uint8Array","keys","Object","key","slice","ret","retView","getUint8","decode","tagger","simpleValue","commitRead","readArrayBuffer","readUint8","readUint16","getUint16","readUint32","readBreak","readLength","additionalInformation","readIndefiniteStringLength","majorType","initialByte","appendUtf16Data","utf16data","decodeItem","tempArrayBuffer","tempDataView","sign","exponent","fraction","getFloat32","readFloat16","getFloat64","elements","fullArrayLength","fullArray","fullArrayOffset","set","String","fromCharCode","apply","retArray","retObject","window","document","Flow","opts","this","support","File","Blob","FileList","prototype","webkitSlice","mozSlice","supportDirectory","test","navigator","userAgent","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","prioritizeFirstAndLastChunk","target","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","events","$","onDrop","event","stopPropagation","preventDefault","dataTransfer","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","name","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","error","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","FlowChunk","fileObj","fileObjSize","tested","retries","pendingRetry","preprocessState","loaded","total","startByte","endByte","min","xhr","progressHandler","lengthComputable","chunkEvent","testHandler","status","message","uploadNextChunk","send","doneHandler","abort","retryInterval","setTimeout","dst","src","each","arguments","obj","callback","context","call","hasOwnProperty","on","toLowerCase","off","fn","array","index","indexOf","splice","arrayRemove","fire","args","unshift","queue","readSuccess","entries","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","readEntries","decrement","substring","fileError","item","getAsFile","custom","replace","preventEvents","found","chunk","outstanding","isComplete","assignBrowse","domNodes","domNode","input","tagName","createElement","setAttribute","style","position","overflow","verticalAlign","top","right","fontFamily","fontSize","margin","padding","opacity","cursor","appendChild","addEventListener","e","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","upload","started","num","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","getSize","sizeUploaded","timeRemaining","sizeDelta","Number","POSITIVE_INFINITY","measureSpeed","timeSpan","smoothingFactor","uploaded","max","reset","c","retry","round","ceil","bytesLoaded","percent","delta","getType","split","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","join","XMLHttpRequest","prepareXhrRequest","preprocessFinished","func","bytes","readyState","responseText","s","paramsMethod","blob","v","k","encodeURIComponent","FormData","append","open","setRequestHeader","version","module","exports","useAppTheme","isDark","colors","useMemo","background","darkPrimary","darkSecondary","lightPrimary","lightSecondary","palette","primary","main","secondary","dark","light","createMuiTheme","overrides","MuiCssBaseline","body","width","height","left","bottom","AppContext","React","createContext","useStyles","makeStyles","theme","snackroot","breakpoints","only","wordBreak","AppContextProvider","defaultTheme","defaultContext","children","useState","setContext","classes","prefersDarkMode","useMediaQuery","storedDarkMode","localStorage","getItem","darkMode","JSON","parse","getInitialTheme","setTheme","appTheme","Provider","isDarkTheme","isLightTheme","toggleTheme","newTheme","setItem","stringify","getAppbarStyles","layout","isTopLayout","backgroundColor","default","appbar","sticky","elevation","color","getContrastText","ThemeProvider","root","UserContext","UserProvider","props","contextProps","defaultProps","validateProps","useAppUser","useContext","user","setUser","isReady","createStyles","nested","paddingLeft","spacing","withWidth","useAppLayout","drawerState","hideNestedIcons","toggleDrawer","text","icon","route","userPropValidators","ListItem","button","component","Link","to","dense","className","onClick","isWidthDown","ListItemIcon","ListItemText","Tooltip","title","aria-label","placement","LeftNavGroup","id","popoverTarget","setPopoverTarget","collapseOpen","setCollapseOpen","groupItem","currentTarget","onPopoverClick","Collapse","in","timeout","unmountOnExit","List","disablePadding","map","Popover","onClose","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","topBarTitle","display","alignItems","flex","letterSpacing","minWidth","textDecoration","AppTitle","disabled","noTitle","useTheme","isXs","layoutProps","getLogo","IconButton","edge","appName","drawer","flexShrink","whiteSpace","drawerOver","overflowX","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","up","border","toolbar","toggler","t","useTranslation","currentLayout","header","Toolbar","Divider","hide","ClickAwayListener","mouseEvent","touchEvent","onClickAway","Drawer","variant","clsx","paper","leftnav","element","Box","useAppBarHeight","setHeight","updateHeight","getElementById","rect","getBoundingClientRect","useLayoutEffect","useAppContext","SiteMapContext","SiteMapProvider","history","useHistory","breadcrumbs","setBreadcrumbs","isUserReady","useEffect","appendRoute","getRoute","routes","location","pathname","listen","_matchedRoute","_breadcrumbs","resources","en","adminErrorViewer","adminErrorViewerEN","adminServices","adminServicesEN","adminSiteMap","adminSiteMapEN","adminUsers","adminUsersEN","authorize","authorizeEN","dashboard","dashboardEN","error403","error403EN","error404","error404EN","fileDetail","fileDetailEN","fileViewer","fileViewerEN","helpAPI","helpAPIEN","helpClassification","helpClassificationEN","helpConfiguration","helpConfigurationEN","helpSearch","helpSearchEN","helpServices","helpServicesEN","locked","lockedEN","login","loginEN","logout","logoutEN","manageHeuristics","manageHeuristicsEN","manageHeuristicDetail","manageHeuristicDetailEN","manageSignatures","manageSignaturesEN","manageSignatureDetail","manageSignatureDetailEN","manageSignatureSources","manageSignatureSourcesEN","manageWorkflowDetail","manageWorkflowDetailEN","manageWorkflows","manageWorkflowsEN","optout","optoutEN","search","searchEN","settings","settingsEN","statisticsHeuristics","statisticsHeuristicsEN","statisticsSignatures","statisticsSignaturesEN","submissions","submissionsEN","submissionDetail","submissionDetailEN","submissionReport","submissionReportEN","submit","submitEN","translation","translationEN","tos","tosEN","userEN","alerts","alertsEN","favorites","favoritesEN","fr","adminErrorViewerFR","adminServicesFR","adminSiteMapFR","adminUsersFR","authorizeFR","dashboardFR","error403FR","error404FR","fileDetailFR","fileViewerFR","helpAPIFR","helpClassificationFR","helpConfigurationFR","helpSearchFR","helpServicesFR","lockedFR","loginFR","logoutFR","manageHeuristicsFR","manageHeuristicDetailFR","manageSignaturesFR","manageSignatureDetailFR","manageSignatureSourcesFR","manageWorkflowDetailFR","manageWorkflowsFR","optoutFR","searchFR","settingsFR","statisticsHeuristicsFR","statisticsSignaturesFR","submissionsFR","submissionDetailFR","submissionReportFR","submitFR","translationFR","tosFR","userFR","alertsFR","favoritesFR","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","keySeparator","interpolation","escapeValue","detection","order","TITLE_404","siteMap","matched","_route","matcher","matchPath","path","filter","m","isExact","console","warn","breadcrumb","isRoot","isLeaf","findIndex","_breadcrumb","is404","useAppSitemap","resolveTitle","forEach","getSiteRoute","last","first","Lang","marginRight","BreadcrumbIcon","link","maxWidth","textOverflow","LinkRouter","RouterLink","BreadcrumbLinkItem","textOnly","url","paddingTop","BreadcrumbLastItem","linkClasses","useLinkStyle","Typography","BreadcrumbsEllipsis","css","expanded","BreadcrumbList","disableStyle","itemsBefore","itemsAfter","allLinks","exceptLast","isStatic","setExpanded","useBreadcrumbStyles","itemsBeforeCount","itemsAfterCount","_items","concat","exclude","before","after","hasEllipsis","splitItems","pop","maxItems","moreicon","flexGrow","marginTop","Breadcrumbs","isMedium","isExpanded","breadcrumbsState","lastOnly","current","staticBreadcrumbs","popper","zIndex","popperAnchorEl","setPopperAnchorEl","isPopperOpen","sp1","topnav","apps","Popper","TransitionProps","Fade","Paper","textAlign","flexDirection","flexWrap","a","Button","newWindow","href","fontWeight","Avatar","alt","img_d","img_l","QuickSearch","breadcrumbsEnabled","borderRadius","shape","fade","marginLeft","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","allowBreadcrumbs","setValue","uri","quickSearchURI","param","quickSearchParam","autoComplete","onSubmit","InputBase","onChange","placeholder","inputProps","isLang","lang","language","valueOf","useApp","showQuickSearch","autoHideAppbar","toggleLayout","toggleQuickSearch","toggleAutoHideAppbar","toggleShowBreadcrumbs","toggleBreadcrumbsState","allowPersonalization","allowAutoHideTopbar","allowQuickSearch","allowReset","allowThemeSelection","allowTopbarModeSelection","allowTranslate","subheader","ListSubheader","disableSticky","changeLanguage","EN","FR","Switch","checked","ListItemSecondaryAction","allowBreadcrumbsMinimize","clear","reload","ThemeSelectionIcon","md5","require","useGravatar","email","appBar","avatarButton","iconButton","down","UserProfile","currentUser","useUser","gravatarUrl","allowGravatar","sp2","sp3","renderMenu","menuItems","avatar","n","toUpperCase","disableGutters","paddingBottom","paddingRight","noWrap","userMenu","userMenuTitle","is_admin","adminMenu","adminMenuTitle","themeSelectionUnder","appBarTopLayout","menuButton","topBarLeft","leftSpacer","SlideIn","show","Slide","appear","direction","mountOnEnter","appbarState","isSm","appbarStyles","leftAfterBreadcrumbs","dispatchEvent","CustomEvent","autoHide","AppBar","isWidthUp","useNewStyles","appVertical","appVerticalLeft","appVerticalRight","appVerticalRightContent","appHorizontal","AppLayoutContext","AppLayoutProvider","initialLayout","storedNavLayout","defaultLayout","storedDrawer","initialDrawer","defaultDrawerOpen","storedQuickSearch","initialQuickSearch","defaultShowQuickSearch","storedAutoHideAppbar","initialAutoHideAppbar","defaultAutoHideAppbar","storedShowBreadcrumbs","initialBreadcrumbsEnabled","defaultShowBreadcrumbs","storedBreadcrumbs","initialBreadcrumbsState","defaultBreadcrumbsOpen","appReady","setAppReady","showMenus","setShowMenus","setDrawer","setAppbarState","setBreadcrumbsEnabled","setBreadcrumbsState","quickSearch","setQuickSearch","setAutoHideAppbar","setLayout","isSM","isPrinting","newClasses","getBanner","curTheme","bannerDark","bannerLight","appIconDark","appIconLight","hideMenus","newLayout","setReady","CssBaseline","useALContext","useMyLayout","isXS","MENU_ITEMS","prop","USER_MENU_ITEMS","ADMIN_MENU_ITEMS","darkLogo","process","lightLogo","darkBanner","useMySnackbar","useSnackbar","enqueueSnackbar","closeSnackbar","snackBarOptions","preventDuplicate","snack","showErrorMessage","autoHideDuration","showWarningMessage","showSuccessMessage","showInfoMessage","useMyUser","setState","c12nDef","setC12nDef","configuration","setConfiguration","indexes","setIndexes","setSettings","flattenedProps","setFlattenedProps","validateProp","propDef","whoAmIData","cfg","c12n","idx","userSettings","curUser","flatten","ob","toReturn","flatObject","x","agrees_with_tos","ui","is_active","some","LoadingScreen","transform","CircularProgress","PageCenter","w","mxw","mb","ml","mr","mt","page","divider","marginBottom","ForbiddenPage","LockedPage","tos_lockout_notify","card","CardCentered","Card","getXSRFCookie","xsrfToken","cookie","find","row","startsWith","ex","useMyAPI","contentType","reloadOnUnauthorize","onSuccess","onFailure","onEnter","onExit","onFinalize","requestOptions","credentials","fetch","then","res","json","catch","err","api_error_message","api_response","api_server_version","api_status_code","api_data","buttonProgress","OAuthLogin","username","oAuthToken","buttonLoading","alignSelf","Skeleton","gutterBottom","OneTimePassLogin","setOneTimePass","TextField","maxLength","autoFocus","label","ResetPasswordNow","setButtonLoading","useLocation","apiCall","URLSearchParams","resetID","setResetID","password","setPassword","passwordConfirm","setPasswordConfirm","done","setDone","get","reset_id","password_confirm","align","ResetPassword","setEmail","toArrayBuffer","uint8Array","CBOR","SecurityTokenLogin","setShownControls","setWebAuthNResponse","arrayData","options","buffer","credentialHelper","assertion","response","assertionData","credentialId","rawId","authenticatorData","clientDataJSON","signature","from","log","SignUp","setUsername","autoCorrect","autoCapitalize","UserPassLogin","TextDivider","forcePaper","borderTop","inner","LoginScreen","allowUserPass","allowSignup","allowPWReset","oAuthProviders","shownControls","setAvatar","setOAuthToken","oneTimePass","webAuthNResponse","pwPadding","focusTarget","otp","webauthn_auth_resp","oauth_token","select","focus","email_adr","registration_key","date","setTime","getTime","toUTCString","hash","signup","reset_now","oauth","sectoken","NotFoundPage","maxHeight","APIKeys","toggleAPIKey","selectedAPIKey","setSelectedAPIKey","tempAPIKey","setTempAPIKey","tempKeyName","setTempKeyName","tempKeyPriv","setTempKeyPriv","fullScreen","regex","RegExp","sp4","handleNew","apikeys","Chip","onDelete","Select","MenuItem","apikey","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","DisableOTP","setDrawerOpen","set2FAEnabled","OTP","setResponse","tempOTP","setTempOTP","sp6","dangerouslySetInnerHTML","__html","qrcode","secret_key","SecurityToken","toggleToken","selectedToken","setSelectedToken","tempToken","setTempToken","security_tokens","attestationData","attestationObject","ColorMap","info","success","warning","auto_height","wrap","square","rounded","fullWidth","tiny","label_tiny","mono","tiny_mono","common","white","darken","success_outlined","borderColor","info_outlined","warning_outlined","error_outlined","CustomChip","memo","tooltip","otherProps","typeClassMap","sizeLabelClassMap","small","medium","sizeClassMap","colorClassMap","appliedClassName","labelClassName","chip","defaultParts","lvlIdx","lvl","req","groups","subgroups","defaultDisabled","levels","getLevelText","format","isMobile","levels_map","toString","levels_map_stl","getLevelIndex","retIndex","splitIdx","c12nLvl","levels_map_lts","levels_aliases","getRequired","returnSet","partSet","p","access_req_map_lts","access_req_map_stl","access_req_aliases","out","r","sort","getGroups","g1","g2","groupParts","grpPart","tempGroup","tg","trim","g","groups_map_lts","groups_map_stl","groups_aliases","subgroups_map_lts","subgroups_map_stl","subgroups_aliases","sa","g1Out","gr","g2Out","sgr","getParts","grps","normalizedClassification","parts","reqGrp","params_map","is_required_group","rg","group","solitary_display_name","alias","values","levelList","isNaN","parseInt","defaultClassificationValidator","applyClassificationRules","userClassification","requireLvl","limitedToGroup","requireGroup","partsToCheck","retParts","disabledList","require_lvl","limited_to_group","require_group","partName","part","triggerAutoSelect","l","includes","groups_auto_select","classification","inlineSkel","WrappedClassification","inline","setClassification","isUser","isPhone","showPicker","setShowPicker","uParts","setUserParts","validated","setValidated","enforce","computeColor","levelStyles","levels_styles_map","skelheight","useClassification","newC12n","originalC12n","container","xs","md","original_definition","short_name","selected","required","newReq","toggleRequired","grp","newGrp","toggleGroups","sgrp","sg","newSGrp","toggleSubGroups","Classification","ConfirmationDialog","handleClose","handleAccept","cancelText","acceptText","Apps","toggleApp","selectedApp","setSelectedApp","netloc","server","scope","DeleteButton","withStyles","red","User","useParams","inputRef","useRef","drawerType","setDrawerType","deleteDialog","setDeleteDialog","modified","setModified","downSM","skelItem","skelButton","toggleRole","role","newTypes","Fragment","anchor","api_quota","change_password","new_pass","new_pass_confirm","defaultValue","chips","submission_quota","disable_otp","token","newTokens","api_key","apiKey","newKeys","app","newApps","Grid","justify","sm","ref","accept","reader","FileReader","onload","img","result","readAsDataURL","htmlFor","click","uname","TableContainer","Table","TableHead","TableRow","TableCell","colSpan","TableBody","hover","auth","allow_2fa","allow_security_tokens","allow_apikeys","boxShadow","shadows","Account","LinkGrid","action","active","cloneElement","Admin","useClipboard","_snack","copy","targetId","el","copySuccess","execCommand","removeChild","PageFullWidth","PageHeader","actions","isSticky","appBarHeight","barWillHide","minHeight","act","startIcon","btnProp","appMain","appContent","appRightDrawer","DrawerContext","DrawerProvider","globalDrawer","setGlobalDrawer","isMD","isLG","isXL","drawerWidth","closeGlobalDrawer","useDrawer","insertText","browserName","browser","oldText","prefix","suffix","newText","_insertTextFF","setSelectionRange","_insertText","is","check","isArrowUp","isArrowDown","isArrowLeft","isArrowRight","isEscape","isEnter","DEFAULT_SUGGESTION","searchTextFieldOptionsCt","outline","searchTextFieldOptionsInner","searchTextFieldItem","SearchTextOption","onSelection","data-searchtextfieldoption-position","data-searchtextfieldoption-selected","SearchTextField","onSearch","onClear","setCursor","start","end","filteredOptions","setFilteredOptions","setOpen","optionsElement","isLTEMedium","getInputEl","querySelector","onOptionsOpen","onOptionsClose","onOptionSelection","startIndex","endIndex","option","inputEl","scrollTo","_target","scrollIntoView","block","filterOptions","inputValue","selectionOffset","parseFilter","filterValue","thisCursor","insertStartIndex","insertEndIndex","_options","selectionStart","_precursor","_postcursor","filterStartIndex","filterEndIndex","_preParts","_prePartsLast","_postParts","_postPartsFirst","InputProps","disableUnderline","_value","onKeyDown","keyCode","nextIndex","onBlur","searchbar","searchresult","SearchBar","initValue","searching","suggestions","buttons","extras","onValueChange","upMD","_onValueClear","orientation","flexItem","b","LinearProgress","SimpleSearchQuery","baseSearch","defaultParams","deltaParams","output","has","defaultVal","getAll","delete","SearchPager","pageSize","setResults","scrollToTop","setSearching","count","Pagination","pageQuery","getDefaultString","StyledTableCell","head","DivTableCell","other","SortableHeaderCell","sortField","allowSort","searchParams","curSort","dir","TableSortLabel","LinkRow","DivTableRow","DivTableHead","DivTableBody","DivTable","StyledAlert","marginbottom","Alert","InformativeAlert","severity","ErrorsTable","errorResults","errorMap","EXCEPTION","UNKNOWN","created","fromNow","locale","service_name","AlertTitle","fontStyle","drawerPaper","clipboardIcon","ErrorDetail","service_version","service_tool_version","service_debug_info","sha256","ErrorViewer","setErrorResults","setQuery","setSuggestions","indexed","useCallback","setError","getDeltaString","Empty","DEFAULT_ENV","WrappedEnvironment","envVar","onAdd","onUpdate","tempEnvVar","setTempEnvVar","Environment","DEFAULT_VOL","capacity","mount_path","storage_class","WrappedVolumeControl","vol","tempVol","setTempVol","tempName","setTempName","handleValueChange","field","VolumeControl","DEFAULT_CONTAINER","allow_internet_access","command","cpu_cores","environment","image","ports","ram_mb","ram_mb_min","registry_password","registry_username","WrappedContainerDialog","volumes","onSave","tempContainer","setTempContainer","tempVolumes","setTempVolumes","handleContainerValueChange","handleEnvAddUpdate","newEnv","newEnvironment","handleEnvDelete","delEnv","handleVolDelete","vol_name","newVolumes","RadioGroup","FormControlLabel","control","Radio","env","ContainerDialog","card_title","WrappedContainerCard","dialog","setDialog","yesColor","noColor","ContainerCard","ServiceContainer","service","setService","handleDependencyChange","newDep","depList","dependencies","update_channel","docker_config","newContainer","onDependencyDelete","ServiceGeneral","constants","versions","default_result_classification","multiline","rows","description","stage","stages","category","categories","accepts","rejects","licence_count","is_external","disable_cache","DEFAULT_CONFIG","WrappedMultiTypeConfig","config","tempConfig","setTempConfig","jsonTheme","base00","base01","base02","hint","base03","base04","grey","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","parsedConfig","handleConfigUpdate","handleConfigUpdateJSON","updated_src","handleConfigChange","handleConfigChangeJSON","enableClipboard","groupArraysAfterLength","displayDataTypes","displayObjectSize","onEdit","MultiTypeConfig","DEFAULT_USER_PARAM","list","WrappedMultiTypeParam","tempUserParams","setTempUserParams","handleSubmissionParamUpdate","handleSPDefaultChange","newList","newDefault","MultiTypeParam","ServiceParams","onParamAdd","detail","onParamUpdate","onParamDelete","onConfigAddUpdate","onConfigDelete","handleSPAdd","newSP","submission_params","handleSPUpdate","handleSPDelete","handleConfigAddUpdate","handleConfigDelete","newConfig","checkbox","DEFAULT_HEADER","DEFAULT_SOURCE","ca_cert","default_classification","pattern","private_key","ssl_ignore_errors","SourceDetail","base","close","tempHeader","setTempHeader","source","setSource","UNRESTRICTED","newHeaders","removeHeader","addHeader","proxy","Checkbox","SourceCard","float","ServiceDetail","sources","openDrawer","currentService","SignatureSources","setSources","roles","WrappedSourceDialog","tempSource","setTempSource","SourceDialog","ServiceUpdater","editDialog","setEditDialog","editedSourceID","setEditedSourceID","handleSaveSource","newSource","newSources","update_config","update_interval_seconds","run_options","generates_signatures","wait_for_update","source_id","handleDeleteSource","Service","onDeleted","svc","setConstants","setVersions","tab","setTab","enabled","TabContext","TabList","newValue","indicatorColor","textColor","Tab","TabPanel","ServiceTable","serviceResults","updates","update_available","updating","latest_tag","Services","setServiceResults","setUpdates","manifest","setManifest","updateData","update_data","newUpdates","SiteMap","setSiteMap","privMap","R","W","E","reqMapColor","signature_importer","signature_manager","admin","stickyHeader","function","methods","mid","protected","req_priv","priv","pid","required_type","rid","UsersTable","userResults","DEFAULT_USER","Users","setUserResults","newUser","setNewUser","closeDrawer","updateNewUser","my","chiplist","listStyle","ChipSkeleton","ChipSkeletonInline","ChipList","cp","bytesToSize","pow","scoreToVerdict","score","getValueFromPath","paths","Verdict","short","shortText","safe","suspicious","highly_suspicious","malicious","priority","COLOR_MAP","CRITICAL","chip_color","arrow","HIGH","MEDIUM","LOW","null","AlertPriority","withText","withChip","TRIAGE","MALICIOUS","ASSESS","AlertStatus","section","sectionTitle","sectionContent","SkeletonInline","AlertDetails","alert","paramId","alertId","handleAlertUpdate","changes","sid","filtered","alert_id","al","verdict","non_malicious","ts","reporting_ts","owner","hint_owner","toFixed","sha1","metadata","attrib","av","ip","ip_dynamic","ip_static","domain","domain_dynamic","domain_static","attack","heuristic","behavior","yara","Carousel","enableSwipe","disableArrowUp","disableArrowDown","disableArrowLeft","disableArrowRight","onPrevious","onNext","touchX","touchY","touchStartX","touchStartY","touchDirection","touchStale","tabIndex","onTouchStart","touches","clientX","clientY","onTouchMove","moveX","moveY","nextDirection","abs","onTouchEnd","Throttler","msec","throttleId","delayId","delay","bind","clearTimeout","THROTTLER","useList","listId","throttle","selectNext","selectPrevious","register","handlers","onSelect","onSelectNext","onSelectPrevious","ListCarousel","useListNavigator","ListNavigator","useMetaListStyles","outer","frame","progressCt","progressSpinner","useBooklistStyles","pager","pagerSpacer","pagerItems","pagerItem","useSimpleListStyles","useListItemStyles","itemCt","itemDefaultBackgrounds","itemOuter","itemInner","itemDivider","itemActions","useListStyles","listItemClasses","metaListClasses","booklistClasses","simpleListStyles","ListItemBase","noDivider","disableBackgrounds","onRenderActions","_onClick","onItemActionsClick","data-listitem-position","data-listitem-selected","data-listitem-focus","SimpleListScroller","scrollTarget","listElement","rowHeight","scrollElement","getScrollBlock","offsetTop","offsetHeight","listElementRect","stElementRect","scrollTop","SimpleList","loading","disableProgress","scrollTargetId","scrollInfinite","scrollLoadNextThreshold","scrollReset","emptyValue","onCursorChange","onItemSelected","onLoadNext","outerEL","scrollEL","innerEL","scroller","nextScrollThreshold","infinite","onEscape","updateState","nextCursor","next","previous","useListKeyboard","_cursor","onScrollEnabled","_onRowClick","_item","onScroll","fH","sT","tH","scrollHeight","cP","AlertListItem","infoItems","group_count","usePromiseAPI","fetchAlert","Promise","resolve","reject","onApplyWorkflowAction","selectedStatus","selectedPriority","selectedLabels","statusPromise","buildAPIQueryString","priorityPromise","labelPromise","all","onTakeOwnership","setVerdict","SearchFilterType","verticalSpeedDial","actionsClosed","DEFAULT_OWNER","SpeedDialActionLink","others","SpeedDialAction","AlertListItemActions","currentQuery","onTakeOwnershipComplete","onVerdictComplete","groupBy","getGroupBy","takeOwnershipConfirmation","setTakeOwnershipConfirmation","hasSetMalicious","hasSetNonMalicious","handleVerdict","onTakeOwnershipOkClick","buildActionQuery","_actionQuery","newBase","setGroupBy","SpeedDial","ariaLabel","SpeedDialIcon","openIcon","onOpen","FabProps","tooltipTitle","tooltipPlacement","actionQuery","actionData","labels","focusQuery","build","addFq","buildFocusQuery","buildURLQueryString","BLANK","SearchQuery","setDefaults","hasOffset","setOffset","hasTc","setTc","hasRows","setRows","hasGroupBy","getOffsetNumber","getRows","tc","tcStart","hasTcStart","fq","filters","statuses","priorities","queries","clearQuery","setTcStart","clearFq","getTc","getQuery","q","fqs","getFqList","parseFilterValue","STATUS","PRIORITY","LABEL","QUERY","resolveType","findOption","o","decorateQueryFilters","queryFilters","userFavoritesFilters","qf","isFavorite","vf","AlertsFilters","searchQuery","valueFilters","statusFilters","priorityFilters","labelFilters","userFavorites","globalFavorites","onApplyBtnClick","GROUPBY_OPTIONS","TC_OPTIONS","parseFilters","tcOption","groupByOption","selectedTc","setSelectedTc","selectedGroupBy","setSelectedGroupBy","fav","created_by","selectedStatusFilters","setSelectedStatusFilters","selectedPriorityFilters","setSelectedPriorityFilters","selectedLabelFilters","setSelectedLabelFilters","selectedQueryFilters","setSelectedQueryFilters","isSelected","renderOption","_filters","FormControl","displayEmpty","selectedValue","onTcFilterChange","onGroupByFilterChange","Autocomplete","multiple","getOptionLabel","getOptionSelected","renderInput","selections","_selections","_valueFilters","sf","onFavoriteChange","selection","favoriteFilters","onValueFilterChange","useFavorites","setUserFavorites","setGlobalFavorites","onLoadUserFavorites","onLoadGlobalFavorites","onAddUserFavorite","favorite","onAddGlobalFavorite","onDeleteUserFavorite","onDeleteGlobalFavorite","AlertsFiltersFavorites","onSaved","onSelected","formValid","setFormValid","valid","queryValue","setQueryValue","nameValue","setNameValue","publicSwitch","setPublicSwitch","isPublic","confirmation","setConfirmation","validateForm","_queryValue","_nameValue","_onDeleteClick","_onSelect","onSwitchChange","disableElevation","disableRipple","_onDelete","AlertsFiltersSelected","hideQuery","hideGroupBy","disableActions","_statuses","onDeleteStatus","_priorities","onDeletePriority","_labels","onDeleteLabel","_queries","onDeleteQuery","POSSIBLE_STATUS","POSSIBLE_PRIORITY","DEFAULT_LABELS","AlertsWorkflowActions","applying","setApplying","val","possibleLabels","setSelectedStatus","setSelectedPriority","setSelectedLabels","freeSolo","DEFAULT_STATE","countedTotal","alertStateReducer","state","newState","updateAlert","newAlertList","alertIndex","alertChanges","pageTitle","drawerInner","modeToggler","borderTopLeftRadius","borderBottomLeftRadius","SearchResultLarge","onApplyFilters","SearchResultSmall","hasFilters","Alerts","fieldIndexes","setSearchQuery","fields","setFields","setStatusFilters","setPriorityFilters","setLabelFilters","setValueFilters","useReducer","parseResult","responseItems","buildUrl","onLoad","onComplete","executionTime","tc_start","counted_total","getTcStart","onLoadMore","tickOffset","_offset","parsedItems","onLoadStatuses","msItems","onLoadPriorities","onLoadLabels","onLoadStatisics","statistics","ki","vk","vki","vkv","aFields","updateQuery","useAlerts","setScrollReset","searchTextValue","isMDUp","isLGDown","blur","_onLoadMore","setFilters","onRenderListRow","onDrawerClose","onRenderListActions","Set","_fields","buildSearchSuggestions","deleteQuery","STATE_ICON_MAP","incomplete","completed","submitted","skipped","ExtendedScan","VerdictBar","verdicts","fill","stroke","y","AlertCardItem","isDownSM","newVerdict","Hidden","mdUp","lg","extended_scan","tz","smDown","textTransform","AlertsLegacy","setAlerts","VALID_SCOPES","AppRegistration","rUrl","clientID","Backdrop","transitionDuration","goBack","getBrowserFullscreenElementProp","fullscreenElement","Error","toggle","PageFullscreen","isFullscreen","setIsFullscreen","fullscreenSupported","maximizableElement","elRef","onfullscreenchange","requestFullscreen","useFullscreenStatus","exitFullscreen","caption","graph","gridColumn","gridRow","gridTemplate","placeItems","ArcGauge","pctValue","colorBack","initialized","colorFilled","backgroundArc","arc","innerRadius","outerRadius","startAngle","PI","endAngle","cornerRadius","percentScale","scaleLinear","range","angleScale","clamp","filledArc","lineHeight","viewBox","d","core_card","error_icon","metric","muted","ok","MetricCounter","IngestCard","ingester","timer","setTimer","busyness","metrics","busy_seconds","busy_seconds_count","instances","processing_chance","critical","bytes_completed","bytes_ingested","ingest","queues","processing","inflight","cache_hit","cache_miss","files_completed","submissions_completed","whitelisted","duplicates","DispatcherCard","dispatcher","cpu_seconds","cpu_seconds_count","startQueue","reduce","resultQueue","commandQueue","ExpiryCard","expiry","cached_file","filescore","emptyresult","submission","submission_summary","submission_tree","archive","AlerterCard","alerter","received","updated","ScalerResourcesCard","scaler","cpu_total","cpu_free","memory_total","memory_free","ServiceCard","max_inflight","fail_nonrecoverable","activity","busy","execute","fail_recoverable","basicReducer","serviceReducer","serviceState","hbType","hb","DEFAULT_SERVICE","serviceListReducer","serviceName","timing","curTime","DEFAULT_ALERTER","DEFAULT_DISPATCHER","per_instance","DEFAULT_EXPIRY","DEFAULT_INGESTER","cache_expired","cache_stale","cache_hit_local","submissions_ingested","timed_out","DEFAULT_SCALER","duty_cycle","last_hb","cache_skipped","scored","not_scored","running","minimum","maximum","dynamic_maximum","pressure","idle","DEFAULT_SERVICE_LIST","Dashboard","setAlerter","setDispatcher","setExpiry","setIngester","setScaler","services","setServices","servicesList","setServicesList","handleAlerterHeartbeat","debug","handleArchiveHeartbeat","handleDispatcherHeartbeat","handleExpiryHeartbeat","handleIngestHeartbeat","handleScalerHeartbeat","handleServiceHeartbeat","handleScalerStatusHeartbeat","socket","io","emit","disconnect","xl","HighlightContext","HighlightProvider","highlighted","setHighlighted","relatedHighlighted","setRelatedHighlighted","highlightMap","setHighlightMap","getKey","isHighlighted","hasHighlightedKeys","keyList","triggerHighlight","handleTrigger","newHighlighted","add","newRelatedHighlighted","useHighlighter","ExtractedFile","download","encodeURI","ExtractedSection","extracted","STYLE","SEARCH_ICON","Attack","show_type","highlight_key","handleClick","searchAttack","deleteIcon","Heuristic","SectionHighlight","indent","depth","VERDICT_SCORE_MAP","Tag","short_type","TitleKey","section_title","useTreeItemStyles","TextBody","MemDumpBody","KVBody","cellSpacing","GraphBody","colorRange","itemWidthPct","colorScale","URLBody","arr","listStyleType","paddingInlineStart","marginBlockStart","marginBlockEnd","JSONBody","collapsed","ProcessTreeItem","classMap","TreeItem","nodeId","process_pid","signatures","sum","parseFloat","process_name","command_line","processes","ProcessTreeItemList","ProcessTreeBody","subprocess","TreeView","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","StyledTableRow","StyledTable","TblBody","line","th","hid","ResultSection","section_list","sub_sections","tagList","tags","tag","attack_id","heur_id","title_text","body_format","SupplementarySection","content","emptyResult","sections","supplementary","ResultCard","alternates","empty","displayedResult","setDisplayedResult","expand_min_score","setAnchorEl","setSelected","Boolean","allTags","section_hierarchy","MenuList","service_context","AttackSection","attacks","cat","cid","mat","_","clickable","ChildrenSection","childrens","fileItem","EmptySection","emptys","ErrorCard","ErrorSection","errors","FrequencySection","fileinfo","seen","HeuristicSection","heuristics","hname","IdentificationSection","ssdeep","mime","magic","entropy","MetadataSection","meta","ParentSection","parents","resultKey","parentSHA256","results","meta_key","TagSection","tag_type","FileDetail","liveResultKeys","liveErrors","setFile","scrollToItem","bounding","myElementHeight","myElementWidth","offsetWidth","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","elementInViewport","patchFileDetails","newData","resubmit","extra_result_keys","file_info","MaterialLink","attack_matrix","FileFullDetail","pre","no_pad","AsciiViewer","ascii","setAscii","HexViewer","hex","setHex","StringViewer","string","setString","FileViewer","newTab","Help","api","blueprint","disabledBackground","blueprintSkel","expand","shortest","expandOpen","ApiDoc","apiList","setApiList","apiSelected","setApiSelected","apiDefinition","setApiDefinition","expandMap","setExpandMap","methodColor","DELETE","GET","POST","PUT","privColor","userColor","toggleBlueprintExpand","bp","compare","blueprints","borderBottom","px","apis","blueprintAPIs","midx","complete","htmlColor","require_type","utype","uidx","required_priv","ptype","pidx","met","metid","HelpClassification","Trans","ns","i18nKey","components","bold","RESTRICTED","italic","Configuration","tag_types","max_priority","file_types","sub_key","sub_idx","UnderConstruction","Search","CardHeader","overflowWrap","Logout","Manage","HeuristicsTable","heuristicResults","setHeuristicID","filetype","stats","last_hit","WrappedHistogram","isDate","setMax","histData","setHistData","maintainAspectRatio","responsive","scales","xAxes","gridLines","drawBorder","ticks","fontColor","time","unit","yAxes","beginAtZero","suggestedMax","precision","tempDatasets","maxValue","datasets","dataset","borderWidth","hoverBackgroundColor","redraw","legend","Histogram","ResultsTable","resultResults","preview","HeuristicDetail","setHeuristic","setStats","histogram","setHistogram","mincount","gap","chartData","max_score","signature_score_map","first_hit","avg","Heuristics","setHeuristicResults","onFilterValueChange","DEPLOYED","NOISY","DISABLED","SignatureStatus","SignaturesTable","signatureResults","setSignatureID","signature_id","openPaper","SignatureDetail","onUpdated","setSignature","closeDialog","Signatures","setSignatureResults","handleReload","sig_id","handleSignatureUpdated","handleSignatureDeleted","WorflowTable","workflowResults","setWorkflowID","workflow","workflow_id","creation_date","last_seen","hit_count","MyMenuItem","WorkflowDetail","setWorkflow","DEFAULT_WORKFLOW","creator","edited_by","last_edit","Workflows","setWorkflowResults","wf_id","Optout","AlertsTable","alertResults","FilesTable","fileResults","SubmissionState","error_count","curState","SubmissionsTable","submissionResults","times","submitter","file_count","tweaked_tabs","searchSuggestion","setSearchSuggestion","setSubmissionResults","setFileResults","setResultResults","setAlertResults","stateMap","resMap","searchList","searchIndex","TabSpacer","SpecialTab","Tabs","scrollButtons","ServiceTreeItemSkel","ServiceTreeItem","pageBreakInside","indeterminate","every","service_id","SkelItems","ServiceTree","compressed","handleServiceChange","newServices","srv","sortFunc","nameA","nameB","columnWidth","columnGap","columnRuleWidth","columnRuleStyle","columnRuleColor","cat_id","toggleDynamicPrevention","ignore_dynamic_recursion_prevention","toggleFiltering","ignore_filtering","toggleCaching","ignore_cache","toggleDeepScan","deep_scan","toggleProfile","profile","ttl","view","submission_view","encoding","download_encoding","getServiceFromKey","getHashFromKey","parsed_errors","aggregated","errorType","listed","eID","getErrorTypeFromKey","file_item","noMaxWidth","FileTree","tree","FileTreeSection","InfoSection","MetaSection","tag_group","resultReducer","currentResults","newResults","messageReducer","messages","receivedMessages","newMessages","incrementReducer","old","increment","SubmissionDetail","fid","setSubmission","summary","setSummary","setTree","watchQueue","setWatchQueue","setLiveResultKeys","liveErrorKeys","setLiveErrorKeys","processedKeys","setProcessedKeys","liveResults","setLiveResults","setLiveErrors","liveTagMap","setLiveTagMap","setOutstanding","loadTrigger","incrementLoadTrigger","setSocket","loadInterval","setLoadInterval","lastSuccessfulTrigger","setLastSuccessfulTrigger","updateLiveFileTree","tempTree","toUpdate","searchFileTree","currentTree","fname","getFilenameFromSHA256","TBD","toDelTDB","idxDel","getParsedErrors","errorList","getErrorIDFromKey","futileErrors","parseSubmissionErrors","currentSubmission","resetLiveMode","newSubmission","summ_data","tree_data","tempSocket","setInterval","wq_id","handleErrorMessage","msg","handleStartMessage","handleStopMessage","clearInterval","handleCacheKeyMessage","handleCacheKeyErrrorMessage","resetOutstanding","from_start","curFileLiveResults","curFileLiveErrors","errorKey","newErrors","tempSummary","tempTagMap","sectionID","hType","heurExists","heurItem","heurKey","j","attExists","attackItem","attKey","tagID","summaryType","exists","tagVal","tagKey","updateLiveSumary","Snackbar","group_idx","VERDICT_COLOR_MAP","TextVerdict","circle","under_text","VerdictGauge","colorMalicious","colorNonMalicious","angleScaleRight","filledArcRight","angleScaleLeft","filledArcLeft","banner_title","file_details","malicious_heur","WebkitPrintColorAdjust","suspicious_heur","info_heur","AttributionBanner","report","bgColor","implant","attributions","family","actor","borderSpacing","TagTable","orderedItems","tagType","tagValue","h_type","vidx","AttackMatrixBlock","AttackMatrixSkel","HeuristicsList","heur","HeuristicsListSkel","important_files","FileTreeSkel","FileItemSkel","SubmissionReport","setReport","print","att","tagGroup","groupIdx","file_tree","Submissions","FileDropper","ctrlDisabled","useDropzone","acceptedFiles","getRootProps","getInputProps","isDragActive","drop_zone","drag_enter","Submit","uuid","setUUID","flow","setFlow","uploadProgress","setUploadProgress","setUrl","urlHasError","setUrlHasError","validate","setValidate","validateCB","setValidateCB","allowClick","setAllowClick","sp8","getFileUUID","selectedFile","cancelUpload","validateServiceSelection","cbType","showPopup","uploadAndScan","analyseUrl","executeCB","trunc","setParam","service_idx","param_idx","p_value","newSettings","service_spec","setSettingValue","fieldValue","setSettingAsyncValue","matches","exec","ui_params","random","generateUUID","banner","banner_level","centered","allow_url_submissions","InputLabelProps","shrink","Markdown","Tos","setTos","renderers","RouteActions","oldID","setOldID","currentLocation","charAt","Routes","exact","AdminErrorViewer","AdminServices","AdminSiteMap","AdminUsers","HelpApiDoc","HelpConfiguration","HelpSearch","HelpServices","ManageHeuristics","ManageSignatures","ManageSignatureSources","ManageWorkflows","Settings","system","MyApp","storedLoginParams","defaultLoginParams","renderedApp","setRenderedApp","loginParams","setLoginParams","switchRenderedApp","load","oauth_providers","allow_userpass_login","allow_signup","allow_pw_rest","AppInit","sitemapProps","useMySitemap","userProps","basename","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.a225b845.chunk.js","sourcesContent":["/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2016 Patrick Gansterer <paroga@paroga.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/*\n  We had to using this basic implementation of CBOR to match\n  what was used in the API but it throws a bunch of warnings\n  in the linter therefor we will disable those checks for this\n  file.\n*/\n/* eslint-disable no-mixed-operators */\n/* eslint-disable no-shadow-restricted-names */\n/* eslint-disable strict */\n/* eslint-disable default-case */\n/* eslint-disable no-throw-literal */\n/* eslint-disable no-undef */\n/* eslint-disable no-bitwise */\n/* eslint-disable no-shadow */\n/* eslint-disable vars-on-top */\n/* eslint-disable consistent-return */\n/* eslint-disable no-var */\n/* eslint-disable no-param-reassign */\n/* eslint-disable func-names */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable @typescript-eslint/no-throw-literal */\n\n(function (global, undefined) {\n  'use strict';\n\n  const POW_2_24 = 5.960464477539063e-8;\n  const POW_2_32 = 4294967296;\n  const POW_2_53 = 9007199254740992;\n\n  function encode(value) {\n    let data = new ArrayBuffer(256);\n    let dataView = new DataView(data);\n    let lastLength;\n    let offset = 0;\n\n    function prepareWrite(length) {\n      let newByteLength = data.byteLength;\n      const requiredLength = offset + length;\n      while (newByteLength < requiredLength) newByteLength <<= 1;\n      if (newByteLength !== data.byteLength) {\n        const oldDataView = dataView;\n        data = new ArrayBuffer(newByteLength);\n        dataView = new DataView(data);\n        const uint32count = (offset + 3) >> 2;\n        for (let i = 0; i < uint32count; ++i) dataView.setUint32(i << 2, oldDataView.getUint32(i << 2));\n      }\n\n      lastLength = length;\n      return dataView;\n    }\n    function commitWrite() {\n      offset += lastLength;\n    }\n    function writeFloat64(value) {\n      commitWrite(prepareWrite(8).setFloat64(offset, value));\n    }\n    function writeUint8(value) {\n      commitWrite(prepareWrite(1).setUint8(offset, value));\n    }\n    function writeUint8Array(value) {\n      const dataView = prepareWrite(value.length);\n      for (let i = 0; i < value.length; ++i) dataView.setUint8(offset + i, value[i]);\n      commitWrite();\n    }\n    function writeUint16(value) {\n      commitWrite(prepareWrite(2).setUint16(offset, value));\n    }\n    function writeUint32(value) {\n      commitWrite(prepareWrite(4).setUint32(offset, value));\n    }\n    function writeUint64(value) {\n      const low = value % POW_2_32;\n      const high = (value - low) / POW_2_32;\n      const dataView = prepareWrite(8);\n      dataView.setUint32(offset, high);\n      dataView.setUint32(offset + 4, low);\n      commitWrite();\n    }\n    function writeTypeAndLength(type, length) {\n      if (length < 24) {\n        writeUint8((type << 5) | length);\n      } else if (length < 0x100) {\n        writeUint8((type << 5) | 24);\n        writeUint8(length);\n      } else if (length < 0x10000) {\n        writeUint8((type << 5) | 25);\n        writeUint16(length);\n      } else if (length < 0x100000000) {\n        writeUint8((type << 5) | 26);\n        writeUint32(length);\n      } else {\n        writeUint8((type << 5) | 27);\n        writeUint64(length);\n      }\n    }\n\n    function encodeItem(value) {\n      let i;\n\n      if (value === false) return writeUint8(0xf4);\n      if (value === true) return writeUint8(0xf5);\n      if (value === null) return writeUint8(0xf6);\n      if (value === undefined) return writeUint8(0xf7);\n\n      switch (typeof value) {\n        case 'number':\n          if (Math.floor(value) === value) {\n            if (value >= 0 && value <= POW_2_53) return writeTypeAndLength(0, value);\n            if (-POW_2_53 <= value && value < 0) return writeTypeAndLength(1, -(value + 1));\n          }\n          writeUint8(0xfb);\n          return writeFloat64(value);\n\n        case 'string':\n          var utf8data = [];\n          for (i = 0; i < value.length; ++i) {\n            let charCode = value.charCodeAt(i);\n            if (charCode < 0x80) {\n              utf8data.push(charCode);\n            } else if (charCode < 0x800) {\n              utf8data.push(0xc0 | (charCode >> 6));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            } else if (charCode < 0xd800) {\n              utf8data.push(0xe0 | (charCode >> 12));\n              utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            } else {\n              charCode = (charCode & 0x3ff) << 10;\n              charCode |= value.charCodeAt(++i) & 0x3ff;\n              charCode += 0x10000;\n\n              utf8data.push(0xf0 | (charCode >> 18));\n              utf8data.push(0x80 | ((charCode >> 12) & 0x3f));\n              utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            }\n          }\n\n          writeTypeAndLength(3, utf8data.length);\n          return writeUint8Array(utf8data);\n\n        default:\n          var length;\n          if (Array.isArray(value)) {\n            length = value.length;\n            writeTypeAndLength(4, length);\n            for (i = 0; i < length; ++i) encodeItem(value[i]);\n          } else if (value instanceof Uint8Array) {\n            writeTypeAndLength(2, value.length);\n            writeUint8Array(value);\n          } else {\n            const keys = Object.keys(value);\n            length = keys.length;\n            writeTypeAndLength(5, length);\n            for (i = 0; i < length; ++i) {\n              const key = keys[i];\n              encodeItem(key);\n              encodeItem(value[key]);\n            }\n          }\n      }\n    }\n\n    encodeItem(value);\n\n    if ('slice' in data) return data.slice(0, offset);\n\n    const ret = new ArrayBuffer(offset);\n    const retView = new DataView(ret);\n    for (let i = 0; i < offset; ++i) retView.setUint8(i, dataView.getUint8(i));\n    return ret;\n  }\n\n  function decode(data, tagger, simpleValue) {\n    const dataView = new DataView(data);\n    let offset = 0;\n\n    if (typeof tagger !== 'function')\n      tagger = function (value) {\n        return value;\n      };\n    if (typeof simpleValue !== 'function')\n      simpleValue = function () {\n        return undefined;\n      };\n\n    function commitRead(length, value) {\n      offset += length;\n      return value;\n    }\n    function readArrayBuffer(length) {\n      return commitRead(length, new Uint8Array(data, offset, length));\n    }\n    function readFloat16() {\n      const tempArrayBuffer = new ArrayBuffer(4);\n      const tempDataView = new DataView(tempArrayBuffer);\n      const value = readUint16();\n\n      const sign = value & 0x8000;\n      let exponent = value & 0x7c00;\n      const fraction = value & 0x03ff;\n\n      if (exponent === 0x7c00) exponent = 0xff << 10;\n      else if (exponent !== 0) exponent += (127 - 15) << 10;\n      else if (fraction !== 0) return (sign ? -1 : 1) * fraction * POW_2_24;\n\n      tempDataView.setUint32(0, (sign << 16) | (exponent << 13) | (fraction << 13));\n      return tempDataView.getFloat32(0);\n    }\n    function readFloat32() {\n      return commitRead(4, dataView.getFloat32(offset));\n    }\n    function readFloat64() {\n      return commitRead(8, dataView.getFloat64(offset));\n    }\n    function readUint8() {\n      return commitRead(1, dataView.getUint8(offset));\n    }\n    function readUint16() {\n      return commitRead(2, dataView.getUint16(offset));\n    }\n    function readUint32() {\n      return commitRead(4, dataView.getUint32(offset));\n    }\n    function readUint64() {\n      return readUint32() * POW_2_32 + readUint32();\n    }\n    function readBreak() {\n      if (dataView.getUint8(offset) !== 0xff) return false;\n      offset += 1;\n      return true;\n    }\n    function readLength(additionalInformation) {\n      if (additionalInformation < 24) return additionalInformation;\n      if (additionalInformation === 24) return readUint8();\n      if (additionalInformation === 25) return readUint16();\n      if (additionalInformation === 26) return readUint32();\n      if (additionalInformation === 27) return readUint64();\n      if (additionalInformation === 31) return -1;\n      throw 'Invalid length encoding';\n    }\n    function readIndefiniteStringLength(majorType) {\n      const initialByte = readUint8();\n      if (initialByte === 0xff) return -1;\n      const length = readLength(initialByte & 0x1f);\n      if (length < 0 || initialByte >> 5 !== majorType) throw 'Invalid indefinite length element';\n      return length;\n    }\n\n    function appendUtf16Data(utf16data, length) {\n      for (let i = 0; i < length; ++i) {\n        let value = readUint8();\n        if (value & 0x80) {\n          if (value < 0xe0) {\n            value = ((value & 0x1f) << 6) | (readUint8() & 0x3f);\n            length -= 1;\n          } else if (value < 0xf0) {\n            value = ((value & 0x0f) << 12) | ((readUint8() & 0x3f) << 6) | (readUint8() & 0x3f);\n            length -= 2;\n          } else {\n            value =\n              ((value & 0x0f) << 18) |\n              ((readUint8() & 0x3f) << 12) |\n              ((readUint8() & 0x3f) << 6) |\n              (readUint8() & 0x3f);\n            length -= 3;\n          }\n        }\n\n        if (value < 0x10000) {\n          utf16data.push(value);\n        } else {\n          value -= 0x10000;\n          utf16data.push(0xd800 | (value >> 10));\n          utf16data.push(0xdc00 | (value & 0x3ff));\n        }\n      }\n    }\n\n    function decodeItem() {\n      const initialByte = readUint8();\n      const majorType = initialByte >> 5;\n      const additionalInformation = initialByte & 0x1f;\n      let i;\n      let length;\n\n      if (majorType === 7) {\n        switch (additionalInformation) {\n          case 25:\n            return readFloat16();\n          case 26:\n            return readFloat32();\n          case 27:\n            return readFloat64();\n        }\n      }\n\n      length = readLength(additionalInformation);\n      if (length < 0 && (majorType < 2 || majorType > 6)) throw 'Invalid length';\n\n      switch (majorType) {\n        case 0:\n          return length;\n        case 1:\n          return -1 - length;\n        case 2:\n          if (length < 0) {\n            const elements = [];\n            let fullArrayLength = 0;\n            while ((length = readIndefiniteStringLength(majorType)) >= 0) {\n              fullArrayLength += length;\n              elements.push(readArrayBuffer(length));\n            }\n            const fullArray = new Uint8Array(fullArrayLength);\n            let fullArrayOffset = 0;\n            for (i = 0; i < elements.length; ++i) {\n              fullArray.set(elements[i], fullArrayOffset);\n              fullArrayOffset += elements[i].length;\n            }\n            return fullArray;\n          }\n          return readArrayBuffer(length);\n        case 3:\n          var utf16data = [];\n          if (length < 0) {\n            while ((length = readIndefiniteStringLength(majorType)) >= 0) appendUtf16Data(utf16data, length);\n          } else appendUtf16Data(utf16data, length);\n          return String.fromCharCode.apply(null, utf16data);\n        case 4:\n          var retArray;\n          if (length < 0) {\n            retArray = [];\n            while (!readBreak()) retArray.push(decodeItem());\n          } else {\n            retArray = new Array(length);\n            for (i = 0; i < length; ++i) retArray[i] = decodeItem();\n          }\n          return retArray;\n        case 5:\n          var retObject = {};\n          for (i = 0; i < length || (length < 0 && !readBreak()); ++i) {\n            const key = decodeItem();\n            retObject[key] = decodeItem();\n          }\n          return retObject;\n        case 6:\n          return tagger(decodeItem(), length);\n        case 7:\n          switch (length) {\n            case 20:\n              return false;\n            case 21:\n              return true;\n            case 22:\n              return null;\n            case 23:\n              return undefined;\n            default:\n              return simpleValue(length);\n          }\n      }\n    }\n\n    const ret = decodeItem();\n    if (offset !== data.byteLength) throw 'Remaining bytes';\n    return ret;\n  }\n\n  const obj = { encode, decode };\n\n  if (typeof define === 'function' && define.amd) define('cbor/cbor', obj);\n  else if (typeof module !== 'undefined' && module.exports) module.exports = obj;\n  else if (!global.CBOR) global.CBOR = obj;\n})(this);\n","/**\n * @license MIT\n */\n\n/*\n  We had to using this current implementation of flow.js to match\n  what was used in the API but it throws a bunch of warnings\n  in the linter therefor we will disable those checks for this\n  file.\n*/\n/* eslint-disable no-shadow-restricted-names */\n/* eslint-disable default-case */\n/* eslint-disable no-undef */\n/* eslint-disable no-bitwise */\n/* eslint-disable vars-on-top */\n/* eslint-disable consistent-return */\n/* eslint-disable no-var */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable func-names */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable prefer-spread */\n\n(function (window, document, undefined) {\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @param [opts]\n   * @param {number} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {string} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support =\n      typeof File !== 'undefined' &&\n      typeof Blob !== 'undefined' &&\n      typeof FileList !== 'undefined' &&\n      (!!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice || false); // slicing files support\n\n    if (!this.support) {\n      return;\n    }\n\n    /**\n     * Check if directory upload is supported\n     * @type {boolean}\n     */\n    this.supportDirectory = /WebKit/.test(window.navigator.userAgent);\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = [];\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      method: 'multipart',\n      prioritizeFirstAndLastChunk: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 415, 500, 501]\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {};\n\n    /**\n     * List of events:\n     *  key stands for event name\n     *  value array list of callbacks\n     * @type {}\n     */\n    this.events = {};\n\n    const $ = this;\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      const { dataTransfer } = event;\n      if (dataTransfer.items && dataTransfer.items[0] && dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event);\n      } else {\n        $.addFiles(dataTransfer.files, event);\n      }\n    };\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault();\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {});\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRetry(file), fileError(file, message), complete(),\n     * progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on(event, callback) {\n      event = event.toLowerCase();\n      if (!this.events.hasOwnProperty(event)) {\n        this.events[event] = [];\n      }\n      this.events[event].push(callback);\n    },\n\n    /**\n     * Remove event callback\n     * @function\n     * @param {string} [event] removes all events if not specified\n     * @param {Function} [fn] removes all callbacks of event if not specified\n     */\n    off(event, fn) {\n      if (event !== undefined) {\n        event = event.toLowerCase();\n        if (fn !== undefined) {\n          if (this.events.hasOwnProperty(event)) {\n            arrayRemove(this.events[event], fn);\n          }\n        } else {\n          delete this.events[event];\n        }\n      } else {\n        this.events = {};\n      }\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire(event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      event = event.toLowerCase();\n      let preventDefault = false;\n      if (this.events.hasOwnProperty(event)) {\n        each(this.events[event], function (callback) {\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\n        });\n      }\n      if (event !== 'catchall') {\n        args.unshift('catchAll');\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\n      }\n      return !preventDefault;\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer(event) {\n      const $ = this;\n      let queue = event.dataTransfer.items.length;\n      const files = [];\n      each(event.dataTransfer.items, function (item) {\n        const entry = item.webkitGetAsEntry();\n        if (!entry) {\n          decrement();\n          return;\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\n        } else {\n          entry.createReader().readEntries(readSuccess, readError);\n        }\n      });\n      function readSuccess(entries) {\n        queue += entries.length;\n        each(entries, function (entry) {\n          if (entry.isFile) {\n            const { fullPath } = entry;\n            entry.file(function (file) {\n              fileReadSuccess(file, fullPath);\n            }, readError);\n          } else if (entry.isDirectory) {\n            entry.createReader().readEntries(readSuccess, readError);\n          }\n        });\n        decrement();\n      }\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1);\n        files.push(file);\n        decrement();\n      }\n      function readError(fileError) {\n        throw fileError;\n      }\n      function decrement() {\n        if (--queue === 0) {\n          $.addFiles(files, event);\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier(file) {\n      const custom = this.opts.generateUniqueIdentifier;\n      if (typeof custom === 'function') {\n        return custom(file);\n      }\n      // Some confusion in different versions of Firefox\n      const relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\n      return `${file.size}-${relativePath.replace(/[^0-9a-zA-Z_-]/gim, '')}`;\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk(preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      let found = false;\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, function (file) {\n          if (\n            !file.paused &&\n            file.chunks.length &&\n            file.chunks[0].status() === 'pending' &&\n            file.chunks[0].preprocessState === 0\n          ) {\n            file.chunks[0].send();\n            found = true;\n            return false;\n          }\n          if (\n            !file.paused &&\n            file.chunks.length > 1 &&\n            file.chunks[file.chunks.length - 1].status() === 'pending' &&\n            file.chunks[0].preprocessState === 0\n          ) {\n            file.chunks[file.chunks.length - 1].send();\n            found = true;\n            return false;\n          }\n        });\n        if (found) {\n          return found;\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, function (file) {\n        if (!file.paused) {\n          each(file.chunks, function (chunk) {\n            if (chunk.status() === 'pending' && chunk.preprocessState === 0) {\n              chunk.send();\n              found = true;\n              return false;\n            }\n          });\n        }\n        if (found) {\n          return false;\n        }\n      });\n      if (found) {\n        return true;\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      let outstanding = false;\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          outstanding = true;\n          return false;\n        }\n      });\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        this.fire('complete');\n      }\n      return false;\n    },\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * be selected (Chrome only).\n     */\n    assignBrowse(domNodes, isDirectory, singleFile) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n\n      // We will create an <input> and overlay it on the domNode\n      // (crappy, but since HTML5 doesn't have a cross-browser.browse() method\n      // we haven't a choice. FF4+ allows click() for this though:\n      // https://developer.mozilla.org/en/using_files_from_web_applications)\n      each(\n        domNodes,\n        function (domNode) {\n          let input;\n          if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n            input = domNode;\n          } else {\n            input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            // input fill entire dom node\n            extend(domNode.style, {\n              // display: 'inline-block',\n              position: 'relative',\n              overflow: 'hidden',\n              verticalAlign: 'top'\n            });\n            // in Opera only 'browse' button\n            // is clickable and it is located at\n            // the right side of the input\n            extend(input.style, {\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              fontFamily: 'Arial',\n              // 4 persons reported this, the max values that worked for them were 243, 236, 236, 118\n              fontSize: '140px',\n              margin: 0,\n              padding: 0,\n              opacity: 0,\n              cursor: 'pointer'\n            });\n            domNode.appendChild(input);\n          }\n          if (!this.opts.singleFile && !singleFile) {\n            input.setAttribute('multiple', 'multiple');\n          }\n          if (isDirectory) {\n            input.setAttribute('webkitdirectory', 'webkitdirectory');\n          }\n          // When new files are added, simply append them to the overall list\n          const $ = this;\n          input.addEventListener(\n            'change',\n            function (e) {\n              $.addFiles(e.target.files, e);\n              e.target.value = '';\n            },\n            false\n          );\n        },\n        this\n      );\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(\n        domNodes,\n        function (domNode) {\n          domNode.addEventListener('dragover', this.preventEvent, false);\n          domNode.addEventListener('dragenter', this.preventEvent, false);\n          domNode.addEventListener('drop', this.onDrop, false);\n        },\n        this\n      );\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(\n        domNodes,\n        function (domNode) {\n          domNode.removeEventListener('dragover', this.preventEvent);\n          domNode.removeEventListener('dragenter', this.preventEvent);\n          domNode.removeEventListener('drop', this.onDrop);\n        },\n        this\n      );\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false;\n      each(this.files, function (file) {\n        if (file.isUploading()) {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload() {\n      // Make sure we don't start too many uploads at once\n      if (this.isUploading()) {\n        return;\n      }\n      // Kick off the queue\n      this.fire('uploadStart');\n      let started = false;\n      for (let num = 1; num <= this.opts.simultaneousUploads; num++) {\n        started = this.uploadNextChunk(true) || started;\n      }\n      if (!started) {\n        this.fire('complete');\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume() {\n      each(this.files, function (file) {\n        file.resume();\n      });\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause() {\n      each(this.files, function (file) {\n        file.pause();\n      });\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel() {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel();\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      let totalDone = 0;\n      let totalSize = 0;\n      // Resume all chunks currently being uploaded\n      each(this.files, function (file) {\n        totalDone += file.progress() * file.size;\n        totalSize += file.size;\n      });\n      return totalSize > 0 ? totalDone / totalSize : 0;\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile(file, event) {\n      this.addFiles([file], event);\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles(fileList, event) {\n      const files = [];\n      each(\n        fileList,\n        function (file) {\n          // Directories have size `0` and name `.`\n          // Ignore already added files\n          if (\n            !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.')) &&\n            !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file))\n          ) {\n            const f = new FlowFile(this, file);\n            if (this.fire('fileAdded', f, event)) {\n              files.push(f);\n            }\n          }\n        },\n        this\n      );\n      if (this.fire('filesAdded', files, event)) {\n        each(\n          files,\n          function (file) {\n            if ((this.opts.singleFile && this.files.length === 0) || !this.opts.singleFile) {\n              this.files.push(file);\n            }\n          },\n          this\n        );\n      }\n      this.fire('filesSubmitted', files, event);\n    },\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile(file) {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1);\n          file.abort();\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier(uniqueIdentifier) {\n      let ret = false;\n      each(this.files, function (file) {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file;\n        }\n      });\n      return ret;\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize() {\n      let totalSize = 0;\n      each(this.files, function (file) {\n        totalSize += file.size;\n      });\n      return totalSize;\n    },\n\n    /**\n     * Returns the total size uploaded of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0;\n      each(this.files, function (file) {\n        size += file.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      let sizeDelta = 0;\n      let averageSpeed = 0;\n      each(this.files, function (file) {\n        if (!file.paused && !file.error) {\n          sizeDelta += file.size - file.sizeUploaded();\n          averageSpeed += file.averageSpeed;\n        }\n      });\n      if (sizeDelta && !averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!sizeDelta && !averageSpeed) {\n        return 0;\n      }\n      return Math.floor(sizeDelta / averageSpeed);\n    }\n  };\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @constructor\n   */\n  function FlowFile(flowObj, file) {\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file;\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size;\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file);\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = [];\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false;\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false;\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0;\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0;\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now();\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0;\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0;\n\n    this.bootstrap();\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed() {\n      const timeSpan = Date.now() - this._lastProgressCallback;\n      if (!timeSpan) {\n        return;\n      }\n      const smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\n      const uploaded = this.sizeUploaded();\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max(((uploaded - this._prevUploadedSize) / timeSpan) * 1000, 0);\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\n      this._prevUploadedSize = uploaded;\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} [message]\n     */\n    chunkEvent(event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback < this.flowObj.opts.progressCallbacksInterval) {\n            break;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          break;\n        case 'error':\n          this.error = true;\n          this.abort(true);\n          this.flowObj.fire('fileError', this, message);\n          this.flowObj.fire('error', message, this);\n          break;\n        case 'success':\n          if (this.error) {\n            return;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          if (this.isComplete()) {\n            this.currentSpeed = 0;\n            this.averageSpeed = 0;\n            this.flowObj.fire('fileSuccess', this, message);\n          }\n          break;\n        case 'retry':\n          this.flowObj.fire('fileRetry', this);\n          break;\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause() {\n      this.paused = true;\n      this.abort();\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume() {\n      this.paused = false;\n      this.flowObj.upload();\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort(reset) {\n      this.currentSpeed = 0;\n      this.averageSpeed = 0;\n      const { chunks } = this;\n      if (reset) {\n        this.chunks = [];\n      }\n      each(\n        chunks,\n        function (c) {\n          if (c.status() === 'uploading') {\n            c.abort();\n            this.flowObj.uploadNextChunk();\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel() {\n      this.flowObj.removeFile(this);\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry() {\n      this.bootstrap();\n      this.flowObj.upload();\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap() {\n      this.abort(true);\n      this.error = false;\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0;\n      const round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\n      const chunks = Math.max(round(this.file.size / this.flowObj.opts.chunkSize), 1);\n      for (let offset = 0; offset < chunks; offset++) {\n        this.chunks.push(new FlowChunk(this.flowObj, this, offset));\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress() {\n      if (this.error) {\n        return 0;\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\n        return this._prevProgress;\n      }\n      // Sum up progress across everything\n      let bytesLoaded = 0;\n      each(this.chunks, function (c) {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\n      });\n      const percent = bytesLoaded / this.size;\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.999 ? 1 : percent);\n      return this._prevProgress;\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false;\n      each(this.chunks, function (chunk) {\n        if (chunk.status() === 'uploading') {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete() {\n      let outstanding = false;\n      each(this.chunks, function (chunk) {\n        const status = chunk.status();\n        if (status === 'pending' || status === 'uploading' || chunk.preprocessState === 1) {\n          outstanding = true;\n          return false;\n        }\n      });\n      return !outstanding;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0;\n      each(this.chunks, function (chunk) {\n        size += chunk.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      if (this.paused || this.error) {\n        return 0;\n      }\n      const delta = this.size - this.sizeUploaded();\n      if (delta && !this.averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!delta && !this.averageSpeed) {\n        return 0;\n      }\n      return Math.floor(delta / this.averageSpeed);\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType() {\n      return this.file.type && this.file.type.split('/')[1];\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension() {\n      return this.name.substr((~-this.name.lastIndexOf('.') >>> 0) + 2).toLowerCase();\n    }\n  };\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.fileObjSize = fileObj.size;\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset;\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false;\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0;\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false;\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0;\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0;\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0;\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    const { chunkSize } = this.flowObj.opts;\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * chunkSize;\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = Math.min(this.fileObjSize, (this.offset + 1) * chunkSize);\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null;\n\n    if (this.fileObjSize - this.endByte < chunkSize && !this.flowObj.opts.forceChunkSize) {\n      // The last chunk will be bigger than the chunk size,\n      // but less than 2*chunkSize\n      this.endByte = this.fileObjSize;\n    }\n\n    const $ = this;\n\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function (event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded;\n        $.total = event.total;\n      }\n      $.fileObj.chunkEvent('progress');\n    };\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function (event) {\n      const status = $.status();\n      if (status === 'success') {\n        $.tested = true;\n        $.fileObj.chunkEvent(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        // Error might be caused by file pause method\n        $.tested = true;\n        $.send();\n      }\n    };\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function (event) {\n      const status = $.status();\n      if (status === 'success' || status === 'error') {\n        $.fileObj.chunkEvent(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else {\n        $.fileObj.chunkEvent('retry', $.message());\n        $.pendingRetry = true;\n        $.abort();\n        $.retries++;\n        const retryInterval = $.flowObj.opts.chunkRetryInterval;\n        if (retryInterval !== null) {\n          setTimeout(function () {\n            $.send();\n          }, retryInterval);\n        } else {\n          $.send();\n        }\n      }\n    };\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams() {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.flowObj.opts.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObjSize,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length\n      };\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget(params) {\n      let { target } = this.flowObj.opts;\n      if (target.indexOf('?') < 0) {\n        target += '?';\n      } else {\n        target += '&';\n      }\n      return target + params.join('&');\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test() {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.addEventListener('load', this.testHandler, false);\n      this.xhr.addEventListener('error', this.testHandler, false);\n      const data = this.prepareXhrRequest('GET');\n      this.xhr.send(data);\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished() {\n      this.preprocessState = 2;\n      this.send();\n    },\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send() {\n      const { preprocess } = this.flowObj.opts;\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            preprocess(this);\n            this.preprocessState = 1;\n            return;\n          case 1:\n            return;\n          case 2:\n            break;\n        }\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test();\n        return;\n      }\n\n      this.loaded = 0;\n      this.total = 0;\n      this.pendingRetry = false;\n\n      const func = this.fileObj.file.slice\n        ? 'slice'\n        : this.fileObj.file.mozSlice\n        ? 'mozSlice'\n        : this.fileObj.file.webkitSlice\n        ? 'webkitSlice'\n        : 'slice';\n      const bytes = this.fileObj.file[func](this.startByte, this.endByte);\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\n      this.xhr.addEventListener('load', this.doneHandler, false);\n      this.xhr.addEventListener('error', this.doneHandler, false);\n\n      const data = this.prepareXhrRequest('POST', this.flowObj.opts.method, bytes);\n\n      this.xhr.send(data);\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort() {\n      // Abort and reset\n      const { xhr } = this;\n      this.xhr = null;\n      if (xhr) {\n        xhr.abort();\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status() {\n      if (this.pendingRetry) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading';\n      }\n      if (!this.xhr) {\n        return 'pending';\n      }\n      if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading';\n      }\n      if (this.xhr.status === 200) {\n        // HTTP 200, perfect\n        return 'success';\n      }\n      if (\n        this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\n        this.retries >= this.flowObj.opts.maxChunkRetries\n      ) {\n        // HTTP 415/500/501, permanent error\n        return 'error';\n      }\n      // this should never happen, but we'll reset and queue a retry\n      // a likely case for this would be 503 service unavailable\n      this.abort();\n      return 'pending';\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message() {\n      return this.xhr ? this.xhr.responseText : '';\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      if (this.pendingRetry) {\n        return 0;\n      }\n      const s = this.status();\n      if (s === 'success' || s === 'error') {\n        return 1;\n      }\n      if (s === 'pending') {\n        return 0;\n      }\n      return this.total > 0 ? this.loaded / this.total : 0;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = this.endByte - this.startByte;\n      // can't return only chunk.loaded value, because it is bigger than chunk size\n      if (this.status() !== 'success') {\n        size *= this.progress();\n      }\n      return size;\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest(method, paramsMethod, blob) {\n      // Add data from the query options\n      let { query } = this.flowObj.opts;\n      if (typeof query === 'function') {\n        query = query(this.fileObj, this);\n      }\n      query = extend(this.getParams(), query);\n\n      let { target } = this.flowObj.opts;\n      let data = null;\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        const params = [];\n        each(query, function (v, k) {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\n        });\n        target = this.getTarget(params);\n        data = blob || null;\n      } else {\n        // Add data from the query options\n        data = new FormData();\n        each(query, function (v, k) {\n          data.append(k, v);\n        });\n        data.append(this.flowObj.opts.fileParameterName, blob);\n      }\n\n      this.xhr.open(method, target);\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\n\n      // Add data from header options\n      each(\n        this.flowObj.opts.headers,\n        function (v, k) {\n          this.xhr.setRequestHeader(k, v);\n        },\n        this\n      );\n\n      return data;\n    }\n  };\n\n  /**\n   * Remove value from array\n   * @param array\n   * @param value\n   */\n  function arrayRemove(array, value) {\n    const index = array.indexOf(value);\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, function (obj) {\n      if (obj !== dst) {\n        each(obj, function (value, key) {\n          dst[key] = value;\n        });\n      }\n    });\n    return dst;\n  }\n  Flow.extend = extend;\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return;\n    }\n    let key;\n    // Is Array?\n    if (typeof obj.length !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return;\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return;\n        }\n      }\n    }\n  }\n  Flow.each = each;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk;\n\n  /**\n   * Library version\n   * @type {string}\n   */\n  Flow.version = '2.1.0';\n\n  if (typeof module === 'object' && module && typeof module.exports === 'object') {\n    // Expose Flow as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = Flow;\n  } else {\n    // Otherwise expose Flow to the global object as usual\n    window.Flow = Flow;\n\n    // Register as a named AMD module, since Flow can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase flow is used because AMD module names are\n    // derived from file names, and Flow is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of Flow, it will work.\n    if (typeof define === 'function' && define.amd) {\n      define('flow', [], function () {\n        return Flow;\n      });\n    }\n  }\n})(window, document);\n","import { createMuiTheme, PaletteType } from '@material-ui/core';\nimport { useMemo } from 'react';\n\nexport type AppThemeProps = {\n  background?: {\n    dark?: {\n      default: string;\n      paper: string;\n    };\n    light?: {\n      default: string;\n      paper: string;\n    };\n  };\n  darkPrimary?: string;\n  darkSecondary?: string;\n  lightPrimary?: string;\n  lightSecondary?: string;\n  appbar?: {\n    sticky?: {\n      elevation?: number;\n      dark?: {\n        backgroundColor: string;\n      };\n      light?: {\n        backgroundColor: string;\n      };\n    };\n  };\n};\n\nconst useAppTheme = (isDark: boolean, colors: AppThemeProps) => {\n  const theme = useMemo(() => {\n    const { background, darkPrimary, darkSecondary, lightPrimary, lightSecondary } = colors;\n\n    const primaryMain = isDark ? darkPrimary : lightPrimary;\n    const secondaryMain = isDark ? darkSecondary : lightSecondary;\n\n    const palette = {\n      primary: {\n        main: primaryMain\n      },\n      secondary: {\n        main: secondaryMain\n      },\n      type: isDark ? ('dark' as PaletteType) : ('light' as PaletteType)\n    };\n\n    if (background) {\n      if (isDark && background.dark) {\n        // eslint-disable-next-line @typescript-eslint/dot-notation\n        palette['background'] = background.dark;\n      } else if (!isDark && background.light) {\n        // eslint-disable-next-line @typescript-eslint/dot-notation\n        palette['background'] = background.light;\n      }\n    }\n\n    return createMuiTheme({\n      overrides: {\n        MuiCssBaseline: {\n          '@global': {\n            body: {\n              width: '100%',\n              height: '100%'\n            },\n            '#root': {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0\n            }\n          }\n        }\n      },\n      palette\n    });\n  }, [colors, isDark]);\n  return [theme];\n};\nexport default useAppTheme;\n","import { makeStyles, ThemeProvider, useMediaQuery } from '@material-ui/core';\nimport useAppTheme, { AppThemeProps } from 'commons/components/hooks/useAppTheme';\nimport { SnackbarProvider } from 'notistack';\nimport React, { useState } from 'react';\n\n//\ninterface AppbarStyles {\n  color: string;\n  backgroundColor: string;\n  elevation: number;\n}\n\n// Specification interface of the component properties.\ninterface AppProviderProps {\n  children: React.ReactNode;\n  colors: AppThemeProps;\n  defaultTheme: 'light' | 'dark';\n  defaultContext?: any;\n}\n\n// Specification interface of the contex provider.\nexport interface AppContextProps {\n  context?: any;\n  theme: 'light' | 'dark';\n  colors: AppThemeProps;\n  isDarkTheme: boolean;\n  isLightTheme: boolean;\n  toggleTheme: () => void;\n  setContext: (context: any) => void;\n  getAppbarStyles: (currentLayout: 'side' | 'top') => AppbarStyles;\n}\n\n// React context instantiation.\nexport const AppContext = React.createContext<AppContextProps>(null);\n\n// Figure what the initial theme to use.\nconst getInitialTheme = (defaultTheme, prefersDarkMode) => {\n  // Figure out initial theme.\n  let initialTheme;\n  const storedDarkMode = localStorage.getItem('darkMode');\n  const darkMode = storedDarkMode ? !!JSON.parse(storedDarkMode) : null;\n  if (darkMode !== null && darkMode === true) {\n    initialTheme = 'dark' as 'dark';\n  } else if (darkMode !== null && darkMode === false) {\n    initialTheme = 'light' as 'light';\n  } else if (prefersDarkMode) {\n    initialTheme = 'dark' as 'dark';\n  } else {\n    initialTheme = defaultTheme;\n  }\n  return initialTheme;\n};\n\nconst useStyles = makeStyles(theme => ({\n  snackroot: {\n    [theme.breakpoints.only('xs')]: { wordBreak: 'break-all' }\n  }\n}));\n\n// Implementation of the AppContext provider component.\n// This should be the root application component renderered by the index.tsx into the dom element-id 'root'\nconst AppContextProvider: React.FC<AppProviderProps> = ({ defaultTheme, colors, defaultContext, children }) => {\n  // Application provided context.\n  const [context, setContext] = useState<any>(defaultContext);\n  const classes = useStyles();\n\n  // Theme state.\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const [theme, setTheme] = useState<'dark' | 'light'>(getInitialTheme(defaultTheme, prefersDarkMode));\n\n  // Theme toggle handler.\n  const toggleTheme = () => {\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('darkMode', JSON.stringify(newTheme === 'dark'));\n    setTheme(newTheme);\n  };\n\n  // Build the theme.\n  const [appTheme] = useAppTheme(theme === 'dark', colors);\n\n  // Compute appbar styles for specified layout.\n  const getAppbarStyles = (layout: 'side' | 'top'): AppbarStyles => {\n    const isTopLayout = layout === 'top';\n    const isDarkTheme = theme === 'dark';\n    const isLightTheme = theme === 'light';\n\n    // Compute background color.\n    let backgroundColor = isTopLayout ? appTheme.palette.primary.dark : appTheme.palette.background.default;\n    if (isTopLayout) {\n      if (isDarkTheme && colors.appbar?.sticky?.dark) {\n        backgroundColor = colors.appbar.sticky.dark.backgroundColor;\n      }\n      if (isLightTheme && colors.appbar?.sticky?.light) {\n        backgroundColor = colors.appbar.sticky.light.backgroundColor;\n      }\n    }\n\n    // Compute elevation.\n    const elevation = isTopLayout\n      ? colors.appbar?.sticky?.elevation !== undefined\n        ? colors.appbar?.sticky?.elevation\n        : 2\n      : 0;\n\n    // Wrap it up and send-it!\n    return {\n      color: appTheme.palette.getContrastText(backgroundColor),\n      backgroundColor,\n      elevation\n    };\n  };\n\n  // Initialize app context provider, theme, snackbar and render children component.\n  // Snackbar needs to be rendered as child of theme provider.  CSS glitches ensues if not the case.\n  return (\n    <AppContext.Provider\n      value={{\n        context,\n        theme,\n        colors,\n        isDarkTheme: theme === 'dark',\n        isLightTheme: theme === 'light',\n        toggleTheme,\n        setContext,\n        getAppbarStyles\n      }}\n    >\n      <ThemeProvider theme={appTheme}>\n        <SnackbarProvider classes={{ root: classes.snackroot }}>{children}</SnackbarProvider>\n      </ThemeProvider>\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContextProvider;\n","import React from 'react';\n\nexport type UserProfileProps = {\n  username: string;\n  email: string;\n  name: string;\n  avatar: string;\n  is_admin: boolean;\n};\n\nexport type ValidatedProp = {\n  prop: string;\n  value: any;\n};\n\nexport interface UserContextProps<U extends UserProfileProps> {\n  user: U;\n  setUser: (user: U) => void;\n  isReady: () => boolean;\n  validateProps?: (props: ValidatedProp[]) => boolean;\n}\n\nexport interface UserProviderProps<U extends UserProfileProps> extends UserContextProps<U> {\n  children: React.ReactNode;\n}\n\nexport const UserContext = React.createContext<UserContextProps<UserProfileProps>>(null);\n\nfunction UserProvider<U extends UserProfileProps>(props: UserProviderProps<U>) {\n  const { children, ...contextProps } = props;\n  return <UserContext.Provider value={contextProps}>{children}</UserContext.Provider>;\n}\n\nUserProvider.defaultProps = {\n  validateProps: () => true\n};\n\nexport default UserProvider;\n","import { UserContext, UserContextProps, UserProfileProps } from 'commons/components/user/UserProvider';\nimport { useContext } from 'react';\n\nexport default function useAppUser<U extends UserProfileProps>(): UserContextProps<U> {\n  const context = useContext(UserContext) as UserContextProps<U>;\n  if (context) {\n    return context;\n  }\n  return {\n    user: null,\n    setUser: user => null,\n    isReady: () => false\n  };\n}\n","import { ListItem, ListItemIcon, ListItemText, Tooltip } from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useAppUser from 'commons/components/hooks/useAppUser';\nimport { LeftNavItemProps } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    nested: {\n      paddingLeft: theme.spacing(4)\n    }\n  })\n);\n\nconst LeftNavItem: React.FC<LeftNavItemProps> = props => {\n  const classes = useStyles();\n  const { drawerState, hideNestedIcons, toggleDrawer } = useAppLayout();\n  const { text, icon, nested, route, userPropValidators } = props;\n  const { validateProps } = useAppUser();\n\n  const onCloseDrawerIfOpen = () => {\n    if (isWidthDown('sm', props.width) && drawerState) {\n      setTimeout(toggleDrawer, 150);\n    }\n  };\n\n  const item = (\n    <ListItem\n      button\n      component={route ? Link : null}\n      to={route}\n      dense={!!nested}\n      className={nested ? classes.nested : null}\n      key={text}\n      onClick={onCloseDrawerIfOpen}\n    >\n      {((icon && !nested) || (!hideNestedIcons && icon && nested)) && <ListItemIcon>{icon}</ListItemIcon>}\n      <ListItemText primary={text} />\n    </ListItem>\n  );\n\n  return validateProps(userPropValidators) ? (\n    drawerState || nested ? (\n      item\n    ) : (\n      <Tooltip title={text} aria-label={text} placement=\"right\">\n        {item}\n      </Tooltip>\n    )\n  ) : null;\n};\n\nexport default withWidth()(LeftNavItem);\n","import { Collapse, List, ListItem, ListItemIcon, ListItemText, Popover, Tooltip } from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport { LeftNavGroupProps } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport LeftNavItem from 'commons/components/layout/leftnav/LeftNavItem';\nimport React, { useState } from 'react';\n\nconst LeftNavGroup: React.FC<LeftNavGroupProps> = ({ open = true, id, title, icon, items }) => {\n  const { drawerState } = useAppLayout();\n  const [popoverTarget, setPopoverTarget] = useState<(EventTarget & Element) | undefined>();\n\n  const onPopoverClick = (event: React.MouseEvent) => {\n    setPopoverTarget(event ? event.currentTarget : undefined);\n  };\n\n  const [collapseOpen, setCollapseOpen] = React.useState(false);\n  const handleClick = (event: React.MouseEvent) => {\n    if (open) {\n      setCollapseOpen(!collapseOpen);\n    } else {\n      onPopoverClick(event);\n    }\n  };\n\n  const groupItem = (\n    <ListItem button key={id} onClick={handleClick}>\n      <ListItemIcon>{icon}</ListItemIcon>\n      <ListItemText primary={title} />\n      {collapseOpen ? <ExpandLess color=\"action\" /> : <ExpandMore color=\"action\" />}\n    </ListItem>\n  );\n\n  return (\n    <div>\n      {drawerState ? (\n        groupItem\n      ) : (\n        <Tooltip title={title} aria-label={title} placement=\"right\">\n          {groupItem}\n        </Tooltip>\n      )}\n      <Collapse in={collapseOpen && open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          {items.map(i => (\n            <LeftNavItem key={i.id} {...i} />\n          ))}\n        </List>\n      </Collapse>\n      <Popover\n        open={!!popoverTarget}\n        onClose={() => setPopoverTarget(undefined)}\n        onClick={() => setPopoverTarget(undefined)}\n        anchorEl={popoverTarget}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left'\n        }}\n      >\n        <List disablePadding>\n          {items.map(i => (\n            <LeftNavItem key={i.id} {...i} />\n          ))}\n        </List>\n      </Popover>\n    </div>\n  );\n};\n\nexport default LeftNavGroup;\n","import { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  topBarTitle: {\n    display: 'flex',\n    alignItems: 'center',\n    flex: '0 0 auto',\n    fontSize: '1.5rem',\n    letterSpacing: '-1px'\n  },\n  icon: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0',\n    minWidth: theme.spacing(7)\n  },\n  title: {\n    color: 'inherit',\n    textDecoration: 'none'\n  }\n}));\n\nexport default function AppTitle({ disabled = false, noTitle = false }) {\n  const theme = useTheme();\n  const classes = useStyles();\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const { layoutProps, getLogo, toggleDrawer } = useAppLayout();\n\n  if (!disabled) {\n    return isXs ? (\n      <div className={classes.topBarTitle} style={{ paddingLeft: theme.spacing(2) }}>\n        <div className={classes.icon}>\n          <IconButton aria-label=\"open drawer\" edge=\"start\" color=\"inherit\" onClick={toggleDrawer}>\n            <MenuIcon />\n          </IconButton>\n        </div>\n        {!noTitle && (\n          <Link to=\"/\" className={classes.title} onClick={toggleDrawer}>\n            {layoutProps.appName}\n          </Link>\n        )}\n      </div>\n    ) : (\n      <Link to=\"/\" className={classes.title} style={{ paddingLeft: theme.spacing(2) }}>\n        <div className={classes.topBarTitle}>\n          <div className={classes.icon}>{getLogo(theme)}</div>\n          {!noTitle && <div>{layoutProps.appName}</div>}\n        </div>\n      </Link>\n    );\n  }\n  return null;\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport {\n  Box,\n  ClickAwayListener,\n  Divider,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Toolbar,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport clsx from 'clsx';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport LeftNavGroup from 'commons/components/layout/leftnav/LeftNavGroup';\nimport LeftNavItem from 'commons/components/layout/leftnav/LeftNavItem';\nimport { ValidatedProp } from 'commons/components/user/UserProvider';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AppTitle from '../topnav/AppTitle';\n\nconst drawerWidth = 240;\n\nexport const useStyles = makeStyles(theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n    '@media print': {\n      display: 'none !important'\n    }\n  },\n  drawerOver: {\n    overflowX: 'hidden'\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    overflowX: 'hidden',\n    width: 0,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(7) + 1\n    },\n    [theme.breakpoints.only('xs')]: {\n      border: 'none'\n    }\n  },\n  toolbar: {\n    [theme.breakpoints.up('xs')]: {\n      padding: 0\n    }\n  },\n  title: {\n    alignItems: 'center',\n    display: 'inline-flex',\n    flex: '0 0 auto',\n    fontSize: '1.5rem',\n    letterSpacing: '-1px',\n    textDecoration: 'none',\n    color: theme.palette.text.primary\n  },\n  toggler: {\n    height: '100%',\n    width: '100%',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\nexport type LeftNavElement = {\n  type: 'item' | 'group' | 'divider';\n  element: LeftNavItemProps | LeftNavGroupProps | null;\n};\n\nexport type LeftNavItemProps = {\n  id: number | string;\n  text: string;\n  userPropValidators?: ValidatedProp[];\n  icon?: React.ReactElement<any>;\n  route?: string;\n  nested?: boolean;\n  width?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nexport type LeftNavGroupProps = {\n  open?: boolean;\n  id: number | string;\n  title: string;\n  icon: React.ReactElement<any>;\n  items: LeftNavItemProps[];\n};\n\ntype LeftNavDrawerProps = {\n  width?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst LeftNavDrawer: React.FC<LeftNavDrawerProps> = props => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const classes = useStyles();\n  const { layoutProps, drawerState, currentLayout, toggleDrawer } = useAppLayout();\n  const isTopLayout = currentLayout === 'top';\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n\n  const onCloseDrawerIfOpen = () => {\n    if (isWidthDown('sm', props.width) && drawerState) {\n      toggleDrawer();\n    }\n  };\n\n  const header = (\n    <div>\n      <Toolbar className={classes.toolbar}>\n        <AppTitle />\n      </Toolbar>\n      <Divider style={{ backgroundColor: isTopLayout && !isXs ? 'transparent' : null }} />\n    </div>\n  );\n\n  const hide = (\n    <List disablePadding>\n      <ListItem button key=\"chevron\" onClick={toggleDrawer}>\n        <ListItemIcon>{drawerState ? <ChevronLeftIcon /> : <ChevronRightIcon />}</ListItemIcon>\n        <ListItemText primary={t('drawer.collapse')} />\n      </ListItem>\n    </List>\n  );\n\n  return (\n    <ClickAwayListener mouseEvent=\"onMouseDown\" touchEvent=\"onTouchStart\" onClickAway={onCloseDrawerIfOpen}>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: drawerState,\n          [classes.drawerClose]: !drawerState\n        })}\n        classes={{\n          paper: clsx(classes.drawerOver, {\n            [classes.drawerOpen]: drawerState,\n            [classes.drawerClose]: !drawerState\n          })\n        }}\n      >\n        {drawerState ? (\n          header\n        ) : (\n          <Tooltip title={layoutProps.appName} aria-label={layoutProps.appName} placement=\"right\">\n            {header}\n          </Tooltip>\n        )}\n        <List disablePadding>\n          {layoutProps.leftnav.elements.map((e, i) => {\n            const key = `{navel-${i}}`;\n            if (e.type === 'item') {\n              return <LeftNavItem key={key} {...(e.element as LeftNavItemProps)} />;\n            }\n            if (e.type === 'group') {\n              return <LeftNavGroup key={key} open={drawerState} {...(e.element as LeftNavGroupProps)} />;\n            }\n            if (e.type === 'divider') {\n              return <Divider key={key} />;\n            }\n\n            return null;\n          })}\n        </List>\n        <Divider />\n        {drawerState ? (\n          hide\n        ) : (\n          <Tooltip title={t('drawer.expand')} aria-label={t('drawer.expand')} placement=\"right\">\n            {hide}\n          </Tooltip>\n        )}\n        <Box className={clsx(classes.toggler)} onClick={toggleDrawer} />\n      </Drawer>\n    </ClickAwayListener>\n  );\n};\n\nexport default withWidth()(LeftNavDrawer);\n","import { useLayoutEffect, useState } from 'react';\n\nexport const APPBAR_READY_EVENT = 'tui.event.appbar.ready';\n\nexport default function useAppBarHeight(): number {\n  const [height, setHeight] = useState<number>(-1);\n\n  const updateHeight = () => {\n    const appbar = document.getElementById('appbar');\n    if (appbar) {\n      const rect = appbar.getBoundingClientRect();\n      setHeight(rect.height);\n    }\n  };\n\n  useLayoutEffect(() => {\n    updateHeight();\n    window.addEventListener('resize', updateHeight);\n    window.addEventListener(APPBAR_READY_EVENT, updateHeight);\n    return () => {\n      window.removeEventListener('resize', updateHeight);\n      window.removeEventListener(APPBAR_READY_EVENT, updateHeight);\n    };\n  }, []);\n\n  return height;\n}\n","import { useContext } from 'react';\nimport { AppContext, AppContextProps } from '../app/AppContextProvider';\n\nexport default function useAppContext(): AppContextProps {\n  return useContext(AppContext);\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { appendRoute, BreadcrumbItem, getRoute } from 'commons/components/hooks/useAppSitemap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useAppUser from '../hooks/useAppUser';\n\nexport type SiteMapRoute = {\n  path: string;\n  title: string;\n  icon?: React.ReactNode;\n  isRoot?: boolean;\n  isLeaf?: boolean;\n  exclude?: boolean;\n  breadcrumbs?: string[];\n};\n\nexport interface SiteMapContextProps {\n  lastOnly?: boolean;\n  exceptLast?: boolean;\n  allLinks?: boolean;\n  itemsBefore?: number;\n  itemsAfter?: number;\n  routes: SiteMapRoute[];\n}\n\ninterface SiteMapProviderProps extends SiteMapContextProps {\n  children: React.ReactNode;\n}\n\nexport interface SitemapProviderContextProps extends SiteMapContextProps {\n  breadcrumbs: BreadcrumbItem[];\n}\n\nexport const SiteMapContext = React.createContext<SitemapProviderContextProps>(null);\n\nfunction SiteMapProvider(props: SiteMapProviderProps) {\n  const { children, ...contextProps } = props;\n  const history = useHistory();\n  const { isReady } = useAppUser();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const isUserReady = isReady();\n\n  // Reset the breadcrumbs if the user ready state changes.\n  useEffect(() => {\n    setBreadcrumbs(\n      appendRoute([getRoute('/', contextProps.routes)], getRoute(history.location.pathname, contextProps.routes))\n    );\n  }, [isUserReady]);\n\n  useEffect(() => {\n    // The return callback will ensure the event handler deregisters when component\n    //  is unmounted.  Failure to do this will result in an event handler\n    //  being registered each time this component renders.\n    return history.listen(location => {\n      const _matchedRoute = getRoute(location.pathname, contextProps.routes);\n      const _breadcrumbs = appendRoute(breadcrumbs, _matchedRoute);\n      setBreadcrumbs(_breadcrumbs);\n    });\n  });\n\n  return <SiteMapContext.Provider value={{ breadcrumbs, ...contextProps }}>{children}</SiteMapContext.Provider>;\n}\n\nexport default SiteMapProvider;\n","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport error403EN from 'locales/en/403.json';\nimport error404EN from 'locales/en/404.json';\nimport adminErrorViewerEN from 'locales/en/admin/error_viewer.json';\nimport adminServicesEN from 'locales/en/admin/services.json';\nimport adminSiteMapEN from 'locales/en/admin/site_map.json';\nimport adminUsersEN from 'locales/en/admin/users.json';\nimport alertsEN from 'locales/en/alerts.json';\nimport authorizeEN from 'locales/en/authorize.json';\nimport dashboardEN from 'locales/en/dashboard.json';\nimport favoritesEN from 'locales/en/favorites.json';\nimport fileDetailEN from 'locales/en/file/detail.json';\nimport fileViewerEN from 'locales/en/file/viewer.json';\nimport helpAPIEN from 'locales/en/help/api.json';\nimport helpClassificationEN from 'locales/en/help/classification.json';\nimport helpConfigurationEN from 'locales/en/help/configuration.json';\nimport helpSearchEN from 'locales/en/help/search.json';\nimport helpServicesEN from 'locales/en/help/services.json';\nimport lockedEN from 'locales/en/locked.json';\nimport loginEN from 'locales/en/login.json';\nimport logoutEN from 'locales/en/logout.json';\nimport manageHeuristicsEN from 'locales/en/manage/heuristics.json';\nimport manageHeuristicDetailEN from 'locales/en/manage/heuristic_detail.json';\nimport manageSignaturesEN from 'locales/en/manage/signatures.json';\nimport manageSignatureDetailEN from 'locales/en/manage/signature_detail.json';\nimport manageSignatureSourcesEN from 'locales/en/manage/signature_sources.json';\nimport manageWorkflowsEN from 'locales/en/manage/workflows.json';\nimport manageWorkflowDetailEN from 'locales/en/manage/workflow_detail.json';\nimport optoutEN from 'locales/en/optout.json';\nimport searchEN from 'locales/en/search.json';\nimport settingsEN from 'locales/en/settings.json';\nimport statisticsHeuristicsEN from 'locales/en/statistics/heuristics.json';\nimport statisticsSignaturesEN from 'locales/en/statistics/signatures.json';\nimport submissionDetailEN from 'locales/en/submission/detail.json';\nimport submissionReportEN from 'locales/en/submission/report.json';\nimport submissionsEN from 'locales/en/submissions.json';\nimport submitEN from 'locales/en/submit.json';\nimport tosEN from 'locales/en/tos.json';\nimport translationEN from 'locales/en/translation.json';\nimport userEN from 'locales/en/user.json';\nimport error403FR from 'locales/fr/403.json';\nimport error404FR from 'locales/fr/404.json';\nimport adminErrorViewerFR from 'locales/fr/admin/error_viewer.json';\nimport adminServicesFR from 'locales/fr/admin/services.json';\nimport adminSiteMapFR from 'locales/fr/admin/site_map.json';\nimport adminUsersFR from 'locales/fr/admin/users.json';\nimport alertsFR from 'locales/fr/alerts.json';\nimport authorizeFR from 'locales/fr/authorize.json';\nimport dashboardFR from 'locales/fr/dashboard.json';\nimport favoritesFR from 'locales/fr/favorites.json';\nimport fileDetailFR from 'locales/fr/file/detail.json';\nimport fileViewerFR from 'locales/fr/file/viewer.json';\nimport helpAPIFR from 'locales/fr/help/api.json';\nimport helpClassificationFR from 'locales/fr/help/classification.json';\nimport helpConfigurationFR from 'locales/fr/help/configuration.json';\nimport helpSearchFR from 'locales/fr/help/search.json';\nimport helpServicesFR from 'locales/fr/help/services.json';\nimport lockedFR from 'locales/fr/locked.json';\nimport loginFR from 'locales/fr/login.json';\nimport logoutFR from 'locales/fr/logout.json';\nimport manageHeuristicsFR from 'locales/fr/manage/heuristics.json';\nimport manageHeuristicDetailFR from 'locales/fr/manage/heuristic_detail.json';\nimport manageSignaturesFR from 'locales/fr/manage/signatures.json';\nimport manageSignatureDetailFR from 'locales/fr/manage/signature_detail.json';\nimport manageSignatureSourcesFR from 'locales/fr/manage/signature_sources.json';\nimport manageWorkflowsFR from 'locales/fr/manage/workflows.json';\nimport manageWorkflowDetailFR from 'locales/fr/manage/workflow_detail.json';\nimport optoutFR from 'locales/fr/optout.json';\nimport searchFR from 'locales/fr/search.json';\nimport settingsFR from 'locales/fr/settings.json';\nimport statisticsHeuristicsFR from 'locales/fr/statistics/heuristics.json';\nimport statisticsSignaturesFR from 'locales/fr/statistics/signatures.json';\nimport submissionDetailFR from 'locales/fr/submission/detail.json';\nimport submissionReportFR from 'locales/fr/submission/report.json';\nimport submissionsFR from 'locales/fr/submissions.json';\nimport submitFR from 'locales/fr/submit.json';\nimport tosFR from 'locales/fr/tos.json';\nimport translationFR from 'locales/fr/translation.json';\nimport userFR from 'locales/fr/user.json';\nimport { initReactI18next } from 'react-i18next';\n\nconst resources = {\n  en: {\n    adminErrorViewer: adminErrorViewerEN,\n    adminServices: adminServicesEN,\n    adminSiteMap: adminSiteMapEN,\n    adminUsers: adminUsersEN,\n    authorize: authorizeEN,\n    dashboard: dashboardEN,\n    error403: error403EN,\n    error404: error404EN,\n    fileDetail: fileDetailEN,\n    fileViewer: fileViewerEN,\n    helpAPI: helpAPIEN,\n    helpClassification: helpClassificationEN,\n    helpConfiguration: helpConfigurationEN,\n    helpSearch: helpSearchEN,\n    helpServices: helpServicesEN,\n    locked: lockedEN,\n    login: loginEN,\n    logout: logoutEN,\n    manageHeuristics: manageHeuristicsEN,\n    manageHeuristicDetail: manageHeuristicDetailEN,\n    manageSignatures: manageSignaturesEN,\n    manageSignatureDetail: manageSignatureDetailEN,\n    manageSignatureSources: manageSignatureSourcesEN,\n    manageWorkflowDetail: manageWorkflowDetailEN,\n    manageWorkflows: manageWorkflowsEN,\n    optout: optoutEN,\n    search: searchEN,\n    settings: settingsEN,\n    statisticsHeuristics: statisticsHeuristicsEN,\n    statisticsSignatures: statisticsSignaturesEN,\n    submissions: submissionsEN,\n    submissionDetail: submissionDetailEN,\n    submissionReport: submissionReportEN,\n    submit: submitEN,\n    translation: translationEN,\n    tos: tosEN,\n    user: userEN,\n    alerts: alertsEN,\n    favorites: favoritesEN\n  },\n  fr: {\n    adminErrorViewer: adminErrorViewerFR,\n    adminServices: adminServicesFR,\n    adminSiteMap: adminSiteMapFR,\n    adminUsers: adminUsersFR,\n    authorize: authorizeFR,\n    dashboard: dashboardFR,\n    error403: error403FR,\n    error404: error404FR,\n    fileDetail: fileDetailFR,\n    fileViewer: fileViewerFR,\n    helpAPI: helpAPIFR,\n    helpClassification: helpClassificationFR,\n    helpConfiguration: helpConfigurationFR,\n    helpSearch: helpSearchFR,\n    helpServices: helpServicesFR,\n    locked: lockedFR,\n    login: loginFR,\n    logout: logoutFR,\n    manageHeuristics: manageHeuristicsFR,\n    manageHeuristicDetail: manageHeuristicDetailFR,\n    manageSignatures: manageSignaturesFR,\n    manageSignatureDetail: manageSignatureDetailFR,\n    manageSignatureSources: manageSignatureSourcesFR,\n    manageWorkflowDetail: manageWorkflowDetailFR,\n    manageWorkflows: manageWorkflowsFR,\n    optout: optoutFR,\n    search: searchFR,\n    settings: settingsFR,\n    statisticsHeuristics: statisticsHeuristicsFR,\n    statisticsSignatures: statisticsSignaturesFR,\n    submissions: submissionsFR,\n    submissionDetail: submissionDetailFR,\n    submissionReport: submissionReportFR,\n    submit: submitFR,\n    translation: translationFR,\n    tos: tosFR,\n    user: userFR,\n    alerts: alertsFR,\n    favorites: favoritesFR\n  }\n};\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false\n    },\n    detection: {\n      order: ['localStorage', 'cookie']\n    },\n    resources\n  });\n\nexport default i18n;\n","import { SiteMapContext, SiteMapContextProps, SiteMapRoute } from 'commons/components/sitemap/SitemapProvider';\nimport i18n from 'i18n';\nimport { useContext } from 'react';\nimport { match, matchPath } from 'react-router-dom';\n\nconst TITLE_404 = i18n.t('breadcrumb.404');\n\nexport type BreadcrumbItem = { route: SiteMapRoute; matcher: match };\n\ntype SitemapProps = {\n  breadcrumbs: BreadcrumbItem[];\n  props: SiteMapContextProps;\n  resolveTitle: (breadcrumb: BreadcrumbItem) => string;\n  getSiteRoute: (path: string) => BreadcrumbItem;\n  last: () => BreadcrumbItem;\n  first: () => BreadcrumbItem;\n  is404: (breadcrumb: BreadcrumbItem) => boolean;\n};\n\nexport const getRoute = (route: string, siteMap: SiteMapRoute[]): BreadcrumbItem => {\n  // match all the route provide in sitemap with current route.\n  const matchers = siteMap.map(_route => {\n    const matcher = matchPath(route, { path: _route.path });\n    return { route: _route, matcher };\n  });\n\n  // only keep the exact matched routes.\n  const matched = matchers.filter(m => m.matcher && m.matcher.isExact);\n\n  // hopefully, we only have a single match.\n  if (matched && matched.length > 1) {\n    // eslint-disable-next-line no-console\n    console.warn(`Found more than one sitemap route match for: ${route}`);\n  }\n  return matched && matched[0] ? matched[0] : { route: { path: route, title: TITLE_404 }, matcher: null };\n};\n\nexport const appendRoute = (breadcrumbs: BreadcrumbItem[], breadcrumb: BreadcrumbItem): BreadcrumbItem[] => {\n  // If the 'siteRoute' is null/undefined, we ignore it.\n  if (breadcrumb) {\n    // If a root route, then we reset the breadcrumbs.\n    if (breadcrumb.route.isRoot) {\n      return [breadcrumb];\n    }\n    // If the last element of bread is a leaf, then we remove it.\n    if (breadcrumbs[breadcrumbs.length - 1].route.isLeaf) {\n      // eslint-disable-next-line no-param-reassign\n      breadcrumbs = breadcrumbs.slice(0, breadcrumbs.length - 1);\n    }\n    // See if the route is already in the breadcrumbs.\n    const index = breadcrumbs.findIndex(_breadcrumb => _breadcrumb.route.path === breadcrumb.route.path);\n    // If the route is already in breacrumbs, then we slice off what comes after,\n    //  if not then we append it to the end.\n    return index > -1 ? [...breadcrumbs.slice(0, index), breadcrumb] : [...breadcrumbs, breadcrumb];\n  }\n  return breadcrumbs;\n};\n\n// We need to dynamically build the title since it will be language/locale specific and therefore we cannot\n//  rely on the cached version since language might have changed since then.\nconst resolveTitle = (breadcrumb: BreadcrumbItem, siteMap: SiteMapRoute[]) => {\n  // we need to refetch the route in order to ensure we have the correct language.\n  let title = breadcrumb.route.path ? getRoute(breadcrumb.route.path, siteMap).route.title : breadcrumb.route.title;\n  // if there are any parameters in match, replace them in title.\n  if (breadcrumb.matcher && breadcrumb.matcher.params) {\n    const { params } = breadcrumb.matcher;\n    Object.keys(params).forEach(k => {\n      title = title.replace(`{:${k}}`, params[k]);\n    });\n  }\n  return title;\n};\n\nconst is404 = (breadcrumb: BreadcrumbItem) => {\n  return breadcrumb.route.title === TITLE_404;\n};\n\nexport default function useAppSitemap(): SitemapProps {\n  const { breadcrumbs, ...props } = useContext(SiteMapContext);\n  return {\n    breadcrumbs,\n    props,\n    resolveTitle: (breadcrumb: BreadcrumbItem) => resolveTitle(breadcrumb, props.routes),\n    getSiteRoute: (path: string) => getRoute(path, props.routes),\n    last: () => (breadcrumbs.length > 0 ? breadcrumbs[breadcrumbs.length - 1] : breadcrumbs[0]),\n    first: () => breadcrumbs[0],\n    is404\n  };\n}\n","import {\n  Divider,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  ListSubheader,\n  Switch,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport useApp from 'commons/components/hooks/useAppContext';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport i18n from 'i18next';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport enum Lang {\n  EN = 'en',\n  FR = 'fr'\n}\n\nconst isLang = (lang: Lang): boolean => {\n  return i18n.language === lang.valueOf();\n};\n\nconst ThemeSelection = ({ width }) => {\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const { toggleTheme } = useApp();\n  const {\n    currentLayout,\n    showQuickSearch,\n    autoHideAppbar,\n    layoutProps,\n    breadcrumbsEnabled,\n    breadcrumbsState,\n    toggleLayout,\n    toggleQuickSearch,\n    toggleAutoHideAppbar,\n    toggleShowBreadcrumbs,\n    toggleBreadcrumbsState\n  } = useAppLayout();\n\n  const onToggleLanguage = () => {\n    i18n.changeLanguage(isLang(Lang.EN) ? Lang.FR.valueOf() : Lang.EN.valueOf());\n  };\n\n  const clearStorage = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  return (\n    <div>\n      {layoutProps.allowTranslate && (\n        <List dense subheader={<ListSubheader disableSticky>{t('app.language')}</ListSubheader>}>\n          <ListItem dense button onClick={onToggleLanguage}>\n            <ListItemText style={{ margin: 0 }}>\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  flexDirection: 'row',\n                  width: '100%',\n                  textAlign: 'center',\n                  cursor: 'pointer'\n                }}\n              >\n                <Typography component=\"div\" variant=\"body2\">\n                  English\n                </Typography>\n                <div style={{ flexGrow: 1 }}>\n                  <Switch checked={isLang(Lang.FR)} name=\"langSwitch\" />\n                </div>\n                <Typography component=\"div\" variant=\"body2\">\n                  Franais\n                </Typography>\n              </div>\n            </ListItemText>\n          </ListItem>\n        </List>\n      )}\n      {layoutProps.allowTranslate && allowPersonalization && <Divider />}\n      {allowPersonalization && (\n        <List dense subheader={<ListSubheader disableSticky>{t('personalization')}</ListSubheader>}>\n          {layoutProps.allowThemeSelection && (\n            <ListItem button onClick={toggleTheme}>\n              <ListItemText>{t('personalization.dark')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch edge=\"end\" onChange={toggleTheme} checked={theme.palette.type === 'dark'} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowTopbarModeSelection && (\n            <ListItem button onClick={toggleLayout}>\n              <ListItemText>{t('personalization.sticky')}</ListItemText>\n              <ListItemSecondaryAction onClick={toggleLayout}>\n                <Switch edge=\"end\" checked={currentLayout === 'top'} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowQuickSearch && !isWidthDown('xs', width) && (\n            <ListItem button onClick={toggleQuickSearch}>\n              <ListItemText>{t('personalization.quicksearch')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch edge=\"end\" checked={showQuickSearch} onClick={toggleQuickSearch} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowAutoHideTopbar && (\n            <ListItem button disabled={currentLayout === 'top'} onClick={toggleAutoHideAppbar}>\n              <ListItemText>{t('personalization.autohideappbar')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  disabled={currentLayout === 'top'}\n                  checked={autoHideAppbar && currentLayout !== 'top'}\n                  onClick={toggleAutoHideAppbar}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowBreadcrumbs && !isWidthDown('sm', width) && (\n            <>\n              <ListItem button onClick={toggleShowBreadcrumbs}>\n                <ListItemText>{t('personalization.showbreadcrumbs')}</ListItemText>\n                <ListItemSecondaryAction>\n                  <Switch edge=\"end\" checked={breadcrumbsEnabled} onClick={toggleShowBreadcrumbs} />\n                </ListItemSecondaryAction>\n              </ListItem>\n              {layoutProps.allowBreadcrumbsMinimize && (\n                <ListItem button onClick={toggleBreadcrumbsState} disabled={!breadcrumbsEnabled}>\n                  <ListItemText>{t('personalization.minimizebreadcrumbs')}</ListItemText>\n                  <ListItemSecondaryAction>\n                    <Switch\n                      edge=\"end\"\n                      disabled={!breadcrumbsEnabled}\n                      checked={breadcrumbsEnabled && !breadcrumbsState}\n                      onClick={toggleBreadcrumbsState}\n                    />\n                  </ListItemSecondaryAction>\n                </ListItem>\n              )}\n            </>\n          )}\n        </List>\n      )}\n\n      {(layoutProps.allowTranslate || allowPersonalization) && layoutProps.allowReset && <Divider />}\n\n      {layoutProps.allowReset && (\n        <List dense>\n          <ListItem dense button onClick={clearStorage}>\n            <ListItemText>{t('personalization.reset_text')}</ListItemText>\n          </ListItem>\n        </List>\n      )}\n    </div>\n  );\n};\n\nexport default withWidth()(ThemeSelection);\n","import { makeStyles } from '@material-ui/core';\nimport { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    '& svg': {\n      marginRight: theme.spacing(0.5),\n      width: 20,\n      height: 20\n    }\n  }\n}));\n\ntype BreadcrumbIconProps = {\n  item: BreadcrumbItem;\n};\n\nconst BreadcrumbIcon: React.FC<BreadcrumbIconProps> = ({ item }) => {\n  const {\n    route: { icon }\n  } = item;\n  const classes = useStyles();\n  return icon ? <span className={classes.icon}>{icon}</span> : null;\n};\n\nexport default BreadcrumbIcon;\n","import { Link, makeStyles } from '@material-ui/core';\nimport useAppSitemap, { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbIcon from 'commons/components/layout/breadcrumbs/BreadcrumbIcon';\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const useStyles = makeStyles({\n  link: {\n    display: 'flex'\n    // alignItems: 'center'\n  },\n  text: {\n    maxWidth: '200px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap'\n  }\n});\n\ntype BreadcrumbLinkItemProps = {\n  textOnly?: boolean;\n  item: BreadcrumbItem;\n};\n\nconst LinkRouter = props => <Link {...props} component={RouterLink} />;\n\nconst BreadcrumbLinkItem: React.FC<BreadcrumbLinkItemProps> = ({ item, textOnly = false }) => {\n  const classes = useStyles();\n  const { route, matcher } = item;\n  const { resolveTitle } = useAppSitemap();\n  const url = matcher ? matcher.url : route.path;\n  return (\n    <LinkRouter\n      style={route.icon ? { paddingTop: '3px' } : null}\n      key={`bcrumb-${url}`}\n      color=\"inherit\"\n      to={url}\n      className={classes.link}\n    >\n      {!textOnly && <BreadcrumbIcon item={item} />}\n      {/* <Tooltip title={url}> */}\n      <span className={classes.text}>{resolveTitle(item)}</span>\n      {/* </Tooltip> */}\n    </LinkRouter>\n  );\n};\n\nexport default BreadcrumbLinkItem;\n","import { Tooltip, Typography } from '@material-ui/core';\nimport useAppSitemap, { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbIcon from 'commons/components/layout/breadcrumbs/BreadcrumbIcon';\nimport { useStyles as useLinkStyle, useStyles } from 'commons/components/layout/breadcrumbs/BreadcrumbLinkItem';\nimport React from 'react';\n\ntype BreadcrumbLastItemProps = {\n  textOnly?: boolean;\n  item: BreadcrumbItem;\n};\n\nconst BreadcrumbLastItem: React.FC<BreadcrumbLastItemProps> = ({ item, textOnly = false }) => {\n  const classes = useStyles();\n  const { route, matcher } = item;\n  const linkClasses = useLinkStyle();\n  const { resolveTitle } = useAppSitemap();\n  const url = matcher ? matcher.url : route.path;\n\n  return (\n    <Typography\n      style={route.icon ? { paddingTop: '3px' } : null}\n      key={`bcrumb-${url}`}\n      // color=\"textPrimary\"\n      className={linkClasses.link}\n    >\n      {!textOnly && <BreadcrumbIcon item={item} />}\n      <Tooltip title={url}>\n        <span className={classes.text}>{resolveTitle(item)}</span>\n      </Tooltip>\n    </Typography>\n  );\n};\n\nexport default BreadcrumbLastItem;\n","import { Tooltip } from '@material-ui/core';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbLastItem from 'commons/components/layout/breadcrumbs/BreadcrumbLastItem';\nimport BreadcrumbLinkItem from 'commons/components/layout/breadcrumbs/BreadcrumbLinkItem';\nimport { useStyles as useBreadcrumbStyles } from 'commons/components/layout/breadcrumbs/Breadcrumbs';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype BreadcrumbListProps = {\n  compact?: boolean;\n  disableStyle?: boolean;\n  disableEllipsis?: boolean;\n  allLinks?: boolean;\n  textOnly?: boolean;\n  exceptLast?: boolean;\n  isStatic?: boolean;\n  itemsBefore?: number;\n  itemsAfter?: number;\n  items: BreadcrumbItem[];\n};\n\nconst splitItems = (\n  items: BreadcrumbItem[],\n  itemsBeforeCount: number,\n  itemsAfterCount: number,\n  expanded: boolean,\n  isStatic: boolean\n): { before: BreadcrumbItem[]; after: BreadcrumbItem[]; hasEllipsis: boolean } => {\n  const _items = items.concat().filter(i => !i.route.exclude);\n  if (_items.length <= itemsBeforeCount + itemsAfterCount + 1 || isStatic) {\n    return { before: null, after: _items, hasEllipsis: false };\n  }\n  const before = _items.slice(0, itemsBeforeCount);\n  const after = expanded ? _items.slice(itemsBeforeCount) : _items.slice(_items.length - itemsAfterCount);\n  return { before, after, hasEllipsis: before.length + after.length + 1 < _items.length || expanded };\n};\n\nconst BreadcrumbList: React.FC<BreadcrumbListProps> = ({\n  items,\n  disableStyle,\n  itemsBefore = 1,\n  itemsAfter = 1,\n  allLinks = false,\n  textOnly = false,\n  exceptLast = false,\n  isStatic = false\n}) => {\n  const [expanded, setExpanded] = useState<boolean>(false);\n  const classes = useBreadcrumbStyles();\n  const { before, after, hasEllipsis } = splitItems(\n    exceptLast ? items.slice(0, items.length - 1) : items,\n    itemsBefore,\n    itemsAfter,\n    expanded,\n    isStatic\n  );\n  const last = after.length > 0 && !allLinks ? after.pop() : before ? before.pop() : null;\n  return (\n    <MuiBreadcrumbs\n      aria-label=\"breadcrumb\"\n      className={!disableStyle ? classes.breadcrumbs : ''}\n      maxItems={1000}\n      // classes={{ root: { color: 'inherit' } }}\n    >\n      {before &&\n        before.map(item => <BreadcrumbLinkItem key={`bcrumb-${item.route.path}`} item={item} textOnly={textOnly} />)}\n      {hasEllipsis && (\n        <BreadcrumbsEllipsis expanded={expanded} onClick={() => setExpanded(!expanded)} css={classes.moreicon} />\n      )}\n      {after &&\n        after.map(item => <BreadcrumbLinkItem key={`bcrumb-${item.route.path}`} item={item} textOnly={textOnly} />)}\n      {last && <BreadcrumbLastItem item={last} textOnly={textOnly} />}\n    </MuiBreadcrumbs>\n  );\n};\n\nconst BreadcrumbsEllipsis = ({ onClick, css, expanded }) => {\n  const { t } = useTranslation();\n  return (\n    <Tooltip title={t(expanded ? 'tooltip.breadcrumbs.min' : 'tooltip.breadcrumbs.max')}>\n      <MoreHorizIcon fontSize=\"small\" className={css} onClick={onClick} />\n    </Tooltip>\n  );\n};\n\nexport default BreadcrumbList;\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useAppSitemap from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbList from 'commons/components/layout/breadcrumbs/BreadcrumbList';\nimport React from 'react';\n\nexport const useStyles = makeStyles(theme => ({\n  breadcrumbs: {\n    color: 'inherit',\n    display: 'flex',\n    alignItems: 'center',\n    flexGrow: 2\n  },\n  moreicon: {\n    verticalAlign: 'bottom',\n    marginTop: '5px',\n    display: 'inline-flex',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\ntype BreadcrumbsProps = {\n  disableStyle?: boolean;\n};\n\nconst Breadcrumbs: React.FC<BreadcrumbsProps> = ({ disableStyle }) => {\n  const theme = useTheme();\n  const isMedium = useMediaQuery(theme.breakpoints.up('md'));\n  const { breadcrumbsState } = useAppLayout();\n  const isExpanded = breadcrumbsState && isMedium;\n  const {\n    breadcrumbs,\n    props: { lastOnly, exceptLast, allLinks, itemsBefore = 1, itemsAfter = 1 },\n    getSiteRoute,\n    last,\n    is404\n  } = useAppSitemap();\n\n  const current = last();\n  const isStatic = !!current.route.breadcrumbs;\n\n  let items = null;\n  if (lastOnly || is404(current)) {\n    items = [current];\n  } else if (isStatic) {\n    const staticBreadcrumbs = current.route.breadcrumbs.map(path => getSiteRoute(path));\n    items = [...staticBreadcrumbs, current];\n  } else {\n    items = exceptLast ? (breadcrumbs.length > 1 ? breadcrumbs.slice(0, breadcrumbs.length - 1) : []) : breadcrumbs;\n  }\n\n  return (\n    <BreadcrumbList\n      items={items}\n      disableStyle={disableStyle}\n      allLinks={allLinks}\n      isStatic={isStatic}\n      itemsBefore={isExpanded ? itemsBefore : 0}\n      itemsAfter={isExpanded ? itemsAfter : 1}\n    />\n  );\n};\n\nexport default Breadcrumbs;\n","import {\n  Avatar,\n  Button,\n  ClickAwayListener,\n  Fade,\n  IconButton,\n  Link,\n  makeStyles,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React, { useState } from 'react';\n\nexport type AppElement = {\n  alt: string;\n  name: string;\n  img_d: React.ReactElement<any> | string;\n  img_l: React.ReactElement<any> | string;\n  route: string;\n  newWindow?: boolean;\n};\n\nconst useStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: theme.zIndex.drawer + 2\n  }\n}));\n\ntype AppsSwitcherProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst AppSwitcher: React.FC<AppsSwitcherProps> = props => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const { layoutProps } = useAppLayout();\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const isDarkTheme = theme.palette.type === 'dark';\n  const isPopperOpen = !!popperAnchorEl;\n  const onTogglePopper = event => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n  const onClickAway = () => setPopperAnchorEl(null);\n  const sp1 = theme.spacing(1);\n\n  if (layoutProps.topnav.apps.length === 0) {\n    return null;\n  }\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton color=\"inherit\" onClick={onTogglePopper}>\n        <AppsIcon />\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          placement=\"bottom-end\"\n          className={classes.popper}\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ textAlign: 'center', padding: theme.spacing(1) }} elevation={4}>\n                <div\n                  style={{\n                    maxWidth: layoutProps.topnav.apps.length <= 4 || isWidthDown('xs', props.width) ? '240px' : '360px',\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flexWrap: 'wrap'\n                  }}\n                >\n                  {layoutProps.topnav.apps.map((a, i) => (\n                    <div key={`box-${i}`} style={{ width: '120px', padding: sp1, overflow: 'hidden' }}>\n                      <Button\n                        component={Link}\n                        target={a.newWindow ? '_blank' : null}\n                        href={a.route}\n                        key={`button-${i}`}\n                        style={{ display: 'inherit', textDecoration: 'none', fontWeight: 400 }}\n                      >\n                        <div style={{ display: 'inline-flex' }}>\n                          <Avatar\n                            key={`avatar-${i}`}\n                            variant=\"rounded\"\n                            alt={a.name}\n                            src={\n                              isDarkTheme\n                                ? typeof a.img_d === 'string'\n                                  ? a.img_d\n                                  : null\n                                : typeof a.img_l === 'string'\n                                ? a.img_l\n                                : null\n                            }\n                            style={\n                              a.img_d === null || typeof a.img_d === 'string'\n                                ? { width: theme.spacing(8), height: theme.spacing(8) }\n                                : { backgroundColor: 'transparent', width: theme.spacing(8), height: theme.spacing(8) }\n                            }\n                          >\n                            {isDarkTheme\n                              ? a.img_d !== null && typeof a.img_d !== 'string'\n                                ? a.img_d\n                                : a.alt\n                              : a.img_l !== null && typeof a.img_l !== 'string'\n                              ? a.img_l\n                              : a.alt}\n                          </Avatar>\n                        </div>\n                        <Typography key={`text-${i}`} variant=\"caption\">\n                          {a.name}\n                        </Typography>\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  );\n};\n\nexport default withWidth()(AppSwitcher);\n","import { fade, InputBase, makeStyles } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = breadcrumbsEnabled => {\n  return makeStyles(theme => ({\n    search: {\n      flexGrow: 1,\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.text.primary, 0.04),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.text.primary, 0.06)\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: 'auto'\n      },\n      [theme.breakpoints.up('md')]: {\n        maxWidth: breadcrumbsEnabled ? 300 : 'inherit'\n      }\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit',\n      width: '100%'\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%'\n    }\n  }))();\n};\n\nconst QuickSearch = () => {\n  const { t } = useTranslation();\n  const { layoutProps, breadcrumbsEnabled } = useAppLayout();\n  const classes = useStyles(layoutProps.allowBreadcrumbs && breadcrumbsEnabled);\n  const [value, setValue] = useState('');\n  const history = useHistory();\n\n  const uri = layoutProps.topnav.quickSearchURI ? layoutProps.topnav.quickSearchURI : '/search/';\n  const param = layoutProps.topnav.quickSearchParam ? layoutProps.topnav.quickSearchParam : 'q';\n\n  const submit = event => {\n    event.preventDefault();\n    history.push(`${uri}?${param}=${encodeURIComponent(value)}`);\n    setValue('');\n  };\n\n  return (\n    <div className={classes.search}>\n      <form autoComplete=\"off\" onSubmit={submit}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          onChange={event => setValue(event.target.value)}\n          placeholder={t('quicksearch.placeholder')}\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput\n          }}\n          value={value}\n          inputProps={{ 'aria-label': t('quicksearch.aria') }}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default QuickSearch;\n","import { ClickAwayListener, Fade, IconButton, makeStyles, Paper, Popper, useTheme } from '@material-ui/core';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport ThemeSelection from 'commons/components/layout/topnav/ThemeSelection';\nimport React, { useState } from 'react';\n\nconst useStyles = () => {\n  return makeStyles(theme => ({\n    popper: {\n      zIndex: theme.zIndex.drawer + 2,\n      minWidth: '280px'\n    }\n  }))();\n};\n\nconst ThemeSelectionIcon = () => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const { layoutProps } = useAppLayout();\n\n  const onThemeSelectionClick = (event: React.MouseEvent) => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n\n  const onClickAway = () => setPopperAnchorEl(null);\n  const isPopperOpen = !!popperAnchorEl;\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  return allowPersonalization || layoutProps.allowTranslate || layoutProps.allowReset ? (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton color=\"inherit\" aria-label=\"open drawer\" onClick={onThemeSelectionClick} edge=\"start\">\n        <TuneIcon />\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          className={classes.popper}\n          placement=\"bottom-end\"\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ padding: theme.spacing(1) }} elevation={4}>\n                <ThemeSelection />\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  ) : null;\n};\n\nexport default ThemeSelectionIcon;\n","import { useMemo } from 'react';\n\nconst md5 = require('md5');\n\nconst useGravatar = (email: string) => {\n  return useMemo(() => {\n    if (email !== null) {\n      return `https://s.gravatar.com/avatar/${md5(email)}?d=404`;\n    }\n    return null;\n  }, [email]);\n};\n\nexport default useGravatar;\n","import {\n  Avatar,\n  ClickAwayListener,\n  Divider,\n  Fade,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  makeStyles,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport useGravatar from 'commons/components/hooks/useGravatar';\nimport ThemeSelection from 'commons/components/layout/topnav/ThemeSelection';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const useStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: theme.zIndex.appBar + 200,\n    minWidth: '280px'\n  },\n  avatarButton: {\n    padding: 0,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  iconButton: {\n    width: theme.spacing(5),\n    height: theme.spacing(5),\n    [theme.breakpoints.down('xs')]: {\n      width: theme.spacing(4),\n      height: theme.spacing(4)\n    }\n  }\n}));\n\nexport type UserMenuElement = {\n  name: string;\n  route: string;\n  icon?: React.ReactElement<any>;\n};\n\nconst UserProfile = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { user: currentUser } = useUser();\n  const { layoutProps } = useAppLayout();\n  const gravatarUrl = useGravatar(layoutProps.allowGravatar ? currentUser.email : null);\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const sp2 = theme.spacing(2);\n  const sp3 = theme.spacing(3);\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  const onProfileClick = (event: React.MouseEvent) => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n\n  const onClickAway = () => setPopperAnchorEl(null);\n  const isPopperOpen = !!popperAnchorEl;\n\n  const renderThemeSelection = enabled => {\n    if (enabled && (allowPersonalization || layoutProps.allowTranslate || layoutProps.allowReset)) {\n      return (\n        <div>\n          <Divider />\n          <ThemeSelection />\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const renderMenu = (type, menuItems, title) => {\n    if (menuItems !== undefined && menuItems !== null && menuItems.length !== 0) {\n      return (\n        <div>\n          <Divider />\n          <List dense subheader={<ListSubheader disableSticky>{title}</ListSubheader>}>\n            {menuItems.map((a, i) => (\n              <ListItem button component={Link} to={a.route} key={`${type}-${i}`}>\n                {a.icon && <ListItemIcon>{a.icon}</ListItemIcon>}\n                <ListItemText>{a.name}</ListItemText>\n              </ListItem>\n            ))}\n          </List>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton edge=\"end\" className={classes.avatarButton} onClick={onProfileClick}>\n        <Avatar\n          className={classes.iconButton}\n          alt={currentUser.name}\n          src={currentUser.avatar ? currentUser.avatar : gravatarUrl}\n        >\n          {currentUser.name\n            .split(' ', 2)\n            .map(n => n[0].toUpperCase())\n            .join('')}\n        </Avatar>\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          className={classes.popper}\n          placement=\"bottom-end\"\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ padding: theme.spacing(1) }} elevation={4}>\n                <List disablePadding>\n                  <ListItem disableGutters dense>\n                    <div\n                      style={{\n                        display: 'flex',\n                        paddingTop: sp2,\n                        paddingBottom: sp2,\n                        paddingLeft: sp3,\n                        paddingRight: sp3,\n                        alignItems: 'center'\n                      }}\n                    >\n                      <Avatar\n                        style={{\n                          width: theme.spacing(8),\n                          height: theme.spacing(8)\n                        }}\n                        alt={currentUser.name}\n                        src={currentUser.avatar ? currentUser.avatar : gravatarUrl}\n                      >\n                        {currentUser.name\n                          .split(' ', 2)\n                          .map(n => n[0].toUpperCase())\n                          .join('')}\n                      </Avatar>\n                      <div style={{ paddingLeft: sp2 }}>\n                        <Typography variant=\"body1\" noWrap>\n                          <b>{currentUser.name}</b>\n                        </Typography>\n                        <Typography variant=\"caption\" noWrap>\n                          {currentUser.email}\n                        </Typography>\n                      </div>\n                    </div>\n                  </ListItem>\n                </List>\n                {renderMenu('usermenu', layoutProps.topnav.userMenu, layoutProps.topnav.userMenuTitle)}\n                {currentUser.is_admin &&\n                  renderMenu('adminmenu', layoutProps.topnav.adminMenu, layoutProps.topnav.adminMenuTitle)}\n                {renderThemeSelection(layoutProps.topnav.themeSelectionUnder === 'profile')}\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  );\n};\n\nexport default UserProfile;\n","import { AppBar, makeStyles, Slide, Toolbar, useMediaQuery, useTheme } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\nimport { APPBAR_READY_EVENT } from 'commons/components/hooks/useAppBarHeight';\nimport useAppContext from 'commons/components/hooks/useAppContext';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport Breadcrumbs from 'commons/components/layout/breadcrumbs/Breadcrumbs';\nimport AppSwitcher from 'commons/components/layout/topnav/AppSwitcher';\nimport QuickSearch from 'commons/components/layout/topnav/QuickSearch';\nimport ThemeSelectionIcon from 'commons/components/layout/topnav/ThemeSelectionIcon';\nimport UserProfile from 'commons/components/layout/topnav/UserProfile';\nimport React, { useLayoutEffect } from 'react';\nimport AppTitle from './AppTitle';\n\nconst useStyles = makeStyles(theme => ({\n  appBarTopLayout: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  appBar: {\n    '@media print': {\n      display: 'none !important'\n    },\n    [theme.breakpoints.only('xs')]: {\n      zIndex: theme.zIndex.drawer - 1\n    }\n  },\n  toolbar: {\n    [theme.breakpoints.only('xs')]: {}\n  },\n  menuButton: {\n    display: 'none',\n    [theme.breakpoints.down('xs')]: {\n      display: 'inline-block'\n    }\n  },\n  topBarLeft: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  leftSpacer: {\n    marginLeft: theme.spacing(3)\n  }\n}));\n\ntype AppBarProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst TopBar: React.FC<AppBarProps> = ({ width }) => {\n  const {\n    currentLayout,\n    layoutProps,\n    showQuickSearch,\n    autoHideAppbar,\n    breadcrumbsEnabled,\n    appbarState\n  } = useAppLayout();\n  const theme = useTheme();\n  const { getAppbarStyles } = useAppContext();\n  const classes = useStyles(currentLayout);\n  const isTopLayout = currentLayout === 'top';\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const isSm = useMediaQuery(theme.breakpoints.down('sm'));\n  const { elevation, ...appbarStyles } = getAppbarStyles(currentLayout as 'side' | 'top');\n  const { left, leftAfterBreadcrumbs } = layoutProps.topnav;\n\n  // Once the dom is mounted, dispatch event to let listeners know\n  //  that the apppbar/topbar dom is available.\n  // Primary usecase if to initialize the 'useAppBarHeight' hook\n  //  which didn't initialize properly because it will typically be\n  //  call before the appbar is ready, because the appbar/top bar\n  //  is conditionally rendered on app/user ready state.\n  useLayoutEffect(() => {\n    window.dispatchEvent(new CustomEvent(APPBAR_READY_EVENT));\n  }, []);\n\n  const renderLeft = () => {\n    return (\n      <div className={classes.topBarLeft}>\n        <AppTitle disabled={!isTopLayout && !isXs} noTitle={isXs} />\n        <div className={isTopLayout ? classes.leftSpacer : null} />\n        {left}\n        {breadcrumbsEnabled && !isSm && <Breadcrumbs />}\n        {leftAfterBreadcrumbs}\n      </div>\n    );\n  };\n\n  const autoHide = !isTopLayout && autoHideAppbar;\n\n  return (\n    <SlideIn show={appbarState}>\n      <AppBar\n        elevation={elevation}\n        position={autoHide && !isTopLayout ? 'relative' : 'sticky'}\n        id=\"appbar\"\n        className={`${classes.appBar} ${isTopLayout && classes.appBarTopLayout}`}\n        style={appbarStyles}\n      >\n        <Toolbar\n          disableGutters\n          className={classes.toolbar}\n          style={{ paddingLeft: !isXs && !isTopLayout ? theme.spacing(2) : null, paddingRight: theme.spacing(1) }}\n        >\n          {renderLeft()}\n          {(isXs ||\n            left ||\n            leftAfterBreadcrumbs ||\n            (breadcrumbsEnabled && !isSm) ||\n            (!showQuickSearch && !breadcrumbsEnabled) ||\n            (!showQuickSearch && breadcrumbsEnabled && isSm)) && <div style={{ flexGrow: 1 }} />}\n          {showQuickSearch && isWidthUp('sm', width) && <QuickSearch />}\n          {layoutProps.topnav.themeSelectionUnder === 'icon' && <ThemeSelectionIcon />}\n          {layoutProps.topnav.right}\n          <AppSwitcher />\n          <UserProfile />\n        </Toolbar>\n      </AppBar>\n    </SlideIn>\n  );\n};\n\nfunction SlideIn({ children, show }) {\n  return (\n    <Slide appear={false} direction=\"down\" in={show} mountOnEnter unmountOnExit>\n      {children}\n    </Slide>\n  );\n}\n\nexport default withWidth()(TopBar);\n","import { CssBaseline, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport useAppUser from 'commons/components/hooks/useAppUser';\nimport LeftNavDrawer, { LeftNavElement } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport { AppElement } from 'commons/components/layout/topnav/AppSwitcher';\nimport TopBar from 'commons/components/layout/topnav/TopBar';\nimport { UserMenuElement } from 'commons/components/layout/topnav/UserProfile';\nimport React, { useState } from 'react';\n\nconst useNewStyles = makeStyles(theme => ({\n  appVertical: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    position: 'relative'\n  },\n  appVerticalLeft: {\n    height: '100%',\n    [theme.breakpoints.down('sm')]: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0\n    }\n  },\n  appVerticalRight: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    flex: 1,\n    height: '100%'\n  },\n  appVerticalRightContent: {\n    height: 'auto',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1\n  },\n  appHorizontal: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}));\n\nexport type AppLayoutContextProps = {\n  autoHideAppbar: boolean;\n  appbarState: boolean;\n  currentLayout: string;\n  drawerState: boolean;\n  breadcrumbsEnabled: boolean;\n  breadcrumbsState: boolean;\n  hideNestedIcons: boolean;\n  layoutProps: AppLayoutProps;\n  showQuickSearch: boolean;\n  getBanner: (theme) => React.ReactElement<any>;\n  getLogo: (theme) => React.ReactElement<any>;\n  hideMenus: () => void;\n  toggleLayout: () => void;\n  toggleDrawer: () => void;\n  toggleQuickSearch: () => void;\n  toggleAutoHideAppbar: () => void;\n  toggleShowBreadcrumbs: () => void;\n  toggleBreadcrumbsState: () => void;\n  isReady: () => boolean;\n  setReady: (isReady: boolean) => void;\n  setAppbarState: (show: boolean) => void;\n};\n\nexport interface AppLayoutProps {\n  appName: string;\n  allowAutoHideTopbar?: boolean;\n  allowBreadcrumbs?: boolean;\n  allowBreadcrumbsMinimize?: boolean;\n  allowGravatar?: boolean;\n  allowQuickSearch?: boolean;\n  allowReset?: boolean;\n  allowTopbarModeSelection?: boolean;\n  allowThemeSelection?: boolean;\n  allowTranslate?: boolean;\n  appIconDark: React.ReactElement<any>;\n  appIconLight: React.ReactElement<any>;\n  bannerDark: React.ReactElement<any>;\n  bannerLight: React.ReactElement<any>;\n  defaultLayout: 'top' | 'side';\n  defaultDrawerOpen?: boolean;\n  defaultShowQuickSearch?: boolean;\n  defaultAutoHideAppbar?: boolean;\n  defaultShowBreadcrumbs?: boolean;\n  defaultBreadcrumbsOpen?: boolean;\n  topnav: {\n    apps?: AppElement[];\n    userMenu?: UserMenuElement[];\n    userMenuTitle?: string;\n    adminMenu?: UserMenuElement[];\n    adminMenuTitle?: string;\n    quickSearchURI?: string;\n    quickSearchParam?: string;\n    themeSelectionUnder: 'profile' | 'icon';\n    left?: React.ReactNode;\n    leftAfterBreadcrumbs?: React.ReactNode;\n    right?: React.ReactNode;\n  };\n  leftnav: {\n    elements: LeftNavElement[];\n    hideNestedIcons?: boolean;\n  };\n}\n\ninterface LayoutProviderProps extends AppLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AppLayoutContext = React.createContext<AppLayoutContextProps>(null);\n\nfunction AppLayoutProvider(props: LayoutProviderProps) {\n  const { children, ...layoutProps } = props;\n  const { isReady: isUserReady } = useAppUser();\n\n  // Load Initial Layout Default\n  let initialLayout;\n  const storedNavLayout = localStorage.getItem('navLayout');\n  if (storedNavLayout && storedNavLayout === 'top') {\n    initialLayout = 'top' as 'top';\n  } else if (storedNavLayout && storedNavLayout === 'side') {\n    initialLayout = 'side' as 'side';\n  } else {\n    initialLayout = layoutProps.defaultLayout;\n  }\n\n  // Load Nav Drawer Default State\n  const storedDrawer = localStorage.getItem('drawerOpen');\n  const initialDrawer = storedDrawer ? !!JSON.parse(storedDrawer) : layoutProps.defaultDrawerOpen;\n\n  // Load Quick Search Default State\n  const storedQuickSearch = localStorage.getItem('showQuickSearch');\n  const initialQuickSearch = storedQuickSearch ? !!JSON.parse(storedQuickSearch) : layoutProps.defaultShowQuickSearch;\n\n  // Load Auto hide Topbar default state\n  const storedAutoHideAppbar = localStorage.getItem('autoHideAppbar');\n  const initialAutoHideAppbar = storedAutoHideAppbar\n    ? !!JSON.parse(storedAutoHideAppbar)\n    : layoutProps.defaultAutoHideAppbar;\n\n  // Load Breadcrumbs Default State\n  const storedShowBreadcrumbs = localStorage.getItem('breadcrumbsEnabled');\n  const initialBreadcrumbsEnabled = storedShowBreadcrumbs\n    ? !!JSON.parse(storedShowBreadcrumbs)\n    : layoutProps.defaultShowBreadcrumbs;\n\n  // Load Breadcrumbs Default Expanded/Minimize State\n  const storedBreadcrumbs = localStorage.getItem('breadcrumbsState');\n  const initialBreadcrumbsState = storedBreadcrumbs\n    ? !!JSON.parse(storedBreadcrumbs)\n    : layoutProps.defaultBreadcrumbsOpen;\n\n  // Hooks...\n  const [appReady, setAppReady] = useState<boolean>(false);\n  const [showMenus, setShowMenus] = useState<boolean>(true);\n  const [drawer, setDrawer] = useState<boolean>(initialDrawer);\n  const [appbarState, setAppbarState] = useState<boolean>(true);\n  const [breadcrumbsEnabled, setBreadcrumbsEnabled] = useState<boolean>(initialBreadcrumbsEnabled);\n  const [breadcrumbsState, setBreadcrumbsState] = useState<boolean>(initialBreadcrumbsState);\n  const [quickSearch, setQuickSearch] = useState<boolean>(initialQuickSearch);\n  const [autoHideAppbar, setAutoHideAppbar] = useState<boolean>(initialAutoHideAppbar);\n  const [layout, setLayout] = useState<'top' | 'side'>(initialLayout);\n  const theme = useTheme();\n  const isSM = useMediaQuery(theme.breakpoints.only('sm'));\n  const isPrinting = useMediaQuery('print');\n\n  const onToggleLayout = () => {\n    const newLayout = layout === 'top' ? 'side' : 'top';\n    localStorage.setItem('navLayout', newLayout);\n    setLayout(newLayout);\n  };\n\n  const onToggleDrawer = () => {\n    localStorage.setItem('drawerOpen', JSON.stringify(!drawer));\n    setDrawer(!drawer);\n  };\n\n  const onToggleQuickSearch = () => {\n    localStorage.setItem('showQuickSearch', JSON.stringify(!quickSearch));\n    setQuickSearch(!quickSearch);\n  };\n\n  const onToggleAutoHideAppbar = () => {\n    localStorage.setItem('autoHideAppbar', JSON.stringify(!autoHideAppbar));\n    setAutoHideAppbar(!autoHideAppbar);\n  };\n\n  const onToggleShowBreadcrumbs = () => {\n    localStorage.setItem('breadcrumbsEnabled', JSON.stringify(!breadcrumbsEnabled));\n    setBreadcrumbsEnabled(!breadcrumbsEnabled);\n  };\n\n  const onToggleBreadcrumbsState = () => {\n    localStorage.setItem('breadcrumbsState', JSON.stringify(!breadcrumbsState));\n    setBreadcrumbsState(!breadcrumbsState);\n  };\n\n  const newClasses = useNewStyles();\n\n  return (\n    <AppLayoutContext.Provider\n      value={{\n        autoHideAppbar,\n        appbarState,\n        currentLayout: layout,\n        drawerState: drawer,\n        breadcrumbsEnabled,\n        breadcrumbsState,\n        hideNestedIcons: !!layoutProps.leftnav.hideNestedIcons,\n        layoutProps: {\n          allowAutoHideTopbar: true,\n          allowBreadcrumbs: true,\n          allowBreadcrumbsMinimize: true,\n          allowQuickSearch: true,\n          allowReset: true,\n          allowTopbarModeSelection: true,\n          allowThemeSelection: true,\n          allowTranslate: true,\n          ...layoutProps\n        },\n        showQuickSearch: quickSearch,\n        getBanner: curTheme => {\n          return curTheme.palette.type === 'dark' ? layoutProps.bannerDark : layoutProps.bannerLight;\n        },\n        getLogo: curTheme => {\n          return curTheme.palette.type === 'dark' ? layoutProps.appIconDark : layoutProps.appIconLight;\n        },\n        hideMenus: () => setShowMenus(false),\n        toggleLayout: onToggleLayout,\n        toggleDrawer: onToggleDrawer,\n        toggleQuickSearch: onToggleQuickSearch,\n        toggleAutoHideAppbar: onToggleAutoHideAppbar,\n        toggleShowBreadcrumbs: onToggleShowBreadcrumbs,\n        toggleBreadcrumbsState: onToggleBreadcrumbsState,\n        isReady: () => appReady,\n        setReady: (isReady: boolean) => setAppReady(isReady),\n        setAppbarState\n      }}\n    >\n      <>\n        <CssBaseline />\n        {layout === 'side' ? (\n          <div className={newClasses.appVertical}>\n            <div className={newClasses.appVerticalLeft}>\n              {isUserReady() && appReady && showMenus && <LeftNavDrawer />}\n            </div>\n            <div\n              id=\"app-scrollct\"\n              className={newClasses.appVerticalRight}\n              style={{ overflow: 'auto', paddingLeft: showMenus && isSM && !isPrinting ? theme.spacing(7) : 0 }}\n            >\n              {isUserReady() && appReady && showMenus && <TopBar />}\n              {children}\n            </div>\n          </div>\n        ) : (\n          <div id=\"app-scrollct\" className={newClasses.appHorizontal} style={{ overflow: 'auto' }}>\n            {isUserReady() && appReady && showMenus && <TopBar />}\n            <div className={newClasses.appVertical}>\n              <div className={newClasses.appVerticalLeft}>\n                {isUserReady() && appReady && showMenus && <LeftNavDrawer />}\n              </div>\n              <div\n                className={newClasses.appVerticalRight}\n                style={{ paddingLeft: showMenus && isSM && !isPrinting ? theme.spacing(7) : 0 }}\n              >\n                {children}\n              </div>\n            </div>\n          </div>\n        )}\n      </>\n    </AppLayoutContext.Provider>\n  );\n}\n\nexport default AppLayoutProvider;\n","import { AppLayoutContext, AppLayoutContextProps } from 'commons/components/layout/LayoutProvider';\nimport { useContext } from 'react';\n\nexport default function useAppLayout(): AppLayoutContextProps {\n  return useContext(AppLayoutContext);\n}\n","import { UserContext } from 'commons/components/user/UserProvider';\nimport { CustomUserContextProps } from 'components/hooks/useMyUser';\nimport { useContext } from 'react';\n\nexport default function useALContext(): CustomUserContextProps {\n  return useContext(UserContext) as CustomUserContextProps;\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport BuildOutlinedIcon from '@material-ui/icons/BuildOutlined';\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\nimport CodeOutlinedIcon from '@material-ui/icons/CodeOutlined';\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport PublishOutlinedIcon from '@material-ui/icons/PublishOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsApplicationsOutlinedIcon from '@material-ui/icons/SettingsApplicationsOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport SimCardOutlinedIcon from '@material-ui/icons/SimCardOutlined';\nimport SupervisorAccountOutlinedIcon from '@material-ui/icons/SupervisorAccountOutlined';\nimport { AppLayoutProps } from 'commons/components/layout/LayoutProvider';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\n\nconst useMyLayout = (): AppLayoutProps => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isXS = useMediaQuery(theme.breakpoints.only('xs'));\n  const MENU_ITEMS = [\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'submit',\n        text: t('drawer.submit'),\n        icon: <PublishOutlinedIcon />,\n        route: '/submit',\n        nested: false\n      }\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'submissions',\n        text: t('drawer.submissions'),\n        icon: <AmpStoriesOutlinedIcon />,\n        route: '/submissions',\n        nested: false\n      }\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'alerts',\n        text: t('drawer.alerts'),\n        icon: <NotificationImportantOutlinedIcon />,\n        route: '/alerts',\n        nested: false\n      }\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'search',\n        title: t('drawer.search'),\n        icon: <SearchIcon />,\n        items: [\n          {\n            id: 'search.all',\n            text: t('drawer.search.all'),\n            route: '/search',\n            nested: true\n          },\n          {\n            id: 'search.alert',\n            text: t('drawer.search.alert'),\n            route: '/search/alert',\n            nested: true\n          },\n          {\n            id: 'search.file',\n            text: t('drawer.search.file'),\n            route: '/search/file',\n            nested: true\n          },\n          {\n            id: 'search.result',\n            text: t('drawer.search.result'),\n            route: '/search/result',\n            nested: true\n          },\n          {\n            id: 'search.signature',\n            text: t('drawer.search.signature'),\n            route: '/search/signature',\n            nested: true\n          },\n          {\n            id: 'search.submission',\n            text: t('drawer.search.submission'),\n            route: '/search/submission',\n            nested: true\n          }\n        ]\n      }\n    },\n    {\n      type: 'divider' as 'divider',\n      element: null\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'dashboard',\n        text: t('drawer.dashboard'),\n        icon: <DashboardOutlinedIcon />,\n        route: '/dashboard',\n        nested: false\n      }\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'manage',\n        title: t('drawer.manage'),\n        icon: <BuildOutlinedIcon />,\n        items: [\n          {\n            id: 'manage.heuristics',\n            text: t('drawer.manage.heuristics'),\n            icon: <SimCardOutlinedIcon />,\n            route: '/manage/heuristics',\n            nested: true\n          },\n          {\n            id: 'manage.signatures',\n            text: t('drawer.manage.signatures'),\n            icon: <FingerprintOutlinedIcon />,\n            route: '/manage/signatures',\n            nested: true\n          },\n          {\n            id: 'manage.source',\n            text: t('drawer.manage.source'),\n            userPropValidators: [\n              { prop: 'user.is_admin', value: true },\n              { prop: 'user.roles', value: 'signature_manager' }\n            ],\n            icon: <CodeOutlinedIcon />,\n            route: '/manage/sources',\n            nested: true\n          },\n          {\n            id: 'manage.workflow',\n            text: t('drawer.manage.workflow'),\n            icon: <BiNetworkChart />,\n            route: '/manage/workflows',\n            nested: true\n          }\n        ]\n      }\n    },\n    {\n      type: 'divider' as 'divider',\n      element: null\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'help',\n        title: t('drawer.help'),\n        icon: <HelpOutlineOutlinedIcon />,\n        items: [\n          {\n            id: 'help.api',\n            text: t('drawer.help.api'),\n            icon: <AssignmentOutlinedIcon />,\n            route: '/help/api',\n            nested: true\n          },\n          {\n            id: 'help.classification',\n            text: t('drawer.help.classification'),\n            userPropValidators: [{ prop: 'c12nDef.enforce', value: true }],\n            icon: <LabelOutlinedIcon />,\n            route: '/help/classification',\n            nested: true\n          },\n          {\n            id: 'help.configuration',\n            text: t('drawer.help.configuration'),\n            icon: <SettingsApplicationsOutlinedIcon />,\n            route: '/help/configuration',\n            nested: true\n          },\n          {\n            id: 'help.search',\n            text: t('drawer.help.search'),\n            icon: <SearchIcon />,\n            route: '/help/search',\n            nested: true\n          },\n          {\n            id: 'help.services',\n            text: t('drawer.help.services'),\n            icon: <AccountTreeOutlinedIcon />,\n            route: '/help/services',\n            nested: true\n          }\n        ]\n      }\n    }\n  ];\n\n  const APP_SWITCHER_ITEMS = [\n    //  {\n    //    alt: \"AL\",\n    //    name: \"Assemblyline\",\n    //    img_d: \"/images/al_dark.svg\",\n    //    img_l: \"/images/al.svg\",\n    //    route: \"https://localhost\"\n    //  },\n  ];\n\n  const USER_MENU_ITEMS = [\n    {\n      name: t('usermenu.account'),\n      route: '/account',\n      icon: <AccountCircleOutlinedIcon />\n    },\n    {\n      name: t('usermenu.settings'),\n      route: '/settings',\n      icon: <SettingsOutlinedIcon />\n    },\n    {\n      name: t('usermenu.optout'),\n      route: '/optout',\n      icon: <CancelPresentationIcon />\n    },\n    {\n      name: t('usermenu.logout'),\n      route: '/logout',\n      icon: <ExitToAppIcon />\n    }\n  ];\n\n  const ADMIN_MENU_ITEMS = [\n    {\n      name: t('adminmenu.errors'),\n      route: '/admin/errors',\n      icon: <ErrorOutlineOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.services'),\n      route: '/admin/services',\n      icon: <AccountTreeOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.sitemap'),\n      route: '/admin/sitemap',\n      icon: <MapOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.users'),\n      route: '/admin/users',\n      icon: <SupervisorAccountOutlinedIcon />\n    }\n  ];\n\n  const darkLogo = (\n    <img\n      alt={t('logo.alt')}\n      src={`${process.env.PUBLIC_URL}/images/al_dark.svg`}\n      width=\"40\"\n      height=\"32\"\n      style={{ marginLeft: '-5px' }}\n    />\n  );\n  const lightLogo = (\n    <img\n      alt={t('logo.alt')}\n      src={`${process.env.PUBLIC_URL}/images/al.svg`}\n      width=\"40\"\n      height=\"32\"\n      style={{ marginLeft: '-5px' }}\n    />\n  );\n  const darkBanner = (\n    <img\n      style={{ display: 'inline-block', width: '100%', margin: `${isXS ? 2 : 3}rem 0` }}\n      src={`${process.env.PUBLIC_URL}/images/banner_dark.svg`}\n      alt={t('banner.alt')}\n    />\n  );\n  const lightBanner = (\n    <img\n      style={{ display: 'inline-block', width: '100%', margin: `${isXS ? 2 : 3}rem 0` }}\n      src={`${process.env.PUBLIC_URL}/images/banner.svg`}\n      alt={t('banner.alt')}\n    />\n  );\n\n  return {\n    appName: 'Assemblyline',\n    allowBreadcrumbsMinimize: false,\n    allowReset: false,\n    appIconDark: darkLogo,\n    appIconLight: lightLogo,\n    bannerLight: lightBanner,\n    bannerDark: darkBanner,\n    defaultLayout: 'side' as 'side',\n    defaultDrawerOpen: false,\n    defaultShowQuickSearch: true,\n    defaultAutoHideAppbar: true,\n    defaultShowBreadcrumbs: true,\n    defaultBreadcrumbsOpen: true,\n    leftnav: {\n      elements: MENU_ITEMS,\n      hideNestedIcons: true\n    },\n    topnav: {\n      adminMenu: ADMIN_MENU_ITEMS,\n      adminMenuTitle: t('adminmenu'),\n      apps: APP_SWITCHER_ITEMS,\n      quickSearchURI: '/search',\n      quickSearchParam: 'query',\n      themeSelectionUnder: 'icon' as 'icon',\n      userMenu: USER_MENU_ITEMS,\n      userMenuTitle: t('usermenu')\n    }\n  };\n};\n\nexport default useMyLayout;\n","import { OptionsObject, useSnackbar } from 'notistack';\n\nexport default function useMySnackbar() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const snackBarOptions: OptionsObject = {\n    preventDuplicate: true,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    onClick: snack => {\n      closeSnackbar();\n    }\n  };\n\n  function showErrorMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'error', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showWarningMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'warning', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showSuccessMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'success', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showInfoMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'info', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  return {\n    showErrorMessage,\n    showWarningMessage,\n    showSuccessMessage,\n    showInfoMessage,\n    closeSnackbar\n  };\n}\n","import { UserContextProps, UserProfileProps, ValidatedProp } from 'commons/components/user/UserProvider';\nimport { ClassificationDefinition } from 'helpers/classificationParser';\nimport { useState } from 'react';\n\nexport type ALField = {\n  name: string;\n  indexed: boolean;\n  stored: boolean;\n  type: string;\n  default: boolean;\n  list: boolean;\n};\n\ntype IndexDefinition = {\n  [propName: string]: ALField;\n};\n\ntype IndexDefinitionMap = {\n  alert: IndexDefinition;\n  file: IndexDefinition;\n  heuristic: IndexDefinition;\n  result: IndexDefinition;\n  signature: IndexDefinition;\n  submission: IndexDefinition;\n  workflow: IndexDefinition;\n};\n\ntype SettingsDefinition = {\n  classification: string;\n  deep_scan: boolean;\n  description: string;\n  download_encoding: string;\n  expand_min_score: number;\n  ignore_cache: boolean;\n  ignore_dynamic_recursion_prevention: boolean;\n  ignore_filtering: boolean;\n  priority: number;\n  profile: boolean;\n  service_spec: any[];\n  services: any[];\n  submission_view: string;\n  ttl: number;\n};\n\nexport type ConfigurationDefinition = {\n  auth: {\n    allow_2fa: boolean;\n    allow_apikeys: boolean;\n    allow_security_tokens: boolean;\n  };\n  system: {\n    organisation: string;\n    type: string;\n    version: string;\n  };\n  ui: {\n    allow_url_submissions: boolean;\n    banner: {\n      [lang: string]: string;\n    };\n    banner_level: 'info' | 'warning' | 'error' | 'success';\n    read_only: boolean;\n    tos: boolean;\n    tos_lockout: boolean;\n    tos_lockout_notify: boolean;\n  };\n};\n\nexport interface CustomUser extends UserProfileProps {\n  // Al specific props\n  agrees_with_tos: boolean;\n  classification: string;\n  default_view?: string;\n  groups: string[];\n  is_active: boolean;\n  roles: string[];\n}\n\nexport interface CustomUserContextProps extends UserContextProps<CustomUser> {\n  c12nDef: ClassificationDefinition;\n  configuration: ConfigurationDefinition;\n  indexes: IndexDefinitionMap;\n  settings: SettingsDefinition;\n  setConfiguration: (cfg: ConfigurationDefinition) => void;\n}\n\ninterface WhoAmIProps extends CustomUser {\n  c12nDef: ClassificationDefinition;\n  configuration: ConfigurationDefinition;\n  indexes: IndexDefinitionMap;\n  settings: SettingsDefinition;\n}\n\n// Application specific hook that will provide configuration to commons [useUser] hook.\nexport default function useMyUser(): CustomUserContextProps {\n  const [user, setState] = useState<CustomUser>(null);\n  const [c12nDef, setC12nDef] = useState<ClassificationDefinition>(null);\n  const [configuration, setConfiguration] = useState<ConfigurationDefinition>(null);\n  const [indexes, setIndexes] = useState<IndexDefinitionMap>(null);\n  const [settings, setSettings] = useState<SettingsDefinition>(null);\n  const [flattenedProps, setFlattenedProps] = useState(null);\n\n  function flatten(ob) {\n    const toReturn = {};\n\n    for (const i in ob) {\n      if ({}.hasOwnProperty.call(ob, i)) {\n        if (typeof ob[i] == 'object') {\n          const flatObject = flatten(ob[i]);\n          for (const x in flatObject) {\n            if ({}.hasOwnProperty.call(flatObject, x)) {\n              toReturn[`${i}.${x}`] = flatObject[x];\n            }\n          }\n        } else {\n          toReturn[i] = ob[i];\n        }\n      }\n    }\n    return toReturn;\n  }\n\n  const setUser = (whoAmIData: WhoAmIProps) => {\n    const { configuration: cfg, c12nDef: c12n, indexes: idx, settings: userSettings, ...curUser } = whoAmIData;\n    setC12nDef(c12n);\n    setConfiguration(cfg);\n    setIndexes(idx);\n    setState(curUser);\n    setSettings(userSettings);\n    setFlattenedProps(\n      flatten({ user: curUser, c12nDef: c12n, configuration: cfg, indexes: idx, settings: userSettings })\n    );\n  };\n\n  const validateProp = (propDef: ValidatedProp) => {\n    const obj = flattenedProps[propDef.prop];\n    if (Array.isArray(obj)) {\n      return obj.indexOf(propDef.value) !== -1;\n    }\n    return obj === propDef.value;\n  };\n\n  const validateProps = (props: ValidatedProp[]) => {\n    if (props === undefined) return true;\n    return props.some(validateProp);\n  };\n\n  const isReady = () => {\n    if (user === null || (!user.agrees_with_tos && configuration.ui.tos) || !user.is_active) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return {\n    c12nDef,\n    configuration,\n    indexes,\n    settings,\n    user,\n    setUser,\n    setConfiguration,\n    isReady,\n    validateProps\n  };\n}\n","import { CircularProgress, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\n\nfunction LoadingScreen() {\n  const theme = useTheme();\n  const { getBanner } = useAppLayout();\n\n  return (\n    <div\n      style={{\n        textAlign: 'center',\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      }}\n    >\n      {getBanner(theme)}\n      <CircularProgress variant=\"indeterminate\" />\n    </div>\n  );\n}\n\nexport default LoadingScreen;\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = (w, mxw) => {\n  return makeStyles(theme => ({\n    page: {\n      textAlign: 'center',\n      margin: '0 auto auto auto',\n      width: w,\n      maxWidth: mxw,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: '100%'\n      }\n    }\n  }))();\n};\n\ntype PageCenterProps = {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n  maxWidth?: string;\n  width?: string;\n};\n\nconst PageCenter: React.FC<PageCenterProps> = ({\n  children,\n  margin = null,\n  maxWidth = '1200px',\n  mb = 2,\n  ml = 2,\n  mr = 2,\n  mt = 2,\n  width = '95%'\n}) => {\n  const classes = useStyles(width, maxWidth);\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  return (\n    <div className={classes.page}>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageCenter;\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype ForbiddenPageProps = {\n  disabled?: boolean;\n};\n\nconst ForbiddenPage: React.FC<ForbiddenPageProps> = ({ disabled = false }) => {\n  const { t } = useTranslation(['error403']);\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n        <BlockIcon\n          style={{ color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark }}\n          fontSize=\"inherit\"\n        />\n      </div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h3\">{t('title')}</Typography>\n      </div>\n      {disabled ? (\n        <div>\n          <Typography variant=\"h6\">{t('disabled')}</Typography>\n        </div>\n      ) : (\n        <div>\n          <Typography variant=\"h6\">{t('not_allowed')}</Typography>\n        </div>\n      )}\n    </PageCenter>\n  );\n};\n\nexport default ForbiddenPage;\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport HourglassEmptyOutlinedIcon from '@material-ui/icons/HourglassEmptyOutlined';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport ForbiddenPage from 'components/routes/403';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst LockedPage = () => {\n  const { t } = useTranslation(['locked']);\n  const { configuration } = useALContext();\n  const theme = useTheme();\n\n  return (\n    <>\n      {configuration.ui.tos ? (\n        <PageCenter width=\"65%\" margin={4}>\n          <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n            <HourglassEmptyOutlinedIcon color=\"secondary\" fontSize=\"inherit\" />\n          </div>\n          <div style={{ paddingBottom: theme.spacing(2) }}>\n            <Typography variant=\"h3\">{t('title')}</Typography>\n          </div>\n          {configuration.ui.tos_lockout_notify ? (\n            <div>\n              <Typography variant=\"h6\">{t('auto_notify')}</Typography>\n            </div>\n          ) : (\n            <div>\n              <Typography variant=\"h6\">{t('contact_admin')}</Typography>\n            </div>\n          )}\n        </PageCenter>\n      ) : (\n        <ForbiddenPage disabled />\n      )}\n    </>\n  );\n};\n\nexport default LockedPage;\n","import { Card, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    left: '50%', // X\n    top: '50%', // Y\n    transform: 'translate(-50%, -50%)',\n    maxWidth: '22rem',\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: '4px',\n    [theme.breakpoints.down('xs')]: {\n      backgroundColor: theme.palette.background.default,\n      width: '100%',\n      maxWidth: '22rem',\n      padding: '0rem 1rem 3rem'\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '22rem',\n      padding: '0 2rem 3rem'\n    }\n  }\n}));\n\nfunction CardCentered({ children }) {\n  const theme = useTheme();\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const classes = useStyles();\n\n  return (\n    <Card elevation={isXs ? 0 : 4} className={classes.card}>\n      {children}\n    </Card>\n  );\n}\n\nexport default CardCentered;\n","export default function getXSRFCookie() {\n  let xsrfToken = null;\n  if (document.cookie !== undefined) {\n    try {\n      // eslint-disable-next-line prefer-destructuring\n      xsrfToken = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('XSRF-TOKEN'))\n        .split('=')[1];\n    } catch (ex) {\n      // Ignore... we will return null\n    }\n  }\n  return xsrfToken;\n}\n","import getXSRFCookie from 'helpers/xsrf';\nimport { useTranslation } from 'react-i18next';\nimport useMySnackbar from './useMySnackbar';\n\nexport type APIResponseProps = {\n  api_error_message: string;\n  api_response: any;\n  api_server_version: string;\n  api_status_code: number;\n};\n\nexport default function useMyAPI() {\n  const { t } = useTranslation();\n  const { showErrorMessage } = useMySnackbar();\n\n  type APICallProps = {\n    url: string;\n    contentType?: string;\n    method?: string;\n    body?: any;\n    reloadOnUnauthorize?: boolean;\n    onSuccess?: (api_data: APIResponseProps) => void;\n    onFailure?: (api_data: APIResponseProps) => void;\n    onEnter?: () => void;\n    onExit?: () => void;\n    onFinalize?: (api_data: APIResponseProps) => void;\n  };\n\n  function apiCall({\n    url,\n    contentType = 'application/json',\n    method = 'GET',\n    body = null,\n    reloadOnUnauthorize = true,\n    onSuccess,\n    onFailure,\n    onEnter,\n    onExit,\n    onFinalize\n  }: APICallProps) {\n    const requestOptions: RequestInit = {\n      method,\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': contentType,\n        'X-XSRF-TOKEN': getXSRFCookie()\n      },\n      body: body !== null ? (contentType === 'application/json' ? JSON.stringify(body) : body) : null\n    };\n\n    // Run enter callback\n    if (onEnter) onEnter();\n\n    // Fetch the URL\n    fetch(url, requestOptions)\n      .then(res => {\n        if (res.status === 401 && reloadOnUnauthorize) {\n          // Trigger a page reload, we're not logged in anymore\n          window.location.reload(false);\n        }\n        return res.json();\n      })\n      .catch(err => {\n        // eslint-disable-next-line no-console\n        console.error(err);\n        return {\n          api_error_message: t('api.unreachable'),\n          api_response: '',\n          api_server_version: '4.0.0',\n          api_status_code: 400\n        };\n      })\n      .then(api_data => {\n        // Run finished Callback\n        if (onExit) onExit();\n\n        // Check Api response validity\n        // eslint-disable-next-line no-prototype-builtins\n        if (api_data === undefined || !api_data.hasOwnProperty('api_status_code')) {\n          showErrorMessage(t('api.invalid'));\n        } else if (api_data.api_status_code === 401 && reloadOnUnauthorize) {\n          // Detect login request\n          // Do nothing... we are reloading the page\n          return;\n        } else if (api_data.api_status_code !== 200) {\n          // Handle errors\n          // Run failure callback\n          if (onFailure) {\n            onFailure(api_data);\n          } else {\n            // Default failure handler, show toast error\n            showErrorMessage(api_data.api_error_message);\n          }\n        } else if (onSuccess) {\n          // Handle success\n          // Run success callback\n          onSuccess(api_data);\n        }\n        if (onFinalize) onFinalize(api_data);\n      });\n  }\n\n  return apiCall;\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport {\n  Avatar,\n  Button,\n  CircularProgress,\n  createStyles,\n  Link,\n  makeStyles,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype OAuthProps = {\n  avatar: string;\n  username: string;\n  email: string;\n  oAuthToken: string;\n  buttonLoading: boolean;\n  onSubmit: (event) => void;\n  reset: (event) => void;\n};\n\nexport function OAuthLogin({ avatar, username, email, oAuthToken, buttonLoading, onSubmit, reset }: OAuthProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center', justifyContent: 'center' }}>\n        {!oAuthToken ? (\n          <Skeleton variant=\"circle\" style={{ alignSelf: 'center' }} width={144} height={144} />\n        ) : (\n          <Avatar style={{ alignSelf: 'center', width: theme.spacing(18), height: theme.spacing(18) }} src={avatar} />\n        )}\n        <Typography color=\"textPrimary\">{!oAuthToken ? <Skeleton /> : username}</Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n          {!oAuthToken ? <Skeleton /> : email}\n        </Typography>\n        {!oAuthToken ? (\n          <Skeleton variant=\"rect\" style={{ height: '36px', marginTop: '1.5rem', marginBottom: '1.5rem' }} />\n        ) : (\n          <Button\n            type=\"submit\"\n            style={{ marginTop: '1.5rem', marginBottom: '1.5rem' }}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={buttonLoading}\n          >\n            {t('button')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        )}\n        {!oAuthToken ? (\n          <Skeleton />\n        ) : (\n          <Link variant=\"body2\" href=\"#\" onClick={reset}>\n            {t('other')}\n          </Link>\n        )}\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype OTPProps = {\n  onSubmit: (event) => void;\n  buttonLoading: boolean;\n  setOneTimePass: (value: string) => void;\n};\n\nexport function OneTimePassLogin({ onSubmit, buttonLoading, setOneTimePass }: OTPProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <TextField\n          inputProps={{ maxLength: 6 }}\n          autoFocus\n          variant=\"outlined\"\n          size=\"small\"\n          label={t('otp')}\n          onChange={event => setOneTimePass(event.target.value)}\n        />\n        <Button\n          type=\"submit\"\n          style={{ marginTop: '1.5rem' }}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={buttonLoading}\n        >\n          {t('button')}\n          {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField, Typography } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype ResetPasswordNowProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function ResetPasswordNow({ buttonLoading, setButtonLoading }: ResetPasswordNowProps) {\n  const location = useLocation();\n  const history = useHistory();\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const params = new URLSearchParams(location.search);\n  const [resetID, setResetID] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/reset_pwd/',\n      method: 'POST',\n      body: {\n        reset_id: resetID,\n        password,\n        password_confirm: passwordConfirm\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => {\n        setDone(true);\n        setTimeout(() => window.location.reload(false), 7000);\n      }\n    });\n    event.preventDefault();\n  }\n\n  useEffect(() => {\n    setResetID(params.get('reset_id'));\n\n    if (params.get('reset_id')) {\n      history.push('/');\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <>\n            <Typography align=\"center\" variant=\"h6\" gutterBottom>\n              {t('reset_now.done')}\n            </Typography>\n            <Typography align=\"center\" variant=\"caption\">\n              {t('reset_now.redirect')}\n            </Typography>\n          </>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset_now.password')}\n              onChange={event => setPassword(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset_now.password_confirm')}\n              onChange={event => setPasswordConfirm(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('reset_now.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n\ntype ResetPasswordProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function ResetPassword({ buttonLoading, setButtonLoading }: ResetPasswordProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [email, setEmail] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/get_reset_link/',\n      method: 'POST',\n      body: { email },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => setDone(true)\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <Typography align=\"center\">{t('reset.done')}</Typography>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              type=\"email\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset.email')}\n              onChange={event => setEmail(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('reset.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n","export default function toArrayBuffer(data) {\n  const uint8Array = new Uint8Array(data.length);\n  for (let i = 0; i < uint8Array.length; i++) {\n    uint8Array[i] = data[i];\n  }\n\n  return uint8Array;\n}\n","import { Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport toArrayBuffer from 'helpers/toArrayBuffer';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst CBOR = require('helpers/cbor.js');\n\ntype SecTokenProps = {\n  setShownControls: (value: string) => void;\n  setWebAuthNResponse: (value) => void;\n  username: string;\n};\n\nexport function SecurityTokenLogin({ username, setShownControls, setWebAuthNResponse }: SecTokenProps) {\n  const { t } = useTranslation(['login']);\n  const apiCall = useMyAPI();\n  const { showErrorMessage } = useMySnackbar();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/webauthn/authenticate/begin/${username}/`,\n      onSuccess: api_data => {\n        const arrayData = toArrayBuffer(api_data.api_response);\n        const options = CBOR.decode(arrayData.buffer);\n        const credentialHelper = navigator.credentials;\n        if (credentialHelper !== undefined) {\n          credentialHelper\n            .get(options)\n            .then((assertion: PublicKeyCredential) => {\n              const response = assertion.response as AuthenticatorAssertionResponse;\n              const assertionData = CBOR.encode({\n                credentialId: new Uint8Array(assertion.rawId),\n                authenticatorData: new Uint8Array(response.authenticatorData),\n                clientDataJSON: new Uint8Array(response.clientDataJSON),\n                signature: new Uint8Array(response.signature)\n              });\n\n              setWebAuthNResponse(Array.from(new Uint8Array(assertionData)));\n            })\n            .catch(ex => {\n              // eslint-disable-next-line no-console\n              console.log(`${ex.name}: ${ex.message}`);\n              setShownControls('otp');\n              showErrorMessage(t('securitytoken.error'));\n            });\n        } else {\n          setShownControls('otp');\n          showErrorMessage(t('securitytoken.unavailable'));\n        }\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center' }}>\n      <div>\n        <LockOutlinedIcon style={{ fontSize: '108pt' }} color=\"action\" />\n      </div>\n      <Typography variant=\"h6\" color=\"textSecondary\">\n        {t('securitytoken')}\n      </Typography>\n    </div>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField, Typography } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype SignUpProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function SignUp({ buttonLoading, setButtonLoading }: SignUpProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/signup/',\n      method: 'POST',\n      body: {\n        user: username,\n        password,\n        password_confirm: passwordConfirm,\n        email\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => setDone(true)\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <>\n            <Typography align=\"center\">{t('signup.done')}</Typography>\n          </>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.username')}\n              onChange={event => setUsername(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.password')}\n              onChange={event => setPassword(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.password_confirm')}\n              onChange={event => setPasswordConfirm(event.target.value)}\n            />\n            <TextField\n              inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n              style={{ marginTop: '.5rem' }}\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.email')}\n              onChange={event => setEmail(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('signup.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype UserPassLoginProps = {\n  onSubmit: (event) => void;\n  buttonLoading: boolean;\n  setPassword: (value: string) => void;\n  setUsername: (value: string) => void;\n};\n\nexport function UserPassLogin({ onSubmit, buttonLoading, setPassword, setUsername }: UserPassLoginProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <TextField\n          autoFocus\n          inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n          variant=\"outlined\"\n          size=\"small\"\n          label={t('username')}\n          onChange={event => setUsername(event.target.value)}\n        />\n        <TextField\n          style={{ marginTop: '.5rem' }}\n          variant=\"outlined\"\n          size=\"small\"\n          type=\"password\"\n          label={t('password')}\n          onChange={event => setPassword(event.target.value)}\n        />\n        <Button\n          type=\"submit\"\n          style={{ marginTop: '1.5rem' }}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={buttonLoading}\n        >\n          {t('button')}\n          {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface TextDividerProps {\n  forcePaper?: boolean;\n}\n\nconst TextDivider: React.FC<TextDividerProps> = ({ forcePaper = false }) => {\n  const { t } = useTranslation();\n  const useStyles = makeStyles(theme => ({\n    divider: {\n      display: 'inline-block',\n      textAlign: 'center',\n      width: '100%',\n      margin: '30px 0',\n      position: 'relative',\n      borderTop: `1px solid ${theme.palette.divider}`\n    },\n    inner: {\n      backgroundColor: theme.palette.background.paper,\n      left: '50%',\n      marginLeft: '-30px',\n      position: 'absolute',\n      top: '-10px',\n      width: '60px',\n      [theme.breakpoints.down('xs')]: {\n        backgroundColor: forcePaper ? theme.palette.background.paper : theme.palette.background.default\n      }\n    }\n  }));\n  const classes = useStyles();\n  return (\n    <div>\n      <div className={classes.divider}>\n        <div className={classes.inner}>{t('divider')}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default TextDivider;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  createStyles,\n  Link,\n  makeStyles,\n  Theme,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { OAuthLogin } from 'components/routes/login/oauth';\nimport { OneTimePassLogin } from 'components/routes/login/otp';\nimport { ResetPassword, ResetPasswordNow } from 'components/routes/login/reset';\nimport { SecurityTokenLogin } from 'components/routes/login/sectoken';\nimport { SignUp } from 'components/routes/login/signup';\nimport { UserPassLogin } from 'components/routes/login/userpass';\nimport TextDivider from 'components/visual/TextDivider';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype LoginScreenProps = {\n  allowUserPass: boolean;\n  allowSignup: boolean;\n  allowPWReset: boolean;\n  oAuthProviders: string[];\n};\n\nexport default function LoginScreen({ allowUserPass, allowSignup, allowPWReset, oAuthProviders }: LoginScreenProps) {\n  const location = useLocation();\n  const history = useHistory();\n  const params = new URLSearchParams(location.search);\n  const { t } = useTranslation(['login']);\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const { getBanner } = useAppLayout();\n  const [shownControls, setShownControls] = useState(\n    params.get('provider') ? 'oauth' : params.get('reset_id') ? 'reset_now' : 'login'\n  );\n  const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [avatar, setAvatar] = useState('');\n  const [oAuthToken, setOAuthToken] = useState('');\n  const [oneTimePass, setOneTimePass] = useState('');\n  const [webAuthNResponse, setWebAuthNResponse] = useState(null);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const pwPadding = allowSignup ? 1 : 2;\n\n  function onSubmit(event) {\n    login(event.target[0]);\n    event.preventDefault();\n  }\n\n  function reset(event) {\n    if ((shownControls === 'oauth' && oAuthToken) || shownControls !== 'oauth') {\n      setWebAuthNResponse(null);\n      setShownControls('login');\n      setUsername('');\n      setEmail('');\n      setPassword('');\n      setAvatar('');\n      setOAuthToken('');\n      setOneTimePass('');\n    }\n    if (event) {\n      event.preventDefault();\n    }\n  }\n\n  function resetPW(event) {\n    setShownControls('reset');\n    event.preventDefault();\n  }\n\n  function signup(event) {\n    setShownControls('signup');\n    event.preventDefault();\n  }\n\n  function login(focusTarget) {\n    if (buttonLoading) {\n      return;\n    }\n\n    const data = {\n      user: username,\n      password,\n      otp: oneTimePass,\n      webauthn_auth_resp: webAuthNResponse,\n      oauth_token: oAuthToken\n    };\n\n    apiCall({\n      url: '/api/v4/auth/login/',\n      method: 'POST',\n      body: data,\n      reloadOnUnauthorize: false,\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onFailure: api_data => {\n        if (api_data.api_error_message === 'Wrong OTP token' && shownControls !== 'otp') {\n          setShownControls('otp');\n        } else if (api_data.api_error_message === 'Wrong Security Token' && shownControls === 'sectoken') {\n          setShownControls('otp');\n          showErrorMessage(t('securitytoken.error'));\n        } else if (api_data.api_error_message === 'Wrong Security Token' && shownControls !== 'sectoken') {\n          setShownControls('sectoken');\n        } else if (shownControls === 'oauth') {\n          showErrorMessage(api_data.api_error_message);\n          reset(null);\n        } else {\n          showErrorMessage(api_data.api_error_message);\n          if (focusTarget !== null) {\n            // eslint-disable-next-line no-prototype-builtins\n            if (focusTarget.hasOwnProperty('select')) {\n              focusTarget.select();\n              focusTarget.focus();\n            }\n          }\n        }\n      },\n      onSuccess: () => {\n        window.location.reload(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (webAuthNResponse !== null) {\n      login(null);\n    } else if (shownControls === 'oauth') {\n      apiCall({\n        url: `/api/v4/auth/oauth/${location.search}`,\n        reloadOnUnauthorize: false,\n        onSuccess: api_data => {\n          setAvatar(api_data.api_response.avatar);\n          setUsername(api_data.api_response.username);\n          setEmail(api_data.api_response.email_adr || '');\n          setOAuthToken(api_data.api_response.oauth_token);\n        },\n        onFailure: api_data => {\n          showErrorMessage(api_data.api_error_message);\n          setShownControls('login');\n        },\n        onFinalize: () => {\n          if (params.get('provider')) {\n            history.push(localStorage.getItem('nextLocation') || '/');\n          }\n        }\n      });\n    } else if (params.get('registration_key')) {\n      apiCall({\n        url: '/api/v4/auth/signup_validate/',\n        method: 'POST',\n        body: { registration_key: params.get('registration_key') },\n        onSuccess: () => showSuccessMessage(t('signup.completed'), 10000),\n        onFinalize: () => history.push('/')\n      });\n    }\n    // eslint-disable-next-line\n  }, [webAuthNResponse, shownControls]);\n\n  return (\n    <CardCentered>\n      <Box style={{ cursor: 'pointer' }} onClick={reset}>\n        {getBanner(theme)}\n      </Box>\n      {\n        {\n          login: (\n            <>\n              {allowUserPass ? (\n                <UserPassLogin\n                  onSubmit={onSubmit}\n                  buttonLoading={buttonLoading}\n                  setPassword={setPassword}\n                  setUsername={setUsername}\n                />\n              ) : null}\n              {allowSignup ? (\n                <Typography align=\"center\" variant=\"caption\" style={{ marginTop: theme.spacing(2) }}>\n                  {t('signup')}&nbsp;&nbsp;\n                  <Link href=\"#\" onClick={signup}>\n                    {t('signup.link')}\n                  </Link>\n                </Typography>\n              ) : null}\n              {allowPWReset ? (\n                <Typography align=\"center\" variant=\"caption\" style={{ marginTop: theme.spacing(pwPadding) }}>\n                  {t('reset.desc')}&nbsp;&nbsp;\n                  <Link href=\"#\" onClick={resetPW}>\n                    {t('reset.link')}\n                  </Link>\n                </Typography>\n              ) : null}\n              {oAuthProviders !== undefined && oAuthProviders.length !== 0 ? (\n                <>\n                  {allowUserPass ? <TextDivider /> : null}\n                  <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n                    {oAuthProviders.map((item, idx) => (\n                      <Button\n                        key={idx}\n                        style={idx !== 0 ? { marginTop: '1.5rem' } : null}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={buttonLoading}\n                        onClick={() => {\n                          const date = new Date();\n                          date.setTime(date.getTime() + 5 * 60 * 1000);\n                          document.cookie = `ui4_path=${process.env.PUBLIC_URL}; expires=${date.toUTCString()}; path=/`;\n                          localStorage.setItem(\n                            'nextLocation',\n                            `${location.pathname}${location.search}${location.hash}`\n                          );\n                        }}\n                        href={`/api/v4/auth/login/?oauth_provider=${item}`}\n                      >\n                        {`${t('button_oauth')} ${item.replace(/_/g, ' ')}`}\n                        {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                      </Button>\n                    ))}\n                  </div>\n                </>\n              ) : null}\n            </>\n          ),\n          signup: <SignUp setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          reset: <ResetPassword setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          reset_now: <ResetPasswordNow setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          oauth: (\n            <OAuthLogin\n              reset={reset}\n              oAuthToken={oAuthToken}\n              avatar={avatar}\n              username={username}\n              email={email}\n              onSubmit={onSubmit}\n              buttonLoading={buttonLoading}\n            />\n          ),\n          otp: <OneTimePassLogin onSubmit={onSubmit} buttonLoading={buttonLoading} setOneTimePass={setOneTimePass} />,\n          sectoken: (\n            <SecurityTokenLogin\n              setShownControls={setShownControls}\n              setWebAuthNResponse={setWebAuthNResponse}\n              username={username}\n            />\n          )\n        }[shownControls]\n      }\n    </CardCentered>\n  );\n}\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst NotFoundPage = () => {\n  const { t } = useTranslation(['error404']);\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), paddingBottom: theme.spacing(6) }}>\n        <img\n          alt={t('dl.alt')}\n          src={`${process.env.PUBLIC_URL}/images/dead_link.png`}\n          style={{ maxHeight: '300px', maxWidth: '90%' }}\n        />\n      </div>\n      <div>\n        <Typography variant=\"h6\">{t('dl.description')}</Typography>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  Button,\n  Card,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype APIKeysProps = {\n  user: any;\n  toggleAPIKey: (apiKey: string) => void;\n};\n\nexport default function APIKeys({ user, toggleAPIKey }: APIKeysProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedAPIKey, setSelectedAPIKey] = useState(null);\n  const [tempAPIKey, setTempAPIKey] = useState(null);\n  const [tempKeyName, setTempKeyName] = useState('');\n  const [tempKeyPriv, setTempKeyPriv] = useState('READ');\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showSuccessMessage } = useMySnackbar();\n  const regex = RegExp('^[a-zA-Z][a-zA-Z0-9_]*$');\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/auth/apikey/${selectedAPIKey}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        toggleAPIKey(selectedAPIKey);\n        setSelectedAPIKey(null);\n        showSuccessMessage(t('apikeys.removed'));\n      }\n    });\n  }\n\n  function handleCreate() {\n    apiCall({\n      url: `/api/v4/auth/apikey/${tempKeyName}/${tempKeyPriv}/`,\n      onSuccess: api_data => {\n        setTempAPIKey(api_data.api_response.apikey);\n        toggleAPIKey(tempKeyName);\n      }\n    });\n  }\n\n  function handleKeyNameChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempKeyName(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleSelectChange(event) {\n    setTempKeyPriv(event.target.value);\n  }\n\n  function handleNew() {\n    setTempAPIKey(null);\n    setTempKeyName('');\n    setTempKeyPriv('READ');\n  }\n\n  function askForDelete(securityToken) {\n    setSelectedAPIKey(securityToken);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('apikeys.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('apikeys.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {t('apikeys.list')}\n        </Typography>\n        {user.apikeys.length !== 0 ? (\n          user.apikeys.map((e, i) => (\n            <Chip key={i} label={e} onDelete={() => askForDelete(e)} style={{ marginRight: sp1, marginBottom: sp1 }} />\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('apikeys.none')}\n          </Typography>\n        )}\n      </div>\n\n      <div style={{ paddingTop: sp4 }}>\n        <TextField\n          style={{ width: '100%' }}\n          size=\"small\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('apikeys.temp_token')}\n          onChange={handleKeyNameChange}\n          value={tempKeyName}\n        />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row', width: '100%' }}>\n        <div style={{ alignSelf: 'center', flexGrow: 2 }}>\n          <Select id=\"priv\" value={tempKeyPriv} onChange={handleSelectChange} variant=\"outlined\" margin=\"dense\">\n            <MenuItem value=\"READ\">{t('apikeys.r_token')}</MenuItem>\n            <MenuItem value=\"READ_WRITE\">{t('apikeys.rw_token')}</MenuItem>\n            <MenuItem value=\"WRITE\">{t('apikeys.w_token')}</MenuItem>\n          </Select>\n        </div>\n        <div style={{ alignSelf: 'flex-end', paddingLeft: sp1 }}>\n          <Button disabled={tempKeyName === ''} onClick={() => handleCreate()} color=\"primary\" variant=\"contained\">\n            {t('apikeys.add')}\n          </Button>\n        </div>\n      </div>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={tempAPIKey !== null}\n        onClose={() => handleNew()}\n        aria-labelledby=\"new-dialog-title\"\n        aria-describedby=\"new-dialog-description\"\n      >\n        <DialogTitle id=\"new-dialog-title\">{t('apikeys.new_title')}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"new-dialog-description\" component=\"div\">\n            <div style={{ paddingTop: sp2, paddingBottom: sp4 }}>\n              <Card variant=\"outlined\" style={{ backgroundColor: theme.palette.background.default }}>\n                <div style={{ padding: sp2 }}>\n                  <Typography style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{tempAPIKey}</Typography>\n                </div>\n              </Card>\n            </div>\n          </DialogContentText>\n          <DialogContentText id=\"new-dialog-notice-title\" component=\"div\">\n            <Typography variant=\"subtitle2\" color=\"textPrimary\">\n              {t('apikeys.new_notice_title')}\n            </Typography>\n          </DialogContentText>\n          <DialogContentText id=\"new-dialog-notice-texte\" component=\"div\">\n            <Typography variant=\"body2\">{t('apikeys.new_notice_text')}</Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleNew()} color=\"primary\" autoFocus>\n            {t('done')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={selectedAPIKey !== null}\n        onClose={() => setSelectedAPIKey(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {t('apikeys.remove_title')}: {selectedAPIKey}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('apikeys.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedAPIKey(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('apikeys.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Button, Typography, useTheme } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype DisableOTPProps = {\n  setDrawerOpen: (value: boolean) => void;\n  set2FAEnabled: (value: boolean) => void;\n};\n\nexport default function DisableOTP({ setDrawerOpen, set2FAEnabled }: DisableOTPProps) {\n  const apiCall = useMyAPI();\n  const { t } = useTranslation(['user']);\n  const theme = useTheme();\n\n  function disableOTP() {\n    apiCall({\n      url: '/api/v4/auth/disable_otp/',\n      onSuccess: api_data => {\n        setDrawerOpen(false);\n        set2FAEnabled(false);\n      }\n    });\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('2fa_disable_title')}\n      </Typography>\n      <Typography>{t('2fa_disable_desc')}</Typography>\n      <div style={{ textAlign: 'end', paddingTop: theme.spacing(6) }}>\n        <Button style={{ marginRight: '8px' }} variant=\"contained\" onClick={() => setDrawerOpen(false)}>\n          {t('cancel')}\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={() => disableOTP()}>\n          {t('2fa_disable')}\n        </Button>\n      </div>\n    </>\n  );\n}\n","import { Button, TextField, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport TextDivider from 'components/visual/TextDivider';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype OTPProps = {\n  setDrawerOpen: (value: boolean) => void;\n  set2FAEnabled: (value: boolean) => void;\n};\n\nexport default function OTP({ setDrawerOpen, set2FAEnabled }: OTPProps) {\n  const apiCall = useMyAPI();\n  const [response, setResponse] = useState(null);\n  const [tempOTP, setTempOTP] = useState('');\n  const { t } = useTranslation(['user']);\n  const regex = RegExp('^[0-9]{1,6}$');\n  const theme = useTheme();\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  function handleOTPChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempOTP(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function validateOTP() {\n    apiCall({\n      url: `/api/v4/auth/validate_otp/${tempOTP}/`,\n      onSuccess: () => {\n        setDrawerOpen(false);\n        set2FAEnabled(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Load OTP setup on start\n    apiCall({\n      url: '/api/v4/auth/setup_otp/',\n      onSuccess: api_data => {\n        setResponse(api_data.api_response);\n      },\n      onFailure: () => {\n        set2FAEnabled(true);\n        setTimeout(() => {\n          setDrawerOpen(false);\n        }, 1000);\n      }\n    });\n\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('2fa_setup_title')}\n      </Typography>\n      <div style={{ textAlign: 'center' }}>\n        <Typography>{t('2fa_scan')}</Typography>\n        <div\n          style={{\n            paddingTop: sp4,\n            paddingBottom: sp4,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'center'\n          }}\n        >\n          {response ? (\n            <div\n              style={{ backgroundColor: 'white' }}\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{\n                __html: response.qrcode\n              }}\n            />\n          ) : (\n            <Skeleton variant=\"rect\" style={{ width: '195px', height: '195px' }} />\n          )}\n        </div>\n        <TextDivider forcePaper />\n        <Typography gutterBottom>{t('2fa_manual')}</Typography>\n        <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n          <Typography variant=\"caption\">{response ? response.secret_key : <Skeleton />}</Typography>\n        </div>\n        <TextField\n          disabled={response === null}\n          style={{ width: '100%' }}\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('2fa_temp_otp')}\n          onChange={handleOTPChange}\n          value={tempOTP}\n        />\n\n        <div style={{ paddingTop: sp6, textAlign: 'end' }}>\n          <Button style={{ marginRight: '8px' }} variant=\"contained\" onClick={() => setDrawerOpen(false)}>\n            {t('cancel')}\n          </Button>\n          <Button\n            disabled={response === null || tempOTP === ''}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => validateOTP()}\n          >\n            {t('validate')}\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport toArrayBuffer from 'helpers/toArrayBuffer';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst CBOR = require('helpers/cbor.js');\n\ntype SecurityTokenProps = {\n  user: any;\n  toggleToken: (token: string) => void;\n};\n\nexport default function SecurityToken({ user, toggleToken }: SecurityTokenProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedToken, setSelectedToken] = useState(null);\n  const [tempToken, setTempToken] = useState('');\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const regex = RegExp('^[a-zA-Z][a-zA-Z0-9_ ]*$');\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n\n  function handleTokenChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempToken(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/webauthn/remove/${selectedToken}/`,\n      onSuccess: () => {\n        toggleToken(selectedToken);\n        setSelectedToken(null);\n        showSuccessMessage(t('token.removed'));\n      }\n    });\n  }\n\n  function handleNew() {\n    apiCall({\n      url: '/api/v4/webauthn/register/begin/',\n      method: 'POST',\n      onSuccess: api_data => {\n        const arrayData = toArrayBuffer(api_data.api_response);\n        const options = CBOR.decode(arrayData.buffer);\n        const credentialHelper = navigator.credentials;\n        if (credentialHelper !== undefined) {\n          credentialHelper\n            .create(options)\n            .then((assertion: PublicKeyCredential) => {\n              const response = assertion.response as AuthenticatorAttestationResponse;\n              const attestationData = CBOR.encode({\n                attestationObject: new Uint8Array(response.attestationObject),\n                clientDataJSON: new Uint8Array(response.clientDataJSON)\n              });\n              apiCall({\n                url: `/api/v4/webauthn/register/complete/${tempToken}/`,\n                method: 'POST',\n                body: Array.from(new Uint8Array(attestationData)),\n                onSuccess: () => {\n                  toggleToken(tempToken);\n                  setTempToken('');\n                  showSuccessMessage(t('token.added'));\n                }\n              });\n            })\n            .catch(ex => {\n              // eslint-disable-next-line no-console\n              setTempToken('');\n              showErrorMessage(`${ex.name}: ${ex.message}`);\n            });\n        }\n      }\n    });\n  }\n\n  function askForDelete(securityToken) {\n    setSelectedToken(securityToken);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('token.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('token.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {t('token.list')}\n        </Typography>\n        {user.security_tokens.length !== 0 ? (\n          user.security_tokens.map((e, i) => (\n            <Chip key={i} label={e} onDelete={() => askForDelete(e)} style={{ marginRight: sp1, marginBottom: sp1 }} />\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('token.none')}\n          </Typography>\n        )}\n      </div>\n\n      <div style={{ width: '100%' }}>\n        <TextField\n          style={{ width: '100%' }}\n          size=\"small\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('token.temp_token')}\n          onChange={handleTokenChange}\n          value={tempToken}\n        />\n      </div>\n      <div style={{ alignSelf: 'flex-end' }}>\n        <Button disabled={tempToken === ''} onClick={() => handleNew()} color=\"primary\" variant=\"contained\">\n          {t('token.add')}\n        </Button>\n      </div>\n\n      <Dialog\n        open={selectedToken !== null}\n        onClose={() => setSelectedToken(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {t('token.remove_title')}: {selectedToken}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('token.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedToken(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('token.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Tooltip } from '@material-ui/core';\nimport Chip from '@material-ui/core/Chip';\nimport { darken, makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React, { ReactNode } from 'react';\n\nexport const ColorMap = {\n  'label-default': 'default' as 'default',\n  'label-primary': 'primary' as 'primary',\n  'label-secondary': 'secondary' as 'secondary',\n  'label-info': 'info' as 'info',\n  'label-success': 'success' as 'success',\n  'label-warning': 'warning' as 'warning',\n  'label-error': 'error' as 'error',\n  default: 'default' as 'default',\n  primary: 'primary' as 'primary',\n  secondary: 'secondary' as 'secondary',\n  info: 'info' as 'info',\n  success: 'success' as 'success',\n  warning: 'warning' as 'warning',\n  error: 'error' as 'error'\n};\nexport type PossibleColors = 'default' | 'primary' | 'secondary' | 'info' | 'success' | 'warning' | 'error';\n\nexport interface CustomChipProps {\n  className?: string;\n  type?: 'round' | 'square' | 'rounded';\n  size?: 'tiny' | 'small' | 'medium';\n  color?: PossibleColors;\n  variant?: 'default' | 'outlined';\n  mono?: boolean;\n  wrap?: boolean;\n  tooltip?: string;\n  fullWidth?: boolean;\n  children?: ReactNode;\n  [propName: string]: any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  auto_height: {\n    height: 'auto'\n  },\n  wrap: {\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word',\n    paddingTop: '2px',\n    paddingBottom: '2px'\n  },\n  square: {\n    borderRadius: '0px',\n    margin: '2px 4px 2px 0'\n  },\n  rounded: {\n    borderRadius: '3px',\n    margin: '2px 4px 2px 0'\n  },\n  fullWidth: {\n    width: '100%'\n  },\n  tiny: {\n    height: '20px',\n    fontSize: '0.725rem'\n  },\n  label_tiny: {\n    paddingLeft: '6px',\n    paddingRight: '6px'\n  },\n  mono: {\n    fontFamily: 'monospace',\n    fontSize: '1.15rem'\n  },\n  tiny_mono: {\n    fontFamily: 'monospace',\n    fontSize: '1rem'\n  },\n  // Filled\n  default: {\n    backgroundColor: theme.palette.type === 'dark' ? '#616161' : '#999',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#616161' : '#999', 0.15)\n    }\n  },\n  primary: {\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.primary.main, 0.15)\n    }\n  },\n  secondary: {\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.secondary.main, 0.15)\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.success.main, 0.15)\n    }\n  },\n  info: {\n    backgroundColor: theme.palette.type === 'dark' ? '#28abd2' : '#00baf1',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#28abd2' : '#00baf1', 0.15)\n    }\n  },\n  warning: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ed8b00' : '#ff9d12',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#ed8b00' : '#ff9d12', 0.15)\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.error.dark, 0.15)\n    }\n  },\n  // Outlined\n  success_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n  },\n  info_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light\n  },\n  warning_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n  },\n  error_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n  },\n  icon: { color: theme.palette.common.white }\n}));\n\nconst WrappedCustomChip: React.FC<CustomChipProps> = ({\n  className = null,\n  type = 'round',\n  size = 'medium',\n  color = 'default',\n  variant = 'default',\n  mono = false,\n  wrap = false,\n  tooltip = null,\n  fullWidth = false,\n  children,\n  ...otherProps\n}) => {\n  const classes = useStyles();\n\n  // Define classnames maps\n  const typeClassMap = {\n    square: classes.square,\n    rounded: classes.rounded,\n    round: null\n  };\n  const sizeLabelClassMap = {\n    tiny: classes.label_tiny,\n    small: null,\n    medium: null\n  };\n  const sizeClassMap = {\n    tiny: classes.tiny,\n    small: null,\n    medium: null\n  };\n  const colorClassMap = {\n    success: classes.success,\n    warning: classes.warning,\n    error: classes.error,\n    info: classes.info,\n    success_outlined: classes.success_outlined,\n    warning_outlined: classes.warning_outlined,\n    error_outlined: classes.error_outlined,\n    info_outlined: classes.info_outlined,\n    default: classes.default,\n    primary: classes.primary,\n    secondary: classes.secondary\n  };\n  const colorMap = {\n    primary: 'primary',\n    secondary: 'secondary'\n  };\n  const sizeMap = {\n    small: 'small',\n    medium: 'medium'\n  };\n\n  // Compute values applied to the original chip component\n  const appliedClassName = clsx(\n    mono ? (size === 'tiny' ? classes.tiny_mono : classes.mono) : null,\n    wrap ? classes.auto_height : null,\n    fullWidth ? classes.fullWidth : null,\n    typeClassMap[type],\n    sizeClassMap[size],\n    variant === 'outlined' ? colorClassMap[`${color}_outlined`] : colorClassMap[color],\n    className\n  );\n  const labelClassName = clsx(sizeLabelClassMap[size], wrap ? classes.wrap : null);\n\n  // Build chip based on computed values\n  const chip = (\n    <Chip\n      classes={{ label: labelClassName, icon: variant !== 'outlined' ? classes.icon : null }}\n      className={appliedClassName}\n      size={sizeMap[size]}\n      color={colorMap[color]}\n      variant={variant}\n      {...otherProps}\n    />\n  );\n\n  // Do we have a tooltip?\n  return tooltip ? <Tooltip title={tooltip}>{chip}</Tooltip> : chip;\n};\n\nconst CustomChip = React.memo(WrappedCustomChip);\nexport default CustomChip;\n","export type FormatProp = 'long' | 'short';\n\ntype LevelStylesheet = {\n  banner: string;\n  label: string;\n  text: string;\n  color?: string;\n};\n\ntype ClassificationLevel = {\n  aliases: string[];\n  css: LevelStylesheet;\n  description: string;\n  lvl: number;\n  name: string;\n  short_name: string;\n};\n\ntype ClassificationRequired = {\n  aliases: string[];\n  description: string;\n  name: string;\n  is_required_group?: boolean;\n  require_lvl?: number;\n  short_name: string;\n};\n\ntype ClassificationGroup = {\n  aliases: string[];\n  auto_select?: boolean;\n  description: string;\n  name: string;\n  short_name: string;\n  solitary_display_name?: string;\n};\n\ntype ClassificationSubGroup = {\n  aliases: string[];\n  auto_select?: boolean;\n  description: string;\n  limited_to_group?: string;\n  name: string;\n  require_group?: string;\n  short_name: string;\n  solitary_display_name?: string;\n};\n\ntype ClassificationYAMLDefinition = {\n  enforce: boolean;\n  groups: ClassificationGroup[];\n  levels: ClassificationLevel[];\n  required: ClassificationRequired[];\n  restricted: string;\n  subgroups: ClassificationSubGroup[];\n  unrestricted: string;\n};\n\ntype StringMap = {\n  [propName: string]: string;\n};\n\ntype StringMapArray = {\n  [propName: string]: string[];\n};\n\ntype StylesheetMap = {\n  [propName: string]: LevelStylesheet;\n};\n\ntype ParamsMap = {\n  is_required_group?: boolean;\n  solitary_display_name?: string;\n  require_group?: string;\n  limited_to_group?: string;\n};\n\nexport type ClassificationDefinition = {\n  RESTRICTED: string;\n  UNRESTRICTED: string;\n  access_req_aliases: StringMapArray;\n  access_req_map_lts: StringMap;\n  access_req_map_stl: StringMap;\n  description: StringMap;\n  enforce: boolean;\n  groups_aliases: StringMapArray;\n  groups_auto_select: string[];\n  groups_auto_select_short: string[];\n  groups_map_lts: StringMap;\n  groups_map_stl: StringMap;\n  invalid_mode: boolean;\n  levels_aliases: StringMap;\n  levels_map: StringMap;\n  levels_map_lts: StringMap;\n  levels_map_stl: StringMap;\n  levels_styles_map: StylesheetMap;\n  original_definition: ClassificationYAMLDefinition;\n  params_map: ParamsMap;\n  subgroups_aliases: StringMapArray;\n  subgroups_auto_select: string[];\n  subgroups_auto_select_short: string[];\n  subgroups_map_lts: StringMap;\n  subgroups_map_stl: StringMap;\n};\n\nexport type ClassificationParts = {\n  lvlIdx: number;\n  lvl: string;\n  req: string[];\n  groups: string[];\n  subgroups: string[];\n};\n\ntype ClassificationGroups = {\n  groups: string[];\n  subgroups: string[];\n};\n\nexport const defaultParts: ClassificationParts = {\n  lvlIdx: 0,\n  lvl: '',\n  req: [],\n  groups: [],\n  subgroups: []\n};\n\ntype DisabledControls = {\n  levels: string[];\n  groups: string[];\n};\n\nexport const defaultDisabled: DisabledControls = {\n  groups: [],\n  levels: []\n};\n\nexport function getLevelText(\n  lvl: number,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): string {\n  let text = null;\n  if (c12nDef != null) {\n    text = c12nDef.levels_map[lvl.toString()];\n  }\n\n  if (text === undefined || text == null) {\n    text = '';\n  }\n\n  if (format === 'long' && !isMobile) {\n    return c12nDef.levels_map_stl[text];\n  }\n\n  return text;\n}\n\nfunction getLevelIndex(c12n: string, c12nDef: ClassificationDefinition): number {\n  let retIndex = null;\n  const splitIdx = c12n.indexOf('//');\n  let c12nLvl = c12n;\n  if (splitIdx !== -1) {\n    c12nLvl = c12n.slice(0, splitIdx);\n  }\n\n  if (c12nDef.levels_map[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nLvl];\n  } else if (c12nDef.levels_map_lts[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nDef.levels_map_lts[c12nLvl]];\n  } else if (c12nDef.levels_aliases[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nDef.levels_aliases[c12nLvl]];\n  }\n\n  return retIndex;\n}\n\nfunction getRequired(c12n: string, c12nDef: ClassificationDefinition, format: FormatProp, isMobile: boolean): string[] {\n  const returnSet = [];\n  const partSet = c12n.split('/');\n  for (const p of partSet) {\n    if (p in c12nDef.access_req_map_lts) {\n      returnSet.push(c12nDef.access_req_map_lts[p]);\n    } else if (p in c12nDef.access_req_map_stl) {\n      returnSet.push(p);\n    } else if (p in c12nDef.access_req_aliases) {\n      for (const a of c12nDef.access_req_aliases[p]) {\n        returnSet.push(a);\n      }\n    }\n  }\n\n  if (format === 'long' && !isMobile) {\n    const out = [];\n    for (const r of returnSet) {\n      out.push(c12nDef.access_req_map_stl[r]);\n    }\n\n    return out.sort();\n  }\n\n  return returnSet.sort();\n}\n\nfunction getGroups(\n  c12n: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): ClassificationGroups {\n  const g1 = [];\n  const g2 = [];\n\n  const groupParts = c12n.split('//');\n  let groups = [];\n  for (let grpPart of groupParts) {\n    grpPart = grpPart.replace('REL TO ', '');\n    const tempGroup = grpPart.split(',');\n    for (const tg of tempGroup) {\n      groups = groups.concat(tg.trim().split('/'));\n    }\n  }\n\n  for (const g of groups) {\n    if (g in c12nDef.groups_map_lts) {\n      g1.push(c12nDef.groups_map_lts[g]);\n    } else if (g in c12nDef.groups_map_stl) {\n      g1.push(g);\n    } else if (g in c12nDef.groups_aliases) {\n      for (const a of c12nDef.groups_aliases[g]) {\n        g1.push(a);\n      }\n    } else if (g in c12nDef.subgroups_map_lts) {\n      g2.push(c12nDef.subgroups_map_lts[g]);\n    } else if (g in c12nDef.subgroups_map_stl) {\n      g2.push(g);\n    } else if (g in c12nDef.subgroups_aliases) {\n      for (const sa of c12nDef.subgroups_aliases[g]) {\n        g2.push(sa);\n      }\n    }\n  }\n\n  if (format === 'long' && !isMobile) {\n    const g1Out = [];\n    for (const gr of g1) {\n      g1Out.push(c12nDef.groups_map_stl[gr]);\n    }\n\n    const g2Out = [];\n    for (const sgr of g2) {\n      g2Out.push(c12nDef.subgroups_map_stl[sgr]);\n    }\n\n    return { groups: g1Out.sort(), subgroups: g2Out.sort() };\n  }\n\n  return { groups: g1.sort(), subgroups: g2.sort() };\n}\n\nexport function getParts(\n  c12n: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): ClassificationParts {\n  const grps = getGroups(c12n, c12nDef, format, isMobile);\n  const lvlIdx = getLevelIndex(c12n, c12nDef);\n  return {\n    lvlIdx,\n    lvl: getLevelText(lvlIdx, c12nDef, format, isMobile),\n    req: getRequired(c12n, c12nDef, format, isMobile),\n    groups: grps.groups,\n    subgroups: grps.subgroups\n  };\n}\n\nexport function normalizedClassification(\n  parts: ClassificationParts,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): string {\n  const { lvl, req, subgroups } = parts;\n  let { groups } = parts;\n\n  let out = lvl;\n\n  const reqGrp = [];\n  for (const r of req) {\n    if (c12nDef.params_map[r] !== undefined) {\n      if (c12nDef.params_map[r].is_required_group !== undefined) {\n        if (c12nDef.params_map[r].is_required_group) {\n          reqGrp.push(r);\n        }\n      }\n    }\n  }\n\n  for (const rg of reqGrp) {\n    req.splice(req.indexOf(rg), 1);\n  }\n\n  if (req.length > 0) {\n    out += `//${req.join('/')}`;\n  }\n  if (reqGrp.length > 0) {\n    out += `//${reqGrp.join('/')}`;\n  }\n\n  if (groups.length > 0) {\n    if (reqGrp.length > 0) {\n      out += '/';\n    } else {\n      out += '//';\n    }\n\n    if (groups.length === 1) {\n      const group = groups[0];\n      if (c12nDef.params_map[group] !== undefined) {\n        if (c12nDef.params_map[group].solitary_display_name !== undefined) {\n          out += c12nDef.params_map[group].solitary_display_name;\n        } else {\n          out += `REL TO ${group}`;\n        }\n      } else {\n        out += `REL TO ${group}`;\n      }\n    } else {\n      if (format === 'short' || isMobile) {\n        for (const alias in c12nDef.groups_aliases) {\n          if ({}.hasOwnProperty.call(c12nDef.groups_aliases, alias)) {\n            const values = c12nDef.groups_aliases[alias];\n            if (values.length > 1) {\n              if (JSON.stringify(values.sort()) === JSON.stringify(groups)) {\n                groups = [alias];\n              }\n            }\n          }\n        }\n      }\n      out += `REL TO ${groups.join(', ')}`;\n    }\n  }\n\n  if (subgroups.length > 0) {\n    if (groups.length > 0 || reqGrp.length > 0) {\n      out += '/';\n    } else {\n      out += '//';\n    }\n    out += subgroups.join('/');\n  }\n\n  return out;\n}\n\nfunction levelList(c12nDef: ClassificationDefinition) {\n  const out = [];\n  for (const i in c12nDef.levels_map) {\n    if (!isNaN(parseInt(i))) {\n      out.push(c12nDef.levels_map[i]);\n    }\n  }\n  return out;\n}\n\ntype ClassificationValidator = {\n  disabled: DisabledControls;\n  parts: ClassificationParts;\n};\n\nexport const defaultClassificationValidator: ClassificationValidator = {\n  disabled: defaultDisabled,\n  parts: defaultParts\n};\n\nexport function applyClassificationRules(\n  parts: ClassificationParts,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean,\n  userClassification: boolean = false\n): ClassificationValidator {\n  const requireLvl = {};\n  const limitedToGroup = {};\n  const requireGroup = {};\n  const partsToCheck = ['req', 'groups', 'subgroups'];\n  const retParts = { ...parts };\n  const disabledList = {\n    levels: [],\n    groups: []\n  };\n\n  for (const item in c12nDef.params_map) {\n    if ({}.hasOwnProperty.call(c12nDef.params_map, item)) {\n      const data = c12nDef.params_map[item];\n      if ('require_lvl' in data) {\n        requireLvl[item] = data.require_lvl;\n      }\n      if ('limited_to_group' in data) {\n        limitedToGroup[item] = data.limited_to_group;\n      }\n      if ('require_group' in data) {\n        requireGroup[item] = data.require_group;\n      }\n    }\n  }\n\n  for (const partName in partsToCheck) {\n    if ({}.hasOwnProperty.call(partsToCheck, partName)) {\n      const part = retParts[partsToCheck[partName]];\n      for (const value of part) {\n        let triggerAutoSelect = false;\n        if (value) {\n          if (value in requireLvl) {\n            if (retParts.lvlIdx < requireLvl[value]) {\n              retParts.lvlIdx = requireLvl[value];\n              retParts.lvl = getLevelText(requireLvl[value], c12nDef, format, isMobile);\n            }\n            const levels = levelList(c12nDef);\n            for (const l of levels) {\n              if (c12nDef.levels_map[l] < requireLvl[value]) {\n                disabledList.levels.push(l);\n              }\n            }\n          }\n          if (value in requireGroup) {\n            if (!retParts.groups.includes(requireGroup[value])) {\n              retParts.groups.push(requireGroup[value]);\n              for (const group of c12nDef.groups_auto_select) {\n                if (!retParts.groups.includes(group)) retParts.groups.push(group);\n              }\n            }\n          }\n          if (value in limitedToGroup) {\n            for (const g in c12nDef.groups_map_stl) {\n              if (g !== limitedToGroup[value]) {\n                disabledList.groups.push(g);\n                if (retParts.groups.includes(g)) {\n                  retParts.groups.splice(retParts.groups.indexOf(g), 1);\n                }\n              }\n            }\n          }\n          if (!userClassification && partsToCheck[partName] === 'groups') {\n            triggerAutoSelect = true;\n          }\n        }\n        if (triggerAutoSelect) {\n          for (const group of c12nDef.groups_auto_select) {\n            if (!retParts.groups.includes(group)) retParts.groups.push(group);\n          }\n        }\n      }\n    }\n  }\n\n  // Sort all lists\n  retParts.req = retParts.req.sort();\n  retParts.groups = retParts.groups.sort();\n  retParts.subgroups = retParts.subgroups.sort();\n\n  return {\n    disabled: disabledList,\n    parts: retParts\n  };\n}\n\nexport function getMaxClassification(\n  c12n_1: string,\n  c12n_2: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n) {\n  const lvlIdx = Math.max(getLevelIndex(c12n_1, c12nDef), getLevelIndex(c12n_2, c12nDef));\n  const out = {\n    lvlIdx,\n    lvl: getLevelText(lvlIdx, c12nDef, format, isMobile),\n    req: [\n      ...Array.from(\n        new Set(getRequired(c12n_1, c12nDef, format, isMobile).concat(getRequired(c12n_1, c12nDef, format, isMobile)))\n      )\n    ],\n    groups: null,\n    subgroups: null\n  };\n\n  const grps1 = getGroups(c12n_1, c12nDef, format, isMobile);\n  const grps2 = getGroups(c12n_2, c12nDef, format, isMobile);\n  if (grps1.groups.length > 0 && grps2.groups.length > 0) {\n    out.groups = grps1.groups.filter(value => grps2.groups.includes(value));\n  } else {\n    out.groups = [...Array.from(new Set(grps1.groups.concat(grps2.groups)))];\n  }\n  if (grps1.subgroups.length > 0 && grps2.subgroups.length > 0) {\n    out.subgroups = grps1.subgroups.filter(value => grps2.subgroups.includes(value));\n  } else {\n    out.subgroups = [...Array.from(new Set(grps1.subgroups.concat(grps2.subgroups)))];\n  }\n\n  return normalizedClassification(out, c12nDef, format, isMobile);\n}\n","import {\n  Button,\n  Card,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemText,\n  useMediaQuery\n} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useALContext from 'components/hooks/useALContext';\nimport CustomChip, { ColorMap, PossibleColors } from 'components/visual/CustomChip';\nimport {\n  applyClassificationRules,\n  defaultClassificationValidator,\n  defaultDisabled,\n  defaultParts,\n  FormatProp,\n  getLevelText,\n  getParts,\n  normalizedClassification\n} from 'helpers/classificationParser';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface ClassificationProps {\n  c12n: string;\n  setClassification?: (classification: string) => void;\n  size?: 'medium' | 'small' | 'tiny';\n  type?: 'picker' | 'pill' | 'outlined' | 'text';\n  format?: FormatProp;\n  inline: boolean;\n  isUser: boolean;\n  fullWidth?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  classification: {\n    fontWeight: 500\n  },\n  inlineSkel: {\n    display: 'inline-block',\n    width: '8rem',\n    verticalAlign: 'bottom'\n  },\n  // Text Color\n  default: {\n    fontWeight: 500,\n    color: theme.palette.type === 'dark' ? '#AAA' : '#888'\n  },\n  primary: {\n    fontWeight: 500,\n    color: theme.palette.primary.main\n  },\n  secondary: {\n    fontWeight: 500,\n    color: theme.palette.secondary.main\n  },\n  success: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n  },\n  info: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light\n  },\n  warning: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n  },\n  error: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n  }\n}));\n\nfunction WrappedClassification({\n  c12n,\n  format,\n  inline,\n  setClassification,\n  size,\n  type,\n  isUser,\n  fullWidth\n}: ClassificationProps) {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const { user: currentUser, c12nDef } = useALContext();\n  const isPhone = useMediaQuery(theme.breakpoints.down('xs'));\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [showPicker, setShowPicker] = useState(false);\n  const [uParts, setUserParts] = useState(defaultParts);\n  const [validated, setValidated] = useState(defaultClassificationValidator);\n  const sp2 = theme.spacing(2);\n\n  useEffect(() => {\n    if (c12nDef && c12nDef.enforce && c12n) {\n      const parts = getParts(c12n, c12nDef, format, isMobile);\n      if (type === 'picker') {\n        setUserParts(getParts(currentUser.classification, c12nDef, format, isMobile));\n        setValidated(applyClassificationRules(parts, c12nDef, format, isMobile, isUser));\n      } else {\n        setValidated({\n          disabled: defaultDisabled,\n          parts\n        });\n      }\n    }\n    // eslint-disable-next-line\n  }, [c12n, currentUser, isMobile]);\n\n  function toggleGroups(grp) {\n    const newGrp = validated.parts.groups;\n\n    if (newGrp.indexOf(grp.name) === -1 && newGrp.indexOf(grp.short_name) === -1) {\n      newGrp.push(format === 'long' && !isMobile ? grp.name : grp.short_name);\n    } else if (newGrp.indexOf(grp.name) !== -1) {\n      newGrp.splice(newGrp.indexOf(grp.name), 1);\n    } else {\n      newGrp.splice(newGrp.indexOf(grp.short_name), 1);\n    }\n\n    setValidated(applyClassificationRules({ ...validated.parts, groups: newGrp }, c12nDef, format, isMobile, isUser));\n  }\n\n  function toggleSubGroups(sgrp) {\n    const newSGrp = validated.parts.subgroups;\n\n    if (newSGrp.indexOf(sgrp.name) === -1 && newSGrp.indexOf(sgrp.short_name) === -1) {\n      newSGrp.push(format === 'long' && !isMobile ? sgrp.name : sgrp.short_name);\n    } else if (newSGrp.indexOf(sgrp.name) !== -1) {\n      newSGrp.splice(newSGrp.indexOf(sgrp.name), 1);\n    } else {\n      newSGrp.splice(newSGrp.indexOf(sgrp.short_name), 1);\n    }\n\n    setValidated(\n      applyClassificationRules({ ...validated.parts, subgroups: newSGrp }, c12nDef, format, isMobile, isUser)\n    );\n  }\n\n  function toggleRequired(req) {\n    const newReq = validated.parts.req;\n\n    if (newReq.indexOf(req.name) === -1 && newReq.indexOf(req.short_name) === -1) {\n      newReq.push(format === 'long' && !isMobile ? req.name : req.short_name);\n    } else if (newReq.indexOf(req.name) !== -1) {\n      newReq.splice(newReq.indexOf(req.name), 1);\n    } else {\n      newReq.splice(newReq.indexOf(req.short_name), 1);\n    }\n\n    setValidated(applyClassificationRules({ ...validated.parts, req: newReq }, c12nDef, format, isMobile, isUser));\n  }\n\n  function selectLevel(lvlIdx) {\n    setValidated(\n      applyClassificationRules(\n        { ...validated.parts, lvlIdx, lvl: getLevelText(lvlIdx, c12nDef, format, isMobile) },\n        c12nDef,\n        format,\n        isMobile,\n        isUser\n      )\n    );\n  }\n\n  const computeColor = (): PossibleColors => {\n    const levelStyles = c12nDef.levels_styles_map[validated.parts.lvl];\n    if (!levelStyles) {\n      return 'default' as 'default';\n    }\n    return ColorMap[levelStyles.color || levelStyles.label.replace('label-', '')] || ('default' as 'default');\n  };\n\n  const skelheight = {\n    medium: theme.spacing(4),\n    small: theme.spacing(3.5),\n    tiny: theme.spacing(3)\n  };\n\n  const useClassification = () => {\n    const newC12n = normalizedClassification(validated.parts, c12nDef, format, isMobile);\n    const originalParts = getParts(c12n, c12nDef, format, isMobile);\n    const originalC12n = normalizedClassification(originalParts, c12nDef, format, isMobile);\n    if (setClassification && newC12n !== originalC12n) {\n      setClassification(newC12n);\n    }\n    setShowPicker(false);\n  };\n  // Build chip based on computed values\n  return (\n    c12nDef &&\n    c12nDef.enforce &&\n    (c12n ? (\n      <>\n        {type === 'text' ? (\n          <span className={classes[computeColor()]}>\n            {normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n          </span>\n        ) : (\n          <div style={{ display: inline ? 'inline-block' : null }}>\n            <CustomChip\n              type=\"rounded\"\n              variant={type === 'outlined' ? 'outlined' : 'default'}\n              size={size}\n              color={computeColor()}\n              className={classes.classification}\n              label={normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n              onClick={type === 'picker' ? () => setShowPicker(true) : null}\n              fullWidth={fullWidth}\n            />\n          </div>\n        )}\n        {type === 'picker' ? (\n          <Dialog\n            fullScreen={isPhone}\n            fullWidth\n            maxWidth={isMobile ? 'xs' : 'md'}\n            open={showPicker}\n            onClose={useClassification}\n          >\n            <DialogTitle>\n              <CustomChip\n                type=\"rounded\"\n                variant=\"outlined\"\n                size={size}\n                color={computeColor()}\n                className={classes.classification}\n                label={normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n                fullWidth={fullWidth}\n              />\n            </DialogTitle>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={12} md>\n                  <Card variant=\"outlined\">\n                    <List disablePadding style={{ borderRadius: '6px' }}>\n                      {c12nDef.original_definition.levels.map((lvl, idx) => {\n                        return (\n                          (isUser || lvl.lvl <= uParts.lvlIdx) && (\n                            <ListItem\n                              key={idx}\n                              button\n                              disabled={\n                                validated.disabled.levels.includes(lvl.name) ||\n                                validated.disabled.levels.includes(lvl.short_name)\n                              }\n                              selected={validated.parts.lvlIdx === lvl.lvl}\n                              onClick={() => selectLevel(lvl.lvl)}\n                            >\n                              <ListItemText style={{ textAlign: 'center' }} primary={lvl.name} />\n                            </ListItem>\n                          )\n                        );\n                      })}\n                    </List>\n                  </Card>\n                </Grid>\n                {(isUser || uParts.req.length !== 0) && (\n                  <Grid item xs={12} md>\n                    <Card variant=\"outlined\">\n                      <List disablePadding>\n                        {c12nDef.original_definition.required.map((req, idx) => {\n                          return (\n                            (isUser || [req.name, req.short_name].some(r => uParts.req.includes(r))) && (\n                              <ListItem\n                                key={idx}\n                                button\n                                selected={\n                                  validated.parts.req.includes(req.name) || validated.parts.req.includes(req.short_name)\n                                }\n                                onClick={() => toggleRequired(req)}\n                              >\n                                <ListItemText style={{ textAlign: 'center' }} primary={req.name} />\n                              </ListItem>\n                            )\n                          );\n                        })}\n                      </List>\n                    </Card>\n                  </Grid>\n                )}\n                {(isUser || uParts.groups.length !== 0 || uParts.subgroups.length !== 0) && (\n                  <Grid item xs={12} md>\n                    {(isUser || uParts.groups.length !== 0) && (\n                      <div style={{ paddingBottom: sp2 }}>\n                        <Card variant=\"outlined\">\n                          <List disablePadding>\n                            {c12nDef.original_definition.groups.map((grp, idx) => {\n                              return (\n                                (isUser || [grp.name, grp.short_name].some(g => uParts.groups.includes(g))) && (\n                                  <ListItem\n                                    key={idx}\n                                    button\n                                    disabled={\n                                      validated.disabled.groups.includes(grp.name) ||\n                                      validated.disabled.groups.includes(grp.short_name)\n                                    }\n                                    selected={\n                                      validated.parts.groups.includes(grp.name) ||\n                                      validated.parts.groups.includes(grp.short_name)\n                                    }\n                                    onClick={() => toggleGroups(grp)}\n                                  >\n                                    <ListItemText style={{ textAlign: 'center' }} primary={grp.name} />\n                                  </ListItem>\n                                )\n                              );\n                            })}\n                          </List>\n                        </Card>\n                      </div>\n                    )}\n                    {(isUser || uParts.subgroups.length !== 0) && (\n                      <Card variant=\"outlined\">\n                        <List disablePadding>\n                          {c12nDef.original_definition.subgroups.map((sgrp, idx) => {\n                            return (\n                              (isUser || [sgrp.name, sgrp.short_name].some(sg => uParts.subgroups.includes(sg))) && (\n                                <ListItem\n                                  key={idx}\n                                  button\n                                  selected={\n                                    validated.parts.subgroups.includes(sgrp.name) ||\n                                    validated.parts.subgroups.includes(sgrp.short_name)\n                                  }\n                                  onClick={() => toggleSubGroups(sgrp)}\n                                >\n                                  <ListItemText style={{ textAlign: 'center' }} primary={sgrp.name} />\n                                </ListItem>\n                              )\n                            );\n                          })}\n                        </List>\n                      </Card>\n                    )}\n                  </Grid>\n                )}\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={useClassification} color=\"primary\" autoFocus>\n                {t('classification.done')}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        ) : null}\n      </>\n    ) : (\n      <Skeleton\n        variant={type === 'text' ? 'text' : 'rect'}\n        className={inline ? classes.inlineSkel : null}\n        height={type !== 'text' ? skelheight[size] : null}\n        style={{ borderRadius: theme.spacing(0.5) }}\n      />\n    ))\n  );\n}\n\nWrappedClassification.defaultProps = {\n  setClassification: null,\n  size: 'medium' as 'medium',\n  type: 'pill' as 'pill',\n  format: 'short' as 'short',\n  inline: false,\n  isUser: false,\n  fullWidth: true\n};\n\nconst Classification = React.memo(WrappedClassification);\nexport default Classification;\n","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport React from 'react';\n\nconst ConfirmationDialog = ({ open, handleClose, handleAccept, title, cancelText, acceptText, text = null }) => {\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      {text && (\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{text}</DialogContentText>\n        </DialogContent>\n      )}\n      <DialogActions>\n        <Button onClick={handleClose} color=\"secondary\">\n          {cancelText}\n        </Button>\n        <Button onClick={handleAccept} color=\"primary\" autoFocus>\n          {acceptText}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ConfirmationDialog;\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype APIKeysProps = {\n  user: any;\n  toggleApp: (apiKey: string) => void;\n};\n\nexport default function Apps({ user, toggleApp }: APIKeysProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedApp, setSelectedApp] = useState(null);\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/auth/obo_token/${selectedApp}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        toggleApp(selectedApp);\n        setSelectedApp(null);\n        showSuccessMessage(t('apps.removed'));\n      },\n      onFailure: api_data => {\n        setSelectedApp(null);\n        showErrorMessage(api_data.api_error_message);\n      }\n    });\n  }\n\n  function askForDelete(app) {\n    setSelectedApp(app);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('apps.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('apps.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        {user.apps && Object.keys(user.apps).length !== 0 ? (\n          Object.keys(user.apps).map(e => (\n            <Tooltip key={e} title={user.apps[e].netloc}>\n              <Chip\n                label={`${user.apps[e].server} [${user.apps[e].scope.toUpperCase()}]`}\n                onDelete={() => askForDelete(e)}\n                style={{ marginRight: sp1, marginBottom: sp1 }}\n              />\n            </Tooltip>\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('apps.none')}\n          </Typography>\n        )}\n      </div>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={selectedApp !== null}\n        onClose={() => setSelectedApp(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {`${t('apps.remove_title')}: ${\n            selectedApp &&\n            user.apps[selectedApp] &&\n            `${user.apps[selectedApp].server} [${user.apps[selectedApp].scope.toUpperCase()}]`\n          }`}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('apps.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedApp(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('apps.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import {\n  Avatar,\n  Button,\n  CircularProgress,\n  Drawer,\n  Grid,\n  IconButton,\n  isWidthDown,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n  withStyles,\n  withWidth\n} from '@material-ui/core';\nimport { red } from '@material-ui/core/colors';\nimport ChevronRightOutlinedIcon from '@material-ui/icons/ChevronRightOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport APIKeys from 'components/routes/user/api_keys';\nimport DisableOTP from 'components/routes/user/disable_otp';\nimport OTP from 'components/routes/user/otp';\nimport SecurityToken from 'components/routes/user/token';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport CustomChip from 'components/visual/CustomChip';\nimport ChipInput from 'material-ui-chip-input';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useLocation, useParams } from 'react-router-dom';\nimport Apps from './user/apps';\n\ntype UserProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n  username?: string | null;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\nconst DeleteButton = withStyles((theme: Theme) => ({\n  root: {\n    color: theme.palette.getContrastText(red[500]),\n    backgroundColor: red[500],\n    '&:hover': {\n      backgroundColor: red[700]\n    },\n    minWidth: theme.spacing(16)\n  }\n}))(Button);\n\nfunction User({ width, username }: UserProps) {\n  const { id } = useParams<ParamProps>();\n  const location = useLocation();\n  const inputRef = useRef(null);\n  const { t } = useTranslation(['user']);\n  const theme = useTheme();\n  const history = useHistory();\n  const [drawerType, setDrawerType] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [user, setUser] = useState(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, configuration } = useALContext();\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showErrorMessage, showSuccessMessage, showWarningMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    drawer: {\n      width: '500px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100vw'\n      }\n    },\n    row: {\n      height: '62px'\n    },\n    group: {\n      marginTop: '1rem'\n    },\n    skelItem: {\n      display: 'inline-block'\n    },\n    skelButton: {\n      display: 'inline-block',\n      width: '9rem',\n      height: '4rem'\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n\n  const doDeleteUser = () => {\n    apiCall({\n      url: `/api/v4/user/${username || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        history.push('/admin/users');\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const handleDeleteUser = () => {\n    setDeleteDialog(true);\n  };\n\n  function saveUser() {\n    apiCall({\n      url: `/api/v4/user/${username || id}/`,\n      method: 'POST',\n      body: user,\n      onSuccess: () => {\n        setModified(false);\n        showSuccessMessage(t('success_save'));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  function toggleToken(token) {\n    const newTokens = user.security_tokens;\n    if (newTokens.indexOf(token) === -1) {\n      newTokens.push(token);\n    } else {\n      newTokens.splice(newTokens.indexOf(token), 1);\n    }\n    setUser({ ...user, security_tokens: newTokens });\n  }\n\n  function toggleApp(app) {\n    const newApps = user.apps;\n    delete newApps[app];\n    setUser({ ...user, apps: newApps });\n  }\n\n  function toggleAPIKey(apiKey) {\n    const newKeys = user.apikeys;\n    if (newKeys.indexOf(apiKey) === -1) {\n      newKeys.push(apiKey);\n    } else {\n      newKeys.splice(newKeys.indexOf(apiKey), 1);\n    }\n    setUser({ ...user, apikeys: newKeys });\n  }\n\n  function setName(value) {\n    setModified(true);\n    setUser({ ...user, name: value });\n  }\n\n  function setGroups(value) {\n    setModified(true);\n    setUser({ ...user, groups: value });\n  }\n\n  function set2FAEnabled(value) {\n    if (value && user['2fa_enabled']) {\n      showErrorMessage(t('2fa_already_enabled'));\n    } else if (value) {\n      showSuccessMessage(t('2fa_enabled'));\n    } else {\n      showWarningMessage(t('2fa_disabled'));\n    }\n    setUser({ ...user, '2fa_enabled': value });\n  }\n\n  function setClassification(value) {\n    setModified(true);\n    setUser({ ...user, classification: value });\n  }\n\n  function setConfirmPassword(value) {\n    setModified(true);\n    setUser({ ...user, new_pass_confirm: value });\n  }\n\n  function setNewPassword(value) {\n    setModified(true);\n    setUser({ ...user, new_pass: value });\n  }\n\n  function setAPIQuota(value) {\n    setModified(true);\n    setUser({ ...user, api_quota: value });\n  }\n\n  function setSubmissionQuota(value) {\n    setModified(true);\n    setUser({ ...user, submission_quota: value });\n  }\n\n  function toggleAccountEnabled() {\n    setModified(true);\n    setUser({ ...user, is_active: !user.is_active });\n  }\n\n  function toggleDrawer(type) {\n    if (user) {\n      setDrawerType(type);\n      setDrawerOpen(true);\n    }\n  }\n\n  function toggleRole(role) {\n    const newTypes = user.type;\n    if (newTypes.indexOf(role) === -1) {\n      newTypes.push(role);\n    } else {\n      newTypes.splice(newTypes.indexOf(role), 1);\n    }\n    setModified(true);\n    setUser({ ...user, type: newTypes });\n  }\n\n  function handleAvatar(e) {\n    const reader = new FileReader();\n    const file = e.target.files[0];\n\n    if (!file) return;\n\n    reader.onload = img => {\n      setModified(true);\n      setUser({ ...user, avatar: img.target.result.toString() });\n    };\n    reader.readAsDataURL(file);\n  }\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin || !location.pathname.includes('/admin/')) {\n      apiCall({\n        url: `/api/v4/user/${username || id}/?load_avatar`,\n        onSuccess: api_data => {\n          setUser(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return !currentUser.is_admin && location.pathname.includes('/admin/') ? (\n    <Redirect to=\"/forbidden\" />\n  ) : (\n    <PageCenter margin={4} width=\"100%\">\n      <React.Fragment key=\"right\">\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n          <div style={{ alignSelf: 'flex-end' }}>\n            <IconButton onClick={() => setDrawerOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n          <div\n            style={{\n              paddingTop: sp4,\n              paddingBottom: sp6,\n              paddingLeft: sp4,\n              paddingRight: sp4,\n              display: 'flex',\n              flexDirection: 'column'\n            }}\n            className={classes.drawer}\n          >\n            {drawerType && user\n              ? {\n                  api_quota: (\n                    <>\n                      <Typography variant=\"h4\">{t('api_quota')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('api_quota_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"number\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setAPIQuota(event.target.value)}\n                        value={user.api_quota}\n                      />\n                    </>\n                  ),\n                  change_password: (\n                    <>\n                      <Typography variant=\"h4\" gutterBottom>\n                        {t('change_password')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        label={t('new_password')}\n                        onChange={event => setNewPassword(event.target.value)}\n                      />\n                      <TextField\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        label={t('confirm_password')}\n                        onChange={event => setConfirmPassword(event.target.value)}\n                      />\n                    </>\n                  ),\n                  groups: (\n                    <>\n                      <Typography variant=\"h4\">{t('groups')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('groups_edit_title')}\n                      </Typography>\n                      <ChipInput\n                        margin=\"normal\"\n                        defaultValue={user.groups}\n                        onChange={chips => setGroups(chips)}\n                        variant=\"outlined\"\n                      />\n                    </>\n                  ),\n                  name: (\n                    <>\n                      <Typography variant=\"h4\">{t('name')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('name_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setName(event.target.value)}\n                        value={user.name}\n                      />\n                    </>\n                  ),\n                  submission_quota: (\n                    <>\n                      <Typography variant=\"h4\">{t('submission_quota')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('submission_quota_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"number\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setSubmissionQuota(event.target.value)}\n                        value={user.submission_quota}\n                      />\n                    </>\n                  ),\n                  otp: <OTP setDrawerOpen={setDrawerOpen} set2FAEnabled={set2FAEnabled} />,\n                  disable_otp: <DisableOTP setDrawerOpen={setDrawerOpen} set2FAEnabled={set2FAEnabled} />,\n                  token: <SecurityToken user={user} toggleToken={toggleToken} />,\n                  api_key: <APIKeys user={user} toggleAPIKey={toggleAPIKey} />,\n                  apps: <Apps user={user} toggleApp={toggleApp} />\n                }[drawerType]\n              : null}\n          </div>\n        </Drawer>\n      </React.Fragment>\n\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={doDeleteUser}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      <Grid container spacing={2} justify=\"center\">\n        <Grid item xs={12} sm={12} md={3}>\n          <Grid container className={classes.group}>\n            {id && (\n              <Grid item xs={12}>\n                <div style={{ paddingBottom: sp4 }}>\n                  {user ? (\n                    <DeleteButton\n                      fullWidth={downSM}\n                      disabled={buttonLoading}\n                      variant=\"contained\"\n                      onClick={handleDeleteUser}\n                    >\n                      {t('remove')}\n                      {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                    </DeleteButton>\n                  ) : (\n                    <Skeleton\n                      className={classes.skelButton}\n                      style={{ minWidth: theme.spacing(16), width: downSM ? '100%' : null }}\n                    />\n                  )}\n                </div>\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              {user ? (\n                <>\n                  <input\n                    ref={inputRef}\n                    accept=\"image/*\"\n                    id=\"contained-button-file\"\n                    type=\"file\"\n                    style={{ display: 'none' }}\n                    onChange={handleAvatar}\n                  />\n                  <label htmlFor=\"contained-button-file\">\n                    <IconButton\n                      onClick={e => {\n                        inputRef.current.click();\n                      }}\n                    >\n                      <Avatar\n                        style={{\n                          width: downSM ? theme.spacing(24) : theme.spacing(16),\n                          height: downSM ? theme.spacing(24) : theme.spacing(16)\n                        }}\n                        alt={user.name}\n                        src={user.avatar}\n                      >\n                        {user.name\n                          .split(' ', 2)\n                          .map(n => (n ? n[0].toUpperCase() : ''))\n                          .join('')}\n                      </Avatar>\n                    </IconButton>\n                  </label>\n                </>\n              ) : (\n                <Skeleton\n                  className={classes.skelItem}\n                  variant=\"circle\"\n                  width={downSM ? theme.spacing(24) : theme.spacing(16)}\n                  height={downSM ? theme.spacing(24) : theme.spacing(16)}\n                />\n              )}\n              <Typography gutterBottom>{user ? user.uname : <Skeleton />}</Typography>\n            </Grid>\n            <Grid item style={{ marginTop: '2rem' }} xs={12}>\n              <div style={{ paddingBottom: id ? 0 : sp4 }}>\n                {user ? (\n                  <CustomChip\n                    fullWidth={downSM}\n                    color={user.is_active ? 'primary' : 'default'}\n                    onClick={currentUser.username !== user.uname ? toggleAccountEnabled : null}\n                    label={user.is_active ? t('enabled') : t('disabled')}\n                    type=\"rounded\"\n                    style={{ minWidth: theme.spacing(16) }}\n                  />\n                ) : (\n                  <Skeleton\n                    className={classes.skelButton}\n                    style={{ minWidth: theme.spacing(16), width: downSM ? '100%' : null }}\n                  />\n                )}\n              </div>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item sm={12} md={9} style={{ width: '100%' }}>\n          <Classification\n            type={currentUser.is_admin ? 'picker' : 'pill'}\n            size=\"medium\"\n            format=\"long\"\n            c12n={user && user.classification}\n            setClassification={setClassification}\n            isUser\n          />\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('profile')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={isWidthDown('xs', width) ? 2 : 3}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('profile')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow className={classes.row}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('uname')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('uname')}</Typography>}\n                    {user ? <div>{user.uname}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('name')}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('name')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('name')}</Typography>}\n                    {user ? <div>{user.name}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('groups')}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('groups')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('groups')}</Typography>}\n                    {user ? <div>{user.groups.join(' | ')}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                <TableRow className={classes.row}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('email')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('email')}</Typography>}\n                    {user ? <div>{user.email}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('options')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={3}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('options')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('roles')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('roles')}</Typography>}\n                    {user ? (\n                      <div>\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('user') ? 'primary' : 'default'}\n                          onClick={\n                            currentUser.username !== user.uname && currentUser.is_admin\n                              ? () => toggleRole('user')\n                              : null\n                          }\n                          label={t('normal_user')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('admin') ? 'primary' : 'default'}\n                          onClick={\n                            currentUser.username !== user.uname && currentUser.is_admin\n                              ? () => toggleRole('admin')\n                              : null\n                          }\n                          label={t('admin')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('signature_manager') ? 'primary' : 'default'}\n                          onClick={currentUser.is_admin ? () => toggleRole('signature_manager') : null}\n                          label={t('signature_manager')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('signature_importer') ? 'primary' : 'default'}\n                          onClick={currentUser.is_admin ? () => toggleRole('signature_importer') : null}\n                          label={t('signature_importer')}\n                        />\n                      </div>\n                    ) : (\n                      <Skeleton />\n                    )}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n                <TableRow\n                  hover={currentUser.is_admin}\n                  style={{ cursor: currentUser.is_admin ? 'pointer' : 'default' }}\n                  onClick={currentUser.is_admin ? event => toggleDrawer('api_quota') : null}\n                >\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('api_quota')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('api_quota')}</Typography>}\n                    {user ? <div>{user.api_quota}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">{currentUser.is_admin ? <ChevronRightOutlinedIcon /> : null}</TableCell>\n                </TableRow>\n                <TableRow\n                  hover={currentUser.is_admin}\n                  style={{ cursor: currentUser.is_admin ? 'pointer' : 'default' }}\n                  onClick={currentUser.is_admin ? event => toggleDrawer('submission_quota') : null}\n                >\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('submission_quota')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : (\n                      <Typography variant=\"caption\">{t('submission_quota')}</Typography>\n                    )}\n                    {user ? <div>{user.submission_quota}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">{currentUser.is_admin ? <ChevronRightOutlinedIcon /> : null}</TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('security')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('security')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('change_password')}>\n                  <TableCell width=\"100%\">{user ? t('change_password') : <Skeleton />}</TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                {user && currentUser.username === user.uname && configuration.auth.allow_2fa && (\n                  <TableRow\n                    hover\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => toggleDrawer(user && user['2fa_enabled'] ? 'disable_otp' : 'otp')}\n                  >\n                    <TableCell width=\"100%\">\n                      {user ? user['2fa_enabled'] ? t('2fa_off') : t('2fa_on') : <Skeleton />}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n                {user &&\n                  currentUser.username === user.uname &&\n                  user['2fa_enabled'] &&\n                  configuration.auth.allow_security_tokens && (\n                    <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('token')}>\n                      <TableCell width=\"100%\">{t('token')}</TableCell>\n                      <TableCell align=\"right\">\n                        <ChevronRightOutlinedIcon />\n                      </TableCell>\n                    </TableRow>\n                  )}\n                {user && currentUser.username === user.uname && configuration.auth.allow_apikeys && (\n                  <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('api_key')}>\n                    <TableCell width=\"100%\">{t('apikeys')}</TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n                {user && currentUser.username === user.uname && (\n                  <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('apps')}>\n                    <TableCell width=\"100%\">{t('apps')}</TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          {user && modified ? (\n            <div\n              style={{\n                paddingTop: sp1,\n                paddingBottom: sp1,\n                position: 'fixed',\n                bottom: 0,\n                left: 0,\n                width: '100%',\n                zIndex: theme.zIndex.drawer - 1,\n                backgroundColor: theme.palette.background.default,\n                boxShadow: theme.shadows[4]\n              }}\n            >\n              <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveUser}>\n                {t('save')}\n                {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n              </Button>\n            </div>\n          ) : null}\n        </Grid>\n      </Grid>\n    </PageCenter>\n  );\n}\n\nUser.defaultProps = {\n  username: null\n};\n\nexport default withWidth()(User);\n","import useUser from 'commons/components/hooks/useAppUser';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport User from 'components/routes/user';\nimport React from 'react';\n\nexport default function Account() {\n  const { user: currentUser } = useUser<CustomUser>();\n  return <User username={currentUser.username} />;\n}\n","import { Button, useTheme } from '@material-ui/core';\nimport LinkIcon from '@material-ui/icons/Link';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\ntype LinkGridProps = {\n  items: {\n    route: string;\n    icon?: React.ReactElement<any>;\n    name?: string;\n    text?: string;\n  }[];\n};\n\nexport default function LinkGrid({ items }: LinkGridProps) {\n  const theme = useTheme();\n  const color = theme.palette.action.active;\n  const padding = theme.spacing(10);\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n      {items.map((e, i) => {\n        return (\n          <Button key={i} component={Link} to={e.route}>\n            <div style={{ height: '300px', width: '300px', padding, textAlign: 'center', color }}>\n              {e.icon ? (\n                React.cloneElement(e.icon, { style: { fontSize: '8rem' } }, null)\n              ) : (\n                <LinkIcon style={{ fontSize: '8rem' }} />\n              )}\n              <span style={{ fontSize: 'medium' }}>{e.name || e.text}</span>\n            </div>\n          </Button>\n        );\n      })}\n    </div>\n  );\n}\n","import useUser from 'commons/components/hooks/useAppUser';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Admin() {\n  const layout = useMyLayout();\n  const { user: currentUser } = useUser<CustomUser>();\n\n  return currentUser.is_admin ? (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={layout.topnav.adminMenu} />\n    </PageCenter>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import { OptionsObject, useSnackbar } from 'notistack';\n\nexport default function useClipboard() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const snackBarOptions: OptionsObject = {\n    preventDuplicate: true,\n    autoHideDuration: 5000,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    onClick: _snack => {\n      closeSnackbar();\n    }\n  };\n\n  const copy = (text: string, targetId = 'root') => {\n    const el = document.createElement('textarea');\n    const target = document.getElementById(targetId) || document.body;\n    el.value = text;\n    target.appendChild(el);\n    el.focus();\n    el.select();\n    const copySuccess = document.execCommand('copy');\n    target.removeChild(el);\n    if (copySuccess) {\n      enqueueSnackbar(text, { variant: 'success', ...snackBarOptions });\n    } else {\n      enqueueSnackbar(text, { variant: 'error', ...snackBarOptions });\n    }\n  };\n \n  return { copy };\n}","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  page: {\n    width: '100%'\n  }\n}));\n\ntype PageFullWidthProps = {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n};\n\nconst PageFullWidth: React.FC<PageFullWidthProps> = ({ children, margin = null, mb = 2, ml = 2, mr = 2, mt = 2 }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  return (\n    <div className={classes.page}>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageFullWidth;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  AppBar,\n  Button,\n  ButtonProps,\n  IconButton,\n  IconButtonProps,\n  Toolbar,\n  Tooltip,\n  useTheme\n} from '@material-ui/core';\nimport useAppBarHeight from 'commons/components/hooks/useAppBarHeight';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\n\nexport type PageHeaderAction = {\n  key?: string;\n  title?: string;\n  tooltip?: string;\n  icon?: React.ReactNode;\n  color?: 'primary' | 'secondary';\n  action?: () => void;\n  btnProp?: ButtonProps | IconButtonProps;\n};\n\ntype PageHeaderProps = {\n  children?: React.ReactNode;\n  left?: React.ReactNode;\n  right?: React.ReactNode;\n  actions?: PageHeaderAction[];\n  isSticky?: boolean;\n  top?: number;\n  elevation?: number;\n  backgroundColor?: string;\n};\n\nconst PageHeader: React.FC<PageHeaderProps> = ({\n  children,\n  left,\n  right,\n  actions,\n  isSticky = false,\n  top,\n  backgroundColor = null,\n  elevation = 0\n}) => {\n  const theme = useTheme();\n  const { currentLayout, autoHideAppbar } = useAppLayout();\n  const appBarHeight = useAppBarHeight();\n\n  const barWillHide = currentLayout !== 'top' && autoHideAppbar;\n\n  return (\n    <AppBar\n      id=\"header1\"\n      position={isSticky ? 'sticky' : 'relative'}\n      style={{\n        top: top !== undefined ? top : isSticky ? (barWillHide ? 0 : appBarHeight) : null,\n        backgroundColor: backgroundColor || theme.palette.background.default,\n        zIndex: !isSticky ? theme.zIndex.appBar - 100 : null\n      }}\n      elevation={elevation}\n      color=\"inherit\"\n    >\n      {children}\n      {(left || right || actions) && (\n        <Toolbar style={{ minHeight: 0 }} disableGutters>\n          <div style={{ flexGrow: 1 }}>{left}</div>\n          <div>\n            {actions &&\n              actions.map((a, i) => {\n                let act = null;\n                if (a.title) {\n                  act = (\n                    <Button\n                      key={a.tooltip ? null : a.key ? a.key : `ph-action-${i}`}\n                      startIcon={a.icon}\n                      color={a.color}\n                      onClick={a.action}\n                      {...(a.btnProp as ButtonProps)}\n                      style={{ marginRight: theme.spacing(1) }}\n                    >\n                      {a.title}\n                    </Button>\n                  );\n                } else {\n                  act = (\n                    <IconButton\n                      key={a.tooltip ? null : a.key ? a.key : `ph-action-${i}`}\n                      color={a.color}\n                      onClick={a.action}\n                      {...(a.btnProp as IconButtonProps)}\n                      style={{ marginRight: theme.spacing(1) }}\n                    >\n                      {a.icon}\n                    </IconButton>\n                  );\n                }\n                return a.tooltip ? (\n                  <Tooltip key={a.key ? a.key : `ph-action-${i}`} title={a.tooltip}>\n                    {act}\n                  </Tooltip>\n                ) : (\n                  act\n                );\n              })}\n          </div>\n          <div>{right}</div>\n        </Toolbar>\n      )}\n    </AppBar>\n  );\n};\n\nexport default PageHeader;\n","import { Drawer, IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport React, { useMemo, useState } from 'react';\n\nconst XLWidth = '45vw';\nconst LGWidth = '85%';\nconst MDWidth = '85%';\nconst SMWidth = '100%';\n\nconst useStyles = makeStyles(theme => ({\n  appMain: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    position: 'relative',\n    overflowX: 'hidden'\n  },\n  appContent: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    flex: 1,\n    height: '100%',\n    overflowX: 'hidden'\n  },\n  appRightDrawer: {\n    '@media print': {\n      display: 'none'\n    },\n    transition: 'width 225ms cubic-bezier(0, 0, 0.2, 1) 0ms'\n  },\n  paper: {\n    [theme.breakpoints.only('xl')]: {\n      width: XLWidth\n    },\n    [theme.breakpoints.only('lg')]: {\n      width: LGWidth\n    },\n    [theme.breakpoints.only('md')]: {\n      width: MDWidth\n    },\n    [theme.breakpoints.down('sm')]: {\n      width: SMWidth\n    }\n  }\n}));\n\nexport type DrawerContextProps = {\n  closeGlobalDrawer: () => void;\n  setGlobalDrawer: (elements: React.ReactElement<any>) => void;\n  globalDrawer: React.ReactElement<any>;\n};\n\nexport interface DrawerProviderProps {\n  children: React.ReactNode;\n}\n\nexport const DrawerContext = React.createContext<DrawerContextProps>(null);\n\nfunction DrawerProvider(props: DrawerProviderProps) {\n  const { children } = props;\n  const [globalDrawer, setGlobalDrawer] = useState(null);\n  const theme = useTheme();\n  const classes = useStyles();\n  const isMD = useMediaQuery(theme.breakpoints.only('md'));\n  const isLG = useMediaQuery(theme.breakpoints.only('lg'));\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n\n  const drawerWidth = isXL ? XLWidth : isLG ? LGWidth : isMD ? MDWidth : SMWidth;\n  const closeGlobalDrawer = () => {\n    setGlobalDrawer(null);\n  };\n\n  return (\n    <DrawerContext.Provider\n      value={{\n        closeGlobalDrawer,\n        setGlobalDrawer,\n        globalDrawer\n      }}\n    >\n      <div className={classes.appMain}>\n        {useMemo(\n          () => (\n            <div className={classes.appContent}>{children}</div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [children]\n        )}\n        <Drawer\n          open={globalDrawer !== null}\n          className={classes.appRightDrawer}\n          style={{\n            width: globalDrawer ? drawerWidth : 0,\n            zIndex: theme.zIndex.drawer + 100\n          }}\n          classes={{ paper: classes.paper }}\n          anchor=\"right\"\n          variant={isXL ? 'persistent' : 'temporary'}\n          onClose={closeGlobalDrawer}\n        >\n          {useMemo(\n            () => (\n              <>\n                <div\n                  id=\"drawerTop\"\n                  style={{\n                    backgroundColor: theme.palette.background.paper,\n                    padding: theme.spacing(1),\n                    position: 'sticky',\n                    top: 0,\n                    zIndex: 1\n                  }}\n                >\n                  <IconButton onClick={closeGlobalDrawer}>\n                    <CloseOutlinedIcon />\n                  </IconButton>\n                </div>\n                <div\n                  style={{\n                    paddingLeft: theme.spacing(2),\n                    paddingRight: theme.spacing(2)\n                  }}\n                >\n                  {globalDrawer}\n                </div>\n              </>\n            ),\n            [globalDrawer, theme]\n          )}\n        </Drawer>\n      </div>\n    </DrawerContext.Provider>\n  );\n}\n\nexport default DrawerProvider;\n","import { DrawerContext, DrawerContextProps } from 'components/visual/DrawerProvider';\nimport { useContext } from 'react';\n\nexport default function useDrawer(): DrawerContextProps {\n  return useContext(DrawerContext) as DrawerContextProps;\n}\n","/* eslint-disable no-param-reassign */\nimport browser from 'browser-detect';\n\nexport function insertText(input, from, to, text) {\n  const browserName = browser().name;\n  // execCommand doesn't work in FF.\n  input.focus();\n  if (browserName === 'firefox') {\n    _insertTextFF(input, from, to, text);\n  } else {\n    _insertText(input, from, to, text);\n  }\n}\n\nfunction _insertText(input, from, to, text) {\n  // const thisCursor = input.selectionStart;\n  // const nextCursor = thisCursor + text.length;\n  input.setSelectionRange(from, to);\n  document.execCommand('insertText', false, text);\n}\n\nfunction _insertTextFF(input, from, to, text) {\n  // UNDO is broken in FF.\n  const oldText = input.value;\n  const prefix = oldText.substring(0, from);\n  const suffix = oldText.substring(to);\n  const newText = `${prefix}${text}${suffix}`;\n  input.value = newText;\n}\n","export const ENTER = 'Enter';\nexport const ESCAPE = 'Escape';\nexport const ARROW_LEFT = 'ArrowLeft';\nexport const ARROW_UP = 'ArrowUp';\nexport const ARROW_RIGHT = 'ArrowRight';\nexport const ARROW_DOWN = 'ArrowDown';\n\nexport function is(key: string, check: string) {\n  return key === check;\n}\n\nexport function isArrowUp(key: string) {\n  return is(key, ARROW_UP);\n}\n\nexport function isArrowDown(key: string) {\n  return is(key, ARROW_DOWN);\n}\n\nexport function isArrowLeft(key: string) {\n  return is(key, ARROW_LEFT);\n}\n\nexport function isArrowRight(key: string) {\n  return is(key, ARROW_RIGHT);\n}\n\nexport function isEscape(key: string) {\n  return is(key, ESCAPE);\n}\n\nexport function isEnter(key: string) {\n  return is(key, ENTER);\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { Box, makeStyles, TextField, useMediaQuery, useTheme } from '@material-ui/core';\nimport { insertText } from 'commons/addons/elements/utils/browser';\nimport {\n  isArrowDown,\n  isArrowLeft,\n  isArrowRight,\n  isArrowUp,\n  isEnter,\n  isEscape\n} from 'commons/addons/elements/utils/keyboard';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const DEFAULT_SUGGESTION = ['OR', 'AND', 'NOT', 'TO', 'now', 'd', 'M', 'y', 'h', 'm'];\n\nconst useStyles = makeStyles(theme => ({\n  searchTextFieldOptionsCt: {\n    textAlign: 'left',\n    position: 'relative',\n    height: 0,\n    outline: 'none',\n    borderRadius: '0 0 4px 4px'\n  },\n  searchTextFieldOptionsInner: {\n    display: 'inline-block',\n    position: 'absolute',\n    overflow: 'auto',\n    zIndex: 1,\n    top: theme.spacing(1),\n    minWidth: '100%',\n    maxHeight: 250,\n    backgroundColor: theme.palette.background.default,\n    boxShadow: theme.shadows[4],\n    borderRadius: '0 0 4px 4px'\n  },\n  searchTextFieldItem: {\n    padding: theme.spacing(1),\n    '&:hover': {\n      cursor: 'pointer',\n      backgroundColor: theme.palette.action.hover\n    },\n    '&[data-searchtextfieldoption-selected=\"true\"]': {\n      backgroundColor: theme.palette.action.selected\n    }\n  }\n}));\n\ninterface SearchTextFieldProps {\n  value: string;\n  options: string[];\n  placeholder?: string;\n  disabled?: boolean;\n  onChange: (value: string) => void;\n  onClear: () => void;\n  onSearch: (query: string) => void;\n  onSelection?: (selected: string) => void;\n}\n\nconst SearchTextField: React.FC<SearchTextFieldProps> = ({\n  value,\n  options,\n  placeholder = null,\n  disabled = false,\n  onSearch,\n  onChange,\n  onSelection,\n  onClear\n}) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [cursor, setCursor] = useState<number>(-1);\n  const [filteredOptions, setFilteredOptions] = useState<{ start: number; end: number; items: string[] }>({\n    start: 0,\n    end: 0,\n    items: options\n  });\n  const { t } = useTranslation();\n  const [open, setOpen] = useState<boolean>(false);\n  const element = useRef<HTMLDivElement>();\n  const optionsElement = useRef<HTMLDivElement>();\n  const isLTEMedium = useMediaQuery(theme.breakpoints.up('md'));\n\n  // Ensure we update options if a new list is provided.\n  useEffect(() => setFilteredOptions({ start: 0, end: 0, items: options }), [options]);\n\n  // Get the the text input element.\n  const getInputEl = () => {\n    return element.current.querySelector('input');\n  };\n\n  // Automatically close the options box with losing focus.\n  const _onBlur = () => {\n    // setOpen(false);\n  };\n\n  // Handler for when the value of the text input changes.\n  const _onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value: _value } = event.currentTarget;\n    onChange(_value);\n    filterOptions(_value);\n  };\n\n  // Handler for KeyDown event on either the text input of the options menu.\n  const _onKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n    const { key: keyCode } = event;\n\n    if (isEnter(keyCode)) {\n      // key[ENTER ]: handler\n      if (open && cursor !== -1) {\n        onOptionSelection(filteredOptions.start, filteredOptions.end, filteredOptions.items[cursor]);\n      } else {\n        onSearch(value);\n        if (open) onOptionsClose();\n      }\n    } else if (isEscape(keyCode)) {\n      // key[ESCAPE]: handler\n      if (open) {\n        onOptionsClose();\n      } else {\n        onClear();\n      }\n    } else if (isArrowUp(keyCode)) {\n      // key[ARROW_UP]: handler\n      event.preventDefault();\n      if (open) {\n        const nextIndex = cursor - 1 > -1 ? cursor - 1 : filteredOptions.items.length - 1;\n        setCursor(nextIndex);\n        scrollTo(nextIndex);\n      }\n    } else if (isArrowDown(keyCode)) {\n      // key[ARROW_DOWN]: handler\n      event.preventDefault();\n      if (open) {\n        const nextIndex = cursor + 1 < filteredOptions.items.length ? cursor + 1 : 0;\n        setCursor(nextIndex);\n        scrollTo(nextIndex);\n      } else {\n        onOptionsOpen();\n      }\n    } else if (isArrowLeft(keyCode)) {\n      // key[ARROW_LEFT]: handler\n      filterOptions(value, -1);\n    } else if (isArrowRight(keyCode)) {\n      // key[ARROW_RIGHT]: handler\n      filterOptions(value, 1);\n    } else if (!open) {\n      onOptionsOpen();\n    }\n  };\n\n  // Handler for when the options box opens.\n  const onOptionsOpen = () => {\n    setOpen(true);\n  };\n\n  // Handler for when the options box closes.\n  const onOptionsClose = () => {\n    setOpen(false);\n    setCursor(-1);\n    getInputEl().focus();\n  };\n\n  // Handler for when an option is selected.\n  const onOptionSelection = (startIndex: number, endIndex: number, option: string) => {\n    if (option) {\n      const inputEl = getInputEl();\n      insertText(inputEl, startIndex, endIndex + 1, `${option}${DEFAULT_SUGGESTION.indexOf(option) === -1 ? ':' : ''}`);\n      onOptionsClose();\n      onChange(inputEl.value);\n      if (onSelection) {\n        onSelection(option);\n      }\n    }\n  };\n\n  // Scroll options element to the element at specified position.\n  const scrollTo = (position: number) => {\n    const _target = optionsElement.current.querySelector(`[data-searchtextfieldoption-position=\"${position}\"`);\n    if (_target) {\n      _target.scrollIntoView({ block: 'nearest' });\n    }\n  };\n\n  // Filter the options.\n  // Split filter value by single space.\n  // Grab nearest group to the left of cursor.\n  // Filter entire list with that value if not empty.\n  const filterOptions = (inputValue: string, selectionOffset = 0) => {\n    //\n    const {\n      value: filterValue,\n      cursor: thisCursor,\n      startIndex: insertStartIndex,\n      endIndex: insertEndIndex\n    } = parseFilter(inputValue, selectionOffset);\n\n    // Filter options.\n    const _options =\n      filterValue.length > 0\n        ? options.filter(option => option.toLowerCase().includes(filterValue.toLowerCase()))\n        : options;\n\n    // If filtered options is empty, then we return all options..\n    setFilteredOptions({\n      start: insertStartIndex > -1 ? insertStartIndex : thisCursor,\n      end: insertEndIndex > -1 ? insertEndIndex : thisCursor,\n      items: _options\n    });\n\n    // Update state of content assist opptions if no options are avaiable.\n    if (_options.length === 0) {\n      setOpen(false);\n    }\n  };\n\n  const parseFilter = (\n    inputValue: string,\n    offset = 0\n  ): { value: string; cursor: number; startIndex: number; endIndex: number } => {\n    // With left/right arrow keys, the cursor isn't yet updated to new position\n    //  when the event is received, therefore we use offset.\n    //  +1 for right arrow, -1 for left arrow.\n    const thisCursor = getInputEl().selectionStart + offset;\n\n    // We'll split the inptu text in two parts, before and after cursor.\n    const _precursor = inputValue.substr(0, thisCursor);\n    const _postcursor = inputValue.substr(thisCursor);\n\n    // Intialize the start and end indexes of filter value.\n    let filterStartIndex = -1;\n    let filterEndIndex = -1;\n\n    // Grab the last substring of text from precursor.\n    const _preParts = _precursor.split(' ');\n    const _prePartsLast = _preParts[_preParts.length - 1];\n\n    // Grab the first substring of text from postcursor.\n    const _postParts = _postcursor.split(' ');\n    const _postPartsFirst = _postParts[0];\n\n    // If what preceeds the cursor isn't an empty string, we compute the new start position of filterValue.\n    if (_prePartsLast !== '') {\n      filterStartIndex = thisCursor - _prePartsLast.length;\n    }\n\n    // If what fallows the cursor isn't an empty string, we compute the new end position of filterValue.\n    if (_postPartsFirst !== '') {\n      filterEndIndex = thisCursor + _postPartsFirst.length - 1;\n    } else {\n      // Ensure that if we have a what preceed cursor isn't empty, to set end position to cursor.\n      filterEndIndex = filterStartIndex > -1 ? thisCursor - 1 : -1;\n    }\n\n    // If the preceeding part of cursor is empty but not the folowing part, then set start position to cursor.\n    if (filterStartIndex === -1 && filterEndIndex > -1) {\n      filterStartIndex = thisCursor;\n    }\n\n    // Give it back.\n    return {\n      value: _prePartsLast,\n      cursor: thisCursor,\n      startIndex: filterStartIndex,\n      endIndex: filterEndIndex\n    };\n  };\n\n  return (\n    <div ref={element}>\n      <TextField\n        placeholder={placeholder || t('filter')}\n        value={value}\n        color=\"secondary\"\n        InputProps={{ disableUnderline: true }}\n        disabled={disabled}\n        onChange={_onChange}\n        onKeyDown={_onKeyDown}\n        onBlur={_onBlur}\n        autoFocus\n        fullWidth\n      />\n      {open && isLTEMedium ? (\n        <div ref={optionsElement} className={classes.searchTextFieldOptionsCt}>\n          <div className={classes.searchTextFieldOptionsInner}>\n            {filteredOptions.items.map((item, index) => (\n              <SearchTextOption\n                key={`SearchTextField-item-${index}`}\n                text={item}\n                position={index}\n                onSelection={() => onOptionSelection(filteredOptions.start, filteredOptions.end, item)}\n                selected={index === cursor}\n              />\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nconst SearchTextOption: React.FC<{\n  text: string;\n  position: number;\n  selected: boolean;\n  onSelection: () => void;\n}> = ({ text, position, selected = false, onSelection }) => {\n  const classes = useStyles();\n  return (\n    <Box\n      className={classes.searchTextFieldItem}\n      data-searchtextfieldoption-position={position}\n      data-searchtextfieldoption-selected={selected}\n      onClick={() => onSelection()}\n    >\n      {text}\n    </Box>\n  );\n};\n\nexport default SearchTextField;\n","import {\n  Box,\n  Divider,\n  fade,\n  IconButton,\n  IconButtonProps,\n  LinearProgress,\n  makeStyles,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport BackspaceIcon from '@material-ui/icons/Backspace';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport SearchTextField from './search-textfield';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& button': {\n      marginRight: theme.spacing(1)\n    }\n  },\n  searchbar: {\n    borderRadius: '4px',\n    paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(0.5),\n    backgroundColor: fade(theme.palette.text.primary, 0.04),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.text.primary, 0.06)\n    },\n    '& input': {\n      color: theme.palette.text.secondary\n    }\n  },\n  searchresult: {\n    color: theme.palette.primary.light,\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  }\n}));\n\nexport interface SearchBarButton {\n  icon: React.ReactNode;\n  props: IconButtonProps;\n  tooltip?: string;\n}\n\ninterface SearchBarProps {\n  initValue: string;\n  placeholder?: string;\n  searching?: boolean;\n  buttons?: SearchBarButton[];\n  extras?: React.ReactNode;\n  suggestions?: string[];\n  onValueChange?: (filterValue: string) => void;\n  onSearch: (filterValue: string, inputElement: HTMLInputElement) => void;\n  onClear: (inputElement: HTMLInputElement) => void;\n}\n\nconst SearchBar: React.FC<SearchBarProps> = ({\n  initValue,\n  children,\n  placeholder,\n  searching = false,\n  suggestions = [],\n  buttons = [],\n  extras,\n  onValueChange,\n  onSearch,\n  onClear\n}) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const classes = useStyles();\n  const element = useRef<HTMLInputElement>();\n  const [value, setValue] = useState<string>(initValue);\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n\n  //\n  const getInputEl = () => {\n    return element.current.querySelector('input');\n  };\n\n  // handler[onchange]: textfield change handler.\n  // track value of filter..\n  const _onValueChange = (_value: string) => {\n    setValue(_value);\n    onValueChange(_value);\n  };\n\n  // When clearing the filter value.\n  const _onValueClear = () => {\n    // textFieldEl.current.querySelector('input').focus();\n    setValue('');\n    onClear(getInputEl());\n  };\n\n  // When requesting a search.\n  const _onSearch = () => {\n    onSearch(value, getInputEl());\n  };\n\n  //\n  useEffect(() => {\n    setValue(initValue);\n  }, [initValue]);\n\n  return (\n    <div ref={element} className={classes.root}>\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        className={classes.searchbar}\n        alignItems=\"center\"\n        style={{ paddingRight: !extras ? theme.spacing(0.5) : null }}\n      >\n        <Box flex={1} display=\"relative\">\n          <SearchTextField\n            value={value}\n            placeholder={placeholder}\n            options={suggestions}\n            disabled={searching}\n            onChange={_onValueChange}\n            onSearch={_onSearch}\n            onClear={_onValueClear}\n          />\n        </Box>\n        <IconButton\n          onClick={_onValueClear}\n          edge=\"end\"\n          size={!upMD ? 'small' : null}\n          style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n        >\n          <Tooltip title={t('clear_filter')}>\n            <BackspaceIcon fontSize={!upMD ? 'small' : 'default'} />\n          </Tooltip>\n        </IconButton>\n        {buttons.length !== 0 && (\n          <Divider\n            orientation=\"vertical\"\n            flexItem\n            style={{ marginLeft: theme.spacing(upMD ? 0 : 0.5), marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n          />\n        )}\n        {buttons.map((b, i) => {\n          return b.tooltip ? (\n            <Tooltip key={`searchbar-button-${i}`} title={b.tooltip}>\n              <IconButton\n                {...b.props}\n                edge=\"end\"\n                size={!upMD ? 'small' : null}\n                style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n              >\n                {b.icon}\n              </IconButton>\n            </Tooltip>\n          ) : (\n            <IconButton\n              key={`searchbar-button-${i}`}\n              {...b.props}\n              edge=\"end\"\n              size={!upMD ? 'small' : null}\n              style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n            >\n              {b.icon}\n            </IconButton>\n          );\n        })}\n        {extras}\n      </Box>\n      {searching && (\n        <LinearProgress\n          style={{\n            position: 'absolute',\n            height: theme.spacing(upMD ? 0.5 : 0.25),\n            marginTop: theme.spacing(upMD ? -0.5 : -0.25),\n            width: '100%',\n            borderRadius: '0 0 4px 4px'\n          }}\n        />\n      )}\n      <div className={classes.searchresult}>{children}</div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","export default class SimpleSearchQuery {\n  private params: URLSearchParams = null;\n\n  private defaultParams: URLSearchParams = null;\n\n  constructor(baseSearch: string, defaults: string = 'rows=25&offset=0') {\n    this.params = new URLSearchParams(baseSearch);\n    this.defaultParams = new URLSearchParams(defaults);\n  }\n\n  public getDefaultString() {\n    return this.defaultParams.toString();\n  }\n\n  public getDeltaString() {\n    const deltaParams = new URLSearchParams();\n    this.params.forEach((value, key) => {\n      if (this.defaultParams.get(key) !== value) {\n        deltaParams.append(key, value);\n      }\n    });\n    return deltaParams.toString();\n  }\n\n  public getParams() {\n    const output = {};\n    this.defaultParams.forEach((value, key) => {\n      if (!(key in output) && !this.params.has(key)) {\n        if (key !== 'fq') {\n          output[key] = value;\n        } else {\n          output[key] = [value];\n        }\n      } else if (key === 'fq') {\n        output[key].push(value);\n      }\n    });\n\n    this.params.forEach((value, key) => {\n      if (!(key in output)) {\n        if (key !== 'fq') {\n          output[key] = value;\n        } else {\n          output[key] = [value];\n        }\n      } else if (key === 'fq') {\n        output[key].push(value);\n      }\n    });\n    return output;\n  }\n\n  public get(key: string, defaultVal = null) {\n    return this.params.get(key) || defaultVal;\n  }\n\n  public set(key: string, value) {\n    this.params.set(key, value);\n  }\n\n  public getAll(key: string, defaultVal = null) {\n    return this.params.getAll(key) || defaultVal;\n  }\n\n  public delete(key: string) {\n    this.params.delete(key);\n  }\n\n  public has(key: string): boolean {\n    return this.params.has(key);\n  }\n\n  public toString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('group_by');\n    return params.toString();\n  }\n}\n","import { Pagination } from '@material-ui/lab';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport React from 'react';\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport interface SearchPagerProps {\n  total: number;\n  pageSize: number;\n  index: string;\n  method?: 'POST' | 'GET';\n  query: SimpleSearchQuery;\n  setResults: (data: SearchResults) => void;\n  scrollToTop?: boolean;\n  size?: 'small' | 'large' | null;\n  setSearching?: (value: boolean) => void | null;\n  url?: string;\n  [propName: string]: any;\n}\n\nconst WrappedSearchPager: React.FC<SearchPagerProps> = ({\n  total,\n  pageSize,\n  index,\n  method = 'POST',\n  query,\n  setResults,\n  scrollToTop = true,\n  size = 'small',\n  setSearching = null,\n  url = null,\n  children,\n  ...otherProps\n}) => {\n  const apiCall = useMyAPI();\n  const count = Math.ceil(total / pageSize);\n\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\n    if (setSearching) {\n      setSearching(true);\n    }\n    const pageQuery = new SimpleSearchQuery(query.toString(), query.getDefaultString());\n    pageQuery.set('rows', pageSize);\n    pageQuery.set('offset', (value - 1) * pageSize);\n\n    apiCall({\n      method,\n      url: `${url || `/api/v4/search/${index}/`}${method === 'GET' ? `?${pageQuery.toString()}` : ''}`,\n      body: method === 'POST' ? pageQuery.getParams() : null,\n      onSuccess: api_data => {\n        setResults(api_data.api_response);\n        if (scrollToTop) {\n          window.scrollTo(0, 0);\n        }\n      },\n      onFinalize: () => {\n        if (setSearching) {\n          setSearching(false);\n        }\n      }\n    });\n  };\n\n  return count > 1 ? (\n    <Pagination {...otherProps} count={count} onChange={handleChange} shape=\"rounded\" size={size} />\n  ) : null;\n};\n\nconst SearchPager = React.memo(WrappedSearchPager);\nexport default SearchPager;\n","import {\n  createStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Theme,\n  withStyles\n} from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: '8px',\n      paddingLeft: '8px'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\ntype CellProps = {\n  children?: React.ReactNode;\n  [key: string]: any;\n};\n\nexport const DivTableCell = ({ children, ...other }: CellProps) => {\n  return (\n    <StyledTableCell {...other} component=\"div\">\n      {children}\n    </StyledTableCell>\n  );\n};\n\nDivTableCell.defaultProps = {\n  children: null\n};\n\nexport const SortableHeaderCell = ({ children, sortField, allowSort = true, ...other }) => {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const curSort = searchParams.get('sort');\n  const history = useHistory();\n  const active = curSort && curSort.indexOf(sortField) !== -1;\n  const dir = active && curSort.indexOf('asc') !== -1 ? 'asc' : 'desc';\n\n  const triggerSort = () => {\n    if (curSort && curSort.indexOf(sortField) !== -1 && curSort.indexOf('asc') === -1) {\n      searchParams.set('sort', `${sortField} asc`);\n    } else {\n      searchParams.set('sort', `${sortField} desc`);\n    }\n    history.push(`${location.pathname}?${searchParams.toString()}`);\n  };\n  return (\n    <StyledTableCell {...other} component=\"div\">\n      {allowSort ? (\n        <TableSortLabel active={active} direction={dir} onClick={triggerSort}>\n          {children}\n        </TableSortLabel>\n      ) : (\n        children\n      )}\n    </StyledTableCell>\n  );\n};\n\nexport const LinkRow = ({ children, to, ...other }) => {\n  return (\n    <TableRow component={Link} {...other} to={to} style={{ cursor: 'pointer', textDecoration: 'none' }}>\n      {children}\n    </TableRow>\n  );\n};\n\nexport const DivTableRow = ({ children, ...other }) => {\n  return (\n    <TableRow {...other} component=\"div\">\n      {children}\n    </TableRow>\n  );\n};\n\nexport const DivTableHead = ({ children, ...other }) => {\n  return (\n    <TableHead {...other} component=\"div\">\n      {children}\n    </TableHead>\n  );\n};\n\nexport const DivTableBody = ({ children, ...other }) => {\n  return (\n    <TableBody {...other} component=\"div\">\n      {children}\n    </TableBody>\n  );\n};\n\nexport const DivTable = ({ children, size = 'small' as 'small', ...other }) => {\n  return (\n    <Table size={size} {...other} component=\"div\">\n      {children}\n    </Table>\n  );\n};\n","import { createStyles, fade, Theme, withStyles } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React from 'react';\n\nconst StyledAlert = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginbottom: theme.spacing(2),\n      marginTop: theme.spacing(4),\n      color: theme.palette.text.secondary,\n      backgroundColor: fade(theme.palette.text.primary, 0.04)\n    },\n    icon: {\n      color: `${theme.palette.text.secondary} !important`\n    },\n    message: {\n      width: '100%',\n      textAlign: 'left'\n    }\n  })\n)(Alert);\n\nconst InformativeAlert = ({ children, ...props }) => {\n  return (\n    <StyledAlert {...props} severity=\"info\">\n      {children}\n    </StyledAlert>\n  );\n};\n\nexport default InformativeAlert;\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport PanToolOutlinedIcon from '@material-ui/icons/PanToolOutlined';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  SortableHeaderCell\n} from 'components/visual/DivTable';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ErrorResult = {\n  created: string;\n  id: string;\n  response: {\n    message: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    status: string;\n  };\n  sha256: string;\n  type: string;\n};\n\ntype SearchResults = {\n  items: ErrorResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype ErrorsTableProps = {\n  errorResults: SearchResults;\n  onClick: (error: ErrorResult) => void;\n};\n\nconst WrappedErrorsTable: React.FC<ErrorsTableProps> = ({ errorResults, onClick }) => {\n  const { t, i18n } = useTranslation(['adminErrorViewer']);\n  const theme = useTheme();\n\n  const errorMap = {\n    'MAX DEPTH REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX RETRY REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    EXCEPTION: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'TASK PRE-EMPTED': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE DOWN': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE BUSY': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX FILES REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    UNKNOWN: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />\n  };\n\n  return errorResults ? (\n    errorResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable size=\"small\">\n          <DivTableHead>\n            <DivTableRow style={{ whiteSpace: 'nowrap' }}>\n              <SortableHeaderCell sortField=\"created\">{t('header.time')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"response.service_name\">{t('header.service')}</SortableHeaderCell>\n              <DivTableCell>{t('header.message')}</DivTableCell>\n              <SortableHeaderCell sortField=\"type\">{t('header.type')}</SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {errorResults.items.map(error => (\n              <DivTableRow key={error.id} hover onClick={() => onClick(error)} style={{ cursor: 'pointer' }}>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  <Tooltip title={error.created}>\n                    <Moment fromNow locale={i18n.language}>\n                      {error.created}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{error.response.service_name}</DivTableCell>\n                <DivTableCell>{error.response.message}</DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  <Tooltip title={t(`type.${error.type}`)}>\n                    <span>{errorMap[error.type]}</span>\n                  </Tooltip>\n                </DivTableCell>\n              </DivTableRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_errors_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ErrorsTable = React.memo(WrappedErrorsTable);\nexport default ErrorsTable;\n","import { Card, Grid, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport PanToolOutlinedIcon from '@material-ui/icons/PanToolOutlined';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport useClipboard from 'commons/components/hooks/useClipboard';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport ErrorsTable from 'components/visual/SearchResult/errors';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BsClipboard } from 'react-icons/bs';\nimport Moment from 'react-moment';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  clipboardIcon: {\n    marginLeft: theme.spacing(1),\n    '&:hover': {\n      cursor: 'pointer',\n      transform: 'scale(1.1)'\n    }\n  }\n}));\n\nfunction ErrorDetail({ error }) {\n  const { t, i18n } = useTranslation(['adminErrorViewer']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const { copy } = useClipboard();\n\n  const errorMap = {\n    'MAX DEPTH REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX RETRY REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    EXCEPTION: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'TASK PRE-EMPTED': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE DOWN': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE BUSY': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX FILES REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    UNKNOWN: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />\n  };\n\n  return (\n    <div style={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n      <Grid container spacing={1} style={{ paddingBottom: theme.spacing(1) }}>\n        <Grid item xs={6} sm={8}>\n          <Typography variant=\"h5\">{error.response.service_name}</Typography>\n          <Typography variant=\"caption\">\n            {`${error.response.service_version}${\n              error.response.service_tool_version && ` (${error.response.service_tool_version})`\n            }`}\n          </Typography>\n        </Grid>\n        <Grid item xs={6} sm={4}>\n          <div style={{ display: 'inline-block', textAlign: 'start' }}>\n            <Typography component=\"div\" variant=\"body1\">\n              <Moment fromNow locale={i18n.language}>\n                {error.created}\n              </Moment>\n            </Typography>\n            <Typography component=\"div\" variant=\"caption\">\n              <Moment format=\"YYYY-MM-DD HH:mm:ss\">{error.created}</Moment>\n            </Typography>\n          </div>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={1} style={{ paddingBottom: theme.spacing(1) }}>\n        <Grid item xs={6} sm={8}>\n          <span style={{ verticalAlign: 'middle' }}>{errorMap[error.type]}&nbsp;</span>\n          <span style={{ verticalAlign: 'middle' }}>{t(`type.${error.type}`)}</span>\n        </Grid>\n        <Grid item xs={6} sm={4} style={{ alignSelf: 'center' }}>\n          <span style={{ verticalAlign: 'middle' }}>{t(`fail.${error.response.status}`)}</span>\n        </Grid>\n      </Grid>\n\n      <div style={{ marginBottom: theme.spacing(1) }}>\n        <label>{t('message')}</label>\n        <Card variant=\"outlined\">\n          <pre\n            style={{\n              paddingLeft: theme.spacing(1),\n              paddingRight: theme.spacing(1),\n              whiteSpace: 'pre-wrap',\n              minHeight: '10rem'\n            }}\n          >\n            {error.response.message}\n          </pre>\n        </Card>\n      </div>\n\n      {error.response.service_debug_info && (\n        <div style={{ marginBottom: theme.spacing(1) }}>\n          <label>{t('debug_info')}</label>\n          <Card variant=\"outlined\">\n            <pre\n              style={{\n                paddingLeft: theme.spacing(1),\n                paddingRight: theme.spacing(1),\n                whiteSpace: 'pre-wrap'\n              }}\n            >\n              {error.response.service_debug_info}\n            </pre>\n          </Card>\n        </div>\n      )}\n\n      <div style={{ marginBottom: theme.spacing(1) }}>\n        <label>{t('file_info')}</label>\n        <div style={{ wordBreak: 'break-all' }}>\n          {error.sha256}\n          <BsClipboard className={classes.clipboardIcon} onClick={() => copy(error.sha256, 'drawerTop')} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ErrorViewer() {\n  const { t } = useTranslation(['adminErrorViewer']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const [errorResults, setErrorResults] = useState(null);\n  const classes = useStyles();\n  const history = useHistory();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n  const [suggestions, setSuggestions] = useState(DEFAULT_SUGGESTION);\n  const location = useLocation();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const filterValue = useRef<string>('');\n  const { setGlobalDrawer } = useDrawer();\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query && currentUser.is_admin) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        url: `/api/v4/error/list/?${query.toString()}`,\n        onSuccess: api_data => {\n          setErrorResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    apiCall({\n      url: '/api/v4/search/fields/error/',\n      onSuccess: api_data => {\n        setSuggestions([\n          ...Object.keys(api_data.api_response).filter(name => {\n            return api_data.api_response[name].indexed;\n          }),\n          ...DEFAULT_SUGGESTION\n        ]);\n      }\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setError = useCallback(\n    error => {\n      setGlobalDrawer(<ErrorDetail error={error} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <ReportProblemOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('exception'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:EXCEPTION OR type:UNKNOWN');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <CancelOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('canceled'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:SERVICE* OR type:TASK*');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <PanToolOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('maxed'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:MAX*');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {errorResults !== null && (\n              <div className={classes.searchresult}>\n                {errorResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {errorResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${errorResults.total === 1 ? '' : 's'}`)\n                          : t(`total${errorResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  method=\"GET\"\n                  url=\"/api/v4/error/list/\"\n                  total={errorResults.total}\n                  setResults={setErrorResults}\n                  pageSize={pageSize}\n                  index=\"user\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <ErrorsTable errorResults={errorResults} onClick={setError} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import React from 'react';\n\ntype EmptyProps = {\n  [string: string]: any;\n};\n\nfunction Empty(props: EmptyProps) {\n  return <div />;\n}\n\nexport default Empty;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  Radio,\n  RadioGroup,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Container, Volume } from '../service_detail';\n\ntype EnvironmentVar = {\n  name: string;\n  value: string;\n};\n\ntype EnvironmentProps = {\n  envVar?: EnvironmentVar;\n  onAdd?: (envVar: EnvironmentVar) => void;\n  onUpdate?: (envVar: EnvironmentVar) => void;\n  onDelete?: (envVar: EnvironmentVar) => void;\n};\n\nconst DEFAULT_ENV = { name: '', value: '' };\n\nconst WrappedEnvironment = ({ envVar, onAdd, onUpdate, onDelete }: EnvironmentProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempEnvVar, setTempEnvVar] = useState(DEFAULT_ENV);\n  const theme = useTheme();\n\n  const handleValueUpdate = event => {\n    onUpdate({ ...envVar, value: event.target.value });\n  };\n\n  const addEnvironment = () => {\n    onAdd(tempEnvVar);\n    setTempEnvVar(DEFAULT_ENV);\n  };\n\n  const handleNameChange = event => {\n    setTempEnvVar({ ...tempEnvVar, name: event.target.value });\n  };\n\n  const handleValueChange = event => {\n    setTempEnvVar({ ...tempEnvVar, value: event.target.value });\n  };\n\n  return envVar ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${envVar.name} :`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={envVar.value}\n          onChange={handleValueUpdate}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(envVar)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.environment.name')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleNameChange}\n          value={tempEnvVar.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.environment.value')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempEnvVar.value}\n          onChange={handleValueChange}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempEnvVar.name !== '' && tempEnvVar.value !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addEnvironment}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedEnvironment.defaultProps = {\n  envVar: null,\n  // eslint-disable-next-line no-console\n  onAdd: envVar => console.log('ADD', envVar),\n  // eslint-disable-next-line no-console\n  onUpdate: envVar => console.log('UPDATE', envVar),\n  // eslint-disable-next-line no-console\n  onDelete: envVar => console.log('DELETE', envVar)\n};\n\nconst Environment = React.memo(WrappedEnvironment);\n\ntype VolumeControlProps = {\n  name?: string;\n  vol?: Volume;\n  onAdd?: (name: string, vol: Volume) => void;\n  onDelete?: (name: string) => void;\n};\n\nconst DEFAULT_VOL = {\n  capacity: '',\n  mount_path: '',\n  storage_class: ''\n};\n\nconst WrappedVolumeControl = ({ name, vol, onAdd, onDelete }: VolumeControlProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempVol, setTempVol] = useState(DEFAULT_VOL);\n  const [tempName, setTempName] = useState('');\n  const theme = useTheme();\n\n  const addVolume = () => {\n    onAdd(tempName, tempVol);\n    setTempVol(DEFAULT_VOL);\n    setTempName('');\n  };\n\n  const handleNameChange = event => {\n    setTempName(event.target.value);\n  };\n\n  const handleValueChange = (field, value) => {\n    setTempVol({ ...tempVol, [field]: value });\n  };\n\n  return name && vol ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${name} :`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        {`${vol.mount_path} (${vol.capacity})`}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(name)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.name')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleNameChange}\n          value={tempName}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.mount_path')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.mount_path}\n          onChange={event => handleValueChange('mount_path', event.target.value)}\n          style={{ margin: 0 }}\n        />\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.capacity')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.capacity}\n          onChange={event => handleValueChange('capacity', event.target.value)}\n          style={{ margin: 0 }}\n        />\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.storage_class')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.storage_class}\n          onChange={event => handleValueChange('storage_class', event.target.value)}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempName !== '' && tempVol.capacity !== '' && tempVol.mount_path !== '' && tempVol.storage_class !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addVolume}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedVolumeControl.defaultProps = {\n  name: null,\n  vol: null,\n  // eslint-disable-next-line no-console\n  onAdd: (name, vol) => console.log('ADD', name, vol),\n  // eslint-disable-next-line no-console\n  onDelete: name => console.log('DELETE', name)\n};\n\nconst VolumeControl = React.memo(WrappedVolumeControl);\n\nconst DEFAULT_CONTAINER: Container = {\n  allow_internet_access: false,\n  command: null,\n  cpu_cores: 1,\n  environment: [],\n  image: '',\n  ports: [],\n  ram_mb: 512,\n  ram_mb_min: 128,\n  registry_password: '',\n  registry_username: ''\n};\n\ntype ContainerDialogProps = {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n  container?: Container;\n  name?: string;\n  volumes?: { [name: string]: Volume };\n  onSave: (newContainer: Container, name?: string, newVolumes?: { [name: string]: Volume }) => void;\n};\n\nconst WrappedContainerDialog = ({ open, setOpen, container, name, volumes, onSave }: ContainerDialogProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [modified, setModified] = useState(false);\n  const [tempContainer, setTempContainer] = useState(container || DEFAULT_CONTAINER);\n  const [tempName, setTempName] = useState(name);\n  const [tempVolumes, setTempVolumes] = useState(volumes);\n  const theme = useTheme();\n\n  const handleSave = () => {\n    setModified(false);\n    setOpen(false);\n    onSave(tempContainer, tempName, tempVolumes);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setModified(false);\n    setTempContainer(container || DEFAULT_CONTAINER);\n    setTempName(name);\n    setTempVolumes(volumes);\n  };\n\n  const handleInternetToggle = () => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, allow_internet_access: !tempContainer.allow_internet_access });\n  };\n\n  const handleContainerValueChange = (field, value) => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, [field]: value });\n  };\n\n  const handleContainerCommandChange = event => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, command: event.target.value.split(' ') });\n  };\n\n  const handleEnvAddUpdate = newEnv => {\n    const newEnvironment = [...tempContainer.environment];\n    let index = -1;\n    newEnvironment.forEach((element, i) => {\n      if (element.name === newEnv.name) {\n        index = i;\n      }\n    });\n\n    if (index === -1) {\n      newEnvironment.push(newEnv);\n    } else {\n      newEnvironment[index] = newEnv;\n    }\n\n    setModified(true);\n    setTempContainer({ ...tempContainer, environment: newEnvironment });\n  };\n\n  const handleEnvDelete = delEnv => {\n    const newEnvironment = [...tempContainer.environment];\n    let index = -1;\n    newEnvironment.forEach((element, i) => {\n      if (element.name === delEnv.name) {\n        index = i;\n      }\n    });\n    if (index !== -1) {\n      newEnvironment.splice(index, 1);\n      setModified(true);\n      setTempContainer({ ...tempContainer, environment: newEnvironment });\n    }\n  };\n\n  const handleVolAdd = (vol_name, vol) => {\n    setModified(true);\n    setTempVolumes({ ...tempVolumes, [vol_name]: vol });\n  };\n  const handleVolDelete = vol_name => {\n    const newVolumes = { ...tempVolumes };\n    delete newVolumes[vol_name];\n\n    setModified(true);\n    setTempVolumes(newVolumes);\n  };\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n        <DialogTitle id=\"form-dialog-title\">\n          {t(`container.dialog.title.${name === null ? 'container' : 'dependency'}`)}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2}>\n            {name !== null && (\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle2\">{t('container.dialog.name')}</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  onChange={event => setTempName(event.target.value)}\n                  value={tempName}\n                />\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.image')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('image', event.target.value)}\n                value={tempContainer.image}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.cpu')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('cpu_cores', event.target.value)}\n                value={tempContainer.cpu_cores}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.ram')}</Typography>\n              <Grid container spacing={1}>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    size=\"small\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={event => handleContainerValueChange('ram_mb_min', event.target.value)}\n                    value={tempContainer.ram_mb_min}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    size=\"small\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={event => handleContainerValueChange('ram_mb', event.target.value)}\n                    value={tempContainer.ram_mb}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.registry_username')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('registry_username', event.target.value)}\n                value={tempContainer.registry_username}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.registry_password')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('registry_password', event.target.value)}\n                value={tempContainer.registry_password}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.command')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleContainerCommandChange}\n                value={tempContainer.command ? tempContainer.command.join(' ') : ''}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.allow_internet')}</Typography>\n              <RadioGroup value={tempContainer.allow_internet_access} onChange={handleInternetToggle}>\n                <FormControlLabel value control={<Radio />} label={t('container.dialog.allow_internet.yes')} />\n                <FormControlLabel value={false} control={<Radio />} label={t('container.dialog.allow_internet.no')} />\n              </RadioGroup>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.environment')}</Typography>\n              {tempContainer.environment.map((env, i) => {\n                return <Environment key={i} envVar={env} onUpdate={handleEnvAddUpdate} onDelete={handleEnvDelete} />;\n              })}\n            </Grid>\n            <Grid item xs={12}>\n              <Environment onAdd={handleEnvAddUpdate} />\n            </Grid>\n            {name !== null && (\n              <>\n                <Grid item xs={12}>\n                  <Typography variant=\"subtitle2\">{t('container.dialog.volumes')}</Typography>\n                  {Object.keys(tempVolumes).map(vol_name => {\n                    return (\n                      <VolumeControl\n                        key={vol_name}\n                        name={vol_name}\n                        vol={tempVolumes[vol_name]}\n                        onDelete={handleVolDelete}\n                      />\n                    );\n                  })}\n                </Grid>\n\n                <Grid item xs={12}>\n                  <VolumeControl onAdd={handleVolAdd} />\n                </Grid>\n              </>\n            )}\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"secondary\">\n            {t('container.dialog.cancelText')}\n          </Button>\n          <Button onClick={handleSave} color=\"primary\" disabled={!modified || tempContainer.image === ''}>\n            {t('container.dialog.acceptText')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nWrappedContainerDialog.defaultProps = {\n  container: null,\n  name: null,\n  volumes: null\n};\n\nconst ContainerDialog = React.memo(WrappedContainerDialog);\nexport default ContainerDialog;\n","import { Card, Grid, makeStyles, Tooltip, useTheme } from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CgSmartphoneChip, CgSmartphoneRam } from 'react-icons/cg';\nimport { Container, Volume } from '../service_detail';\nimport ContainerDialog from './container_dialog';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    padding: '8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#ffffff10' : '#00000005',\n      cursor: 'pointer'\n    }\n  },\n  card_title: {\n    fontSize: 'large',\n    fontFamily: 'monospace'\n  },\n  label: {\n    fontWeight: 500\n  },\n  mono: {\n    fontSize: 'larger',\n    fontFamily: 'monospace'\n  }\n}));\n\ntype ContainerCardProps = {\n  container: Container;\n  name?: string;\n  volumes?: { [name: string]: Volume };\n  onChange: (newContainer: Container, name?: string, newVolumes?: { [name: string]: Volume }) => void;\n};\n\nconst WrappedContainerCard = ({ container, name, volumes, onChange }: ContainerCardProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const theme = useTheme();\n  const classes = useStyles();\n  const yesColor = theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark;\n  const noColor = theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark;\n\n  const handleContainerChange = (tempContainer, tempName, tempVolumes) => {\n    onChange(tempContainer, tempName, tempVolumes);\n  };\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <ContainerDialog\n        open={dialog}\n        setOpen={setDialog}\n        name={name}\n        container={container}\n        volumes={volumes}\n        onSave={handleContainerChange}\n      />\n      <Card className={classes.card} onClick={() => setDialog(true)}>\n        <Grid container>\n          {name && (\n            <Grid item xs={12} className={classes.card_title} style={{ fontWeight: 700 }}>\n              {name}\n            </Grid>\n          )}\n          <Grid item xs={12} className={classes.card_title}>\n            {container.image}\n          </Grid>\n          {container.registry_password && container.registry_username && (\n            <Grid item xs={12}>\n              <i>{t('container.card.creds')}</i>\n            </Grid>\n          )}\n          <Grid item xs={12} style={{ paddingTop: theme.spacing(1), paddingBottom: theme.spacing(1) }}>\n            <Tooltip title={t('container.card.cpu')}>\n              <div style={{ display: 'inline-block', paddingRight: theme.spacing(4) }}>\n                <CgSmartphoneChip size={24} style={{ verticalAlign: 'middle' }} />\n                <span style={{ paddingLeft: theme.spacing(1), verticalAlign: 'middle' }}>{container.cpu_cores}</span>\n              </div>\n            </Tooltip>\n            <Tooltip title={t('container.card.ram')}>\n              <div style={{ display: 'inline-block' }}>\n                <CgSmartphoneRam size={24} style={{ verticalAlign: 'middle' }} />\n                <span style={{ paddingLeft: theme.spacing(1), verticalAlign: 'middle' }}>{container.ram_mb}</span>\n              </div>\n            </Tooltip>\n          </Grid>\n          {container.command && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('container.card.command')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {container.command.join(' ')}\n              </Grid>\n            </>\n          )}\n          <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('container.card.internet')}:`}</Grid>\n          <Grid\n            item\n            xs={7}\n            sm={8}\n            md={10}\n            className={classes.mono}\n            style={{ color: container.allow_internet_access ? yesColor : noColor }}\n          >\n            {container.allow_internet_access ? t('container.card.yes') : t('container.card.no')}\n          </Grid>\n          {container.environment && container.environment.length !== 0 && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{`${t('container.card.env')}:`}&nbsp;</div>\n              {container.environment.map((env, id) => {\n                return (\n                  <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                    {`${env.name} = ${env.value}`}\n                  </div>\n                );\n              })}\n            </Grid>\n          )}\n          {volumes && Object.keys(volumes).length !== 0 && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{`${t('container.card.volumes')}:`}&nbsp;</div>\n              {Object.keys(volumes).map((vol, id) => {\n                return (\n                  <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                    {`${vol} = ${volumes[vol].mount_path} (${volumes[vol].capacity})`}\n                  </div>\n                );\n              })}\n            </Grid>\n          )}\n        </Grid>\n      </Card>\n    </div>\n  );\n};\n\nWrappedContainerCard.defaultProps = {\n  name: null,\n  volumes: null\n};\n\nconst ContainerCard = React.memo(WrappedContainerCard);\nexport default ContainerCard;\n","import { Button, Grid, IconButton, MenuItem, Select, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport ContainerCard from './container_card';\nimport ContainerDialog from './container_dialog';\n\ntype ServiceContainerProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceContainer = ({ service, setService, setModified }: ServiceContainerProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const theme = useTheme();\n\n  const handleChannelChange = event => {\n    setModified(true);\n    setService({ ...service, update_channel: event.target.value });\n  };\n\n  const onDependencyDelete = name => {\n    const depList = { ...service.dependencies };\n    delete depList[name];\n    setModified(true);\n    setService({ ...service, dependencies: depList });\n  };\n\n  const handleContainerImageChange = newContainer => {\n    setModified(true);\n    setService({ ...service, docker_config: newContainer });\n  };\n\n  const handleDependencyChange = (newDep, name, newVolumes) => {\n    const depList = { ...service.dependencies };\n    depList[name] = { container: newDep, volumes: newVolumes };\n    setModified(true);\n    setService({ ...service, dependencies: depList });\n  };\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('container')}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.channel')}</Typography>\n        {service ? (\n          <Select\n            id=\"channel\"\n            fullWidth\n            value={service.update_channel}\n            onChange={handleChannelChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n            style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n          >\n            <MenuItem value=\"stable\">{t('container.channel.stable')}</MenuItem>\n            {/* <MenuItem value=\"rc\">{t('container.channel.rc')}</MenuItem> */}\n            {/* <MenuItem value=\"beta\">{t('container.channel.beta')}</MenuItem> */}\n            <MenuItem value=\"dev\">{t('container.channel.dev')}</MenuItem>\n          </Select>\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.image')}</Typography>\n        {service ? (\n          <ContainerCard container={service.docker_config} onChange={handleContainerImageChange} />\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.dependencies')}</Typography>\n        {service ? (\n          Object.keys(service.dependencies).length !== 0 ? (\n            Object.keys(service.dependencies).map(name => {\n              return (\n                <div key={name} style={{ display: 'flex', alignItems: 'center' }}>\n                  <div style={{ paddingRight: theme.spacing(1), flexGrow: 1 }}>\n                    <ContainerCard\n                      name={name}\n                      container={service.dependencies[name].container}\n                      volumes={service.dependencies[name].volumes}\n                      onChange={handleDependencyChange}\n                    />\n                  </div>\n                  <div>\n                    <Tooltip title={t('container.dependencies.remove')}>\n                      <IconButton\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                        onClick={() => onDependencyDelete(name)}\n                      >\n                        <RemoveCircleOutlineOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </div>\n                </div>\n              );\n            })\n          ) : (\n            <Typography color=\"textSecondary\" variant=\"caption\" component=\"div\">\n              {t('container.dependencies.none')}\n            </Typography>\n          )\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <ContainerDialog open={dialog} setOpen={setDialog} name=\"\" volumes={{}} onSave={handleDependencyChange} />\n        <Button variant=\"contained\" color=\"primary\" onClick={() => setDialog(true)}>\n          {t('container.dependencies.add')}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ServiceContainer;\n","import {\n  FormControlLabel,\n  Grid,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceConstants, ServiceDetail } from '../service_detail';\n\ntype ServiceGeneralProps = {\n  service: ServiceDetail;\n  constants: ServiceConstants;\n  versions: string[];\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceGeneral = ({ service, constants, versions, setService, setModified }: ServiceGeneralProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n\n  const handleDescriptionChange = event => {\n    setModified(true);\n    setService({ ...service, description: event.target.value });\n  };\n\n  const handleVersionChange = event => {\n    setModified(true);\n    setService({ ...service, version: event.target.value });\n  };\n\n  const handleStageChange = event => {\n    setModified(true);\n    setService({ ...service, stage: event.target.value });\n  };\n\n  const handleCategoryChange = event => {\n    setModified(true);\n    setService({ ...service, category: event.target.value });\n  };\n\n  const handleAcceptChange = event => {\n    setModified(true);\n    setService({ ...service, accepts: event.target.value });\n  };\n\n  const handleRejectChange = event => {\n    setModified(true);\n    setService({ ...service, rejects: event.target.value });\n  };\n\n  const handleTimeoutChange = event => {\n    setModified(true);\n    setService({ ...service, timeout: event.target.value });\n  };\n\n  const handleLicenceChange = event => {\n    setModified(true);\n    setService({ ...service, licence_count: event.target.value });\n  };\n\n  const handleExternalToggle = () => {\n    setModified(true);\n    setService({ ...service, is_external: !service.is_external });\n  };\n\n  const handleCacheToggle = () => {\n    setModified(true);\n    setService({ ...service, disable_cache: !service.disable_cache });\n  };\n\n  const setClassification = default_result_classification => {\n    setModified(true);\n    setService({ ...service, default_result_classification });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.name')}</Typography>\n          {service ? (\n            <TextField fullWidth size=\"small\" margin=\"dense\" variant=\"outlined\" disabled value={service.name} />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.version')}</Typography>\n          {service ? (\n            <Select\n              id=\"version\"\n              fullWidth\n              value={service.version}\n              onChange={handleVersionChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {versions ? (\n                versions.map((v, i) => {\n                  return (\n                    <MenuItem key={i} value={v}>\n                      {v}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.version}>{service.version}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        {c12nDef.enforce && (\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('general.classification')}</Typography>\n            <Classification\n              type=\"picker\"\n              c12n={service ? service.default_result_classification : null}\n              setClassification={setClassification}\n            />\n          </Grid>\n        )}\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('general.description')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              multiline\n              rows={6}\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleDescriptionChange}\n              value={service.description}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.stage')}</Typography>\n          {service ? (\n            <Select\n              id=\"stage\"\n              fullWidth\n              value={service.stage}\n              onChange={handleStageChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {constants ? (\n                constants.stages.map((s, i) => {\n                  return (\n                    <MenuItem key={i} value={s}>\n                      {s}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.stage}>{service.stage}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.category')}</Typography>\n          {service ? (\n            <Select\n              id=\"category\"\n              fullWidth\n              value={service.category}\n              onChange={handleCategoryChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {constants ? (\n                constants.categories.map((c, i) => {\n                  return (\n                    <MenuItem key={i} value={c}>\n                      {c}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.category}>{service.category}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.accept')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleAcceptChange}\n              value={service.accepts}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.reject')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleRejectChange}\n              value={service.rejects}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.timeout')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleTimeoutChange}\n              value={service.timeout}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.licence')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleLicenceChange}\n              value={service.licence_count}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.location')}</Typography>\n          {service ? (\n            <RadioGroup value={service.is_external} onChange={handleExternalToggle}>\n              <FormControlLabel value control={<Radio />} label={t('general.location.external')} />\n              <FormControlLabel value={false} control={<Radio />} label={t('general.location.internal')} />\n            </RadioGroup>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.caching')}</Typography>\n          {service ? (\n            <RadioGroup value={service.disable_cache} onChange={handleCacheToggle}>\n              <FormControlLabel value={false} control={<Radio />} label={t('general.caching.enabled')} />\n              <FormControlLabel value control={<Radio />} label={t('general.caching.disabled')} />\n            </RadioGroup>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ServiceGeneral;\n","import { Grid, IconButton, MenuItem, Select, TextField, Tooltip, useTheme } from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactJson from 'react-json-view';\n\ntype ServiceConfig = {\n  name: string;\n  value: any;\n};\n\ntype ExtendedServiceConfig = {\n  name: string;\n  type: 'bool' | 'int' | 'list' | 'str' | 'json';\n  value: any;\n};\n\ntype MultiTypeConfigProps = {\n  config?: ServiceConfig;\n  onAdd?: (config: ServiceConfig) => void;\n  onUpdate?: (config: ServiceConfig) => void;\n  onDelete?: (config: ServiceConfig) => void;\n};\n\nconst DEFAULT_CONFIG: ExtendedServiceConfig = {\n  name: '',\n  type: 'bool',\n  value: 'false'\n};\n\nconst WrappedMultiTypeConfig = ({ config, onAdd, onUpdate, onDelete }: MultiTypeConfigProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempConfig, setTempConfig] = useState(DEFAULT_CONFIG);\n  const theme = useTheme();\n\n  const jsonTheme = {\n    base00: 'transparent', // Background\n    base01: '#f1f1f1', // Edit key text\n    base02: theme.palette.type === 'dark' ? theme.palette.text.hint : theme.palette.divider, // Borders and DataType Background\n    base03: '#444', // Unused\n    base04: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 400], // Object size and Add key border\n    base05: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 700], // Undefined and Add key background\n    base06: '#444', // Unused\n    base07: theme.palette.text.primary, // Brace, Key and Borders\n    base08: theme.palette.text.secondary, // NaN\n    base09: theme.palette.type === 'dark' ? theme.palette.warning.light : theme.palette.warning.dark, // Strings and Icons\n    base0A: '#333', // Null, Regex and edit color\n    base0B: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark, // Float\n    base0C: theme.palette.type === 'dark' ? theme.palette.secondary.light : theme.palette.secondary.dark, // Array Key\n    base0D: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Date, function, expand icon\n    base0E: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Boolean\n    base0F: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark // Integer\n  };\n\n  const detectConfigType = (cfg: ServiceConfig): ExtendedServiceConfig => {\n    if (typeof cfg.value === 'number') {\n      return { ...cfg, type: 'int' };\n    }\n\n    if (typeof cfg.value === 'object') {\n      if (Array.isArray(cfg.value)) {\n        return { ...cfg, type: 'list', value: cfg.value.toString() };\n      }\n      return { ...cfg, type: 'json' };\n    }\n\n    if (typeof cfg.value === 'boolean') {\n      return { ...cfg, type: 'bool' };\n    }\n    return { ...cfg, type: 'str' };\n  };\n\n  const parsedConfig = config ? detectConfigType(config) : null;\n\n  const handleConfigUpdate = event => {\n    const { value } = event.target;\n    if (parsedConfig.type === 'bool') {\n      onUpdate({ ...parsedConfig, value: value === 'true' });\n    } else if (parsedConfig.type === 'list') {\n      onUpdate({ ...parsedConfig, value: value.split(',') });\n    } else if (parsedConfig.type === 'str') {\n      onUpdate({ ...parsedConfig, value });\n    } else if (parsedConfig.type === 'int') {\n      onUpdate({ ...parsedConfig, value: parseInt(value) || 0 });\n    }\n  };\n\n  const handleConfigUpdateJSON = data => {\n    const { updated_src: value } = data;\n    onUpdate({ ...parsedConfig, value });\n  };\n\n  const addConfig = () => {\n    if (tempConfig.type === 'bool') {\n      onAdd({ ...tempConfig, value: tempConfig.value === 'true' });\n    } else if (tempConfig.type === 'list') {\n      onAdd({ ...tempConfig, value: tempConfig.value.split(',') });\n    } else if (tempConfig.type === 'str') {\n      onAdd({ ...tempConfig, value: tempConfig.value });\n    } else if (tempConfig.type === 'int') {\n      onAdd({ ...tempConfig, value: parseInt(tempConfig.value) || 0 });\n    } else {\n      onAdd({ ...tempConfig, value: tempConfig.value });\n    }\n    setTempConfig(DEFAULT_CONFIG);\n  };\n\n  const handleConfigNameChange = event => {\n    setTempConfig({ ...tempConfig, name: event.target.value });\n  };\n\n  const handleConfigTypeChange = event => {\n    const type = event.target.value;\n    setTempConfig({\n      ...tempConfig,\n      type,\n      value: type === 'int' ? '1' : type === 'bool' ? 'false' : type === 'json' ? {} : ''\n    });\n  };\n\n  const handleConfigChange = event => {\n    setTempConfig({ ...tempConfig, value: event.target.value });\n  };\n\n  const handleConfigChangeJSON = data => {\n    const { updated_src: value } = data;\n    setTempConfig({ ...tempConfig, value });\n  };\n\n  return config ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${parsedConfig.name} [${parsedConfig.type}]:`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        {parsedConfig.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={parsedConfig.value}\n            onChange={handleConfigUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : parsedConfig.type === 'json' ? (\n          <ReactJson\n            name={false}\n            src={parsedConfig.value}\n            theme={jsonTheme}\n            enableClipboard={false}\n            groupArraysAfterLength={10}\n            displayDataTypes={false}\n            displayObjectSize={false}\n            onAdd={handleConfigUpdateJSON}\n            onDelete={handleConfigUpdateJSON}\n            onEdit={handleConfigUpdateJSON}\n            style={{\n              border: `1px solid ${theme.palette.divider}`,\n              borderRadius: '4px',\n              fontSize: '1rem',\n              minHeight: theme.spacing(5),\n              padding: '4px'\n            }}\n          />\n        ) : (\n          <TextField\n            fullWidth\n            type={parsedConfig.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={parsedConfig.value}\n            onChange={handleConfigUpdate}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(parsedConfig)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleConfigNameChange}\n          value={tempConfig.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={2}>\n        <Select\n          id=\"user_spec_params\"\n          fullWidth\n          value={tempConfig.type}\n          onChange={handleConfigTypeChange}\n          variant=\"outlined\"\n          margin=\"dense\"\n        >\n          <MenuItem value=\"bool\">bool</MenuItem>\n          <MenuItem value=\"int\">int</MenuItem>\n          <MenuItem value=\"json\">json</MenuItem>\n          <MenuItem value=\"list\">list ({t('params.comma')})</MenuItem>\n          <MenuItem value=\"str\">str</MenuItem>\n        </Select>\n      </Grid>\n      <Grid item xs={10} sm={6}>\n        {tempConfig.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempConfig.value}\n            onChange={handleConfigChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : tempConfig.type === 'json' ? (\n          <ReactJson\n            name={false}\n            src={tempConfig.value}\n            theme={jsonTheme}\n            enableClipboard={false}\n            groupArraysAfterLength={10}\n            displayDataTypes={false}\n            displayObjectSize={false}\n            onAdd={handleConfigChangeJSON}\n            onDelete={handleConfigUpdateJSON}\n            onEdit={handleConfigChangeJSON}\n            style={{\n              border: `1px solid ${theme.palette.divider}`,\n              borderRadius: '4px',\n              fontSize: '1rem',\n              minHeight: theme.spacing(5),\n              padding: '4px'\n            }}\n          />\n        ) : (\n          <TextField\n            fullWidth\n            type={tempConfig.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempConfig.value}\n            onChange={handleConfigChange}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempConfig.name !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addConfig}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedMultiTypeConfig.defaultProps = {\n  config: null,\n  // eslint-disable-next-line no-console\n  onAdd: config => console.log('ADD', config),\n  // eslint-disable-next-line no-console\n  onUpdate: config => console.log('UPDATE', config),\n  // eslint-disable-next-line no-console\n  onDelete: config => console.log('DELETE', config)\n};\n\nconst MultiTypeConfig = React.memo(WrappedMultiTypeConfig);\nexport default MultiTypeConfig;\n","import { Grid, IconButton, MenuItem, Select, TextField, Tooltip, useTheme } from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { SubmissionParams } from '../service_detail';\n\ntype SimpleSubmissionParams = {\n  name: string;\n  type: 'int' | 'bool' | 'str' | 'list';\n  default: string;\n  value: string;\n  list: string[];\n};\n\ntype MultiTypeParamProps = {\n  param?: SubmissionParams;\n  id?: number;\n  onAdd?: (param: SubmissionParams) => void;\n  onUpdate?: (param: SubmissionParams, id: number) => void;\n  onDelete?: (id: number) => void;\n};\n\nconst DEFAULT_USER_PARAM: SimpleSubmissionParams = {\n  name: '',\n  type: 'bool',\n  default: 'false',\n  value: 'false',\n  list: []\n};\n\nconst WrappedMultiTypeParam = ({ param, id, onAdd, onUpdate, onDelete }: MultiTypeParamProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempUserParams, setTempUserParams] = useState(DEFAULT_USER_PARAM);\n  const theme = useTheme();\n\n  const handleSubmissionParamUpdate = event => {\n    const { value } = event.target;\n    if (param.type === 'bool') {\n      onUpdate({ ...param, default: value === 'true', value: value === 'true' }, id);\n    } else if (param.type === 'list' || param.type === 'str') {\n      onUpdate({ ...param, default: value, value }, id);\n    } else {\n      onUpdate({ ...param, default: parseInt(value) || 0, value: parseInt(value) || 0 }, id);\n    }\n  };\n\n  const handleSubmissionParamListUpdate = event => {\n    const { value } = event.target;\n    const newList = value.split(',');\n    let newDefault = newList[0];\n    if (newList.indexOf(param.default) !== -1) {\n      newDefault = param.default;\n    }\n    onUpdate({ ...param, list: newList, default: newDefault, value: newDefault }, id);\n  };\n\n  const addUserSubmissionParam = () => {\n    if (tempUserParams.type === 'bool') {\n      onAdd({\n        ...tempUserParams,\n        default: tempUserParams.default === 'true',\n        value: tempUserParams.default === 'true'\n      });\n    } else if (tempUserParams.type === 'list' || tempUserParams.type === 'str') {\n      onAdd({ ...tempUserParams, default: tempUserParams.default, value: tempUserParams.default });\n    } else {\n      onAdd({\n        ...tempUserParams,\n        default: parseInt(tempUserParams.default) || 0,\n        value: parseInt(tempUserParams.default) || 0\n      });\n    }\n\n    setTempUserParams(DEFAULT_USER_PARAM);\n  };\n\n  const handleSPNameChange = event => {\n    setTempUserParams({ ...tempUserParams, name: event.target.value });\n  };\n\n  const handleSPTypeChange = event => {\n    const type = event.target.value;\n    setTempUserParams({\n      ...tempUserParams,\n      type,\n      list: [],\n      default: type === 'int' ? '1' : type === 'bool' ? 'false' : '',\n      value: type === 'int' ? '1' : type === 'bool' ? 'false' : ''\n    });\n  };\n\n  const handleSPDefaultChange = event => {\n    setTempUserParams({ ...tempUserParams, default: event.target.value, value: event.target.value });\n  };\n\n  const handleSPListChange = event => {\n    const newList = event.target.value.split(',');\n    let newDefault = newList[0];\n    if (newList.indexOf(tempUserParams.default) !== -1) {\n      newDefault = tempUserParams.default;\n    }\n    setTempUserParams({ ...tempUserParams, list: newList, default: newDefault, value: newDefault });\n  };\n\n  return param ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${param.name} [${param.type}]:`}\n      </Grid>\n      {param.type === 'list' && (\n        <Grid item xs={10} sm={5}>\n          <TextField\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            onChange={handleSubmissionParamListUpdate}\n            value={param.list}\n            style={{ margin: 0 }}\n          />\n        </Grid>\n      )}\n      <Grid item xs={10} sm={param.type === 'list' ? 3 : 8}>\n        {param.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : param.type === 'list' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            {param.list.map((value, x) => {\n              return (\n                <MenuItem key={x} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        ) : (\n          <TextField\n            fullWidth\n            type={param.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(id)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleSPNameChange}\n          value={tempUserParams.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={2}>\n        <Select\n          id=\"user_spec_params\"\n          fullWidth\n          value={tempUserParams.type}\n          onChange={handleSPTypeChange}\n          variant=\"outlined\"\n          margin=\"dense\"\n        >\n          <MenuItem value=\"bool\">bool</MenuItem>\n          <MenuItem value=\"int\">int</MenuItem>\n          <MenuItem value=\"list\">list ({t('params.comma')})</MenuItem>\n          <MenuItem value=\"str\">str</MenuItem>\n        </Select>\n      </Grid>\n      {tempUserParams.type === 'list' && (\n        <Grid item xs={10} sm={4}>\n          <TextField\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempUserParams.list}\n            onChange={handleSPListChange}\n            style={{ margin: 0 }}\n          />\n        </Grid>\n      )}\n      <Grid item xs={10} sm={tempUserParams.type === 'list' ? 2 : 6}>\n        {tempUserParams.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : tempUserParams.type === 'list' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            {tempUserParams.list.map((value, x) => {\n              return (\n                <MenuItem key={x} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        ) : (\n          <TextField\n            fullWidth\n            type={tempUserParams.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempUserParams.name !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addUserSubmissionParam}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedMultiTypeParam.defaultProps = {\n  param: null,\n  id: null,\n  onAdd: () => null,\n  onUpdate: () => null,\n  onDelete: () => null\n};\n\nconst MultiTypeParam = React.memo(WrappedMultiTypeParam);\nexport default MultiTypeParam;\n","import { Grid, Typography, useTheme } from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport MultiTypeConfig from './multi_type_config';\nimport MultiTypeParam from './multi_type_param';\n\ntype ServiceParamsProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceParams = ({ service, setService, setModified }: ServiceParamsProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const theme = useTheme();\n\n  const onParamAdd = useCallback(param => {\n    window.dispatchEvent(new CustomEvent('paramAdd', { detail: param }));\n  }, []);\n\n  const onParamUpdate = useCallback((param, id) => {\n    window.dispatchEvent(new CustomEvent('paramUpdate', { detail: { param, id } }));\n  }, []);\n\n  const onParamDelete = useCallback(id => {\n    window.dispatchEvent(new CustomEvent('paramDelete', { detail: id }));\n  }, []);\n\n  const onConfigAddUpdate = useCallback(config => {\n    window.dispatchEvent(new CustomEvent('configAddUpdate', { detail: config }));\n  }, []);\n\n  const onConfigDelete = useCallback(config => {\n    window.dispatchEvent(new CustomEvent('configDelete', { detail: config }));\n  }, []);\n\n  useEffect(() => {\n    function handleSPAdd(event: CustomEvent) {\n      const { detail: param } = event;\n      const newSP = [...service.submission_params, { ...param }];\n\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleSPUpdate(event: CustomEvent) {\n      const {\n        detail: { param, id }\n      } = event;\n\n      const newSP = [...service.submission_params];\n      newSP[id] = { ...param };\n\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleSPDelete(event: CustomEvent) {\n      const { detail: id } = event;\n      const newSP = [...service.submission_params];\n      newSP.splice(id, 1);\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleConfigAddUpdate(event: CustomEvent) {\n      const { detail: config } = event;\n      setModified(true);\n      setService({ ...service, config: { ...service.config, [config.name]: config.value } });\n    }\n\n    function handleConfigDelete(event: CustomEvent) {\n      const { detail: config } = event;\n      const newConfig = { ...service.config };\n      delete newConfig[config.name];\n      setModified(true);\n      setService({ ...service, config: newConfig });\n    }\n\n    window.addEventListener('paramAdd', handleSPAdd);\n    window.addEventListener('paramUpdate', handleSPUpdate);\n    window.addEventListener('paramDelete', handleSPDelete);\n    window.addEventListener('configAddUpdate', handleConfigAddUpdate);\n    window.addEventListener('configDelete', handleConfigDelete);\n\n    return () => {\n      window.removeEventListener('paramAdd', handleSPAdd);\n      window.removeEventListener('paramUpdate', handleSPUpdate);\n      window.removeEventListener('paramDelete', handleSPDelete);\n      window.removeEventListener('configAddUpdate', handleConfigAddUpdate);\n      window.removeEventListener('configDelete', handleConfigDelete);\n    };\n  }, [service, setModified, setService]);\n\n  return (\n    <div>\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">{t('params.user')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('params.user.current')}</Typography>\n        </Grid>\n        {service.submission_params.length !== 0 ? (\n          service.submission_params.map((param, i) => {\n            return (\n              <Grid item key={i} xs={12}>\n                <MultiTypeParam param={param} id={i} onUpdate={onParamUpdate} onDelete={onParamDelete} />\n              </Grid>\n            );\n          })\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {t('params.user.none')}\n            </Typography>\n          </Grid>\n        )}\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('params.user.new')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <MultiTypeParam onAdd={onParamAdd} />\n        </Grid>\n\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"h6\">{t('params.config')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('params.config.current')}</Typography>\n        </Grid>\n        {Object.keys(service.config).length !== 0 ? (\n          Object.keys(service.config).map((name, i) => {\n            return (\n              <Grid item key={i} xs={12}>\n                <MultiTypeConfig\n                  config={{ name, value: service.config[name] }}\n                  onUpdate={onConfigAddUpdate}\n                  onDelete={onConfigDelete}\n                />\n              </Grid>\n            );\n          })\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {t('params.config.none')}\n            </Typography>\n          </Grid>\n        )}\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('params.config.new')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <MultiTypeConfig onAdd={onConfigAddUpdate} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ServiceParams;\n","import {\n  Button,\n  Card,\n  Checkbox,\n  CircularProgress,\n  Collapse,\n  Divider,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport CardMembershipOutlinedIcon from '@material-ui/icons/CardMembershipOutlined';\nimport DnsOutlinedIcon from '@material-ui/icons/DnsOutlined';\nimport NoEncryptionOutlinedIcon from '@material-ui/icons/NoEncryptionOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport VpnKeyOutlinedIcon from '@material-ui/icons/VpnKeyOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    padding: '8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#ffffff10' : '#00000005',\n      cursor: 'pointer'\n    }\n  },\n  checkbox: {\n    marginLeft: 0,\n    width: '100%',\n    '&:hover': {\n      background: theme.palette.action.hover\n    }\n  },\n  card_title: {\n    fontSize: 'large',\n    fontFamily: 'monospace'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  label: {\n    fontWeight: 500\n  },\n  mono: {\n    fontSize: 'larger',\n    fontFamily: 'monospace'\n  },\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\nconst DEFAULT_HEADER = {\n  name: '',\n  value: ''\n};\n\nconst DEFAULT_SOURCE = {\n  ca_cert: '',\n  default_classification: '',\n  headers: [],\n  name: '',\n  password: '',\n  pattern: '',\n  private_key: '',\n  ssl_ignore_errors: false,\n  uri: '',\n  username: ''\n};\n\nconst WrappedSourceDetail = ({ service, base, close, reload }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n  const [modified, setModified] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const apiCall = useMyAPI();\n  const { showSuccessMessage } = useMySnackbar();\n  const [tempHeader, setTempHeader] = useState({ ...DEFAULT_HEADER });\n  const [source, setSource] = useState(null);\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (base) {\n      setSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED, ...base });\n    } else {\n      setSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [base]);\n\n  const handleURIChange = event => {\n    setSource({ ...source, uri: event.target.value });\n    setModified(true);\n  };\n\n  const handleProxyChange = event => {\n    setSource({ ...source, proxy: event.target.value });\n    setModified(true);\n  };\n\n  const handleNameChange = event => {\n    setSource({ ...source, name: event.target.value });\n    setModified(true);\n  };\n\n  const handlePasswordChange = event => {\n    setSource({ ...source, password: event.target.value });\n    setModified(true);\n  };\n\n  const handlePatternChange = event => {\n    setSource({ ...source, pattern: event.target.value });\n    setModified(true);\n  };\n\n  const handleCAChange = event => {\n    setSource({ ...source, ca_cert: event.target.value });\n    setModified(true);\n  };\n\n  const handlePrivateKeyChange = event => {\n    setSource({ ...source, private_key: event.target.value });\n    setModified(true);\n  };\n\n  const handleUsernameChange = event => {\n    setSource({ ...source, username: event.target.value });\n    setModified(true);\n  };\n\n  const handleSSLChange = event => {\n    setSource({ ...source, ssl_ignore_errors: event.target.checked });\n    setModified(true);\n  };\n\n  const handleClassificationChange = c12n => {\n    setSource({ ...source, default_classification: c12n });\n    setModified(true);\n  };\n\n  const handleTempHeaderName = event => {\n    setTempHeader({ ...tempHeader, name: event.target.value });\n  };\n  const handleTempHeaderValue = event => {\n    setTempHeader({ ...tempHeader, value: event.target.value });\n  };\n\n  const addHeader = () => {\n    const newHeaders = [...source.headers];\n    newHeaders.push(tempHeader);\n    setSource({ ...source, headers: newHeaders });\n    setTempHeader({ ...DEFAULT_HEADER });\n    setModified(true);\n  };\n  const removeHeader = id => {\n    const newHeaders = [...source.headers];\n    newHeaders.splice(id, 1);\n    setSource({ ...source, headers: newHeaders });\n    setModified(true);\n  };\n\n  const saveChanges = () => {\n    apiCall({\n      method: base ? 'POST' : 'PUT',\n      url: base ? `/api/v4/signature/sources/${service}/${source.name}/` : `/api/v4/signature/sources/${service}/`,\n      body: source,\n      onSuccess: () => {\n        showSuccessMessage(t(base ? 'change.success' : 'add.success'));\n        setModified(false);\n        if (!base || !isXL) close();\n        reload();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const deleteSource = () => setDeleteDialog(true);\n\n  const executeDeleteSource = () => {\n    close();\n    apiCall({\n      url: `/api/v4/signature/sources/${service}/${source.name}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        reload();\n      }\n    });\n  };\n\n  return (\n    source && (\n      <div style={{ paddingTop: theme.spacing(2) }}>\n        <ConfirmationDialog\n          open={deleteDialog}\n          handleClose={() => setDeleteDialog(false)}\n          handleAccept={executeDeleteSource}\n          title={t('delete.title')}\n          cancelText={t('delete.cancelText')}\n          acceptText={t('delete.acceptText')}\n          text={t('delete.text')}\n        />\n\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{service}</Typography>\n              <Typography variant=\"caption\">\n                {`${t(base ? 'editing_source' : 'adding_source')}${base ? ` (${base.name})` : ''}`}\n              </Typography>\n            </Grid>\n            {base && (\n              <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n                <Tooltip title={t('delete')}>\n                  <IconButton\n                    style={{\n                      color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                    }}\n                    onClick={deleteSource}\n                  >\n                    <RemoveCircleOutlineOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('uri')}</div>\n            <TextField size=\"small\" value={source.uri} fullWidth variant=\"outlined\" onChange={handleURIChange} />\n          </Grid>\n          {c12nDef.enforce && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{t('classification')}</div>\n              <Classification\n                c12n={source.default_classification}\n                type=\"picker\"\n                setClassification={handleClassificationChange}\n              />\n            </Grid>\n          )}\n          <Grid item xs={12} md={6}>\n            <div>\n              <div className={classes.label}>{t('name')}</div>\n              <TextField\n                disabled={!!base}\n                size=\"small\"\n                value={source.name}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handleNameChange}\n              />\n            </div>\n            <div style={{ paddingTop: theme.spacing(1) }}>\n              <div className={classes.label}>{t('pattern')}</div>\n              <TextField\n                size=\"small\"\n                value={source.pattern}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handlePatternChange}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <div>\n              <div className={classes.label}>{t('username')}</div>\n              <TextField\n                size=\"small\"\n                value={source.username}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handleUsernameChange}\n              />\n            </div>\n            <div style={{ paddingTop: theme.spacing(1) }}>\n              <div className={classes.label}>{t('password')}</div>\n              <TextField\n                size=\"small\"\n                value={source.password}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handlePasswordChange}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('private_key')}</div>\n            <TextField\n              size=\"small\"\n              value={source.private_key}\n              multiline\n              rows={6}\n              fullWidth\n              variant=\"outlined\"\n              InputProps={{ style: { fontFamily: 'monospace' } }}\n              onChange={handlePrivateKeyChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('headers')}</div>\n          </Grid>\n          {source.headers.map((header, id) => {\n            return (\n              <Grid key={id} item xs={12}>\n                <Grid container spacing={1} alignItems=\"center\">\n                  <Grid item xs={10} md={3}>\n                    <div className={classes.label}>{header.name}</div>\n                  </Grid>\n                  <Grid item xs={10} md={8}>\n                    <TextField size=\"small\" value={header.value} fullWidth variant=\"outlined\" />\n                  </Grid>\n                  <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n                        margin: '-4px 0'\n                      }}\n                      onClick={() => {\n                        removeHeader(id);\n                      }}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n          <Grid item xs={12}>\n            <Grid container spacing={1}>\n              <Grid item xs={10} md={3}>\n                <TextField\n                  size=\"small\"\n                  value={tempHeader.name}\n                  fullWidth\n                  placeholder={t('headers.name')}\n                  variant=\"outlined\"\n                  onChange={handleTempHeaderName}\n                />\n              </Grid>\n              <Grid item xs={10} md={8}>\n                <TextField\n                  size=\"small\"\n                  value={tempHeader.value}\n                  fullWidth\n                  placeholder={t('headers.value')}\n                  variant=\"outlined\"\n                  onChange={handleTempHeaderValue}\n                />\n              </Grid>\n              <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                <IconButton\n                  style={{\n                    color:\n                      !tempHeader.name || !tempHeader.value\n                        ? theme.palette.action.disabled\n                        : theme.palette.type === 'dark'\n                        ? theme.palette.success.light\n                        : theme.palette.success.dark,\n                    margin: '-4px 0'\n                  }}\n                  disabled={!tempHeader.name || !tempHeader.value}\n                  onClick={() => {\n                    addHeader();\n                  }}\n                >\n                  <AddCircleOutlineOutlinedIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('proxy')}</div>\n            <TextField\n              size=\"small\"\n              value={source.proxy}\n              placeholder={t('proxy.placeholder')}\n              fullWidth\n              variant=\"outlined\"\n              onChange={handleProxyChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('ca')}</div>\n            <TextField\n              size=\"small\"\n              value={source.ca_cert}\n              multiline\n              rows={6}\n              fullWidth\n              variant=\"outlined\"\n              InputProps={{ style: { fontFamily: 'monospace' } }}\n              onChange={handleCAChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <FormControlLabel\n              control={\n                <Checkbox size=\"small\" checked={source.ssl_ignore_errors} name=\"label\" onChange={handleSSLChange} />\n              }\n              label={<Typography variant=\"body2\">{t('ignore_ssl')}</Typography>}\n              className={classes.checkbox}\n            />\n          </Grid>\n        </Grid>\n        <div style={{ paddingTop: theme.spacing(2), paddingBottom: theme.spacing(2), textAlign: 'right' }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!source.name || !source.uri || !modified || buttonLoading}\n            onClick={saveChanges}\n          >\n            {t(base ? 'change.save' : 'add.save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport const SourceDetail = React.memo(WrappedSourceDetail);\n\nexport const SourceCard = ({ source, onClick }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n  const classes = useStyles();\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <Card className={classes.card} onClick={onClick}>\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <div style={{ float: 'right' }}>\n            {source.private_key && (\n              <Tooltip title={t('private_key_used')}>\n                <VpnKeyOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.ca_cert && (\n              <Tooltip title={t('ca_used')}>\n                <CardMembershipOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.proxy && (\n              <Tooltip title={t('proxy_used')}>\n                <DnsOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.ssl_ignore_errors && (\n              <Tooltip title={t('ignore_ssl_used')}>\n                <NoEncryptionOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n          </div>\n          <span className={classes.card_title}>{source.name}&nbsp;</span>\n          <span className={classes.mono}>({source.uri})</span>\n        </div>\n        <Grid container>\n          {source.pattern && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('pattern')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {source.pattern}\n              </Grid>\n            </>\n          )}\n          {source.username && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('username')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {source.username}\n              </Grid>\n            </>\n          )}\n          {source.password && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('password')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                ******\n              </Grid>\n            </>\n          )}\n          {c12nDef.enforce && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('classification')}:`}</Grid>\n\n              <Grid item xs={7} sm={8} md={10}>\n                <Classification type=\"text\" c12n={source.default_classification || c12nDef.UNRESTRICTED} />\n              </Grid>\n            </>\n          )}\n        </Grid>\n        {source.headers && source.headers.length !== 0 && (\n          <div>\n            <div className={classes.label}>{`${t('headers')}:`}&nbsp;</div>\n            {source.headers.map((item, id) => {\n              return (\n                <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                  {`${item.name} = ${item.value}`}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nconst ServiceDetail = ({ service, sources, reload }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const classes = useStyles();\n\n  const openDrawer = useCallback((currentService: string, source) => {\n    setGlobalDrawer(<SourceDetail service={currentService} base={source} close={closeGlobalDrawer} reload={reload} />);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return useMemo(() => {\n    return (\n      <div style={{ paddingTop: theme.spacing(2) }}>\n        <Grid container>\n          <Grid item xs={10} style={{ alignSelf: 'center' }}>\n            <Typography\n              variant=\"h6\"\n              className={classes.title}\n              onClick={() => {\n                setOpen(!open);\n              }}\n            >\n              {service}\n            </Typography>\n          </Grid>\n          <Grid item xs={2} style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_source')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark,\n                  margin: '-4px 0'\n                }}\n                onClick={() => openDrawer(service, null)}\n              >\n                <AddCircleOutlineOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n        <Divider />\n        <Collapse in={open} timeout=\"auto\">\n          <div>\n            {sources.length !== 0 ? (\n              sources.map((source, id) => {\n                return <SourceCard key={id} source={source} onClick={() => openDrawer(service, source)} />;\n              })\n            ) : (\n              <Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ marginTop: theme.spacing(1) }}>\n                {t('no_sources')}\n              </Typography>\n            )}\n          </div>\n        </Collapse>\n      </div>\n    );\n  }, [classes.title, open, openDrawer, service, sources, t, theme]);\n};\n\nexport default function SignatureSources() {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { user: currentUser } = useALContext();\n  const [sources, setSources] = useState(null);\n  const apiCall = useMyAPI();\n\n  const reload = useCallback(() => {\n    if (currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1) {\n      apiCall({\n        url: '/api/v4/signature/sources/',\n        onSuccess: api_data => {\n          setSources(api_data.api_response);\n        }\n      });\n    }\n  }, [apiCall, currentUser.is_admin, currentUser.roles]);\n\n  useEffect(() => {\n    reload();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1 ? (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          <Typography variant=\"caption\">\n            {sources ? `${Object.keys(sources).length} ${t('caption')}` : <Skeleton />}\n          </Typography>\n        </div>\n\n        {sources\n          ? Object.keys(sources).map((key, id) => {\n              return <ServiceDetail key={id} service={key} sources={sources[key]} reload={reload} />;\n            })\n          : [...Array(2)].map((item, i) => {\n              return (\n                <div key={i} style={{ marginTop: theme.spacing(2) }}>\n                  <Typography variant=\"h6\" style={{ marginTop: theme.spacing(0.5), marginBottom: theme.spacing(0.5) }}>\n                    <Skeleton />\n                  </Typography>\n                  <Divider />\n                  <Skeleton variant=\"rect\" height=\"6rem\" style={{ marginTop: theme.spacing(2), borderRadius: '4px' }} />\n                </div>\n              );\n            })}\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Source } from '../service_detail';\n\nconst useStyles = makeStyles(theme => ({\n  checkbox: {\n    marginLeft: 0,\n    width: '100%',\n    '&:hover': {\n      background: theme.palette.action.hover\n    }\n  },\n  label: {\n    fontWeight: 500\n  }\n}));\n\nconst DEFAULT_HEADER = {\n  name: '',\n  value: ''\n};\n\nconst DEFAULT_SOURCE: Source = {\n  ca_cert: '',\n  default_classification: '',\n  headers: [],\n  name: '',\n  password: '',\n  pattern: '',\n  private_key: '',\n  proxy: '',\n  ssl_ignore_errors: false,\n  uri: '',\n  username: ''\n};\n\ntype SourceDialogProps = {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n  source?: Source;\n  onSave: (newSource: Source) => void;\n};\n\nconst WrappedSourceDialog = ({ open, setOpen, source, onSave }: SourceDialogProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [modified, setModified] = useState(false);\n  const { c12nDef } = useALContext();\n  const [tempSource, setTempSource] = useState(null);\n  const [tempHeader, setTempHeader] = useState({ ...DEFAULT_HEADER });\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const handleSave = () => {\n    setModified(false);\n    setOpen(false);\n    onSave(tempSource);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setModified(false);\n    setTempSource(source || DEFAULT_SOURCE);\n  };\n\n  const handleValueChange = (field, value) => {\n    setModified(true);\n    setTempSource({ ...tempSource, [field]: value });\n  };\n\n  const toggleSSLChange = () => {\n    setModified(true);\n    setTempSource({ ...tempSource, ssl_ignore_errors: !tempSource.ssl_ignore_errors });\n  };\n\n  const handleTempHeaderName = event => {\n    setTempHeader({ ...tempHeader, name: event.target.value });\n  };\n  const handleTempHeaderValue = event => {\n    setTempHeader({ ...tempHeader, value: event.target.value });\n  };\n\n  const addHeader = () => {\n    const newHeaders = [...tempSource.headers];\n    newHeaders.push(tempHeader);\n    setTempSource({ ...tempSource, headers: newHeaders });\n    setTempHeader({ ...DEFAULT_HEADER });\n    setModified(true);\n  };\n  const removeHeader = id => {\n    const newHeaders = [...tempSource.headers];\n    newHeaders.splice(id, 1);\n    setTempSource({ ...tempSource, headers: newHeaders });\n    setModified(true);\n  };\n\n  useEffect(() => {\n    if (source) {\n      setTempSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED, ...source });\n    } else {\n      setTempSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [source]);\n\n  return (\n    tempSource && (\n      <div style={{ paddingTop: theme.spacing(1) }}>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n          <DialogTitle id=\"form-dialog-title\">{t('updater.dialog.title')}</DialogTitle>\n          <DialogContent>\n            <Grid container spacing={1}>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.uri')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.uri}\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={event => handleValueChange('uri', event.target.value)}\n                />\n              </Grid>\n              {c12nDef.enforce && (\n                <Grid item xs={12}>\n                  <div className={classes.label}>{t('updater.dialog.classification')}</div>\n                  <Classification\n                    c12n={tempSource.default_classification}\n                    type=\"picker\"\n                    setClassification={value => handleValueChange('classification', value)}\n                  />\n                </Grid>\n              )}\n              <Grid item xs={12} md={6}>\n                <div>\n                  <div className={classes.label}>{t('updater.dialog.name')}</div>\n                  <TextField\n                    disabled={!!source}\n                    size=\"small\"\n                    value={tempSource.name}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('name', event.target.value)}\n                  />\n                </div>\n                <div style={{ paddingTop: theme.spacing(1) }}>\n                  <div className={classes.label}>{t('updater.dialog.pattern')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.pattern}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('pattern', event.target.value)}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <div>\n                  <div className={classes.label}>{t('updater.dialog.username')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.username}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('username', event.target.value)}\n                  />\n                </div>\n                <div style={{ paddingTop: theme.spacing(1) }}>\n                  <div className={classes.label}>{t('updater.dialog.password')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.password}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('password', event.target.value)}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.private_key')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.private_key}\n                  multiline\n                  rows={6}\n                  fullWidth\n                  variant=\"outlined\"\n                  InputProps={{ style: { fontFamily: 'monospace' } }}\n                  onChange={event => handleValueChange('private_key', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.headers')}</div>\n              </Grid>\n              {tempSource.headers.map((header, id) => {\n                return (\n                  <Grid key={id} item xs={12}>\n                    <Grid container spacing={1} alignItems=\"center\">\n                      <Grid item xs={10} md={3}>\n                        <div className={classes.label}>{header.name}</div>\n                      </Grid>\n                      <Grid item xs={10} md={8}>\n                        <TextField size=\"small\" value={header.value} fullWidth variant=\"outlined\" />\n                      </Grid>\n                      <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                        <IconButton\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n                            margin: '-4px 0'\n                          }}\n                          onClick={() => {\n                            removeHeader(id);\n                          }}\n                        >\n                          <RemoveCircleOutlineOutlinedIcon />\n                        </IconButton>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                );\n              })}\n              <Grid item xs={12}>\n                <Grid container spacing={1}>\n                  <Grid item xs={10} md={3}>\n                    <TextField\n                      size=\"small\"\n                      value={tempHeader.name}\n                      fullWidth\n                      placeholder={t('updater.dialog.headers.name')}\n                      variant=\"outlined\"\n                      onChange={handleTempHeaderName}\n                    />\n                  </Grid>\n                  <Grid item xs={10} md={8}>\n                    <TextField\n                      size=\"small\"\n                      value={tempHeader.value}\n                      fullWidth\n                      placeholder={t('updater.dialog.headers.value')}\n                      variant=\"outlined\"\n                      onChange={handleTempHeaderValue}\n                    />\n                  </Grid>\n                  <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                    <IconButton\n                      style={{\n                        color:\n                          !tempHeader.name || !tempHeader.value\n                            ? theme.palette.action.disabled\n                            : theme.palette.type === 'dark'\n                            ? theme.palette.success.light\n                            : theme.palette.success.dark,\n                        margin: '-4px 0'\n                      }}\n                      disabled={!tempHeader.name || !tempHeader.value}\n                      onClick={() => {\n                        addHeader();\n                      }}\n                    >\n                      <AddCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.proxy')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.proxy}\n                  placeholder={t('updater.dialog.proxy.placeholder')}\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={event => handleValueChange('proxy', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.ca')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.ca_cert}\n                  multiline\n                  rows={6}\n                  fullWidth\n                  variant=\"outlined\"\n                  InputProps={{ style: { fontFamily: 'monospace' } }}\n                  onChange={event => handleValueChange('ca_cert', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      size=\"small\"\n                      checked={tempSource.ssl_ignore_errors}\n                      name=\"label\"\n                      onChange={toggleSSLChange}\n                    />\n                  }\n                  label={<Typography variant=\"body2\">{t('updater.dialog.ignore_ssl')}</Typography>}\n                  className={classes.checkbox}\n                />\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              {t('updater.dialog.cancelText')}\n            </Button>\n            <Button\n              onClick={handleSave}\n              color=\"primary\"\n              disabled={!modified || tempSource.name === '' || tempSource.uri === ''}\n            >\n              {t('updater.dialog.acceptText')}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  );\n};\n\nWrappedSourceDialog.defaultProps = {\n  source: null\n};\n\nconst SourceDialog = React.memo(WrappedSourceDialog);\nexport default SourceDialog;\n","import {\n  Button,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport { SourceCard } from 'components/routes/manage/signature_sources';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport ContainerCard from './container_card';\nimport SourceDialog from './source_dialog';\n\ntype ServiceUpdaterProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceUpdater = ({ service, setService, setModified }: ServiceUpdaterProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const [editDialog, setEditDialog] = useState(false);\n  const [editedSourceID, setEditedSourceID] = useState(-1);\n  const theme = useTheme();\n\n  const handleMethodChange = event => {\n    setModified(true);\n    setService({ ...service, update_config: { ...service.update_config, method: event.target.value } });\n  };\n\n  const handleUpdateContainerChange = newContainer => {\n    setModified(true);\n    setService({ ...service, update_config: { ...service.update_config, run_options: newContainer } });\n  };\n\n  const toggleSignatures = () => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, generates_signatures: !service.update_config.generates_signatures }\n    });\n  };\n\n  const toggleWaitForUpdate = () => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, wait_for_update: !service.update_config.wait_for_update }\n    });\n  };\n\n  const handleIntervalChange = event => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, update_interval_seconds: event.target.value }\n    });\n  };\n\n  const handleDeleteSource = source_id => {\n    const newSources = service.update_config.sources;\n    newSources.splice(source_id, 1);\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, sources: newSources }\n    });\n  };\n\n  const handleEditSource = source_id => {\n    setEditDialog(true);\n    setEditedSourceID(source_id);\n  };\n\n  const handleSaveSource = newSource => {\n    const newSources = [...service.update_config.sources];\n\n    if (editedSourceID === -1) {\n      newSources.push(newSource);\n    } else {\n      newSources[editedSourceID] = newSource;\n    }\n\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, sources: newSources }\n    });\n  };\n\n  useEffect(() => {\n    if (!editDialog && editedSourceID !== -1) {\n      setEditedSourceID(-1);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editDialog]);\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('updater')}</Typography>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.method')}</Typography>\n        {service ? (\n          <Select\n            id=\"channel\"\n            fullWidth\n            value={service.update_config.method}\n            onChange={handleMethodChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n            style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n          >\n            <MenuItem value=\"run\">{t('updater.method.run')}</MenuItem>\n            {/* <MenuItem value=\"build\">{t('updater.method.build')}</MenuItem> */}\n          </Select>\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.interval')}</Typography>\n        {service ? (\n          <TextField\n            fullWidth\n            type=\"number\"\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={service.update_config.update_interval_seconds}\n            onChange={handleIntervalChange}\n          />\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('updater.run.options')}</Typography>\n        {service ? (\n          service.update_config.method === 'run' && (\n            <ContainerCard container={service.update_config.run_options} onChange={handleUpdateContainerChange} />\n          )\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.signatures')}</Typography>\n        <RadioGroup value={service.update_config.generates_signatures} onChange={toggleSignatures}>\n          <FormControlLabel value control={<Radio />} label={t('updater.signatures.yes')} />\n          <FormControlLabel value={false} control={<Radio />} label={t('updater.signatures.no')} />\n        </RadioGroup>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.wait')}</Typography>\n        <RadioGroup value={service.update_config.wait_for_update} onChange={toggleWaitForUpdate}>\n          <FormControlLabel value control={<Radio />} label={t('updater.wait.yes')} />\n          <FormControlLabel value={false} control={<Radio />} label={t('updater.wait.no')} />\n        </RadioGroup>\n      </Grid>\n\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('updater.sources')}</Typography>\n        <SourceDialog\n          open={editDialog}\n          source={editedSourceID !== -1 ? service.update_config.sources[editedSourceID] : null}\n          setOpen={setEditDialog}\n          onSave={handleSaveSource}\n        />\n        {service.update_config.sources.length !== 0 ? (\n          service.update_config.sources.map((source, i) => {\n            return (\n              <div key={i} style={{ display: 'flex', alignItems: 'center' }}>\n                <div style={{ paddingRight: theme.spacing(1), flexGrow: 1 }}>\n                  <SourceCard key={i} source={source} onClick={() => handleEditSource(i)} />\n                </div>\n                <div>\n                  <Tooltip title={t('updater.sources.remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={() => handleDeleteSource(i)}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            {t('updater.sources.none')}\n          </Typography>\n        )}\n      </Grid>\n\n      <Grid item xs={12}>\n        <SourceDialog open={dialog} setOpen={setDialog} onSave={handleSaveSource} />\n        <Button variant=\"contained\" color=\"primary\" onClick={() => setDialog(true)}>\n          {t('updater.sources.add')}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ServiceUpdater;\n","import {\n  Button,\n  CircularProgress,\n  Grid,\n  IconButton,\n  makeStyles,\n  Paper,\n  Tab,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport CustomChip from 'components/visual/CustomChip';\nimport Empty from 'components/visual/Empty';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\nimport ServiceContainer from './service_detail/container';\nimport ServiceGeneral from './service_detail/general';\nimport ServiceParams from './service_detail/parameters';\nimport ServiceUpdater from './service_detail/updater';\n\ntype ServiceProps = {\n  name?: string | null;\n  onDeleted?: () => void;\n};\n\ntype ParamProps = {\n  svc: string;\n};\n\nexport type Volume = {\n  capacity: string;\n  mount_path: string;\n  storage_class: string;\n};\n\ntype Environment = {\n  name: string;\n  value: string;\n};\n\nexport type Container = {\n  allow_internet_access: boolean;\n  command: string[];\n  cpu_cores: number;\n  environment: Environment[];\n  image: string;\n  ports: string[];\n  ram_mb: number;\n  ram_mb_min: number;\n  registry_password: string;\n  registry_username: string;\n};\n\nexport type SubmissionParams = {\n  default: string | boolean | number;\n  name: string;\n  type: 'int' | 'bool' | 'str' | 'list';\n  value: string | boolean | number;\n  list?: string[];\n};\n\nexport type Source = {\n  ca_cert: string;\n  default_classification: string;\n  headers: Environment[];\n  name: string;\n  password: string;\n  pattern: string;\n  private_key: string;\n  proxy: string;\n  ssl_ignore_errors: boolean;\n  uri: string;\n  username: string;\n};\n\ntype UpdateConfig = {\n  generates_signatures: boolean;\n  method: 'run' | 'build';\n  run_options: Container;\n  sources: Source[];\n  update_interval_seconds: number;\n  wait_for_update: boolean;\n};\n\nexport type ServiceDetail = {\n  accepts: string;\n  category: string;\n  config: {\n    [name: string]: string;\n  };\n  default_result_classification: string;\n  dependencies: {\n    [name: string]: {\n      container: Container;\n      volumes: {\n        [name: string]: Volume;\n      };\n    };\n  };\n  description: string;\n  disable_cache: boolean;\n  docker_config: Container;\n  enabled: boolean;\n  is_external: boolean;\n  licence_count: number;\n  name: string;\n  rejects: string;\n  stage: string;\n  submission_params: SubmissionParams[];\n  timeout: number;\n  update_channel: 'dev' | 'beta' | 'rc' | 'stable';\n  update_config: UpdateConfig;\n  version: string;\n};\n\nexport type ServiceConstants = {\n  categories: string[];\n  stages: string[];\n};\n\nconst useStyles = makeStyles(() => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nfunction Service({ name, onDeleted }: ServiceProps) {\n  const { svc } = useParams<ParamProps>();\n  const { t } = useTranslation(['adminServices']);\n  const [service, setService] = useState<ServiceDetail>(null);\n  const [constants, setConstants] = useState<ServiceConstants>(null);\n  const [versions, setVersions] = useState<string[]>(null);\n  const [tab, setTab] = useState('general');\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const theme = useTheme();\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const { user: currentUser } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const apiCall = useMyAPI();\n\n  function saveService() {\n    apiCall({\n      url: `/api/v4/service/${name || svc}/`,\n      method: 'POST',\n      body: service,\n      onSuccess: () => {\n        setModified(false);\n        showSuccessMessage(t('save.success'));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  const onChangeTab = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const closeDialog = () => {\n    setDeleteDialog(false);\n  };\n\n  const handleExecuteDeleteButtonClick = () => {\n    closeDialog();\n    apiCall({\n      url: `/api/v4/service/${name || svc}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        if (svc) setTimeout(() => history.push('/admin/services'), 1000);\n        onDeleted();\n      }\n    });\n  };\n\n  const handleDeleteButtonClick = () => {\n    setDeleteDialog(true);\n  };\n\n  const handleToggleEnabled = () => {\n    setModified(true);\n    setService({ ...service, enabled: !service.enabled });\n  };\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin) {\n      apiCall({\n        url: `/api/v4/service/${name || svc}/`,\n        onSuccess: api_data => {\n          setService(api_data.api_response);\n        }\n      });\n      apiCall({\n        url: '/api/v4/service/constants/',\n        onSuccess: api_data => {\n          setConstants(api_data.api_response);\n        }\n      });\n      apiCall({\n        url: `/api/v4/service/versions/${name || svc}/`,\n        onSuccess: api_data => {\n          setVersions(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return !currentUser.is_admin ? (\n    <Redirect to=\"/forbidden\" />\n  ) : (\n    <PageCenter margin={!svc ? 2 : 4} width=\"100%\">\n      <div style={{ textAlign: 'left' }}>\n        <ConfirmationDialog\n          open={deleteDialog}\n          handleClose={() => setDeleteDialog(false)}\n          handleAccept={handleExecuteDeleteButtonClick}\n          title={t('delete.title')}\n          cancelText={t('delete.cancelText')}\n          acceptText={t('delete.acceptText')}\n          text={t('delete.text')}\n        />\n        <Grid container alignItems=\"center\" spacing={3} style={{ paddingBottom: theme.spacing(2) }}>\n          <Grid item xs>\n            <Typography variant=\"h4\">{service ? service.name : <Skeleton style={{ width: '20rem' }} />}</Typography>\n            <Typography variant=\"caption\">{t('title.detail')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n            {service ? (\n              <>\n                <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n                  <Tooltip title={t('remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={handleDeleteButtonClick}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              </>\n            ) : (\n              <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n            )}\n          </Grid>\n        </Grid>\n\n        {service ? (\n          <CustomChip\n            type=\"rounded\"\n            color={service.enabled ? 'primary' : 'default'}\n            onClick={handleToggleEnabled}\n            label={service.enabled ? t('enabled') : t('disabled')}\n            fullWidth\n            style={{ marginBottom: theme.spacing(2) }}\n          />\n        ) : (\n          <Skeleton variant=\"rect\" height=\"2.5rem\" style={{ marginBottom: theme.spacing(1) }} />\n        )}\n\n        {service ? (\n          <TabContext value={tab}>\n            <Paper\n              square\n              style={{ backgroundColor: name ? theme.palette.background.default : theme.palette.background.paper }}\n            >\n              <TabList onChange={onChangeTab} indicatorColor=\"primary\" textColor=\"primary\">\n                <Tab label={t('tab.general')} value=\"general\" />\n                <Tab label={t('tab.docker')} value=\"docker\" />\n                {service.update_config ? <Tab label={t('tab.updater')} value=\"updater\" /> : <Empty />}\n                <Tab label={t('tab.params')} value=\"params\" />\n              </TabList>\n            </Paper>\n            <TabPanel value=\"general\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceGeneral\n                service={service}\n                setService={setService}\n                setModified={setModified}\n                constants={constants}\n                versions={versions}\n              />\n            </TabPanel>\n            <TabPanel value=\"docker\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceContainer service={service} setService={setService} setModified={setModified} />\n            </TabPanel>\n            <TabPanel value=\"updater\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceUpdater service={service} setService={setService} setModified={setModified} />\n            </TabPanel>\n            <TabPanel value=\"params\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceParams service={service} setService={setService} setModified={setModified} />\n            </TabPanel>\n          </TabContext>\n        ) : (\n          <Skeleton variant=\"rect\" height=\"10rem\" />\n        )}\n      </div>\n\n      {service && modified ? (\n        <div\n          style={{\n            paddingTop: theme.spacing(1),\n            paddingBottom: theme.spacing(1),\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            width: '100%',\n            zIndex: theme.zIndex.drawer - 1,\n            backgroundColor: theme.palette.background.default,\n            boxShadow: theme.shadows[4]\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveService}>\n            {t('save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      ) : null}\n    </PageCenter>\n  );\n}\n\nService.defaultProps = {\n  name: null,\n  onDeleted: () => null\n};\n\nexport default Service;\n","import { Button, Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { DivTable, DivTableBody, DivTableCell, DivTableHead, DivTableRow, LinkRow } from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ServiceResult = {\n  accepts: string;\n  category: string;\n  description: string;\n  enabled: boolean;\n  name: string;\n  rejects: string;\n  stage: string;\n  version: string;\n};\n\ntype UpdateData = {\n  auth: string;\n  image: string;\n  latest_tag: string;\n  update_available: boolean;\n  updating: boolean;\n};\n\ntype Updates = {\n  [name: string]: UpdateData;\n};\n\ntype ServiceTableProps = {\n  serviceResults: ServiceResult[];\n  updates: Updates;\n  setService: (svc: string) => void;\n  onUpdate: (svc: string, updateData: UpdateData) => void;\n};\n\nconst WrappedServiceTable: React.FC<ServiceTableProps> = ({ serviceResults, updates, setService, onUpdate }) => {\n  const { t } = useTranslation(['search']);\n\n  return serviceResults && updates ? (\n    serviceResults.length !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <DivTableCell>{t('header.name')}</DivTableCell>\n              <DivTableCell>{t('header.version')}</DivTableCell>\n              <DivTableCell>{t('header.category')}</DivTableCell>\n              <DivTableCell>{t('header.stage')}</DivTableCell>\n              <DivTableCell>{t('header.accepts')}</DivTableCell>\n              <DivTableCell>{t('header.enabled')}</DivTableCell>\n              <DivTableCell />\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {serviceResults.map(result => (\n              <LinkRow\n                key={result.name}\n                component={Link}\n                to={`/admin/services/${result.name}`}\n                hover\n                style={{ textDecoration: 'none' }}\n                onClick={event => {\n                  if (setService) {\n                    event.preventDefault();\n                    setService(result.name);\n                  }\n                }}\n              >\n                <DivTableCell>{result.name}</DivTableCell>\n                <DivTableCell>{result.version}</DivTableCell>\n                <DivTableCell>{result.category}</DivTableCell>\n                <DivTableCell>{result.stage}</DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-all' }}>{result.accepts}</DivTableCell>\n                <DivTableCell>\n                  {result.enabled ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  {updates[result.name] && updates[result.name].update_available && !updates[result.name].updating && (\n                    <Tooltip title={`${result.name} ${updates[result.name].latest_tag} ${t('available')}!`}>\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={event => {\n                          event.preventDefault();\n                          event.stopPropagation();\n                          onUpdate(result.name, updates[result.name]);\n                        }}\n                      >\n                        {t('update')}\n                      </Button>\n                    </Tooltip>\n                  )}\n                  {updates[result.name] && updates[result.name].updating && t('updating')}\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_results_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ServiceTable = React.memo(WrappedServiceTable);\nexport default ServiceTable;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Skeleton } from '@material-ui/lab';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport Service from 'components/routes/admin/service_detail';\nimport ServiceTable from 'components/visual/SearchResult/service';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Services() {\n  const { t } = useTranslation(['adminServices']);\n  const [serviceResults, setServiceResults] = useState(null);\n  const [updates, setUpdates] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [manifest, setManifest] = useState('');\n  const { showSuccessMessage } = useMySnackbar();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n  const { setGlobalDrawer } = useDrawer();\n\n  const handleAddService = () => {\n    apiCall({\n      method: 'PUT',\n      contentType: 'text/plain',\n      url: '/api/v4/service/',\n      body: manifest,\n      onSuccess: api_data => {\n        showSuccessMessage(t('add.success'));\n        setOpen(false);\n        setTimeout(() => reload(), 1000);\n      }\n    });\n  };\n\n  function handleManifestChange(event) {\n    setManifest(event.target.value);\n  }\n\n  const reload = () => {\n    apiCall({\n      url: '/api/v4/service/all/',\n      onSuccess: api_data => {\n        setServiceResults(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: '/api/v4/service/updates/',\n      onSuccess: api_data => {\n        setUpdates(api_data.api_response);\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser.is_admin) {\n      reload();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onUpdate = useCallback(\n    (svc, updateData) => {\n      apiCall({\n        method: 'PUT',\n        url: '/api/v4/service/update/',\n        body: {\n          name: svc,\n          update_data: updateData\n        },\n        onSuccess: () => {\n          const newUpdates = { ...updates };\n          newUpdates[svc] = { ...newUpdates[svc], updating: true };\n          setUpdates(newUpdates);\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [updates]\n  );\n\n  const onDeleted = () => {\n    setGlobalDrawer(null);\n    setTimeout(() => reload(), 1000);\n  };\n\n  const setService = useCallback(\n    service_name => {\n      setGlobalDrawer(<Service name={service_name} onDeleted={onDeleted} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n        <DialogTitle id=\"form-dialog-title\">{t('add.title')}</DialogTitle>\n        <DialogContent>\n          <TextField\n            label={t('add.paste')}\n            multiline\n            rows={24}\n            variant=\"outlined\"\n            fullWidth\n            InputProps={{\n              style: { fontFamily: 'monospace' }\n            }}\n            onChange={handleManifestChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)} color=\"secondary\">\n            {t('add.cancelText')}\n          </Button>\n          <Button onClick={handleAddService} color=\"primary\" disabled={!manifest}>\n            {t('add.acceptText')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Grid container alignItems=\"center\" spacing={3} style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid item xs>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          {serviceResults ? (\n            <Typography variant=\"caption\">{`${serviceResults.length} ${t('count')}`}</Typography>\n          ) : (\n            <Skeleton width=\"8rem\" />\n          )}\n        </Grid>\n        <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n          <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n            <Tooltip title={t('add')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => setOpen(true)}\n              >\n                <AddCircleOutlineIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <ServiceTable serviceResults={serviceResults} updates={updates} setService={setService} onUpdate={onUpdate} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import {\n  createStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport HttpsOutlinedIcon from '@material-ui/icons/HttpsOutlined';\nimport NoEncryptionOutlinedIcon from '@material-ui/icons/NoEncryptionOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: theme.spacing(1),\n      paddingLeft: theme.spacing(1),\n      wordBreak: 'break-all'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\nexport default function SiteMap() {\n  const { t } = useTranslation(['adminSiteMap']);\n  const theme = useTheme();\n  const [siteMap, setSiteMap] = useState(null);\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n\n  const privMap = {\n    R: 'success',\n    W: 'warning',\n    E: 'error'\n  };\n\n  const reqMapColor = {\n    user: 'default',\n    signature_importer: 'warning',\n    signature_manager: 'info',\n    admin: 'error'\n  };\n\n  useEffect(() => {\n    apiCall({\n      method: 'GET',\n      url: '/api/site_map/',\n      onSuccess: api_data => {\n        setSiteMap(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <div style={{ marginBottom: theme.spacing(2), textAlign: 'left' }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n        {siteMap ? (\n          <Typography variant=\"caption\">{`${siteMap.length} ${t('caption')}`}</Typography>\n        ) : (\n          <Skeleton width=\"10rem\" />\n        )}\n      </div>\n      {siteMap ? (\n        <TableContainer component={Paper}>\n          <Table size=\"small\" stickyHeader>\n            <TableHead>\n              <TableRow>\n                <StyledTableCell>{t('header.url')}</StyledTableCell>\n                <StyledTableCell>{t('header.function')}</StyledTableCell>\n                <StyledTableCell>{t('header.methods')}</StyledTableCell>\n                <StyledTableCell>{t('header.protected')}</StyledTableCell>\n                <StyledTableCell colSpan={2}>{t('header.permissions')}</StyledTableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {siteMap.map((path, id) => (\n                <TableRow key={id} hover>\n                  <StyledTableCell>{path.url}</StyledTableCell>\n                  <StyledTableCell>{path.function}</StyledTableCell>\n                  <StyledTableCell>\n                    {path.methods &&\n                      path.methods.map((method, mid) => {\n                        return <div key={mid}>{method}</div>;\n                      })}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.protected ? (\n                      <HttpsOutlinedIcon color=\"primary\" />\n                    ) : (\n                      <NoEncryptionOutlinedIcon color=\"error\" />\n                    )}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.req_priv &&\n                      path.req_priv.map((priv, pid) => {\n                        return (\n                          <CustomChip\n                            key={pid}\n                            mono\n                            type=\"rounded\"\n                            color={privMap[priv]}\n                            size=\"tiny\"\n                            label={priv}\n                            tooltip={t(`${priv}`)}\n                          />\n                        );\n                      })}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.required_type &&\n                      path.required_type.map((req, rid) => {\n                        return (\n                          <CustomChip\n                            key={rid}\n                            mono\n                            type=\"rounded\"\n                            color={reqMapColor[req]}\n                            size=\"tiny\"\n                            label={t(req)}\n                            tooltip={t(`${req}_label`)}\n                          />\n                        );\n                      })}\n                  </StyledTableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <Skeleton variant=\"rect\" height=\"10rem\" style={{ borderRadius: '4px' }} />\n      )}\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from 'components/visual/DivTable';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type UserResult = {\n  classification: string;\n  email: string;\n  groups: string[];\n  id: string;\n  is_active: boolean;\n  name: string;\n  type: string[];\n  uname: string;\n};\n\ntype SearchResults = {\n  items: UserResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype UsersTableProps = {\n  userResults: SearchResults;\n};\n\nconst WrappedUsersTable: React.FC<UsersTableProps> = ({ userResults }) => {\n  const { t } = useTranslation(['adminUsers']);\n  const { c12nDef } = useALContext();\n\n  return userResults ? (\n    userResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable size=\"small\">\n          <DivTableHead>\n            <DivTableRow style={{ whiteSpace: 'nowrap' }}>\n              <SortableHeaderCell sortField=\"uname\">{t('header.uid')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\">{t('header.fullname')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"groups\">{t('header.groups')}</SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\">{t('header.classification')}</SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"is_active\">{t('header.active')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\">{t('header.admin')}</SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {userResults.items.map(user => (\n              <LinkRow key={user.id} to={`/admin/users/${user.uname}`} hover style={{ textDecoration: 'none' }}>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{user.uname}</DivTableCell>\n                <DivTableCell>{user.name}</DivTableCell>\n                <DivTableCell>{user.groups.join(' | ')}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                    <Classification type=\"text\" size=\"tiny\" c12n={user.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell>\n                  {user.is_active ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n                <DivTableCell>\n                  {user.type.indexOf('admin') !== -1 ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_users_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst UsersTable = React.memo(WrappedUsersTable);\nexport default UsersTable;\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  Drawer,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport UsersTable from 'components/visual/SearchResult/users';\nimport ChipInput from 'material-ui-chip-input';\nimport 'moment/locale/fr';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\nconst DEFAULT_USER = {\n  avatar: null,\n  groups: ['USERS'],\n  is_active: true,\n  type: ['user'],\n  classification: null,\n  email: '',\n  name: '',\n  new_pass: '',\n  uname: '',\n  api_quota: 10,\n  submission_quota: 5\n};\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\ntype User = {\n  avatar: string;\n  email: string;\n  groups: string[];\n  is_active: boolean;\n  type: string[];\n  classification: string;\n  name: string;\n  new_pass: string;\n  uname: string;\n  api_quota: number;\n  submission_quota: number;\n};\n\nexport default function Users() {\n  const { t } = useTranslation(['adminUsers']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const [drawer, setDrawer] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, c12nDef } = useALContext();\n  const [userResults, setUserResults] = useState(null);\n  const [newUser, setNewUser] = useState<User>(DEFAULT_USER);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const { showSuccessMessage } = useMySnackbar();\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const [suggestions, setSuggestions] = useState(DEFAULT_SUGGESTION);\n  const filterValue = useRef<string>('');\n\n  const closeDrawer = () => {\n    setDrawer(false);\n  };\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query && currentUser.is_admin) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        url: `/api/v4/user/list/?${query.toString()}`,\n        onSuccess: api_data => {\n          setUserResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    setClassification(c12nDef.UNRESTRICTED);\n    apiCall({\n      url: '/api/v4/search/fields/user/',\n      onSuccess: api_data => {\n        setSuggestions([\n          ...Object.keys(api_data.api_response).filter(name => {\n            return api_data.api_response[name].indexed;\n          }),\n          ...DEFAULT_SUGGESTION\n        ]);\n      }\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onClear = () => {\n    history.push(location.pathname);\n  };\n\n  const onSearch = () => {\n    if (filterValue.current !== '') {\n      query.set('query', filterValue.current);\n      history.push(`${location.pathname}?${query.toString()}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const updateNewUser = (key, value) => {\n    setNewUser({ ...newUser, [key]: value });\n  };\n\n  function setClassification(value) {\n    setNewUser({ ...newUser, classification: value });\n  }\n\n  function toggleRole(role) {\n    const newTypes = newUser.type;\n    if (newTypes.indexOf(role) === -1) {\n      newTypes.push(role);\n    } else {\n      newTypes.splice(newTypes.indexOf(role), 1);\n    }\n    setNewUser({ ...newUser, type: newTypes });\n  }\n\n  const handleAddUser = () => {\n    apiCall({\n      method: 'PUT',\n      url: `/api/v4/user/${newUser.uname}/`,\n      body: newUser,\n      onSuccess: api_data => {\n        showSuccessMessage(t('newuser.success'));\n        setDrawer(false);\n        setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <Drawer anchor=\"right\" classes={{ paper: classes.drawerPaper }} open={drawer} onClose={closeDrawer}>\n        <div id=\"drawerTop\" style={{ padding: theme.spacing(1) }}>\n          <IconButton onClick={closeDrawer}>\n            <CloseOutlinedIcon />\n          </IconButton>\n        </div>\n        <div style={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n          <Box mb={3}>\n            <Typography variant=\"h5\">{t('newuser.title')}</Typography>\n          </Box>\n          {c12nDef.enforce && (\n            <Box mb={1}>\n              <Classification\n                type=\"picker\"\n                size=\"medium\"\n                format=\"long\"\n                c12n={newUser.classification}\n                setClassification={setClassification}\n                isUser\n              />\n            </Box>\n          )}\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.uname')}</Typography>\n              <TextField\n                autoFocus\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('uname', event.target.value)}\n                value={newUser.uname}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.name')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('name', event.target.value)}\n                value={newUser.name}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"caption\">{t('newuser.groups')}</Typography>\n              <ChipInput\n                style={{ display: 'block' }}\n                margin=\"dense\"\n                defaultValue={newUser.groups}\n                onChange={chips => updateNewUser('groups', chips)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.new_pass')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('new_pass', event.target.value)}\n                value={newUser.new_pass}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.email')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('email', event.target.value)}\n                value={newUser.email}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"caption\">{t('newuser.roles')}</Typography>\n              <div>\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('user') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('user')}\n                  label={t('role.normal_user')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('admin') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('admin')}\n                  label={t('role.admin')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('signature_manager') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('signature_manager')}\n                  label={t('role.signature_manager')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('signature_importer') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('signature_importer')}\n                  label={t('role.signature_importer')}\n                />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.api_quota')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('api_quota', event.target.value)}\n                value={newUser.api_quota}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.submission_quota')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('submission_quota', event.target.value)}\n                value={newUser.submission_quota}\n              />\n            </Grid>\n          </Grid>\n          <Box my={2} textAlign=\"right\">\n            <Button\n              disabled={buttonLoading || !newUser.uname}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleAddUser}\n            >\n              {t('newuser.save')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </Box>\n        </div>\n      </Drawer>\n\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_user')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => {\n                  setDrawer(true);\n                }}\n              >\n                <PersonAddIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <SupervisorAccountIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('admins'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:admin');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <BlockIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('disabled'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'is_active:false');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {userResults !== null && (\n              <div className={classes.searchresult}>\n                {userResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {userResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${userResults.total === 1 ? '' : 's'}`)\n                          : t(`total${userResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  method=\"GET\"\n                  url=\"/api/v4/user/list/\"\n                  total={userResults.total}\n                  setResults={setUserResults}\n                  pageSize={pageSize}\n                  index=\"user\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <UsersTable userResults={userResults} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import { makeStyles, Theme, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport CustomChip, { CustomChipProps } from 'components/visual/CustomChip';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  chiplist: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    listStyle: 'none',\n    padding: 0,\n    boxShadow: 'inherit',\n    margin: 0\n  },\n  chip: {\n    marginBottom: theme.spacing(0.5),\n    marginRight: theme.spacing(1)\n  }\n}));\n\ntype ChipListProps = {\n  items: CustomChipProps[];\n};\n\nconst ChipSkeleton = () => {\n  return <Skeleton variant=\"rect\" height=\"24px\" width=\"4rem\" style={{ borderRadius: '16px', marginRight: '4px' }} />;\n};\n\nconst ChipSkeletonInline = () => {\n  return (\n    <Skeleton\n      variant=\"rect\"\n      height=\"24px\"\n      width=\"4rem\"\n      style={{ borderRadius: '16px', marginRight: '4px', display: 'inline-block', verticalAlign: 'middle' }}\n    />\n  );\n};\n\nconst ChipList: React.FC<ChipListProps> = ({ items }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  return (\n    <ul className={classes.chiplist}>\n      {items\n        ? items.map((cp, i) => {\n            return (\n              <li key={`chiplist-${i}`}>\n                <CustomChip size=\"small\" className={classes.chip} wrap {...cp} />\n              </li>\n            );\n          })\n        : [...Array(3)].map((k, i) => {\n            return (\n              <Skeleton\n                key={`chiplist-${i}`}\n                variant=\"rect\"\n                height={theme.spacing(3)}\n                width=\"4rem\"\n                style={{\n                  verticalAlign: 'middle',\n                  display: 'inline-block',\n                  borderRadius: theme.spacing(2),\n                  marginRight: theme.spacing(0.5)\n                }}\n              />\n            );\n          })}\n    </ul>\n  );\n};\n\nexport { ChipList, ChipSkeleton, ChipSkeletonInline };\n","export function bytesToSize(bytes: number | null) {\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n  if (bytes === 0 || bytes === null) return '0 B';\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n  return `${Math.round(bytes / Math.pow(1024, i))} ${sizes[i]}`;\n}\n\nexport function scoreToVerdict(score: number | null) {\n  // More then 1000 => Malicious\n  if (score >= 1000) {\n    return 'malicious';\n  }\n\n  // Between 500 - 999 => highly suspicious\n  if (score >= 500) {\n    return 'highly_suspicious';\n  }\n\n  // Between 100 - 999 => suspicious\n  if (score >= 100) {\n    return 'suspicious';\n  }\n\n  // Smaller then 0 => Safe\n  if (score < 0) {\n    return 'safe';\n  }\n\n  // Between 0 and 99 => Unknown\n  return 'info';\n}\n\nexport function getValueFromPath(obj: object, path: string) {\n  const paths = path.split('.');\n  let current = obj;\n  let i;\n\n  for (i = 0; i < paths.length; ++i) {\n    if (current[paths[i]] === undefined) {\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport CustomChip from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype VerdictProps = {\n  score: number;\n  short?: boolean;\n  variant?: 'outlined' | 'default';\n  size?: 'tiny' | 'small' | 'medium';\n  type?: 'rounded' | 'text';\n  mono?: boolean;\n  fullWidth?: boolean;\n  wrap?: boolean;\n};\n\nconst WrappedVerdict: React.FC<VerdictProps> = ({\n  score,\n  type = 'rounded',\n  variant = 'default',\n  size = 'tiny',\n  short = false,\n  mono = false,\n  fullWidth = false,\n  wrap = false\n}) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const VERDICT_SCORE_MAP = {\n    info: {\n      shortText: t('verdict.info.short'),\n      text: t('verdict.info'),\n      color: 'default' as 'default',\n      textColor: theme.palette.type === 'dark' ? '#AAA' : '#888'\n    },\n    safe: {\n      shortText: t('verdict.safe.short'),\n      text: t('verdict.safe'),\n      color: 'success' as 'success',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n    },\n    suspicious: {\n      shortText: t('verdict.suspicious.short'),\n      text: t('verdict.suspicious'),\n      color: 'warning' as 'warning',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    highly_suspicious: {\n      shortText: t('verdict.highly_suspicious.short'),\n      text: t('verdict.highly_suspicious'),\n      color: 'warning' as 'warning',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    malicious: {\n      shortText: t('verdict.malicious.short'),\n      text: t('verdict.malicious'),\n      color: 'error' as 'error',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n    }\n  };\n\n  const { text, color, shortText, textColor } = VERDICT_SCORE_MAP[scoreToVerdict(score)];\n\n  return (\n    <Tooltip title={`${text} [Score: ${score}]`}>\n      <span>\n        {type === 'text' ? (\n          <span style={{ fontWeight: 500, color: textColor }}>{text}</span>\n        ) : (\n          <CustomChip\n            type={type}\n            variant={variant}\n            size={size}\n            label={short ? shortText : text}\n            color={color}\n            mono={mono}\n            fullWidth={fullWidth}\n            wrap={wrap}\n          />\n        )}\n      </span>\n    </Tooltip>\n  );\n};\n\nconst Verdict = React.memo(WrappedVerdict);\nexport default Verdict;\n","import { Box, makeStyles, Typography } from '@material-ui/core';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport RemoveOutlinedIcon from '@material-ui/icons/RemoveOutlined';\nimport CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles({\n  priority: {\n    '& > svg': {\n      verticalAlign: 'bottom'\n    }\n  }\n});\n\nconst COLOR_MAP = {\n  CRITICAL: {\n    color: 'hsl(0, 100%, 40%)',\n    chip_color: 'error',\n    arrow: <ArrowUpwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  HIGH: {\n    color: 'hsl(39, 100%, 40%)',\n    chip_color: 'warning',\n    arrow: <ArrowUpwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  MEDIUM: {\n    color: 'hsl(39, 100%, 40%)',\n    chip_color: 'warning',\n    arrow: <ArrowDownwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  LOW: {\n    color: 'hsl(120, 100%, 30%)',\n    chip_color: 'success',\n    arrow: <ArrowDownwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  undefined: {\n    color: 'inherit',\n    chip_color: 'default',\n    arrow: <RemoveOutlinedIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  null: { color: 'inherit', chip_color: 'default', arrow: <RemoveOutlinedIcon fontSize=\"small\" color=\"inherit\" /> }\n};\n\ntype AlertPriorityProps = {\n  name: string;\n  withText?: boolean;\n  withChip?: boolean;\n  size?: 'tiny' | 'small' | 'medium';\n};\n\nconst AlertPriority: React.FC<AlertPriorityProps> = ({ name, withText = false, withChip = false, size = 'small' }) => {\n  const { t } = useTranslation('alerts');\n  const classes = useStyles();\n  return withChip ? (\n    <CustomChip\n      wrap\n      size={size}\n      variant=\"outlined\"\n      color={COLOR_MAP[name].chip_color}\n      label={name ? t(`priority_${name}`) : t('priority_unset')}\n      icon={COLOR_MAP[name].arrow}\n    />\n  ) : (\n    <Box style={{ color: COLOR_MAP[name].color }} display=\"inline-block\" className={classes.priority}>\n      {COLOR_MAP[name].arrow}{' '}\n      {withText ? <Typography>{name ? t(`priority_${name}`) : t('priority_unset')}</Typography> : ''}\n    </Box>\n  );\n};\n\nexport default AlertPriority;\n","import CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst COLOR_MAP = {\n  TRIAGE: 'default',\n  MALICIOUS: 'error',\n  'NON-MALICIOUS': 'success',\n  ASSESS: 'primary'\n};\n\ntype AlertStatusProps = {\n  name: string;\n  size?: 'tiny' | 'small' | 'medium';\n};\n\nconst AlertStatus: React.FC<AlertStatusProps> = ({ name, size = 'small' as 'small' }) => {\n  const { t } = useTranslation('alerts');\n  return <CustomChip size={size} variant=\"outlined\" color={COLOR_MAP[name]} label={t(`status_${name}`)} />;\n};\n\nexport default AlertStatus;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Box, Divider, Grid, IconButton, makeStyles, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport Alert from '@material-ui/lab/Alert';\nimport useClipboard from 'commons/components/hooks/useClipboard';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport { ChipList, ChipSkeleton, ChipSkeletonInline } from 'components/visual/ChipList';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BsClipboard } from 'react-icons/bs';\nimport { Link, useParams } from 'react-router-dom';\nimport AlertPriority from './alert-priority';\nimport AlertStatus from './alert-status';\n\nconst useStyles = makeStyles(theme => ({\n  section: {\n    marginBottom: theme.spacing(2),\n    '& > hr': {\n      marginBottom: theme.spacing(1)\n    }\n  },\n  sectionTitle: {\n    fontWeight: 'bold'\n  },\n  sectionContent: {},\n  clipboardIcon: {\n    '&:hover': {\n      cursor: 'pointer',\n      transform: 'scale(1.1)'\n    }\n  }\n}));\n\ntype AlertDetailsProps = {\n  id?: string;\n  alert?: AlertItem;\n};\n\nconst SkeletonInline = () => {\n  return <Skeleton style={{ display: 'inline-block', width: '10rem' }} />;\n};\n\nconst AlertDetails: React.FC<AlertDetailsProps> = ({ id, alert }) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const { c12nDef } = useALContext();\n  const { copy } = useClipboard();\n  const [item, setItem] = useState<AlertItem>(null);\n  const { id: paramId } = useParams<{ id: string }>();\n\n  useEffect(() => {\n    const alertId = id || paramId;\n    if (alertId) {\n      apiCall({\n        url: `/api/v4/alert/${alertId}/`,\n        onSuccess: api_data => {\n          setItem(api_data.api_response);\n        }\n      });\n    }\n  }, [id, paramId]);\n\n  useEffect(() => {\n    if (alert) setItem(alert);\n  }, [alert]);\n\n  useEffect(() => {\n    function handleAlertUpdate(event: CustomEvent) {\n      const { detail } = event;\n      if (detail.id === item.id) {\n        setItem({ ...item, ...detail.changes });\n      }\n    }\n    window.addEventListener('alertUpdate', handleAlertUpdate);\n    return () => {\n      window.removeEventListener('alertUpdate', handleAlertUpdate);\n    };\n  }, [item]);\n\n  return (\n    <PageCenter margin={!alert ? 4 : 1} width=\"100%\">\n      {c12nDef.enforce && (\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: theme.spacing(2) }}>\n          <div style={{ flex: 1 }}>\n            <Classification c12n={item ? item.classification : null} type=\"outlined\" />\n          </div>\n        </div>\n      )}\n      {!alert && (\n        <div style={{ paddingBottom: theme.spacing(3), textAlign: 'left' }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t('detail.title')}</Typography>\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n              {item ? (\n                <Tooltip title={t('submission')}>\n                  <IconButton\n                    component={Link}\n                    style={{ color: theme.palette.action.active }}\n                    to={`/submission/\"${item.sid}\"`}\n                  >\n                    <AmpStoriesOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        {item && item.filtered && (\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <Alert severity=\"warning\">{t('data_filtered_msg')}</Alert>\n          </div>\n        )}\n        <Grid container spacing={1}>\n          <Grid item xs={12} md={6}>\n            {/* Alert ID Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('alert_id')}</Typography>\n              <Divider />\n              {item ? item.alert_id : <Skeleton />}\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Score Section. */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('score')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {item ? <Verdict size=\"tiny\" score={item.al.score} /> : <Skeleton />}\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* User Verdict Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('user_verdict')}</Typography>\n              <Divider />\n              {item ? (\n                <div style={{ display: 'flex' }}>\n                  <div style={{ flexGrow: 1 }}>\n                    <div>{`${item.verdict.malicious.length}x ${t('verdict.malicious')}`}</div>\n                    <div>{`${item.verdict.non_malicious.length}x ${t('verdict.non_malicious')}`}</div>\n                  </div>\n                  <div\n                    style={{\n                      flexGrow: 0,\n                      alignSelf: 'center',\n                      paddingLeft: theme.spacing(2),\n                      paddingRight: theme.spacing(2)\n                    }}\n                  >\n                    {item.verdict.malicious.length > item.verdict.non_malicious.length && <BugReportOutlinedIcon />}\n                    {item.verdict.non_malicious.length > item.verdict.malicious.length && <VerifiedUserOutlinedIcon />}\n                  </div>\n                </div>\n              ) : (\n                <>\n                  <Skeleton />\n                  <Skeleton />\n                </>\n              )}\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Priority Section. */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('priority')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <Box display=\"flex\">\n                  {item ? <AlertPriority name={item ? item.priority : null} withText withChip /> : <ChipSkeleton />}\n                </Box>\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Status Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('status')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {item ? <AlertStatus name={item.status} /> : <ChipSkeleton />}\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            {/* Labels Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('label')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <ChipList items={item ? item.label.map(label => ({ label, variant: 'outlined' })) : null} />\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n\n        {/*  Reporting Date, Type and Owner */}\n        <Grid container spacing={2}>\n          {/* Reporting Type Section */}\n          <Grid item xs={12} md={6}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('dates')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <Grid container>\n                  <Grid item xs={3} sm={2} md={4}>\n                    {t('received_date')}\n                  </Grid>\n                  <Grid item xs={9} sm={10} md={8}>\n                    {item ? `${item.ts.replace('T', ' ').replace('Z', '')} (UTC)` : <Skeleton />}\n                  </Grid>\n                  <Grid item xs={3} sm={2} md={4}>\n                    {t('alerted_date')}\n                  </Grid>\n                  <Grid item xs={9} sm={10} md={8}>\n                    {item ? `${item.reporting_ts.replace('T', ' ').replace('Z', '')} (UTC)` : <Skeleton />}\n                  </Grid>\n                </Grid>\n              </div>\n            </div>\n          </Grid>\n          {/* Type Section. */}\n          <Grid item xs={6} md={3}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('type')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>{item ? item.type : <Skeleton />}</div>\n            </div>\n          </Grid>\n          {/* Owner Section. */}\n          <Grid item xs={6} md={3}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('ownership')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {/* TODO: don't display user when none. */}\n                {item ? item.owner ? item.owner : item.hint_owner ? 'assigned' : null : <Skeleton />}\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n\n        {/* File Info */}\n        <div className={classes.section}>\n          <Typography className={classes.sectionTitle}>{t('file_info')}</Typography>\n          <Divider />\n          <div className={classes.sectionContent}>\n            <Grid container>\n              <Grid item xs={12} style={{ marginBottom: theme.spacing(1) }}>\n                <span>{item ? item.file.name : <SkeletonInline />}</span>\n                <span style={{ marginLeft: theme.spacing(1), marginRight: theme.spacing(1), wordBreak: 'break-all' }}>\n                  {item ? (\n                    <CustomChip label={item.file.type} variant=\"outlined\" size=\"small\" />\n                  ) : (\n                    <ChipSkeletonInline />\n                  )}\n                </span>\n                <Typography variant=\"caption\">\n                  {item ? `${item.file.size} (${(item.file.size / 1024).toFixed(2)} Kb)` : <SkeletonInline />}\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.md5, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  MD5:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.md5 : <SkeletonInline />}\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.sha1, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  SHA1:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.sha1 : <SkeletonInline />}\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.sha256, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  SHA256:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.sha256 : <SkeletonInline />}\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        {/* Metadata Section */}\n        {!item || (item.metadata && Object.keys(item.metadata).length > 0) ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('metadata')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <pre style={{ margin: 0, fontSize: 'larger', whiteSpace: 'pre-wrap', wordBreak: 'break-all' }}>\n                {item ? (\n                  Object.keys(item.metadata).map(k => (\n                    <Grid container spacing={1} key={`alert-metadata-${k}`}>\n                      <Grid item xs={3} sm={2}>\n                        {k}\n                      </Grid>\n                      <Grid item xs={9} sm={10}>\n                        {item.metadata[k]}\n                      </Grid>\n                    </Grid>\n                  ))\n                ) : (\n                  <>\n                    <Skeleton />\n                    <Skeleton />\n                    <Skeleton />\n                  </>\n                )}\n              </pre>\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL Attributions Section */}\n        {!item || item.al.attrib.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('attributions')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList\n                items={item ? item.al.attrib.map(label => ({ label, variant: 'outlined', color: 'error' })) : null}\n              />\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL AV Hits */}\n        {!item || item.al.av.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('avhits')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList\n                items={item ? item.al.av.map(label => ({ label, variant: 'outlined', color: 'warning' })) : null}\n              />\n            </div>\n          </div>\n        ) : null}\n\n        {/* IPs sections */}\n        {!item || item.al.ip.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('ip')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('ip_dynamic')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.ip_dynamic.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'primary'\n                          }))\n                        : null\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('ip_static')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.ip_static.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'primary'\n                          }))\n                        : null\n                    }\n                  />{' '}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Domains sections */}\n        {!item || item.al.domain.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('domain')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('domain_dynamic')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.domain_dynamic.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'success'\n                          }))\n                        : null\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('domain_static')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.domain_static.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'success'\n                          }))\n                        : null\n                    }\n                  />{' '}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Attack Section */}\n        {!item || item.attack.category.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('attack')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\" style={{ marginRight: theme.spacing(1) }}>\n                    <i>{t('attack_category')}</i>\n                  </Typography>\n                  <div style={{ verticalAlign: 'middle', display: 'inline-block' }}>\n                    <ChipList\n                      items={item ? item.attack.category.map(label => ({ label, variant: 'outlined' })) : null}\n                    />\n                  </div>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\" style={{ marginRight: theme.spacing(1) }}>\n                    <i>{t('attack_pattern')}</i>\n                  </Typography>\n                  <div style={{ verticalAlign: 'middle', display: 'inline-block' }}>\n                    <ChipList\n                      items={item ? item.attack.pattern.map(label => ({ label, variant: 'outlined' })) : null}\n                    />\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Heuristics Section */}\n        {!item || (item.heuristic && item.heuristic.name && item.heuristic.name.length !== 0) ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('heuristic')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.heuristic.name.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL Behaviours Section */}\n        {!item || item.al.behavior.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('behaviors')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.al.behavior.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n\n        {/* YARA Hits */}\n        {!item || item.al.yara.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('yara')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.al.yara.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default AlertDetails;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { makeStyles } from '@material-ui/core';\nimport { isArrowDown, isArrowLeft, isArrowRight, isArrowUp } from 'commons/addons/elements/utils/keyboard';\nimport React, { useRef } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    outline: 'none'\n  }\n}));\n\nexport interface CarouselProps {\n  disableArrowUp?: boolean;\n  disableArrowDown?: boolean;\n  disableArrowLeft?: boolean;\n  disableArrowRight?: boolean;\n  enableSwipe?: boolean;\n  children: React.ReactNode;\n  onNext: () => void;\n  onPrevious: () => void;\n}\n\nconst Carousel: React.FC<CarouselProps> = ({\n  enableSwipe,\n  disableArrowUp,\n  disableArrowDown,\n  disableArrowLeft,\n  disableArrowRight,\n  children,\n  onPrevious,\n  onNext\n}) => {\n  const classes = useStyles();\n  const touchX = useRef<number>(-1);\n  const touchY = useRef<number>(-1);\n  const touchStartX = useRef<number>(-1);\n  const touchStartY = useRef<number>(-1);\n  const touchDirection = useRef<'left' | 'right' | 'scroll'>();\n  const touchStale = useRef<boolean>(false);\n\n  const onKeyDown = (event: React.KeyboardEvent) => {\n    const { key } = event;\n    if ((!disableArrowLeft && isArrowLeft(key)) || (!disableArrowUp && isArrowUp(key))) {\n      onPrevious();\n    } else if ((!disableArrowRight && isArrowRight(key)) || (!disableArrowDown && isArrowDown(key))) {\n      onNext();\n    }\n  };\n\n  const onTouchStart = (event: React.TouchEvent) => {\n    touchX.current = event.touches[0].clientX;\n    touchY.current = event.touches[0].clientY;\n    touchStartX.current = event.touches[0].clientX;\n    touchStartY.current = event.touches[0].clientY;\n  };\n\n  const onTouchMove = (event: React.TouchEvent) => {\n    if (!touchStale.current) {\n      // Where it's at.\n      const moveX = event.touches[0].clientX;\n      const moveY = event.touches[0].clientY;\n\n      // Touch direction..\n      let nextDirection = null;\n      const xDistance = Math.abs(moveX - touchStartX.current);\n      const yDistance = Math.abs(moveY - touchStartY.current);\n\n      if (xDistance > yDistance) {\n        if (moveX > touchX.current) {\n          nextDirection = 'right';\n        } else if (moveX < touchX.current) {\n          nextDirection = 'left';\n        } else {\n          nextDirection = 'scroll';\n        }\n      } else {\n        nextDirection = 'scroll';\n      }\n\n      if (\n        touchDirection.current !== 'scroll' &&\n        nextDirection !== 'scroll' &&\n        touchDirection.current &&\n        nextDirection !== touchDirection.current\n      ) {\n        // if there is a change in direction, we mark the touch as stale.\n        // this will let users scroll left-right when there is overflow.\n        touchStale.current = true;\n        touchDirection.current = null;\n      } else {\n        // the direction of the touch motion.\n        touchDirection.current = nextDirection;\n      }\n\n      // Track last touch position to detect direction change next time around.\n      touchX.current = moveX;\n      touchY.current = moveY;\n    }\n  };\n\n  const onTouchEnd = () => {\n    if (touchDirection.current === 'right') {\n      onPrevious();\n    } else if (touchDirection.current === 'left') {\n      onNext();\n    }\n    touchDirection.current = null;\n    touchStale.current = false;\n  };\n\n  return (\n    <div\n      tabIndex={-1}\n      className={classes.container}\n      onKeyDown={onKeyDown}\n      onTouchStart={enableSwipe && onTouchStart}\n      onTouchMove={enableSwipe && onTouchMove}\n      onTouchEnd={enableSwipe && onTouchEnd}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Carousel;\n","export default class Throttler {\n  private throttleId: NodeJS.Timeout = null;\n\n  private delayId: NodeJS.Timeout = null;\n\n  private msec: number = null;\n\n  constructor(msec: number) {\n    this.msec = msec;\n    this.delay = this.delay.bind(this);\n  }\n\n  public throttle(fn: () => void): void {\n    if (!this.throttleId) {\n      this.throttleId = setTimeout(() => {\n        fn();\n        this.throttleId = null;\n      }, this.msec);\n    }\n  }\n\n  public delay(fn: () => void): void {\n    if (this.delayId) {\n      clearTimeout(this.delayId);\n    }\n    this.delayId = setTimeout(fn, this.msec);\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useCallback } from 'react';\nimport Throttler from '../../utils/throttler';\n\nconst THROTTLER = new Throttler(10);\n\nexport const LIST_SELECT_EVENTNAME = 'mui.elements.list.cursor.set';\nexport const LIST_SELECT_NEXT_EVENTNAME = 'mui.elements.list.cursor.next';\nexport const LIST_SELECT_PREVIOUS_EVENTNAME = 'mui.elements.list.cursor.previous';\n\ninterface UsingList {\n  select: (index: number) => void;\n  selectNext: () => void;\n  selectPrevious: () => void;\n  register: (handers: { onSelect; onSelectNext; onSelectPrevious }) => void;\n}\n\nexport default function useList(listId: string): UsingList {\n  const select = (cursor: number) => {\n    THROTTLER.throttle(() =>\n      window.dispatchEvent(new CustomEvent(`${LIST_SELECT_EVENTNAME}.${listId}`, { detail: { cursor } }))\n    );\n  };\n  const selectNext = () => {\n    THROTTLER.throttle(() => window.dispatchEvent(new CustomEvent(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`)));\n  };\n  const selectPrevious = () => {\n    THROTTLER.throttle(() => window.dispatchEvent(new CustomEvent(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`)));\n  };\n\n  const register = handlers => {\n    window.addEventListener(`${LIST_SELECT_EVENTNAME}.${listId}`, handlers.onSelect);\n    window.addEventListener(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`, handlers.onSelectNext);\n    window.addEventListener(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`, handlers.onSelectPrevious);\n    return () => {\n      window.removeEventListener(`${LIST_SELECT_EVENTNAME}.${listId}`, handlers.onSelect);\n      window.removeEventListener(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`, handlers.onSelectNext);\n      window.removeEventListener(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`, handlers.onSelectPrevious);\n    };\n  };\n\n  return {\n    select: useCallback(select, []),\n    selectNext: useCallback(selectNext, []),\n    selectPrevious: useCallback(selectPrevious, []),\n    register: useCallback(register, [])\n  };\n}\n","import Carousel from 'commons/addons/elements/carousel/Carousel';\nimport useListNavigator from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport React from 'react';\n\ninterface ListCarouselProps {\n  id: string;\n  enableSwipe?: boolean;\n  disableArrowUp?: boolean;\n  disableArrowDown?: boolean;\n  disableArrowLeft?: boolean;\n  disableArrowRight?: boolean;\n  children: React.ReactElement;\n}\n\nconst ListCarousel: React.FC<ListCarouselProps> = ({\n  id,\n  enableSwipe,\n  disableArrowUp,\n  disableArrowDown,\n  disableArrowLeft,\n  disableArrowRight,\n  children\n}) => {\n  const { selectNext, selectPrevious } = useListNavigator(id);\n  return (\n    <Carousel\n      enableSwipe={enableSwipe}\n      disableArrowDown={disableArrowDown}\n      disableArrowLeft={disableArrowLeft}\n      disableArrowRight={disableArrowRight}\n      disableArrowUp={disableArrowUp}\n      onNext={selectNext}\n      onPrevious={selectPrevious}\n    >\n      {children}\n    </Carousel>\n  );\n};\n\nexport default ListCarousel;\n","import { Box, IconButton } from '@material-ui/core';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useList from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport React from 'react';\n\nconst ListNavigator = ({ id }) => {\n  const { selectNext, selectPrevious } = useList(id);\n\n  const onNextItem = () => {\n    selectNext();\n  };\n\n  const onPreviousItem = () => {\n    selectPrevious();\n  };\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <IconButton onClick={onPreviousItem}>\n        <ChevronLeftIcon />\n      </IconButton>\n      <IconButton onClick={onNextItem}>\n        <ChevronRightIcon />\n      </IconButton>\n    </Box>\n  );\n};\n\nexport default ListNavigator;\n","import ListScroller from 'commons/addons/elements/lists/scrollers/ListScroller';\nimport { isArrowDown, isArrowUp, isEnter, isEscape } from 'commons/addons/elements/utils/keyboard';\nimport Throttler from 'commons/addons/elements/utils/throttler';\nimport { useState } from 'react';\n\nconst THROTTLER = new Throttler(10);\n\n// Specification interface return by custom hook\ninterface UsingListKeyboard {\n  cursor: number;\n  setCursor: (cursor: number) => void;\n  next: () => void;\n  previous: () => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => void;\n}\n\n// Specification interface to configure custom hook.\ninterface UseListKeyboard {\n  id: string;\n  count: number;\n  infinite?: boolean;\n  scroller: ListScroller;\n  pause?: boolean;\n  onCursorChange?: (cursor: number) => void;\n  onEscape?: (cursor: number) => void;\n  onEnter?: (cursor: number) => void;\n}\n\nexport default function useListKeyboard({\n  id,\n  count,\n  infinite,\n  scroller,\n  pause,\n  onCursorChange,\n  onEscape,\n  onEnter\n}: UseListKeyboard): UsingListKeyboard {\n  // Cursor state.\n  const [cursor, setCursor] = useState<number>(0);\n\n  // Update the cursor state and invoke callback if provided.\n  const updateState = (nextCursor: number) => {\n    setCursor(nextCursor);\n    scroller.scrollTo(nextCursor);\n    if (onCursorChange) {\n      onCursorChange(nextCursor);\n    }\n  };\n\n  // decrement cursor by one.\n  const next = () => {\n    const nextCursor = cursor + 1 < count || infinite ? cursor + 1 : 0;\n    updateState(nextCursor);\n  };\n\n  // increment cursor by one.\n  const previous = () => {\n    const nextCursor = cursor - 1 > -1 ? cursor - 1 : infinite ? 0 : count - 1;\n    updateState(nextCursor);\n  };\n\n  // hander:keydown\n  const onKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (!pause) {\n      // What key was hit?\n      const { key } = event;\n\n      // Check to see if we should schedule throttled event.\n      const accepts = isEnter(key) || isEscape(key) || isArrowUp(key) || isArrowDown(key);\n\n      // do we care?\n      if (accepts) {\n        // Prevent default behaviors.\n        event.preventDefault();\n        // Only run events after 10ms after receiving last one.\n        THROTTLER.throttle(() => {\n          // Handle each keys.\n          if (isEnter(key)) {\n            // key[ENTER ]: handler\n            if (onEnter) {\n              onEnter(cursor);\n            }\n          } else if (isEscape(key)) {\n            // key[ESCAPE]: handler\n            if (onEscape) {\n              onEscape(cursor);\n            }\n          } else if (isArrowUp(key)) {\n            // key[ARROW_UP]: handler\n            previous();\n          } else if (isArrowDown(key)) {\n            // key[ARROW_DOWN]: handler\n            next();\n          }\n        });\n      }\n    }\n  };\n\n  return { cursor, setCursor, next, previous, onKeyDown };\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useMetaListStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    overflow: 'auto',\n    width: '100%',\n    height: '100%',\n    outline: 'none'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%',\n    overflow: 'hidden'\n  },\n  frame: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useBooklistStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  inner: {\n    position: 'relative',\n    overflow: 'auto',\n    outline: 'none'\n  },\n  pager: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    padding: theme.spacing(1)\n  },\n  pagerSpacer: {\n    flex: 1\n  },\n  pagerItems: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  pagerItem: {\n    marginLeft: theme.spacing(1),\n    display: 'inline-block'\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useSimpleListStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'auto',\n    minHeight: 300,\n    height: '100%',\n    width: '100%',\n    outline: 'none'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%'\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useListItemStyles = makeStyles(theme => ({\n  itemCt: {\n    position: 'relative',\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    '&:hover $itemActions': {\n      display: 'inherit'\n    }\n  },\n  itemDefaultBackgrounds: {\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 17%)' : 'hsl(0, 0%, 95%)'\n    },\n    '&[data-listitem-focus=\"true\"]': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 17%)' : 'hsl(0, 0%, 95%)'\n    },\n    '&[data-listitem-selected=\"true\"]': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 15%)' : 'hsl(0, 0%, 92%)'\n    }\n  },\n  itemOuter: {\n    position: 'relative',\n    // height: '100%',  ...\n    overflow: 'auto'\n  },\n  itemInner: {\n    // height: '100%'\n  },\n  itemDivider: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0\n  },\n  itemActions: {\n    position: 'absolute',\n    top: theme.spacing(1),\n    right: theme.spacing(1),\n    display: 'none',\n    backgroundColor: 'transparent',\n    '& button': {\n      marginRight: theme.spacing(1),\n      boxShadow: theme.shadows[2]\n    }\n  }\n}));\n\nexport default function useListStyles() {\n  return {\n    listItemClasses: useListItemStyles(),\n    metaListClasses: useMetaListStyles(),\n    booklistClasses: useBooklistStyles(),\n    simpleListStyles: useSimpleListStyles()\n  };\n}\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nimport { Divider, IconButtonProps } from '@material-ui/core';\nimport useListStyles from 'commons/addons/elements/lists/hooks/useListStyles';\nimport React, { useCallback } from 'react';\n\nexport interface LineItem {\n  id: number | string;\n}\n\nexport interface LineItemAction {\n  icon: React.ReactNode;\n  props: IconButtonProps;\n}\n\nexport interface ListItemBaseProps {\n  index: number;\n  item: LineItem;\n  height?: string | number;\n  selected: boolean;\n  noDivider?: boolean;\n  disableBackgrounds?: boolean;\n  children: (item: LineItem) => React.ReactNode;\n  onClick: (item: LineItem, index: number) => void;\n  onRenderActions?: (item: LineItem, index?: number) => React.ReactNode;\n}\n\nconst ListItemBase: React.FC<ListItemBaseProps> = React.memo(\n  ({ selected, item, index, height, noDivider, disableBackgrounds, children, onRenderActions, onClick }) => {\n    const { listItemClasses: classes } = useListStyles();\n\n    const _onClick = useCallback(() => {\n      if (onClick) {\n        onClick(item, index);\n      }\n    }, [onClick, item, index]);\n\n    // console.log(`rendering: ${index}`);\n\n    const onItemActionsClick = useCallback(event => event.stopPropagation(), []);\n\n    return (\n      <div\n        className={`${classes.itemCt} ${!disableBackgrounds && classes.itemDefaultBackgrounds}`}\n        data-listitem-position={index}\n        data-listitem-selected={selected}\n        data-listitem-focus=\"false\"\n        onClick={_onClick}\n        style={{ height }}\n      >\n        {children(item)}\n        <div className={classes.itemDivider} style={{ display: noDivider ? 'none' : null }}>\n          <Divider />\n        </div>\n        <div className={classes.itemActions} onClick={onItemActionsClick}>\n          {onRenderActions && onRenderActions(item, index)}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ListItemBase;\n","import ListScroller from './ListScroller';\n\nexport default class SimpleListScroller implements ListScroller {\n  constructor(private scrollTarget: HTMLElement, private listElement: HTMLElement, private rowHeight?: number) {}\n\n  public scrollTo(position: number) {\n    const scrollElement = this.scrollElement(position);\n    if (scrollElement === null) return;\n    const offset = this.offset();\n    if (offset > 0) {\n      const block = this.getScrollBlock(scrollElement, offset);\n      if (block) scrollElement.scrollIntoView({ block });\n    } else {\n      scrollElement.scrollIntoView({ block: 'nearest' });\n    }\n  }\n\n  private getScrollBlock(el: HTMLElement, offset: number) {\n    const top = el.offsetTop;\n    const height = el.offsetHeight;\n    const listElementRect = this.listElement.getBoundingClientRect();\n    const stElementRect = this.scrollTarget.getBoundingClientRect();\n\n    if (offset - listElementRect.top !== 0 && top < -listElementRect.top + stElementRect.height / 2) {\n      return 'center';\n    }\n\n    if (top + height > -listElementRect.top + stElementRect.height) {\n      return 'end';\n    }\n\n    return null;\n  }\n\n  private scrollElement(position: number): HTMLElement {\n    return this.scrollTarget.querySelector(`[data-listitem-position=\"${position}\"]`);\n  }\n\n  private offset() {\n    if (this.scrollTarget === this.listElement) {\n      return 0;\n    }\n    const { scrollTop } = this.scrollTarget;\n    const cTop = this.listElement.getBoundingClientRect().top;\n    return scrollTop + cTop;\n  }\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport { CircularProgress } from '@material-ui/core';\nimport useListKeyboard from 'commons/addons/elements/lists/hooks/useListKeyboard';\nimport useListNavigator from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport useListStyles from 'commons/addons/elements/lists/hooks/useListStyles';\nimport ListItemBase, { LineItem } from 'commons/addons/elements/lists/item/ListItemBase';\nimport React, { useCallback, useEffect, useLayoutEffect, useRef } from 'react';\nimport ListScroller from '../scrollers/ListScroller';\nimport SimpleListScroller from '../scrollers/SimpleListScroller';\n\ninterface SimpleListProps {\n  id: string;\n  loading: boolean;\n  disableProgress?: boolean;\n  disableBackgrounds?: boolean;\n  scrollInfinite?: boolean;\n  scrollReset?: boolean;\n  scrollLoadNextThreshold?: number;\n  scrollTargetId?: string;\n  noDivider?: boolean;\n  emptyValue?: React.ReactNode;\n  items: LineItem[];\n  children: (item: LineItem) => React.ReactNode;\n  onCursorChange?: (item: LineItem, cursor?: number) => void;\n  onItemSelected?: (item: LineItem, index?: number) => void;\n  onRenderActions?: (item: LineItem, index?: number) => React.ReactNode;\n  onLoadNext?: () => void;\n}\n\nconst SimpleList: React.FC<SimpleListProps> = ({\n  id,\n  loading,\n  items,\n  disableProgress,\n  scrollTargetId,\n  scrollInfinite,\n  scrollLoadNextThreshold = 75,\n  scrollReset,\n  disableBackgrounds,\n  noDivider,\n  children,\n  emptyValue,\n  onCursorChange,\n  onItemSelected,\n  onRenderActions,\n  onLoadNext\n}) => {\n  // Hooks.\n  const { simpleListStyles: classes } = useListStyles();\n\n  // List Navigator hook to register event handling.\n  const { register } = useListNavigator(id);\n\n  // Some refs.\n  const outerEL = useRef<HTMLDivElement>();\n  const scrollEL = useRef<HTMLElement>();\n  const innerEL = useRef<HTMLDivElement>();\n  const scroller = useRef<ListScroller>();\n  const nextScrollThreshold = useRef<number>(scrollLoadNextThreshold);\n\n  // Configure the list keyboard custom hook.\n  const { cursor, next, previous, setCursor, onKeyDown } = useListKeyboard({\n    id,\n    // scrollTargetId,\n    scroller: scroller.current,\n    infinite: scrollInfinite,\n    count: items.length,\n    pause: loading,\n    onEscape: () => {\n      if (onItemSelected) {\n        onItemSelected(null, -1);\n      }\n    },\n    onEnter: (_cursor: number) => {\n      if (onItemSelected) {\n        onItemSelected(items[_cursor], _cursor);\n      }\n    },\n    onCursorChange: (_cursor: number) => {\n      const item = items[_cursor];\n      if (onCursorChange) {\n        onCursorChange(item, _cursor);\n      }\n    }\n  });\n\n  // Enable scroll event handler?\n  const onScrollEnabled = !loading && onLoadNext && scrollInfinite;\n\n  // Memoized callback for when clicking on an item.\n  const _onRowClick = useCallback(\n    (_item: LineItem, index: number) => {\n      setCursor(index);\n      if (onItemSelected) {\n        onItemSelected(_item, index);\n      }\n    },\n    [setCursor, onItemSelected]\n  );\n\n  useLayoutEffect(() => {\n    if (scrollReset) {\n      nextScrollThreshold.current = scrollLoadNextThreshold;\n      scrollEL.current.scrollTo({ top: 0 });\n    }\n  }, [scrollReset, scrollLoadNextThreshold]);\n\n  useEffect(() => {\n    // Scroll handler to track scroll position in order check if it has hit the scrollThreshold.\n    const onScroll = () => {\n      const fH = scrollEL.current.getBoundingClientRect().height;\n      const sT = scrollEL.current.scrollTop;\n      const tH = innerEL.current.scrollHeight;\n      const cP = sT + fH;\n      const scrollPerc = Math.ceil((cP / tH) * 100);\n      if (scrollPerc >= nextScrollThreshold.current && !loading) {\n        nextScrollThreshold.current = 100;\n        onLoadNext();\n      }\n    };\n\n    // Register scroll handler on scrolltarget.\n    if (scrollTargetId) {\n      scrollEL.current = document.getElementById(scrollTargetId);\n    } else {\n      scrollEL.current = outerEL.current;\n    }\n    if (scrollEL.current && onScrollEnabled) {\n      scrollEL.current.addEventListener('scroll', onScroll);\n    }\n\n    // Create the scroller computer.\n    scroller.current = new SimpleListScroller(scrollEL.current, outerEL.current);\n\n    // Unregister scroll handler.\n    return () => {\n      scrollEL.current.removeEventListener('scroll', onScroll);\n    };\n  }, [scrollTargetId, outerEL, onScrollEnabled, loading, onLoadNext]);\n\n  useEffect(() => {\n    return register({\n      onSelect: () => null,\n      onSelectNext: () => next(),\n      onSelectPrevious: () => previous()\n    });\n  });\n\n  return (\n    <div\n      id={id}\n      tabIndex={0}\n      ref={outerEL}\n      className={classes.outer}\n      onKeyDown={!loading ? onKeyDown : null}\n      style={{ overflow: !scrollTargetId ? 'auto' : null }}\n    >\n      {loading && !disableProgress && (\n        <div className={classes.progressCt}>\n          <CircularProgress className={classes.progressSpinner} />\n        </div>\n      )}\n      <div ref={innerEL} className={classes.inner}>\n        {items && items.length !== 0\n          ? items.map((item, index) => {\n              return (\n                <ListItemBase\n                  key={`list.rowitem[${index}]`}\n                  index={index}\n                  selected={cursor === index}\n                  item={item}\n                  disableBackgrounds={disableBackgrounds}\n                  noDivider={noDivider}\n                  onRenderActions={onRenderActions}\n                  onClick={_onRowClick}\n                >\n                  {children}\n                </ListItemBase>\n              );\n            })\n          : !loading\n          ? emptyValue\n          : null}\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleList;\n","import { Grid, Tooltip, useTheme } from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport GroupOutlinedIcon from '@material-ui/icons/GroupOutlined';\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport { ChipList } from 'components/visual/ChipList';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport AlertPriority from './alert-priority';\nimport AlertStatus from './alert-status';\n\ntype AlertListItemProps = {\n  item: AlertItem;\n};\nconst AlertListItem: React.FC<AlertListItemProps> = ({ item }) => {\n  const theme = useTheme();\n  const { t, i18n } = useTranslation('alerts');\n  const infoItems = [];\n\n  if (item.al.av.length !== 0) {\n    infoItems.push({ label: `${item.al.av.length}x AV`, color: 'warning', size: 'tiny', variant: 'outlined' });\n  }\n  if (item.al.ip.length !== 0) {\n    infoItems.push({\n      label: `${item.al.ip.length}x IP`,\n      color: 'primary',\n      size: 'tiny',\n      variant: 'outlined'\n    });\n  }\n  if (item.al.domain.length !== 0) {\n    infoItems.push({\n      label: `${item.al.domain.length}x DOM`,\n      color: 'success',\n      size: 'tiny',\n      variant: 'outlined'\n    });\n  }\n\n  return (\n    <div style={{ padding: theme.spacing(2) }}>\n      <Grid container spacing={1}>\n        <Grid item xs={12} md={8}>\n          <AlertPriority name={item.priority} />\n          {item.group_count && <span style={{ marginLeft: theme.spacing(1) }}>{item.group_count}x</span>}\n          <span style={{ marginLeft: theme.spacing(1), wordBreak: 'break-all' }}>{item.file.name}</span>\n        </Grid>\n        <Grid item xs={6} md={2}>\n          {item.verdict.malicious.length > item.verdict.non_malicious.length ? (\n            <Tooltip\n              title={`${item.verdict.malicious.length}/${\n                item.verdict.malicious.length + item.verdict.non_malicious.length\n              } ${t('verdict.user.malicious')}`}\n            >\n              <BugReportOutlinedIcon />\n            </Tooltip>\n          ) : null}\n          {item.verdict.non_malicious.length > item.verdict.malicious.length ? (\n            <Tooltip\n              title={`${item.verdict.non_malicious.length}/${\n                item.verdict.malicious.length + item.verdict.non_malicious.length\n              } ${t('verdict.user.non_malicious')}`}\n            >\n              <VerifiedUserOutlinedIcon />\n            </Tooltip>\n          ) : null}\n          {item.owner ? (\n            <>\n              <Tooltip title={`${t('owned_by')} ${item.owner}`}>\n                <PersonOutlineOutlinedIcon />\n              </Tooltip>\n            </>\n          ) : item.hint_owner ? (\n            <>\n              <Tooltip title={t('hint_owned_by')}>\n                <GroupOutlinedIcon />\n              </Tooltip>\n            </>\n          ) : null}\n        </Grid>\n        <Grid item xs={6} md={2} style={{ textAlign: 'right' }}>\n          <Moment fromNow locale={i18n.language}>\n            {item.reporting_ts}\n          </Moment>\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <AlertStatus name={item.status} size={'tiny' as 'tiny'} />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <ChipList\n            items={item.label\n              .map(label => ({ label, size: 'tiny' as 'tiny', variant: 'outlined' as 'outlined' }))\n              .concat(\n                item.al.attrib.map(label => ({\n                  label,\n                  size: 'tiny' as 'tiny',\n                  color: 'error',\n                  variant: 'outlined' as 'outlined'\n                }))\n              )}\n          />\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <ChipList items={infoItems} />\n        </Grid>\n        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>\n          <Verdict score={item.al.score} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default AlertListItem;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchQuery from 'components/visual/SearchBar/search-query';\nimport { useCallback } from 'react';\nimport { AlertItem } from './useAlerts';\n\n// Specification interface of this hook.\nexport interface UsingPromiseAPI {\n  fetchAlert: (alertId: string) => Promise<AlertItem>;\n  onApplyWorkflowAction: (\n    query: SearchQuery,\n    selectedStatus: string,\n    selectedPriority: string,\n    selectedLabels: string[]\n  ) => Promise<boolean>;\n  onTakeOwnership: (query: SearchQuery) => Promise<boolean>;\n  setVerdict: (alert_id: string, verdict: 'malicious' | 'non_malicious') => Promise<boolean>;\n}\n\n// Stateless hook that returns promise wrappers around AL's rest api.\nexport default function usePromiseAPI(): UsingPromiseAPI {\n  //\n  const apiCall = useMyAPI();\n\n  // Hook API: fetch the alert for the specified alert_id.\n  const fetchAlert = async (alertId: string): Promise<AlertItem> => {\n    return new Promise<AlertItem>((resolve, reject) => {\n      const url = `/api/v4/alert/${alertId}/`;\n      apiCall({\n        url,\n        onSuccess: api_data => {\n          resolve(api_data.api_response);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Hook API: apply workflow actions\n  const onApplyWorkflowAction = async (\n    query: SearchQuery,\n    selectedStatus: string,\n    selectedPriority: string,\n    selectedLabels: string[]\n  ): Promise<boolean> => {\n    const statusPromise = new Promise((resolve, reject) => {\n      if (selectedStatus) {\n        apiCall({\n          url: `/api/v4/alert/status/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedStatus,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(false);\n      }\n    });\n\n    const priorityPromise = new Promise((resolve, reject) => {\n      if (selectedPriority) {\n        apiCall({\n          url: `/api/v4/alert/priority/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedPriority,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(false);\n      }\n    });\n\n    const labelPromise = new Promise((resolve, reject) => {\n      if (selectedLabels && selectedLabels.length > 0) {\n        apiCall({\n          url: `/api/v4/alert/label/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedLabels,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(true);\n      }\n    });\n\n    return Promise.all([statusPromise, priorityPromise, labelPromise]).then(() => true);\n  };\n\n  // Hook API: take ownership of alerts matching specified query.\n  const onTakeOwnership = async (query: SearchQuery): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      apiCall({\n        url: `/api/v4/alert/ownership/batch/?${query.buildAPIQueryString()}`,\n        onSuccess: () => {\n          resolve(true);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Hook API: set the verdict on a selected alert\n  const setVerdict = async (alert_id: string, verdict: 'malicious' | 'non_malicious'): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      apiCall({\n        method: 'PUT',\n        url: `/api/v4/alert/verdict/${alert_id}/${verdict}/`,\n        onSuccess: () => {\n          resolve(true);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Wrap each exposed method in 'useCallback' hook in order to ensure they are memoized and do not\n  //  cause re-renders.\n  return {\n    fetchAlert: useCallback(fetchAlert, []),\n    onApplyWorkflowAction: useCallback(onApplyWorkflowAction, []),\n    onTakeOwnership: useCallback(onTakeOwnership, []),\n    setVerdict: useCallback(setVerdict, [])\n  };\n}\n","import { makeStyles, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport CenterFocusStrongOutlinedIcon from '@material-ui/icons/CenterFocusStrongOutlined';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport SearchQuery from 'components/visual/SearchBar/search-query';\nimport { getValueFromPath } from 'helpers/utils';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\nimport { Link } from 'react-router-dom';\nimport { AlertDrawerState } from './alerts';\nimport { AlertItem } from './hooks/useAlerts';\nimport usePromiseAPI from './hooks/usePromiseAPI';\n\nexport type PossibleVerdict = 'malicious' | 'non_malicious';\n\ninterface AlertListItemActionsProps {\n  item: AlertItem;\n  index: number;\n  currentQuery: SearchQuery;\n  setDrawer: (state: AlertDrawerState) => void;\n  onTakeOwnershipComplete?: () => void;\n  onVerdictComplete?: (verdict: PossibleVerdict) => void;\n  vertical?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  verticalSpeedDial: {\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[0],\n    '&.MuiFab-primary': {\n      backgroundColor: theme.palette.background.paper\n    },\n    '&.MuiFab-primary:hover': {\n      backgroundColor: theme.palette.action.hover\n    },\n    color: theme.palette.text.secondary\n  },\n  actionsClosed: {\n    width: 0\n  }\n}));\n\ninterface OwnerProps {\n  open: boolean;\n  query: SearchQuery;\n}\n\nconst DEFAULT_OWNER = {\n  open: false,\n  query: null\n};\n\nconst SpeedDialActionLink = props => {\n  const { to, ...others } = props;\n\n  return (\n    <Link to={to}>\n      <SpeedDialAction {...others} />\n    </Link>\n  );\n};\n\nconst AlertListItemActions: React.FC<AlertListItemActionsProps> = React.memo(\n  ({ item, index, currentQuery, setDrawer, onTakeOwnershipComplete, onVerdictComplete, vertical = false }) => {\n    const { onTakeOwnership, setVerdict } = usePromiseAPI();\n    const classes = useStyles();\n    const groupBy = currentQuery.getGroupBy();\n    const { t } = useTranslation('alerts');\n    const theme = useTheme();\n    const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n    const [takeOwnershipConfirmation, setTakeOwnershipConfirmation] = useState<OwnerProps>(DEFAULT_OWNER);\n    const [open, setOpen] = useState(false);\n    const { user: currentUser } = useALContext();\n    const hasSetMalicious = item.verdict.malicious.indexOf(currentUser.username) !== -1;\n    const hasSetNonMalicious = item.verdict.non_malicious.indexOf(currentUser.username) !== -1;\n\n    const handleVerdict = async (verdict: PossibleVerdict) => {\n      try {\n        await setVerdict(item.alert_id, verdict);\n        showSuccessMessage(t(`verdict.${verdict}.success`));\n        if (onVerdictComplete) {\n          onVerdictComplete(verdict);\n        }\n      } catch (api_data) {\n        showErrorMessage(t('verdict.failed'));\n      }\n    };\n\n    const onTakeOwnershipOkClick = async () => {\n      try {\n        await onTakeOwnership(takeOwnershipConfirmation.query);\n        setTakeOwnershipConfirmation({ open: false, query: null });\n        if (onTakeOwnershipComplete) {\n          onTakeOwnershipComplete();\n        }\n      } catch (api_data) {\n        setTakeOwnershipConfirmation({ open: false, query: null });\n      }\n    };\n\n    const onTakeOwnershipCancelClick = () => {\n      setTakeOwnershipConfirmation({ open: false, query: null });\n    };\n\n    const buildActionQuery = (): SearchQuery => {\n      const _actionQuery = currentQuery.newBase(name => name === 'tc_start');\n      _actionQuery.setGroupBy('');\n\n      if (groupBy) {\n        _actionQuery.setQuery(`${groupBy}:${getValueFromPath(item, groupBy)}`);\n      } else {\n        _actionQuery.setQuery(`alert_id:${item.alert_id}`);\n      }\n      return _actionQuery;\n    };\n\n    const buildFocusQuery = (): SearchQuery => {\n      const focusQuery = currentQuery.build();\n      focusQuery.setGroupBy('');\n      focusQuery.addFq(`${groupBy}:${getValueFromPath(item, groupBy)}`);\n      return focusQuery;\n    };\n\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleOpen = () => {\n      setOpen(true);\n    };\n\n    return (\n      <div\n        style={{\n          marginTop: vertical ? null : theme.spacing(-1),\n          marginRight: vertical ? null : theme.spacing(-1)\n        }}\n      >\n        <SpeedDial\n          ariaLabel={t('action_menu')}\n          icon={\n            <SpeedDialIcon\n              icon={vertical ? <ExpandMoreIcon /> : <ChevronLeftIcon />}\n              openIcon={vertical ? <ExpandLessIcon /> : <ChevronRightIcon />}\n            />\n          }\n          classes={{ actionsClosed: vertical ? null : classes.actionsClosed }}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          open={open}\n          FabProps={{\n            size: vertical ? 'medium' : 'small',\n            className: vertical ? classes.verticalSpeedDial : null\n          }}\n          direction={vertical ? 'down' : 'left'}\n        >\n          <SpeedDialAction\n            icon={<BugReportOutlinedIcon />}\n            tooltipTitle={t(hasSetMalicious ? 'verdict.malicious.set' : 'verdict.malicious.action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            FabProps={{\n              style: {\n                color: hasSetMalicious\n                  ? theme.palette.type === 'dark'\n                    ? theme.palette.error.light\n                    : theme.palette.error.dark\n                  : null\n              }\n            }}\n            onClick={!hasSetMalicious ? () => handleVerdict('malicious') : null}\n          />\n          <SpeedDialAction\n            icon={<VerifiedUserOutlinedIcon />}\n            tooltipTitle={t(hasSetNonMalicious ? 'verdict.non_malicious.set' : 'verdict.non_malicious.action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            FabProps={{\n              style: {\n                color: hasSetNonMalicious\n                  ? theme.palette.type === 'dark'\n                    ? theme.palette.success.light\n                    : theme.palette.success.dark\n                  : null\n              }\n            }}\n            onClick={!hasSetNonMalicious ? () => handleVerdict('non_malicious') : null}\n          />\n          <SpeedDialAction\n            icon={<BiNetworkChart style={{ height: '1.3rem', width: '1.3rem' }} />}\n            tooltipTitle={t('workflow_action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            onClick={() => {\n              const actionQuery = buildActionQuery();\n              setDrawer({\n                open: true,\n                type: 'actions',\n                actionData: {\n                  query: actionQuery,\n                  alert: {\n                    index,\n                    alert_id: item.alert_id,\n                    priority: item.priority,\n                    status: item.status,\n                    labels: item.label\n                  }\n                }\n              });\n            }}\n          />\n          <SpeedDialActionLink\n            icon={<AmpStoriesOutlinedIcon />}\n            to={`/submission/${item.sid}`}\n            tooltipTitle={t('submission')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n          />\n          {!item.owner && (\n            <SpeedDialAction\n              icon={<AssignmentIndIcon />}\n              tooltipTitle={t('take_ownership')}\n              tooltipPlacement={vertical ? 'left' : 'bottom'}\n              onClick={() => {\n                setTakeOwnershipConfirmation({ open: true, query: buildActionQuery() });\n              }}\n            />\n          )}\n          {item.group_count && (\n            <SpeedDialActionLink\n              icon={<CenterFocusStrongOutlinedIcon />}\n              to={`/alerts/?${buildFocusQuery().buildURLQueryString()}`}\n              tooltipTitle={t('focus')}\n              tooltipPlacement={vertical ? 'left' : 'bottom'}\n            />\n          )}\n        </SpeedDial>\n        {takeOwnershipConfirmation.open && (\n          <ConfirmationDialog\n            open={takeOwnershipConfirmation.open}\n            handleClose={onTakeOwnershipCancelClick}\n            handleAccept={onTakeOwnershipOkClick}\n            title={t('actions.takeownershipdiag.header')}\n            cancelText={t('actions.cancel')}\n            acceptText={t('actions.ok')}\n            text={\n              groupBy ? (\n                <>\n                  <span style={{ display: 'inline-block' }}>{t('actions.takeownershipdiag.content.grouped')}</span>\n                  <span style={{ display: 'inline-block', padding: theme.spacing(1), wordBreak: 'break-all' }}>\n                    <Typography variant=\"caption\">{`${groupBy}: ${getValueFromPath(item, groupBy)}`}</Typography>\n                  </span>\n                </>\n              ) : (\n                t('actions.takeownershipdiag.content.single')\n              )\n            }\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default AlertListItemActions;\n","export enum SearchFilterType {\n  BLANK = 'blank',\n  STATUS = 'status',\n  PRIORITY = 'priority',\n  LABEL = 'label',\n  QUERY = 'query'\n}\n\nexport const EMPTY_SEARCHFILTER = {\n  id: 'emtpy_search_filter',\n  type: SearchFilterType.BLANK,\n  label: '',\n  value: null\n};\n\nexport interface SearchFilter {\n  id: number | string;\n  type: SearchFilterType;\n  label: string;\n  value: any;\n  other?: any;\n}\n\nexport interface SearchQueryFilters {\n  tc: string;\n  groupBy: string;\n  statuses: SearchFilter[];\n  priorities: SearchFilter[];\n  labels: SearchFilter[];\n  queries: SearchFilter[];\n}\n\nexport interface SearchQueryParameter {\n  name: string;\n  value: string;\n}\n\nconst DEFAULT_TC = '4d';\nconst DEFAULT_OFFSET = 0;\nconst DEFAULT_GROUPBY = 'file.sha256';\n\nexport default class SearchQuery {\n  private params: URLSearchParams = null;\n\n  constructor(private path: string, baseSearch: string, private pageSize: number, setDefaults: boolean = true) {\n    this.params = new URLSearchParams(baseSearch);\n    if (setDefaults) {\n      if (!this.hasOffset()) {\n        this.setOffset(`${DEFAULT_OFFSET}`);\n      }\n      if (!this.hasTc()) {\n        this.setTc(DEFAULT_TC);\n      }\n      if (!this.hasRows()) {\n        this.setRows(`${pageSize}`);\n      }\n      if (!this.hasGroupBy()) {\n        this.setGroupBy(DEFAULT_GROUPBY);\n      }\n    }\n  }\n\n  public setRows(rows: string): SearchQuery {\n    this.params.set('rows', rows);\n    return this;\n  }\n\n  public hasRows(): boolean {\n    return this.params.has('rows');\n  }\n\n  public getRows(): string {\n    return this.hasRows() ? this.params.get('rows') : `${this.pageSize}`;\n  }\n\n  public getRowsNumber(): number {\n    return this.hasRows() ? parseInt(this.params.get('rows')) : this.pageSize;\n  }\n\n  public setOffset(offset: string): SearchQuery {\n    this.params.set('offset', offset);\n    return this;\n  }\n\n  public hasOffset(): boolean {\n    return this.params.has('offset');\n  }\n\n  public getOffset(): string {\n    return this.hasOffset() ? this.params.get('offset') : '0';\n  }\n\n  public getOffsetNumber(): number {\n    return this.hasOffset() ? parseInt(this.params.get('offset')) : 0;\n  }\n\n  public tickOffset(): SearchQuery {\n    this.setOffset(`${this.getOffsetNumber() + this.pageSize}`).setRows(this.getRows());\n    return this;\n  }\n\n  public setQuery(query: string): SearchQuery {\n    this.params.set('q', query);\n    return this;\n  }\n\n  public hasQuery(): boolean {\n    return this.params.has('q');\n  }\n\n  public getQuery(): string {\n    return this.params.has('q') ? this.params.get('q') : '';\n  }\n\n  public setTc(tc: string): SearchQuery {\n    this.params.set('tc', tc);\n    return this;\n  }\n\n  public hasTc(): boolean {\n    return this.params.has('tc');\n  }\n\n  public getTc(): string {\n    return this.hasTc() ? this.params.get('tc') : '';\n  }\n\n  public setTcStart(tcStart: string): SearchQuery {\n    this.params.set('tc_start', tcStart);\n    return this;\n  }\n\n  public hasTcStart(): boolean {\n    return this.params.has('tc_start');\n  }\n\n  public getTcStart(): string {\n    return this.hasTcStart() ? this.params.get('tc_start') : '';\n  }\n\n  public addFq(fq: string): SearchQuery {\n    this.params.append('fq', fq);\n    return this;\n  }\n\n  public getFqList(): string[] {\n    return this.params.getAll('fq');\n  }\n\n  public clearFq(): SearchQuery {\n    this.params.delete('fq');\n    return this;\n  }\n\n  public setGroupBy(groupBy: string): SearchQuery {\n    this.params.set('group_by', groupBy);\n    return this;\n  }\n\n  public hasGroupBy(): boolean {\n    return this.params.has('group_by');\n  }\n\n  public getGroupBy(): string {\n    return this.hasGroupBy() ? this.params.get('group_by') : 'file.sha256';\n  }\n\n  public setFilters(filters: SearchQueryFilters): SearchQuery {\n    this.reset(false).setTc(filters.tc).setGroupBy(filters.groupBy);\n    [...filters.statuses, ...filters.priorities, ...filters.labels, ...filters.queries].forEach(filter =>\n      this.addFq(filter.value)\n    );\n    return this;\n  }\n\n  public deleteQuery() {\n    this.params.delete('q');\n    return this;\n  }\n\n  public deleteTCStart() {\n    this.params.delete('tc_start');\n    return this;\n  }\n\n  public reset(clearQuery = true): SearchQuery {\n    this.setOffset('0').setRows(`${this.pageSize}`).setTc('4d').setGroupBy('file.sha256').setTcStart('').clearFq();\n    if (clearQuery) this.setQuery('');\n    return this;\n  }\n\n  public buildURLQueryString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('tc_start');\n    params.delete('offset');\n    params.delete('rows');\n    if (this.getTc() === DEFAULT_TC) params.delete('tc');\n    if (this.getGroupBy() === DEFAULT_GROUPBY) params.delete('group_by');\n    if (this.getQuery() === '') params.delete('q');\n    return params.toString();\n  }\n\n  public buildAPIQueryString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('group_by');\n    if (this.getTc() === '') params.delete('tc');\n    if (this.getQuery() === '') params.delete('q');\n    return params.toString();\n  }\n\n  public newBase(accept?: (name: string) => boolean): SearchQuery {\n    const q = new SearchQuery(this.path, '', this.pageSize);\n    const params = new URLSearchParams();\n    if (accept) {\n      this.params.forEach((value: string, key: string) => {\n        if (accept(key)) {\n          params.set(key, value);\n        }\n      });\n    }\n    q.params = params;\n    return q;\n  }\n\n  public build(): SearchQuery {\n    return new SearchQuery(this.path, this.params.toString(), this.pageSize);\n  }\n\n  public parseFilters(): SearchQueryFilters {\n    let fqs = [];\n    let statuses = [];\n    let priorities = [];\n    let labels = [];\n    let queries = [];\n\n    if (this.getFqList().length) {\n      fqs = this.getFqList().map((fq, i) => SearchQuery.parseFilterValue(i, fq));\n      statuses = fqs.filter(f => f.type === SearchFilterType.STATUS);\n      priorities = fqs.filter(f => f.type === SearchFilterType.PRIORITY);\n      labels = fqs.filter(f => f.type === SearchFilterType.LABEL);\n      queries = fqs.filter(f => f.type === SearchFilterType.QUERY);\n    }\n    return {\n      tc: this.getTc(),\n      groupBy: this.getGroupBy(),\n      statuses,\n      priorities,\n      labels,\n      queries\n    };\n  }\n\n  public static parseFilterValue(id: string | number, filter: string): SearchFilter {\n    const [type] = filter.split(':');\n    const resolveType = (): SearchFilterType => {\n      switch (type) {\n        case 'status':\n          return SearchFilterType.STATUS;\n        case 'priority':\n          return SearchFilterType.PRIORITY;\n        case 'label':\n          return SearchFilterType.LABEL;\n        default:\n          return SearchFilterType.QUERY;\n      }\n    };\n    return {\n      id,\n      type: resolveType(),\n      label: filter,\n      value: filter,\n      other: null\n    };\n  }\n}\n","/* eslint-disable no-param-reassign */\nimport { Button, FormControl, makeStyles, MenuItem, Select, TextField, Typography, useTheme } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport CustomChip from 'components/visual/CustomChip';\nimport SearchQuery, {\n  SearchFilter,\n  SearchFilterType,\n  SearchQueryFilters\n} from 'components/visual/SearchBar/search-query';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Favorite } from './hooks/useFavorites';\n\n// Default TimeConstraint(TC) value..\nconst DEFAULT_TC = '4d';\n\n// Default GroupBy value.\nconst DEFAULT_GROUPBY = 'file.sha256';\n\n//\nconst findOption = (value: string, options: { value: string; label: string }[]) => {\n  return options.find(o => o.value === value);\n};\n\n// Decorate each filter in the specified 'queryFilters' list and indicate whether they are a valueFilter.\nconst decorateQueryFilters = (queryFilters: SearchFilter[], userFavoritesFilters) => {\n  return queryFilters.map(qf => ({\n    filter: qf,\n    isFavorite: userFavoritesFilters ? userFavoritesFilters.some(vf => vf.value === qf.value) : false\n  }));\n};\n\nfunction ensureSearchFilter(selection): SearchFilter {\n  if (typeof selection === 'string') {\n    return { id: `id_${selection}`, type: SearchFilterType.QUERY, label: selection, value: selection };\n  }\n  return selection;\n}\n\n// Some styles.\nconst useStyles = makeStyles(theme => ({\n  option: {\n    backgroundColor: theme.palette.background.default\n  }\n}));\n\n// Specification interface of this component's properties.\ninterface AlertsFiltersProps {\n  searchQuery: SearchQuery;\n  valueFilters: SearchFilter[];\n  statusFilters: SearchFilter[];\n  priorityFilters: SearchFilter[];\n  labelFilters: SearchFilter[];\n  userFavorites: Favorite[];\n  globalFavorites: Favorite[];\n  onApplyBtnClick: (filters: SearchQueryFilters, query?: string) => void;\n}\n\ninterface QueryFilter {\n  filter: SearchFilter;\n  isFavorite: boolean;\n}\n\n// Implementation of th AlertsFilter component.\nconst AlertsFilters: React.FC<AlertsFiltersProps> = ({\n  searchQuery,\n  valueFilters,\n  statusFilters,\n  priorityFilters,\n  labelFilters,\n  userFavorites,\n  globalFavorites,\n  onApplyBtnClick\n}) => {\n  // Hooks...\n  const theme = useTheme();\n  const classes = useStyles();\n  const { t } = useTranslation('alerts');\n\n  const GROUPBY_OPTIONS = [\n    { value: '', label: t('groupBy.none') },\n    { value: 'file.md5', label: t('groupBy.md5') },\n    { value: 'file.name', label: t('groupBy.name') },\n    { value: 'file.sha256', label: t('groupBy.sha256') },\n    { value: 'priority', label: t('groupBy.priority') },\n    { value: 'status', label: t('groupBy.status') }\n  ];\n\n  const TC_OPTIONS = [\n    { value: '', label: t('tc.none') },\n    { value: '24h', label: t('tc.24h') },\n    { value: '4d', label: t('tc.4d') },\n    { value: '1w', label: t('tc.1week') },\n    { value: '1M', label: t('tc.1month') }\n  ];\n\n  const filters = searchQuery.parseFilters();\n  const tcOption = findOption(filters.tc, TC_OPTIONS);\n  const groupByOption = findOption(filters.groupBy, GROUPBY_OPTIONS);\n\n  // Define some states for controlled components..\n  const [selectedTc, setSelectedTc] = useState<{ value: string; label: string }>(\n    tcOption || findOption(filters.tc, TC_OPTIONS)\n  );\n  const [selectedGroupBy, setSelectedGroupBy] = useState<{ value: string; label: string }>(\n    groupByOption || findOption(DEFAULT_GROUPBY, GROUPBY_OPTIONS)\n  );\n  const [userFavoritesFilters] = useState<SearchFilter[]>([\n    ...userFavorites.map((fav, idx) => {\n      return { id: `u_${idx}`, type: SearchFilterType.QUERY, label: fav.name, value: fav.query };\n    }),\n    ...globalFavorites.map((fav, idx) => {\n      return {\n        id: `g_${idx}`,\n        type: SearchFilterType.QUERY,\n        label: `${fav.name} (${fav.created_by})`,\n        value: fav.query\n      };\n    })\n  ]);\n  const [selectedStatusFilters, setSelectedStatusFilters] = useState<SearchFilter[]>(filters.statuses);\n  const [selectedPriorityFilters, setSelectedPriorityFilters] = useState<SearchFilter[]>(filters.priorities);\n  const [selectedLabelFilters, setSelectedLabelFilters] = useState<SearchFilter[]>(filters.labels);\n  const [selectedQueryFilters, setSelectedQueryFilters] = useState<QueryFilter[]>(\n    decorateQueryFilters(filters.queries, userFavoritesFilters)\n  );\n\n  // Handler[onChange]: for the 'TC' Autocomplete component.\n  const onTcFilterChange = (value: string) => {\n    const selectedValue = TC_OPTIONS.find(o => o.value === value);\n    setSelectedTc(selectedValue);\n  };\n\n  // Handler[onChange]: for the 'Group By' Autocomplete component.\n  const onGroupByFilterChange = (value: string) => {\n    const selectedValue = GROUPBY_OPTIONS.find(o => o.value === value);\n    setSelectedGroupBy(selectedValue);\n  };\n\n  // Handler[onChange]: for the 'Status' Autocomplete component.\n  const onStatusFilterChange = (selections: SearchFilter[]) => {\n    setSelectedStatusFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Priority' Autocomplete component.\n  const onPriorityFilterChange = (selections: SearchFilter[]) => {\n    setSelectedPriorityFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Label' Autocomplete component.\n  const onLabelFilterChange = (selections: SearchFilter[]) => {\n    setSelectedLabelFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Value' Autocomplete component.\n  const onValueFilterChange = (selections: SearchFilter[]) => {\n    const _selections = selections.map(filter => ({ filter: ensureSearchFilter(filter), isFavorite: false }));\n    const favoriteFilters = selectedQueryFilters.filter(sf => sf.isFavorite);\n    setSelectedQueryFilters([..._selections, ...favoriteFilters]);\n  };\n\n  // Handler[onChange]: for the 'Favorite' Autocomplete component.\n  const onFavoriteChange = (selections: SearchFilter[]) => {\n    const _selections = selections.map(filter => ({ filter, isFavorite: true }));\n    const _valueFilters = selectedQueryFilters.filter(sf => !sf.isFavorite);\n    setSelectedQueryFilters([..._selections, ..._valueFilters]);\n  };\n\n  //\n  const onClearBtnClick = () => {\n    setSelectedTc(tcOption);\n    setSelectedGroupBy(groupByOption);\n    setSelectedStatusFilters([]);\n    setSelectedPriorityFilters([]);\n    setSelectedLabelFilters([]);\n    setSelectedQueryFilters([]);\n  };\n\n  // Handler: when clicking on 'Apply' button.\n  const _onApplyBtnClick = () => {\n    onApplyBtnClick({\n      ...filters,\n      tc: selectedTc.value,\n      groupBy: selectedGroupBy.value,\n      statuses: selectedStatusFilters,\n      priorities: selectedPriorityFilters,\n      labels: selectedLabelFilters,\n      queries: selectedQueryFilters.map(f => f.filter)\n    });\n  };\n\n  // Indicates if an Autocomplete option is selected.\n  const isSelected = (option, value): boolean => {\n    if (option === null || value === null) {\n      return false;\n    }\n    return option.value === value.value;\n  };\n\n  // Render method of a single Autocomplete component option.\n  const renderOption = (item: SearchFilter) => {\n    return (\n      <div>\n        {item.other && <CustomChip label={item.other.count} size=\"tiny\" />} {item.label}\n      </div>\n    );\n  };\n\n  // Apply updates to selected filters if required.\n  useEffect(() => {\n    const _filters = searchQuery.parseFilters();\n    setSelectedTc(findOption(_filters.tc, TC_OPTIONS) || findOption(DEFAULT_TC, TC_OPTIONS));\n    setSelectedGroupBy(findOption(_filters.groupBy, GROUPBY_OPTIONS) || findOption(DEFAULT_GROUPBY, GROUPBY_OPTIONS));\n    setSelectedStatusFilters(_filters.statuses);\n    setSelectedPriorityFilters(_filters.priorities);\n    setSelectedLabelFilters(_filters.labels);\n    setSelectedQueryFilters(decorateQueryFilters(_filters.queries, userFavoritesFilters));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, userFavoritesFilters, t]);\n\n  return (\n    <div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <div style={{ float: 'right' }}>\n          <Button variant=\"contained\" onClick={onClearBtnClick}>\n            {t('filters.clear')}\n          </Button>\n        </div>\n        <Typography variant=\"h4\">{t('filters')}</Typography>\n      </div>\n      <div style={{ marginBottom: theme.spacing(2), marginTop: theme.spacing(2) }}>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <FormControl fullWidth variant=\"outlined\">\n            <label>{t('tc')}</label>\n            <Select\n              displayEmpty\n              value={selectedTc ? selectedTc.value : DEFAULT_TC}\n              onChange={event => onTcFilterChange(event.target.value as string)}\n            >\n              {TC_OPTIONS.map(o => (\n                <MenuItem key={o.value} className={classes.option} value={o.value}>\n                  {o.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <FormControl fullWidth variant=\"outlined\">\n            <label>{t('groupBy')}</label>\n            <Select\n              displayEmpty\n              value={selectedGroupBy ? selectedGroupBy.value : DEFAULT_GROUPBY}\n              onChange={event => onGroupByFilterChange(event.target.value as string)}\n            >\n              {GROUPBY_OPTIONS.map(o => (\n                <MenuItem key={o.value} className={classes.option} value={o.value}>\n                  {o.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('status')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={statusFilters}\n            value={selectedStatusFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onStatusFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('priority')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={priorityFilters}\n            value={selectedPriorityFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onPriorityFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('labels')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={labelFilters}\n            value={selectedLabelFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onLabelFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('favorites')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={userFavoritesFilters}\n            value={selectedQueryFilters.filter(filter => filter.isFavorite).map(f => f.filter)}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onFavoriteChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('others')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={valueFilters}\n            value={selectedQueryFilters.filter(filter => !filter.isFavorite).map(f => f.filter)}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onValueFilterChange(value as SearchFilter[])}\n          />\n        </div>\n      </div>\n      <div style={{ textAlign: 'right', marginTop: theme.spacing(1) }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={_onApplyBtnClick}>\n          {t('filters.apply')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsFilters;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { useEffect, useState } from 'react';\n\nexport interface Favorite {\n  classification: string;\n  name: string;\n  query: string;\n  created_by: string;\n}\n\ninterface UsingFavorites {\n  onAddUserFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onDeleteUserFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onAddGlobalFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onDeleteGlobalFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  userFavorites: Favorite[];\n  globalFavorites: Favorite[];\n}\n\nexport default function useFavorites(): UsingFavorites {\n  // hooks.\n  const apiCall = useMyAPI();\n  const { user } = useALContext();\n\n  // states.\n  const [userFavorites, setUserFavorites] = useState<Favorite[]>([]);\n  const [globalFavorites, setGlobalFavorites] = useState<Favorite[]>([]);\n\n  // Hook API:\n  const onAddUserFavorite = (\n    favorite: { query: string; name: string },\n    onSuccess: (favorite: { query: string; name: string }) => void\n  ) => {\n    const url = `/api/v4/user/favorites/${user.username}/alert/`;\n    apiCall({\n      url,\n      method: 'put',\n      body: favorite,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadUserFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onDeleteUserFavorite = (favorite: Favorite, onSuccess: (favorite: Favorite) => void) => {\n    const url = `/api/v4/user/favorites/${user.username}/alert/`;\n    apiCall({\n      url,\n      method: 'delete',\n      body: favorite.name,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadUserFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onLoadUserFavorites = () => {\n    const url = `/api/v4/user/favorites/${user.username}/`;\n    apiCall({\n      url,\n      onSuccess: api_data => {\n        setUserFavorites(api_data.api_response.alert);\n      }\n    });\n  };\n\n  // Hook API:\n  const onLoadGlobalFavorites = () => {\n    const url = '/api/v4/user/favorites/__global__/';\n    apiCall({\n      url,\n      onSuccess: api_data => {\n        setGlobalFavorites(api_data.api_response.alert);\n      }\n    });\n  };\n\n  const onAddGlobalFavorite = (\n    favorite: { query: string; name: string },\n    onSuccess: (favorite: { query: string; name: string }) => void\n  ) => {\n    const url = '/api/v4/user/favorites/__global__/alert/';\n    const fav = { ...favorite, created_by: user.username };\n    apiCall({\n      url,\n      method: 'put',\n      body: fav,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadGlobalFavorites();\n          if (onSuccess) {\n            onSuccess(fav);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onDeleteGlobalFavorite = (favorite: Favorite, onSuccess: (favorite: Favorite) => void) => {\n    const url = '/api/v4/user/favorites/__global__/alert/';\n    apiCall({\n      url,\n      method: 'delete',\n      body: favorite.name,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadGlobalFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Load favorites.\n  useEffect(() => {\n    onLoadUserFavorites();\n    onLoadGlobalFavorites();\n  }, []);\n\n  // The Custom Hook API:\n  return {\n    userFavorites,\n    globalFavorites,\n    onAddUserFavorite,\n    onAddGlobalFavorite,\n    onDeleteUserFavorite,\n    onDeleteGlobalFavorite\n  };\n}\n","import { Button, Divider, Switch, TextField, Typography, useTheme } from '@material-ui/core';\nimport useALContext from 'components/hooks/useALContext';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { ChipList } from 'components/visual/ChipList';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport useFavorites, { Favorite } from './hooks/useFavorites';\n\ninterface AlertsFiltersFavoritesProps {\n  initValue?: string;\n  onSaved: (favorite: { name: string; query: string }) => void;\n  onSelected: (favorite: Favorite) => void;\n  onDeleted: (favorite: Favorite) => void;\n}\n\nconst AlertsFiltersFavorites: React.FC<AlertsFiltersFavoritesProps> = ({\n  initValue,\n  onSaved,\n  onSelected,\n  onDeleted\n}) => {\n  const theme = useTheme();\n  const { t } = useTranslation('favorites');\n  const {\n    userFavorites,\n    globalFavorites,\n    onAddUserFavorite,\n    onDeleteUserFavorite,\n    onAddGlobalFavorite,\n    onDeleteGlobalFavorite\n  } = useFavorites();\n  const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n  const { c12nDef, user: currentUser } = useALContext();\n  const [formValid, setFormValid] = useState<boolean>(false);\n  const [classification, setClassification] = useState<string>(c12nDef.UNRESTRICTED);\n  const [queryValue, setQueryValue] = useState<{ valid: boolean; value: string }>({ valid: true, value: initValue });\n  const [nameValue, setNameValue] = useState<{ valid: boolean; value: string }>({ valid: true, value: '' });\n  const [publicSwitch, setPublicSwitch] = useState<boolean>(false);\n  const [confirmation, setConfirmation] = useState<{ open: boolean; favorite: Favorite; isPublic: boolean }>({\n    open: false,\n    favorite: null,\n    isPublic: false\n  });\n\n  const validateForm = (\n    _queryValue: { valid: boolean; value: string },\n    _nameValue: { valid: boolean; value: string }\n  ) => {\n    setFormValid(!!_queryValue.value && !!_nameValue.value);\n  };\n\n  const _onDelete = (favorite: Favorite, isPublic: boolean) => {\n    if (isPublic) {\n      onDeleteGlobalFavorite(favorite, () => {\n        onDeleted(favorite);\n      });\n    } else {\n      onDeleteUserFavorite(favorite, () => {\n        onDeleted(favorite);\n      });\n    }\n  };\n\n  const _onSave = () => {\n    if (queryValue.value && nameValue.value) {\n      const favorite: Favorite = {\n        query: queryValue.value,\n        name: nameValue.value,\n        classification: publicSwitch && c12nDef.enforce ? classification : c12nDef.UNRESTRICTED,\n        created_by: currentUser.username\n      };\n\n      if (publicSwitch) {\n        onAddGlobalFavorite(favorite, () => {\n          showSuccessMessage(t('added.global'));\n          onSaved(favorite);\n        });\n      } else {\n        onAddUserFavorite(favorite, () => {\n          showSuccessMessage(t('added.personal'));\n          onSaved(favorite);\n        });\n      }\n    } else {\n      showErrorMessage(t('form.field.required'));\n    }\n  };\n\n  const _onDeleteClick = (favorite: Favorite, isPublic: boolean) => {\n    setConfirmation({ open: true, favorite, isPublic });\n  };\n\n  const _onConfirmOkClick = () => {\n    const { favorite, isPublic } = confirmation;\n    _onDelete(favorite, isPublic);\n    setConfirmation({ open: false, favorite: null, isPublic: false });\n  };\n\n  const _onConfirmCancelClick = () => {\n    setConfirmation({ open: false, favorite: null, isPublic: false });\n  };\n\n  const _onSelect = (favorite: Favorite) => {\n    onSelected(favorite);\n  };\n\n  const onQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const _queryValue = { valid: !!value, value };\n    setQueryValue(_queryValue);\n    validateForm(_queryValue, nameValue);\n  };\n\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const _nameValue = { valid: !!value, value };\n    setNameValue({ valid: !!value, value });\n    validateForm(queryValue, _nameValue);\n  };\n\n  const onSwitchChange = (isPublic: boolean) => {\n    setPublicSwitch(isPublic);\n  };\n\n  return (\n    <div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('addfavorites')}</Typography>\n      </div>\n      <div style={{ textAlign: 'right' }}>\n        <Button\n          onClick={() => onSwitchChange(!publicSwitch)}\n          size=\"small\"\n          color=\"primary\"\n          disableElevation\n          disableRipple\n        >\n          <div>{t('private')}</div>\n          <div style={{ flex: 1 }}>\n            <Switch checked={publicSwitch} onChange={event => onSwitchChange(event.target.checked)} color=\"primary\" />\n          </div>\n          <div>{t('public')}</div>\n        </Button>\n      </div>\n      {publicSwitch && c12nDef.enforce ? (\n        <Classification type=\"picker\" c12n={classification} setClassification={setClassification} />\n      ) : (\n        <div style={{ padding: theme.spacing(2.25) }} />\n      )}\n      <div style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(2) }}>\n        <div>\n          <Typography variant=\"subtitle2\">{t('query')}</Typography>\n          <TextField\n            error={!queryValue.valid}\n            variant=\"outlined\"\n            value={queryValue.value}\n            onChange={onQueryChange}\n            onBlur={() => setQueryValue({ ...queryValue, valid: !!queryValue.value })}\n            fullWidth\n          />\n        </div>\n        <div style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('name')}</Typography>\n          <TextField\n            error={!nameValue.valid}\n            variant=\"outlined\"\n            value={nameValue.value}\n            onChange={onNameChange}\n            onBlur={() => setNameValue({ ...nameValue, valid: !!nameValue.value })}\n            fullWidth\n          />\n        </div>\n      </div>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingBottom: theme.spacing(4), textAlign: 'right' }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={_onSave} disabled={!formValid}>\n          {t('save')}\n        </Button>\n      </div>\n\n      {/* Your personnal favorites  */}\n      <Typography variant=\"h6\">{t('yourfavorites')}</Typography>\n      <Divider />\n      <div style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(4) }}>\n        <ChipList\n          items={userFavorites.map(f => ({\n            size: 'medium',\n            variant: 'outlined',\n            label: f.name,\n            tooltip: f.query,\n            onClick: () => _onSelect(f),\n            onDelete: () => _onDeleteClick(f, false)\n          }))}\n        />\n      </div>\n\n      {/* The global favorites */}\n      <Typography variant=\"h6\">{t('globalfavorites')}</Typography>\n      <Divider />\n      <div style={{ marginTop: theme.spacing(1) }}>\n        <ChipList\n          items={globalFavorites.map(f => ({\n            size: 'medium',\n            variant: 'outlined',\n            label: f.name,\n            tooltip: f.query,\n            onClick: () => _onSelect(f),\n            onDelete: () => _onDeleteClick(f, true)\n          }))}\n        />\n      </div>\n\n      <ConfirmationDialog\n        open={confirmation.open}\n        handleClose={_onConfirmCancelClick}\n        handleAccept={_onConfirmOkClick}\n        title={t('confirmdiag.header')}\n        cancelText={t('cancel')}\n        acceptText={t('ok')}\n        text={\n          <>\n            <span style={{ display: 'block', paddingBottom: theme.spacing(1) }}>{t('confirmdiag.content')}</span>\n            <span style={{ display: 'block', fontWeight: 500 }}>\n              {confirmation.favorite ? confirmation.favorite.name : null}\n            </span>\n          </>\n        }\n      />\n    </div>\n  );\n};\n\nexport default AlertsFiltersFavorites;\n","import { ChipList } from 'components/visual/ChipList';\nimport SearchQuery, { SearchFilter, SearchQueryFilters } from 'components/visual/SearchBar/search-query';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface AlertFiltersSelectedProps {\n  searchQuery: SearchQuery;\n  hideQuery?: boolean;\n  hideGroupBy?: boolean;\n  disableActions?: boolean;\n  onChange?: (filters: SearchQueryFilters, query?: string) => void;\n}\n\nconst AlertsFiltersSelected: React.FC<AlertFiltersSelectedProps> = ({\n  searchQuery,\n  hideQuery = false,\n  hideGroupBy = false,\n  disableActions = false,\n  onChange = () => null\n}) => {\n  const { t } = useTranslation('alerts');\n\n  const filters = searchQuery.parseFilters();\n  const query = searchQuery.getQuery();\n\n  const onDeleteMainQuery = () => {\n    onChange(filters, '');\n  };\n\n  const onDeleteTC = () => {\n    onChange({ ...filters, tc: '' });\n  };\n\n  const onDeleteGroupBy = () => {\n    onChange({ ...filters, groupBy: '' });\n  };\n\n  const onDeleteStatus = (item: SearchFilter) => {\n    const _statuses = filters.statuses.filter(s => s.value !== item.value);\n    onChange({ ...filters, statuses: _statuses });\n  };\n\n  const onDeletePriority = (item: SearchFilter) => {\n    const _priorities = filters.priorities.filter(s => s.value !== item.value);\n    onChange({ ...filters, priorities: _priorities });\n  };\n\n  const onDeleteLabel = (item: SearchFilter) => {\n    const _labels = filters.labels.filter(s => s.value !== item.value);\n    onChange({ ...filters, labels: _labels });\n  };\n\n  const onDeleteQuery = (item: SearchFilter) => {\n    const _queries = filters.queries.filter(s => s.value !== item.value);\n    onChange({ ...filters, queries: _queries });\n  };\n\n  return (\n    <div>\n      <div>\n        {query && !hideQuery && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[query].map(v => ({\n                variant: 'outlined',\n                label: `${v}`,\n                onDelete: !disableActions ? () => onDeleteMainQuery() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.tc && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[filters.tc].map(v => ({\n                variant: 'outlined',\n                label: `${t('tc')}=${v}`,\n                onDelete: !disableActions ? () => onDeleteTC() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.groupBy && !hideGroupBy && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[filters.groupBy].map(v => ({\n                variant: 'outlined',\n                label: `${t('groupBy')}=${v}`,\n                onDelete: !disableActions ? () => onDeleteGroupBy() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.statuses.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.statuses.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteStatus(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.priorities.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.priorities.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeletePriority(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.labels.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.labels.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteLabel(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.queries.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.queries.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteQuery(v) : null\n              }))}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsFiltersSelected;\n","import { Button, CircularProgress, TextField, Typography, useTheme } from '@material-ui/core';\nimport { Alert, Autocomplete } from '@material-ui/lab';\nimport SearchQuery, { SearchFilter } from 'components/visual/SearchBar/search-query';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AlertsFiltersSelected from './alerts-filters-selected';\n\nconst POSSIBLE_STATUS = ['ASSESS', 'MALICIOUS', 'NON-MALICIOUS'];\nconst POSSIBLE_PRIORITY = ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL'];\nconst DEFAULT_LABELS = [\n  'PHISHING',\n  'CRIME',\n  'ATTRIBUTED',\n  'WHITELISTED',\n  'FALSE_POSITIVE',\n  'REPORTED',\n  'MITIGATED',\n  'PENDING'\n];\n\ninterface AlertsWorkflowActionsProps {\n  searchQuery: SearchQuery;\n  alert: any;\n  labelFilters: SearchFilter[];\n  onApplyBtnClick: (status: string, selectedPriority: string, selectedLabels: string[]) => void;\n}\n\nconst AlertsWorkflowActions: React.FC<AlertsWorkflowActionsProps> = ({\n  searchQuery,\n  alert,\n  labelFilters,\n  onApplyBtnClick\n}) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const [formValid, setFormValid] = useState<boolean>(false);\n  const [applying, setApplying] = useState<boolean>(false);\n  const [possibleLabels] = useState<string[]>([...DEFAULT_LABELS, ...labelFilters.map(val => val.label)]);\n  const [selectedStatus, setSelectedStatus] = useState<string>(null);\n  const [selectedPriority, setSelectedPriority] = useState<string>(null);\n  const [selectedLabels, setSelectedLabels] = useState<string[]>([]);\n\n  const validateForm = (status: string, priority: string, labels: string[]) => {\n    const valid = (status || priority || (labels && labels.length > 0)) as boolean;\n    setFormValid(valid);\n  };\n\n  const onStatusChange = (selection: string) => {\n    validateForm(selection, selectedPriority, selectedLabels);\n    setSelectedStatus(selection);\n  };\n\n  const onPriorityChange = (selection: string) => {\n    validateForm(selectedStatus, selection, selectedLabels);\n    setSelectedPriority(selection);\n  };\n\n  const onLabelChange = (selections: string[]) => {\n    validateForm(selectedStatus, selectedPriority, selections);\n    setSelectedLabels(selections.map(val => val.toUpperCase()));\n  };\n\n  const _onApplyBtnClick = () => {\n    if (formValid) {\n      setApplying(true);\n      onApplyBtnClick(selectedStatus, selectedPriority, selectedLabels);\n    }\n  };\n\n  const query = searchQuery.getQuery();\n\n  return (\n    <div>\n      <div style={{ margin: theme.spacing(1), marginBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('workflow.title')}</Typography>\n      </div>\n      <div style={{ margin: theme.spacing(1) }}>\n        <Alert severity={query && query.startsWith('alert_id') && alert ? 'info' : 'warning'}>\n          {query && query.startsWith('alert_id') && alert ? t('workflow.impact.low') : t('workflow.impact.high')}\n        </Alert>\n      </div>\n\n      <div style={{ margin: theme.spacing(1) }}>\n        <div\n          style={{\n            wordBreak: 'break-all',\n            marginTop: theme.spacing(1),\n            padding: theme.spacing(2),\n            color: theme.palette.primary.light,\n            backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[200]\n          }}\n        >\n          <AlertsFiltersSelected searchQuery={searchQuery} disableActions hideGroupBy />\n        </div>\n      </div>\n\n      <div style={{ margin: theme.spacing(1), marginTop: theme.spacing(2) }}>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            options={POSSIBLE_STATUS}\n            value={selectedStatus}\n            renderInput={params => <TextField {...params} label={t('status')} variant=\"outlined\" />}\n            onChange={(event, value) => onStatusChange(value as string)}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            options={POSSIBLE_PRIORITY}\n            value={selectedPriority}\n            renderInput={params => <TextField {...params} label={t('priority')} variant=\"outlined\" />}\n            onChange={(event, value) => onPriorityChange(value as string)}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            multiple\n            freeSolo\n            options={possibleLabels}\n            value={selectedLabels}\n            renderInput={params => <TextField {...params} label={t('labels')} variant=\"outlined\" />}\n            onChange={(event, value) => onLabelChange(value as string[])}\n          />\n        </div>\n      </div>\n      <div style={{ textAlign: 'right', marginTop: theme.spacing(1) }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={_onApplyBtnClick}\n          startIcon={applying ? <CircularProgress size={20} /> : null}\n          disabled={applying || !formValid}\n        >\n          {t('workflow.apply')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsWorkflowActions;\n","import { LineItem } from 'commons/addons/elements/lists/item/ListItemBase';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { ALField } from 'components/hooks/useMyUser';\nimport SearchQuery, { SearchFilter, SearchFilterType } from 'components/visual/SearchBar/search-query';\nimport { useCallback, useEffect, useReducer, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst DEFAULT_STATE = {\n  loading: true,\n  total: 0,\n  countedTotal: 0,\n  alerts: []\n};\n\nexport interface AlertFile {\n  md5: string;\n  name: string;\n  sha1: string;\n  sha256: string;\n  size: number;\n  type: string;\n}\n\nexport interface AlertUpdateItem {\n  label?: string[];\n  owner?: string;\n  priority?: string;\n  status?: string;\n  verdict?: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n}\n\nexport interface AlertItem extends LineItem {\n  al: {\n    attrib: string[];\n    av: string[];\n    behavior: string[];\n    domain: string[];\n    domain_dynamic: string[];\n    domain_static: string[];\n    ip: string[];\n    ip_dynamic: string[];\n    ip_static: string[];\n    request_end_time: string[];\n    score: number;\n    yara: string[];\n  };\n  alert_id: string;\n  attack: {\n    category: string[];\n    pattern: string[];\n  };\n  extended_scan: string;\n  classification: string;\n  file: AlertFile;\n  filtered: boolean;\n  label: string[];\n  group_count: number;\n  heuristic: { name: string[] };\n  hint_owner: boolean;\n  metadata: {\n    [key: string]: any;\n  }[];\n  owner: string;\n  priority: string;\n  reporting_ts: string;\n  sid: string;\n  status: string;\n  ts: string;\n  type: string;\n  verdict: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n}\n\n// The Custom Hook API.\ninterface UsingAlerts {\n  loading: boolean;\n  fields: ALField[];\n  total: number;\n  countedTotal: number;\n  alerts: AlertItem[];\n  searchQuery: SearchQuery;\n  labelFilters: SearchFilter[];\n  priorityFilters: SearchFilter[];\n  statusFilters: SearchFilter[];\n  valueFilters: SearchFilter[];\n  updateAlert: (alertIndex: number, alertChanges: AlertUpdateItem) => void;\n  updateQuery: (query: SearchQuery) => void;\n  onLoad: (onComplete?: (success: boolean) => void) => void;\n  onLoadMore: (onComplete?: (success: boolean) => void) => void;\n}\n\ninterface AlertState {\n  loading: boolean;\n  total: number;\n  countedTotal: number;\n  alerts: AlertItem[];\n}\n\ninterface AlertMessage {\n  action: 'set' | 'append' | 'update';\n  loading?: boolean;\n  total?: number;\n  countedTotal?: number;\n  alerts?: AlertItem[];\n  updateAlert?: {\n    alertIndex: number;\n    alertChanges: AlertUpdateItem;\n  };\n}\n\nconst alertStateReducer = (state: AlertState, newState: AlertMessage) => {\n  const { action, loading, total, countedTotal, alerts, updateAlert } = newState;\n\n  if (action === 'update') {\n    const newAlertList = [...state.alerts];\n    newAlertList[updateAlert.alertIndex] = { ...newAlertList[updateAlert.alertIndex], ...updateAlert.alertChanges };\n    return {\n      loading: state.loading,\n      total: state.total,\n      countedTotal: state.countedTotal,\n      alerts: newAlertList\n    };\n  }\n\n  if (action === 'set') {\n    return {\n      loading: loading !== undefined ? loading : state.loading,\n      total: total !== undefined ? total : state.total,\n      countedTotal: countedTotal !== undefined ? countedTotal : state.countedTotal,\n      alerts: alerts || state.alerts\n    };\n  }\n\n  return {\n    loading: loading !== undefined ? loading : state.loading,\n    total: total !== undefined ? total : state.total,\n    countedTotal: countedTotal !== undefined ? state.countedTotal + countedTotal : state.countedTotal,\n    alerts: alerts ? state.alerts.concat(alerts) : state.alerts\n  };\n};\n\n// Custom Hook implementation for dealing with alerts.\nexport default function useAlerts(pageSize: number): UsingAlerts {\n  const location = useLocation();\n  const apiCall = useMyAPI();\n  const { indexes: fieldIndexes } = useALContext();\n  const [searchQuery, setSearchQuery] = useState<SearchQuery>(null);\n  const [fields, setFields] = useState<ALField[]>([]);\n  const [statusFilters, setStatusFilters] = useState<SearchFilter[]>([]);\n  const [priorityFilters, setPriorityFilters] = useState<SearchFilter[]>([]);\n  const [labelFilters, setLabelFilters] = useState<SearchFilter[]>([]);\n  const [valueFilters, setValueFilters] = useState<SearchFilter[]>([]);\n  const [state, setState] = useReducer(alertStateReducer, DEFAULT_STATE);\n\n  // parse list of alert result: add an index field.\n  const parseResult = (responseItems, offset) => {\n    const items = responseItems.map((item, index) => ({ ...item, id: item.alert_id, index: index + offset }));\n    return items;\n  };\n\n  // format alert api url using specified indexes.\n  const buildUrl = useCallback(() => {\n    if (searchQuery.getGroupBy()) {\n      return `/api/v4/alert/grouped/${searchQuery.getGroupBy()}/?${searchQuery.buildAPIQueryString()}`;\n    }\n    return `/api/v4/alert/list/?${searchQuery.buildAPIQueryString()}`;\n  }, [searchQuery]);\n\n  // Hook API: update an alert in the list\n  const updateAlert = useCallback((alertIndex: number, alertChanges: AlertUpdateItem) => {\n    setState({ action: 'update', updateAlert: { alertIndex, alertChanges } });\n  }, []);\n\n  // Hook API: load/reload all the alerts from start.\n  // resets the accumulated list.\n  const onLoad = useCallback(\n    (onComplete?: (success: boolean) => void) => {\n      setState({ action: 'set', loading: true });\n      apiCall({\n        url: buildUrl(),\n        onSuccess: api_data => {\n          const { items: _items, tc_start: executionTime, total, counted_total: countedTotal } = api_data.api_response;\n          const items = parseResult(_items, 0);\n\n          // Set time constraint start\n          if (executionTime) {\n            searchQuery.setTcStart(executionTime);\n          } else if (!searchQuery.getTcStart() && items.length > 0) {\n            searchQuery.setTcStart(items[0].reporting_ts);\n          }\n\n          setState({\n            action: 'set',\n            loading: false,\n            total,\n            countedTotal: searchQuery.getGroupBy() ? countedTotal : _items.length,\n            alerts: items\n          });\n          if (onComplete) {\n            onComplete(true);\n          }\n        },\n        onFailure: () => {\n          setState({ action: 'set', loading: false });\n          if (onComplete) {\n            onComplete(false);\n          }\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [searchQuery]\n  );\n\n  // Hook API: get alerts for specified index.\n  const onLoadMore = useCallback(\n    (onComplete?: (success: boolean) => void) => {\n      // Move offset by one increment.\n      searchQuery.tickOffset();\n      // reference the current offset now incase it changes again before callback is executed\n      const _offset = searchQuery.getOffsetNumber();\n      setState({ action: 'set', loading: true });\n      apiCall({\n        url: buildUrl(),\n        onSuccess: api_data => {\n          const { items: _items, total, counted_total: countedTotal } = api_data.api_response;\n          const parsedItems = parseResult(_items, _offset);\n          setState({\n            action: 'append',\n            loading: false,\n            total,\n            countedTotal: searchQuery.getGroupBy() ? countedTotal : _items.length,\n            alerts: parsedItems\n          });\n          if (onComplete) {\n            onComplete(true);\n          }\n        },\n        onFailure: () => {\n          setState({ action: 'set', loading: false });\n          if (onComplete) {\n            onComplete(false);\n          }\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [searchQuery]\n  );\n\n  // Fetch the Status Filters.\n  const onLoadStatuses = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/statuses/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: statuses } = api_data;\n        const msItems: SearchFilter[] = Object.keys(statuses).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.STATUS,\n          label: k,\n          value: `status:${k}`,\n          other: { count: statuses[k] }\n        }));\n        setStatusFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Fetch the Priority Filters.\n  const onLoadPriorities = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/priorities/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: priorities } = api_data;\n        const msItems: SearchFilter[] = Object.keys(priorities).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.PRIORITY,\n          label: k,\n          value: `priority:${k}`,\n          other: { count: priorities[k] }\n        }));\n        setPriorityFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Fetch the Label Filters.\n  const onLoadLabels = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/labels/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: labels } = api_data;\n        const msItems: SearchFilter[] = Object.keys(labels).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.LABEL,\n          label: k,\n          value: `label:${k}`,\n          other: { count: labels[k] }\n        }));\n        setLabelFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  const onLoadStatisics = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/statistics/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: statistics } = api_data;\n        const msItems: SearchFilter[] = [];\n        Object.keys(statistics).forEach((k, ki) => {\n          const value = statistics[k];\n          Object.keys(value).forEach((vk, vki) => {\n            const vkv = value[vk];\n            msItems.push({\n              id: `${ki}.${vki}}`,\n              type: SearchFilterType.QUERY,\n              label: `${k}:${vk}`,\n              value: `${k}:\"${vk}\"`,\n              other: { count: vkv }\n            });\n          });\n        });\n        setValueFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Load it up!\n  useEffect(() => {\n    if (searchQuery) {\n      onLoad();\n      onLoadStatuses();\n      onLoadPriorities();\n      onLoadLabels();\n      onLoadStatisics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  useEffect(() => {\n    setSearchQuery(new SearchQuery(location.pathname, location.search, pageSize));\n  }, [location.pathname, location.search, pageSize]);\n\n  // transform alert fields into array.\n  useEffect(() => {\n    if (fieldIndexes) {\n      const aFields = Object.keys(fieldIndexes.alert).map(name => {\n        const o = fieldIndexes.alert[name];\n        return { ...o, name };\n      });\n      setFields(aFields);\n    }\n  }, [fieldIndexes]);\n\n  // UseAlert Hook API.\n  return {\n    ...state,\n    fields,\n    searchQuery,\n    statusFilters,\n    priorityFilters,\n    labelFilters,\n    valueFilters,\n    updateAlert,\n    updateQuery: setSearchQuery,\n    onLoad,\n    onLoadMore\n  };\n}\n","import { Box, Drawer, IconButton, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport StarIcon from '@material-ui/icons/Star';\nimport { AlertTitle } from '@material-ui/lab';\nimport ListCarousel from 'commons/addons/elements/lists/carousel/ListCarousel';\nimport ListNavigator from 'commons/addons/elements/lists/navigator/ListNavigator';\nimport SimpleList from 'commons/addons/elements/lists/simplelist/SimpleList';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport InformativeAlert from 'components/visual/InformativeAlert';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport SearchQuery, { SearchQueryFilters } from 'components/visual/SearchBar/search-query';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\nimport { FiFilter } from 'react-icons/fi';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport AlertDetails from './alert-details';\nimport AlertListItem from './alert-list-item';\nimport AlertListItemActions, { PossibleVerdict } from './alert-list-item-actions';\nimport AlertsFilters from './alerts-filters';\nimport AlertsFiltersFavorites from './alerts-filters-favorites';\nimport AlertsFiltersSelected from './alerts-filters-selected';\nimport AlertsWorkflowActions from './alerts-workflow-actions';\nimport useAlerts, { AlertItem } from './hooks/useAlerts';\nimport useFavorites from './hooks/useFavorites';\nimport usePromiseAPI from './hooks/usePromiseAPI';\n\n// Default size of a page to be used by the useAlert hook when fetching next load of data\n//  when scrolling has hit threshold.\nconst PAGE_SIZE = 50;\n\nexport interface AlertDrawerState {\n  open: boolean;\n  type: 'filter' | 'favorites' | 'actions';\n  actionData?: {\n    query: SearchQuery;\n    alert?: {\n      index: number;\n      alert_id: string;\n      priority: string;\n      status: string;\n      labels: string[];\n    };\n  };\n}\n\nconst ALERT_SIMPLELIST_ID = 'al.alerts.simplelist';\n\n// Just indicates whether there are any filters currently set..\nconst hasFilters = (filters: SearchQueryFilters): boolean => {\n  const { statuses, priorities, labels, queries } = filters;\n  return statuses.length > 0 || priorities.length > 0 || labels.length > 0 || queries.length > 0;\n};\n\n// Some generated style classes\nconst useStyles = makeStyles(theme => ({\n  pageTitle: {\n    // paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  drawerInner: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(3),\n    width: '600px',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%'\n    }\n  },\n  searchresult: {\n    marginTop: theme.spacing(1),\n    fontStyle: 'italic',\n    minHeight: theme.spacing(3)\n  },\n  modeToggler: {\n    border: 'none',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    marginRight: '0px !important'\n  }\n}));\n\n// The Alerts functional component.\nconst Alerts: React.FC = () => {\n  const { t } = useTranslation('alerts');\n  const classes = useStyles();\n  const theme = useTheme();\n  const { user: currentUser } = useALContext();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const { setGlobalDrawer } = useDrawer();\n\n  // Alerts hook.\n  const {\n    loading,\n    alerts,\n    total,\n    countedTotal,\n    fields,\n    searchQuery,\n    valueFilters,\n    statusFilters,\n    priorityFilters,\n    labelFilters,\n    onLoad,\n    onLoadMore,\n    updateAlert\n  } = useAlerts(PAGE_SIZE);\n\n  // API Promise hook\n  const { onApplyWorkflowAction } = usePromiseAPI();\n\n  // Define required states...\n  const [scrollReset, setScrollReset] = useState<boolean>(false);\n  const [drawer, setDrawer] = useState<AlertDrawerState>({\n    open: false,\n    type: null\n  });\n  const history = useHistory();\n  const location = useLocation();\n  const { userFavorites, globalFavorites } = useFavorites();\n\n  // Define some references.\n  const searchTextValue = useRef<string>('');\n\n  useEffect(() => {\n    if (searchQuery) {\n      setScrollReset(true);\n      searchTextValue.current = searchQuery.getQuery();\n    }\n  }, [searchQuery]);\n\n  // Media quries.\n  const isMDUp = useMediaQuery(theme.breakpoints.up('md'));\n  const isLGDown = useMediaQuery(theme.breakpoints.down('lg'));\n\n  // Handler searchbar onSearch callback\n  const onSearch = (filterValue: string = '', inputEl: HTMLInputElement = null) => {\n    // Update query and url before reloading data.\n    searchQuery.setQuery(filterValue);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    if (inputEl) inputEl.focus();\n  };\n\n  // Handler for when clearing the SearchBar.\n  const onClearSearch = (inputEl: HTMLInputElement = null) => {\n    // Reset the query.\n    searchQuery.deleteQuery();\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Update the search text field reference.\n    searchTextValue.current = '';\n\n    if (inputEl) inputEl.focus();\n  };\n\n  const onVerdictComplete = useCallback(\n    (index: number, item: AlertItem, verdict: PossibleVerdict) => {\n      const changes = { verdict: { ...item.verdict } };\n      if (verdict === 'malicious') {\n        if (changes.verdict.malicious.indexOf(currentUser.username) === -1) {\n          changes.verdict.malicious.push(currentUser.username);\n        }\n        if (changes.verdict.non_malicious.indexOf(currentUser.username) !== -1) {\n          changes.verdict.non_malicious.splice(changes.verdict.non_malicious.indexOf(currentUser.username), 1);\n        }\n      } else {\n        if (changes.verdict.non_malicious.indexOf(currentUser.username) === -1) {\n          changes.verdict.non_malicious.push(currentUser.username);\n        }\n        if (changes.verdict.malicious.indexOf(currentUser.username) !== -1) {\n          changes.verdict.malicious.splice(changes.verdict.malicious.indexOf(currentUser.username), 1);\n        }\n      }\n      updateAlert(index, changes);\n      window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: item.id, changes } }));\n    },\n    [currentUser.username, updateAlert]\n  );\n\n  const onTakeOwnershipComplete = useCallback(\n    (index: number, item: AlertItem) => {\n      const changes = { owner: currentUser.username };\n      updateAlert(index, changes);\n      window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: item.id, changes } }));\n    },\n    [currentUser.username, updateAlert]\n  );\n\n  // Handler for when an item of the InfiniteList is selected\n  const onItemSelected = useCallback(\n    (item: AlertItem, index: number) => {\n      if (item !== null && item !== undefined) {\n        if (isLGDown) {\n          // Unfocus the simple list so the drawer does not try to refocus it when closing...\n          document.getElementById(ALERT_SIMPLELIST_ID).blur();\n        }\n        setGlobalDrawer(\n          <div>\n            <div\n              style={{\n                alignItems: 'start',\n                display: 'flex',\n                float: 'right',\n                height: theme.spacing(8),\n                marginTop: theme.spacing(-8),\n                marginRight: theme.spacing(-1),\n                position: 'sticky',\n                top: theme.spacing(1),\n                zIndex: 1\n              }}\n            >\n              <ListNavigator id={ALERT_SIMPLELIST_ID} />\n              <AlertListItemActions\n                item={item}\n                index={index}\n                currentQuery={searchQuery}\n                setDrawer={setDrawer}\n                onTakeOwnershipComplete={() => onTakeOwnershipComplete(index, item)}\n                onVerdictComplete={verdict => onVerdictComplete(index, item, verdict)}\n                vertical\n              />\n            </div>\n            <ListCarousel id={ALERT_SIMPLELIST_ID} disableArrowUp disableArrowDown enableSwipe>\n              <AlertDetails alert={item} />\n            </ListCarousel>\n          </div>\n        );\n      }\n    },\n    [setGlobalDrawer, isLGDown, theme, searchQuery, onTakeOwnershipComplete, onVerdictComplete]\n  );\n\n  // Handler for when loading more alerts [read bottom of scroll area]\n  const _onLoadMore = useCallback(() => {\n    setScrollReset(false);\n    onLoadMore();\n  }, [setScrollReset, onLoadMore]);\n\n  // Hanlder for when clicking one the AlertsFilters 'Apply' button.\n  const onApplyFilters = (filters: SearchQueryFilters, query?: string) => {\n    // Set the newly selected filters and up location url bar.\n    if (query !== undefined && query !== null) searchQuery.setQuery(query);\n    searchQuery.setFilters(filters);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Close the Filters drawer.\n    if (drawer.open) {\n      setDrawer({ ...drawer, open: false });\n    }\n  };\n\n  // Handler for when the value of the search bar input field changes.\n  // We don't track it in state as that is being done in SearchBar component itself.\n  const onFilterValueChange = (inputValue: string) => {\n    searchTextValue.current = inputValue;\n  };\n\n  // The SearchBar contentassist suggesions.\n  const buildSearchSuggestions = () => {\n    const _fields = fields.map(f => f.name);\n    return [..._fields, ...DEFAULT_SUGGESTION];\n  };\n\n  // Handler/callback for when clicking the 'Add' btn on the AlertsFavorite component.\n  const onFavoriteAdd = (filter: { query: string; name: string }) => {\n    setDrawer({ ...drawer, open: false });\n  };\n\n  // Handler/callback for when deleting a favorite on the AlertsFavorite component.\n  const onFavoriteDelete = (favorite: { name: string; query: string }) => {\n    // console.log(favorite);\n  };\n\n  //\n  const onFavoriteSelected = (favorite: { name: string; query: string }) => {\n    // Update query with selected favorite.\n    searchQuery.addFq(favorite.query);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Close the Filters drawer.\n    if (drawer.open) {\n      setDrawer({ ...drawer, open: false });\n    }\n  };\n\n  // Handler/callback for when clicking the 'Apply' btn on the AlertsWorkflowActions component.\n  const onWorkflowActionsApply = (selectedStatus: string, selectedPriority: string, selectedLabels: string[]) => {\n    onApplyWorkflowAction(drawer.actionData.query, selectedStatus, selectedPriority, selectedLabels).then(() => {\n      setDrawer({ ...drawer, open: false });\n      const { alert } = drawer.actionData;\n      if (alert) {\n        const changes = {\n          status: selectedStatus || alert.status,\n          priority: selectedPriority || alert.priority,\n          label: [...Array.from(new Set([...alert.labels, ...selectedLabels]))]\n        };\n        updateAlert(alert.index, changes);\n        window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: alert.alert_id, changes } }));\n      } else {\n        setScrollReset(true);\n        onLoad();\n      }\n    });\n  };\n\n  // Memoized callback to render one line-item of the list....\n  const onRenderListRow = useCallback((item: AlertItem) => {\n    return <AlertListItem item={item} />;\n  }, []);\n\n  //\n  const onDrawerClose = () => {\n    setDrawer({ ...drawer, open: false, actionData: null });\n  };\n\n  // Handler for when the cursor on the list changes via keybaord event.\n  const onListCursorChanges = (item: AlertItem, index: number) => {\n    onItemSelected(item, index);\n  };\n\n  // Handler to render the action buttons of each list item.\n  const onRenderListActions = useCallback(\n    (item: AlertItem, index: number) => (\n      <AlertListItemActions\n        item={item}\n        index={index}\n        currentQuery={searchQuery}\n        setDrawer={setDrawer}\n        onTakeOwnershipComplete={() => onTakeOwnershipComplete(index, item)}\n        onVerdictComplete={verdict => onVerdictComplete(index, item, verdict)}\n      />\n    ),\n    [onTakeOwnershipComplete, onVerdictComplete, searchQuery]\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      <Drawer open={drawer.open} anchor=\"right\" onClose={onDrawerClose}>\n        <div style={{ padding: theme.spacing(1) }}>\n          <IconButton onClick={onDrawerClose}>\n            <CloseOutlinedIcon />\n          </IconButton>\n        </div>\n        <div className={classes.drawerInner}>\n          {\n            {\n              filter: (\n                <AlertsFilters\n                  searchQuery={searchQuery}\n                  valueFilters={valueFilters}\n                  statusFilters={statusFilters}\n                  priorityFilters={priorityFilters}\n                  labelFilters={labelFilters}\n                  userFavorites={userFavorites}\n                  globalFavorites={globalFavorites}\n                  onApplyBtnClick={onApplyFilters}\n                />\n              ),\n              favorites: (\n                <AlertsFiltersFavorites\n                  initValue={searchTextValue.current}\n                  onSelected={onFavoriteSelected}\n                  onDeleted={onFavoriteDelete}\n                  onSaved={onFavoriteAdd}\n                />\n              ),\n              actions: drawer.actionData && (\n                <AlertsWorkflowActions\n                  searchQuery={drawer.actionData.query}\n                  alert={drawer.actionData.alert}\n                  labelFilters={labelFilters}\n                  onApplyBtnClick={onWorkflowActionsApply}\n                />\n              )\n            }[drawer.type]\n          }\n        </div>\n      </Drawer>\n\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('alerts')}</Typography>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={searchQuery ? searchQuery.getQuery() : ''}\n            searching={loading}\n            suggestions={buildSearchSuggestions()}\n            placeholder=\"Filter alerts...\"\n            onValueChange={onFilterValueChange}\n            onClear={onClearSearch}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <StarIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('favorites'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'favorites' })\n                }\n              },\n              {\n                icon: <FilterListIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('filters'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'filter' })\n                }\n              },\n              {\n                icon: <BiNetworkChart fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('workflows'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'actions', actionData: { query: searchQuery } })\n                }\n              }\n            ]}\n          >\n            <Box className={classes.searchresult}>\n              {isMDUp ? (\n                <SearchResultLarge\n                  searching={loading}\n                  total={total}\n                  query={searchQuery}\n                  onApplyFilters={onApplyFilters}\n                />\n              ) : (\n                <SearchResultSmall searching={loading} total={total} query={searchQuery} />\n              )}\n            </Box>\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <SimpleList\n        id={ALERT_SIMPLELIST_ID}\n        disableProgress\n        scrollInfinite={countedTotal < total}\n        scrollReset={scrollReset}\n        scrollLoadNextThreshold={75}\n        scrollTargetId=\"app-scrollct\"\n        loading={loading}\n        items={alerts}\n        emptyValue={\n          <div style={{ width: '100%' }}>\n            <InformativeAlert>\n              <AlertTitle>{t('no_alerts_title')}</AlertTitle>\n              {t('no_alerts_desc')}\n            </InformativeAlert>\n          </div>\n        }\n        onItemSelected={onItemSelected}\n        onRenderActions={onRenderListActions}\n        onLoadNext={_onLoadMore}\n        onCursorChange={onListCursorChanges}\n      >\n        {onRenderListRow}\n      </SimpleList>\n    </PageFullWidth>\n  );\n};\n\nconst SearchResultLarge = ({ searching, total, query, onApplyFilters }) => {\n  const theme = useTheme();\n  const { t } = useTranslation('alerts');\n  return (\n    <div style={{ position: 'relative' }}>\n      <AlertsFiltersSelected searchQuery={query} onChange={onApplyFilters} hideQuery />\n      <div style={{ position: 'absolute', top: theme.spacing(0.5), right: theme.spacing(1) }}>\n        {searching ? '' : <span>{`${total} ${total > 1 ? t('results') : t('result')}`}</span>}\n      </div>\n    </div>\n  );\n};\n\nconst SearchResultSmall = ({ searching, total, query }) => {\n  const theme = useTheme();\n  const { t } = useTranslation('alerts');\n  const filtered = query ? hasFilters(query.parseFilters()) : false;\n  return (\n    <>\n      <div style={{ marginTop: theme.spacing(2), alignItems: 'center' }}>\n        {!searching && filtered && (\n          <>\n            <FiFilter style={{ marginRight: theme.spacing(1) }} />\n          </>\n        )}\n        {searching ? '' : `${total} ${total > 1 ? t('results') : t('result')}`}\n      </div>\n    </>\n  );\n};\n\nexport default Alerts;\n","import { Tooltip } from '@material-ui/core';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst STATE_ICON_MAP = {\n  incomplete: <ClearIcon color=\"error\" />,\n  completed: <DoneIcon color=\"primary\" />,\n  submitted: <TimerIcon color=\"secondary\" />,\n  skipped: <BlockIcon color=\"action\" />\n};\n\ntype ExtendedScanProps = {\n  state: string;\n  error_count?: number;\n};\n\nconst WrappedExtendedScan: React.FC<ExtendedScanProps> = ({ state }) => {\n  const { t } = useTranslation();\n  const icon = STATE_ICON_MAP[state];\n\n  return <Tooltip title={t(`extended_scan.${state}`)}>{icon}</Tooltip>;\n};\n\nconst ExtendedScan = React.memo(WrappedExtendedScan);\nexport default ExtendedScan;\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype VerdictBarProps = {\n  verdicts: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n  width?: string;\n};\n\nconst WrappedVerdictBar: React.FC<VerdictBarProps> = ({ verdicts, width = '100%' }) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  return (\n    <Tooltip\n      title={`${t('verdict.malicious')}: ${verdicts.malicious.length} / ${t('verdict.non_malicious')}: ${\n        verdicts.non_malicious.length\n      }`}\n    >\n      <svg height=\"15\" width={width}>\n        <rect\n          height=\"15\"\n          width=\"100%\"\n          style={{ fill: theme.palette.background.default, stroke: theme.palette.divider }}\n        />\n        <rect\n          y=\"1\"\n          height=\"13\"\n          fill=\"#d9534f\"\n          x={`${50 - verdicts.malicious.length * 5}%`}\n          width={`${verdicts.malicious.length * 5}%`}\n        />\n        <rect x=\"50%\" y=\"1\" height=\"13\" fill=\"#5cb85c\" width={`${verdicts.non_malicious.length * 5}%`} />\n        <rect x=\"50%\" y=\"1\" height=\"13\" width=\"1%\" fill=\"lightgrey\" />\n      </svg>\n    </Tooltip>\n  );\n};\n\nconst VerdictBar = React.memo(WrappedVerdictBar);\nexport default VerdictBar;\n","import { Button, Grid, Hidden, IconButton, Paper, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport MoodIcon from '@material-ui/icons/Mood';\nimport MoodBadIcon from '@material-ui/icons/MoodBad';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport ExtendedScan from 'components/visual/ExtendedScan';\nimport Verdict from 'components/visual/Verdict';\nimport VerdictBar from 'components/visual/VerdictBar';\nimport { bytesToSize } from 'helpers/utils';\nimport 'moment-timezone';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\n\ntype AlertCardItemProps = {\n  item: AlertItem;\n  setItem?: (item: AlertItem) => null;\n};\n\nconst AlertCardItem: React.FC<AlertCardItemProps> = ({ item, setItem = null }) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const isDownSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const apiCall = useMyAPI();\n  const { showSuccessMessage } = useMySnackbar();\n  const { user: currentUser, c12nDef } = useALContext();\n\n  function setVerdict(verdict) {\n    if (item.verdict[verdict].indexOf(currentUser.username) !== -1) {\n      showSuccessMessage(t(`verdict.success.${verdict}`));\n      return;\n    }\n\n    apiCall({\n      method: 'PUT',\n      url: `/api/v4/alert/verdict/${item.alert_id}/${verdict}/`,\n      onSuccess: api_data => {\n        if (setItem !== null) {\n          const newVerdict = { ...item.verdict };\n          if (verdict === 'malicious') {\n            if (newVerdict.malicious.indexOf(currentUser.username) === -1) {\n              newVerdict.malicious.push(currentUser.username);\n            }\n            if (newVerdict.non_malicious.indexOf(currentUser.username) !== -1) {\n              newVerdict.non_malicious.splice(newVerdict.non_malicious.indexOf(currentUser.username), 1);\n            }\n          } else {\n            if (newVerdict.non_malicious.indexOf(currentUser.username) === -1) {\n              newVerdict.non_malicious.push(currentUser.username);\n            }\n            if (newVerdict.malicious.indexOf(currentUser.username) !== -1) {\n              newVerdict.malicious.splice(newVerdict.malicious.indexOf(currentUser.username), 1);\n            }\n          }\n\n          setItem({ ...item, verdict: newVerdict });\n        }\n        showSuccessMessage(t(`verdict.success.${verdict}`));\n      }\n    });\n  }\n\n  function takeOwnership() {\n    apiCall({\n      url: `/api/v4/alert/ownership/${item.alert_id}/`,\n      onSuccess: api_data => {\n        if (setItem !== null) {\n          setItem({ ...item, owner: currentUser.username });\n        }\n        showSuccessMessage(t('take_ownership.success'));\n      }\n    });\n  }\n\n  return (\n    <Paper\n      style={{\n        marginTop: sp2,\n        marginBottom: sp2,\n        padding: sp2,\n        backgroundColor: item.owner !== null ? '#00f2000f' : item.al.attrib.length !== 0 ? '#f200000f' : null\n      }}\n    >\n      {c12nDef.enforce && (\n        <Hidden mdUp>\n          <Classification c12n={item.classification} size=\"tiny\" type=\"outlined\" />\n        </Hidden>\n      )}\n      <Grid container spacing={2}>\n        <Grid\n          item\n          xs={12}\n          md={2}\n          lg={1}\n          style={{\n            display: isDownSM ? 'flex' : null,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            textAlign: 'center',\n            paddingTop: isDownSM ? sp4 : 0,\n            paddingBottom: isDownSM ? sp2 : 0\n          }}\n        >\n          <div\n            style={{\n              paddingTop: isDownSM ? 0 : sp1\n            }}\n          >\n            <Verdict score={item.al.score} />\n          </div>\n          {!isDownSM && item.group_count && (\n            <div style={{ paddingTop: sp2, color: theme.palette.primary.main }}>\n              <h2>{`${item.group_count}x`}</h2>\n            </div>\n          )}\n          {!isDownSM && item.extended_scan && (\n            <div style={{ paddingTop: sp2 }}>\n              <ExtendedScan state={item.extended_scan} />\n            </div>\n          )}\n          <div style={{ paddingTop: isDownSM ? 0 : sp4, width: '100%', maxWidth: '120px', display: 'inline-block' }}>\n            <VerdictBar verdicts={item.verdict} />\n            <Grid container>\n              <Grid item xs={5} style={{ textAlign: 'left' }}>\n                <IconButton size=\"small\" onClick={() => setVerdict('malicious')}>\n                  <MoodBadIcon />\n                </IconButton>\n              </Grid>\n              <Grid item xs={2} />\n              <Grid item xs={5} style={{ textAlign: 'right' }}>\n                <IconButton size=\"small\" onClick={() => setVerdict('non_malicious')}>\n                  <MoodIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </div>\n        </Grid>\n\n        <Grid item xs={12} md={10} lg={11}>\n          <Grid container spacing={1}>\n            <Grid item xs={3} md={2}>\n              <b>{item.type}</b>\n            </Grid>\n            <Grid item xs={9} md={6}>\n              <Moment format=\"YYYY-MM-DD HH:mm:ss.SSS (zz)\" tz=\"utc\">\n                {item.ts}\n              </Moment>\n            </Grid>\n            {c12nDef.enforce && (\n              <Hidden smDown>\n                <Grid item md={4} style={{ textAlign: 'right' }}>\n                  <Classification c12n={item.classification} size=\"tiny\" type=\"outlined\" inline />\n                </Grid>\n              </Hidden>\n            )}\n\n            {item.filtered && (\n              <>\n                <Grid item xs=\"auto\" md={2} />\n                <Grid item xs={12} md={10}>\n                  <b>{t('data_filtered_msg')}</b>\n                </Grid>\n              </>\n            )}\n          </Grid>\n\n          <Hidden mdUp>\n            <Grid container style={{ paddingTop: sp2 }}>\n              <Grid item xs={3}>\n                <b>{t('group_count')}</b>\n              </Grid>\n              <Grid item xs={9}>\n                {item.group_count}\n              </Grid>\n              <Grid item xs={3}>\n                <b>{t('extended')}</b>\n              </Grid>\n              <Grid item xs={9} style={{ textTransform: 'capitalize' }}>\n                {item.extended_scan}\n              </Grid>\n            </Grid>\n          </Hidden>\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={3} md={2}>\n              <b>{t('label')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              {item.label.map((l, i) => {\n                return <CustomChip key={i} label={l} size=\"tiny\" type=\"rounded\" />;\n              })}\n            </Grid>\n\n            <Grid item xs={3} md={2}>\n              <b>{t('priority')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              <CustomChip label={item.priority} size=\"tiny\" type=\"rounded\" />\n            </Grid>\n\n            <Grid item xs={3} md={2}>\n              <b>{t('status')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              <CustomChip label={item.status} size=\"tiny\" type=\"rounded\" />\n            </Grid>\n          </Grid>\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={12} md={2}>\n              <b>{t('file_info')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.main, fontWeight: 500 }}>{item.file.name}</span>\n            </Grid>\n            <Grid item xs=\"auto\" md={2} />\n            <Grid item xs={12} md={10}>\n              {item.file.type}\n            </Grid>\n            <Grid item xs=\"auto\" md={2} />\n            <Grid item xs={12} md={10}>\n              <b>{item.file.size} </b>\n              <span style={{ fontWeight: 300 }}>({bytesToSize(item.file.size)})</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>MD5</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.md5}</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>SHA1</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.sha1}</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>SHA256</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.sha256}</span>\n            </Grid>\n          </Grid>\n\n          {(item.owner || item.hint_owner) && (\n            <Grid container style={{ paddingTop: sp2 }}>\n              <Grid item xs={12} md={2}>\n                <b>{t('ownership')}</b>\n              </Grid>\n              <Grid item xs={12} md={10}>\n                <b>{item.owner || t('hint_owner')}</b>\n              </Grid>\n            </Grid>\n          )}\n\n          {Object.keys(item.metadata).length !== 0 && (\n            <div style={{ paddingTop: sp2 }}>\n              {Object.keys(item.metadata).map((key, i) => {\n                return (\n                  <Grid container key={i}>\n                    <Grid item xs={12} md={2}>\n                      <span style={{ textTransform: 'capitalize', fontWeight: 600 }}>\n                        {key.replace('.', ' ').replace('_', ' ')}\n                      </span>\n                    </Grid>\n                    <Grid item xs={12} md={10}>\n                      {item.metadata[key]}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </div>\n          )}\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={12} md={2}>\n              <b>{t('category')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 500 }}>\n                {item.attack.category.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('patterns')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 500 }}>\n                {item.attack.pattern.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('heuristic')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 300 }}>\n                {item.heuristic.name.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('behaviors')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 300 }}>\n                {item.al.behavior.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('attributions')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.error.dark, fontWeight: 500 }}>{item.al.attrib.join(' | ')}</span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('avhits')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.secondary.dark, fontWeight: 500 }}>{item.al.av.join(' | ')}</span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('ip')}</b>\n            </Grid>\n            <Grid item xs={12} md={10} style={{ color: theme.palette.success.dark }}>\n              <span style={{ fontWeight: 500 }}>{item.al.ip_dynamic.join(' | ')}</span>\n              <span>\n                {item.al.ip_dynamic.length !== 0 && ' | '}\n                {item.al.ip_static.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('domain')}</b>\n            </Grid>\n            <Grid item xs={12} md={10} style={{ color: theme.palette.success.dark }}>\n              <span style={{ fontWeight: 500 }}>{item.al.domain_dynamic.join(' | ')}</span>\n              <span>\n                {item.al.domain_dynamic.length !== 0 && ' | '}\n                {item.al.domain_static.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('yara')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              {item.al.yara.join(' | ')}\n            </Grid>\n          </Grid>\n          <div style={{ paddingTop: sp2 }}>\n            <Button\n              component={Link}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              to={`/submission/${item.sid}`}\n            >\n              {t('btn.submission')}\n            </Button>\n            <Button\n              component={Link}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              to={`/search/?query=${item.file.sha256}`}\n            >\n              {t('btn.sha256')}\n            </Button>\n            <Button\n              disabled={item.owner !== null}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              onClick={() => takeOwnership()}\n            >\n              {t('btn.ownership')}\n            </Button>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              onClick={() => alert('NOT DONE YET')}\n            >\n              {t('btn.workflow')}\n            </Button>\n          </div>\n        </Grid>\n\n        <Grid item xs={12} style={{ textAlign: 'right' }}>\n          <Typography variant=\"caption\" color=\"secondary\" style={{ fontSize: '80%' }}>\n            {`${item.alert_id} :: `}\n            <Moment fromNow>{item.reporting_ts}</Moment>\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\n//\nexport default AlertCardItem;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect, useState } from 'react';\nimport AlertCardItem from './alert-card';\n\nexport default function AlertsLegacy() {\n  const apiCall = useMyAPI();\n  const [alerts, setAlerts] = useState(null);\n\n  useEffect(() => {\n    apiCall({\n      method: 'GET',\n      url: '/api/v4/alert/grouped/file.sha256/?offset=0&rows=25&q=&tc=4d',\n      onSuccess: api_data => {\n        setAlerts(api_data.api_response.items);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <h1>Alert Legacy Test</h1>\n      <div style={{ textAlign: 'left' }}>\n        {alerts &&\n          alerts.map((a, i) => {\n            return (\n              <div key={i}>\n                <AlertCardItem item={a} />\n              </div>\n            );\n          })}\n      </div>\n    </PageCenter>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { Backdrop, Button, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst VALID_SCOPES = ['r', 'w', 'rw'];\n\nexport default function AppRegistration() {\n  const location = useLocation();\n  const history = useHistory();\n  const { t } = useTranslation(['authorize']);\n  const theme = useTheme();\n  const { getBanner } = useAppLayout();\n\n  const params = new URLSearchParams(location.search);\n  const rUrl = params.get('redirect_url');\n  const clientID = params.get('client_id');\n  const scope = params.get('scope');\n  const server = params.get('server');\n\n  return (\n    <Backdrop open style={{ backgroundColor: theme.palette.background.default, zIndex: 10000 }} transitionDuration={0}>\n      <CardCentered>\n        {getBanner(theme)}\n        <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center', justifyContent: 'center' }}>\n          {!rUrl || !clientID || !scope || !server || VALID_SCOPES.indexOf(scope) === -1 ? (\n            <>\n              <div style={{ marginBottom: '3rem' }}>{t('invalid')}</div>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => history.goBack()}>\n                {t('button.back')}\n              </Button>\n            </>\n          ) : (\n            <>\n              <div style={{ marginBottom: '2rem' }}>\n                <Typography component=\"span\" variant=\"h6\" color=\"primary\">\n                  {server}{' '}\n                </Typography>\n                <Typography component=\"span\" variant=\"h6\">\n                  {t('access')}\n                </Typography>\n              </div>\n              <Typography variant=\"subtitle2\" gutterBottom>\n                {t('scope')}\n              </Typography>\n              <Typography variant=\"caption\" color=\"secondary\" gutterBottom style={{ marginTop: '1rem' }}>\n                {t(`scope.${scope}`)}\n              </Typography>\n              <Typography\n                variant=\"caption\"\n                color=\"textSecondary\"\n                gutterBottom\n                style={{ marginTop: '2rem', textAlign: 'left' }}\n              >\n                {t('warning')}\n              </Typography>\n              <div\n                style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginTop: '3rem' }}\n              >\n                <Button variant=\"text\" href={`${rUrl}${rUrl.indexOf('?') === -1 ? '?' : '&'}error=cancelled`}>\n                  {t('button.cancel')}\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  href={`/api/v4/auth/obo_token/?XSRF_TOKEN=${getXSRFCookie()}&${location.search.substring(1)}`}\n                >\n                  {t('button.allow')}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </CardCentered>\n    </Backdrop>\n  );\n}\n","import React from 'react';\n\nexport default function useFullscreenStatus(elRef) {\n  const [isFullscreen, setIsFullscreen] = React.useState(document[getBrowserFullscreenElementProp()] != null);\n\n  const setFullscreen = () => {\n    if (elRef.current == null) return;\n\n    elRef.current\n      .requestFullscreen()\n      .then(() => {\n        setIsFullscreen(document[getBrowserFullscreenElementProp()] != null);\n      })\n      .catch(() => {\n        setIsFullscreen(false);\n      });\n  };\n\n  React.useLayoutEffect(() => {\n    document.onfullscreenchange = () => setIsFullscreen(document[getBrowserFullscreenElementProp()] != null);\n\n    return () => {\n      document.onfullscreenchange = undefined;\n    };\n  });\n\n  return [isFullscreen, setFullscreen];\n}\n\nfunction getBrowserFullscreenElementProp() {\n  if (typeof document.fullscreenElement !== 'undefined') {\n    return 'fullscreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['mozFullScreenElement'] !== 'undefined') {\n    return 'mozFullScreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['msFullscreenElement'] !== 'undefined') {\n    return 'msFullscreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['webkitFullscreenElement'] !== 'undefined') {\n    return 'webkitFullscreenElement';\n  }\n  throw new Error('fullscreenElement is not supported by this browser');\n}\n","import { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport useAppBarHeight from 'commons/components/hooks/useAppBarHeight';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useFullscreenStatus from 'commons/components/hooks/useFullscreenStatus';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default\n  },\n  toggle: {\n    float: 'right',\n    paddingTop: theme.spacing(2),\n    position: 'sticky',\n    right: theme.spacing(2),\n    zIndex: theme.zIndex.appBar + 1\n  }\n}));\n\ninterface PageFullscreenProps {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n}\nconst PageFullscreen: React.FC<PageFullscreenProps> = ({ children, margin = null, mb = 2, ml = 2, mr = 2, mt = 2 }) => {\n  const maximizableElement = React.useRef(null);\n  const appBarHeight = useAppBarHeight();\n  const { currentLayout, autoHideAppbar } = useAppLayout();\n  let isFullscreen;\n  let setIsFullscreen;\n  let fullscreenSupported;\n\n  const barWillHide = currentLayout !== 'top' && autoHideAppbar;\n\n  try {\n    [isFullscreen, setIsFullscreen] = useFullscreenStatus(maximizableElement);\n  } catch (e) {\n    fullscreenSupported = false;\n    isFullscreen = false;\n    setIsFullscreen = undefined;\n  }\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  const handleEnterFullscreen = () => {\n    setIsFullscreen();\n  };\n\n  const handleExitFullscreen = () => {\n    document.exitFullscreen();\n  };\n\n  return (\n    <div ref={maximizableElement} className={classes.root}>\n      <div className={classes.toggle} style={{ top: barWillHide || isFullscreen ? 0 : appBarHeight }}>\n        {fullscreenSupported ? null : isFullscreen ? (\n          <IconButton onClick={handleExitFullscreen}>\n            <FullscreenExitIcon />\n          </IconButton>\n        ) : (\n          <IconButton onClick={handleEnterFullscreen}>\n            <FullscreenIcon />\n          </IconButton>\n        )}\n      </div>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageFullscreen;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { scaleLinear } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  caption: {\n    color: theme.palette.text.secondary,\n    fontSize: 'x-small',\n    fontWeight: 500,\n    textAlign: 'center',\n    width: '100%'\n  },\n  graph: {\n    gridColumn: '1 / 1',\n    gridRow: '1 / 1'\n  },\n  outer: {\n    display: 'grid',\n    gridTemplate: '1fr / 1fr',\n    placeItems: 'end'\n  },\n  text: {\n    color: theme.palette.text.secondary,\n    fontWeight: 900,\n    gridColumn: '1 / 1',\n    gridRow: '1 / 1',\n    textAlign: 'center',\n    width: '100%'\n  },\n  title: {\n    color: theme.palette.text.secondary,\n    fontWeight: 500,\n    textAlign: 'center',\n    width: '100%'\n  }\n}));\n\ntype ArcGaugeProps = {\n  pctValue: number;\n  caption?: string;\n  colorBack?: string;\n  fontSize?: string;\n  initialized?: boolean;\n  title?: string;\n  width?: string;\n};\n\nconst ArcGauge: React.FC<ArcGaugeProps> = ({\n  pctValue,\n  caption = '',\n  colorBack = '#68686815',\n  fontSize = '22px',\n  initialized = false,\n  title = '',\n  width = '100px'\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const colorFilled = theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark;\n\n  const backgroundArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI / 2)\n    .endAngle(Math.PI / 2)\n    .cornerRadius(0)();\n  const percentScale = scaleLinear().domain([0, 100]).range([0, 1]);\n\n  const angleScale = scaleLinear()\n    .domain([0, 1])\n    .range([-Math.PI / 2, Math.PI / 2])\n    .clamp(true);\n  const filledArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI / 2)\n    .endAngle(angleScale(percentScale(pctValue)))\n    .cornerRadius(0)();\n\n  return (\n    <div>\n      {title && <div className={classes.title}>{title}</div>}\n      <div className={classes.outer} style={{ fontSize, lineHeight: fontSize, width }}>\n        {initialized ? (\n          <span className={classes.text}>{`${Number(pctValue).toFixed(0)}%`}</span>\n        ) : (\n          <span className={classes.text}>\n            <Skeleton variant=\"rect\" width=\"2rem\" style={{ borderRadius: '4px', display: 'inline-block' }} />\n          </span>\n        )}\n        <svg className={classes.graph} viewBox={[-1, -1, 2, 1].join(' ')}>\n          <g>\n            <path d={backgroundArc} fill={colorBack} />\n            <path d={filledArc} fill={colorFilled} />\n          </g>\n        </svg>\n      </div>\n      {caption && <div className={classes.caption}>{caption}</div>}\n    </div>\n  );\n};\n\nexport default ArcGauge;\n","import { Card, Grid, makeStyles, Theme, Tooltip, Typography } from '@material-ui/core';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport SpeedOutlinedIcon from '@material-ui/icons/SpeedOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageFullscreen from 'commons/components/layout/pages/PageFullScreen';\nimport ArcGauge from 'components/visual/ArcGauge';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport io from 'socket.io-client';\n\nconst NAMESPACE = '/status';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  card: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    minHeight: '120px',\n    '&:hover': {\n      boxShadow: theme.shadows[6]\n    }\n  },\n  core_card: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    minHeight: '170px',\n    '&:hover': {\n      boxShadow: theme.shadows[6]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ff000017' : '#FFE4E4',\n    border: `solid 1px ${theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark}`\n  },\n  error_icon: {\n    color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n    float: 'right'\n  },\n  icon: {\n    marginRight: '4px',\n    verticalAlign: 'middle',\n    height: '20px',\n    color: theme.palette.action.active\n  },\n  metric: {\n    display: 'inline-block',\n    marginRight: theme.spacing(1)\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  },\n  ok: {\n    border: `solid 1px ${theme.palette.divider}`\n  },\n  title: {\n    fontWeight: 500,\n    fontSize: '120%'\n  }\n}));\n\nconst WrappedMetricCounter = ({ value, title, tooltip, init = false, margin = '8px' }) => {\n  const classes = useStyles();\n\n  return !init ? (\n    <Skeleton\n      variant=\"rect\"\n      height=\"1.5rem\"\n      width=\"2rem\"\n      style={{ borderRadius: '4px', marginRight: margin, display: 'inline-block', verticalAlign: 'middle' }}\n    />\n  ) : (\n    <Tooltip title={tooltip}>\n      <span className={classes.metric}>\n        <CustomChip size=\"tiny\" type=\"rounded\" mono label={title} />\n        {value}\n      </span>\n    </Tooltip>\n  );\n};\nconst MetricCounter = React.memo(WrappedMetricCounter);\n\nconst WrappedIngestCard = ({ ingester }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const busyness = (ingester.metrics.busy_seconds * ingester.metrics.busy_seconds_count) / ingester.instances / 60;\n\n  useEffect(() => {\n    if (ingester.processing_chance.critical !== 1) {\n      setError(t('ingest.error.chance.critical'));\n    } else if (ingester.processing_chance.high !== 1) {\n      setError(t('ingest.error.chance.high'));\n    } else if (ingester.processing_chance.medium !== 1) {\n      setError(t('ingest.error.chance.medium'));\n    } else if (ingester.processing_chance.low !== 1) {\n      setError(t('ingest.error.chance.low'));\n    } else if (ingester.metrics.bytes_completed === 0 && ingester.metrics.bytes_ingested !== 0) {\n      setError(t('ingest.error.bytes'));\n    } else if (ingester.ingest > 100000) {\n      setError(t('ingest.error.queue'));\n    } else if (busyness >= 0.8) {\n      setError(t('ingest.error.busy'));\n    } else if ((timer !== null && ingester.initialized) || (timer === null && !ingester.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ingester]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || ingester.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || ingester.error) && (\n            <Tooltip title={error || ingester.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('ingester')} :: x${ingester.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('ingest')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.ingest}\n              title=\"Q\"\n              tooltip={t('ingest.queue')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('queued')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.critical}\n              title=\"C\"\n              tooltip={t('ingest.critical')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.high}\n              title=\"H\"\n              tooltip={t('ingest.high')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.medium}\n              title=\"M\"\n              tooltip={t('ingest.medium')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.low}\n              title=\"L\"\n              tooltip={t('ingest.low')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('processing')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.processing.inflight}\n              title=\"I\"\n              tooltip={t('processing.inflight')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={`${Number(busyness * 100).toFixed(2)} %`}\n              title=\"B\"\n              tooltip={t('throughput.busy')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('caching')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.cache_hit}\n              title=\"H\"\n              tooltip={t('caching.hits')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.cache_miss}\n              title=\"M\"\n              tooltip={t('caching.miss')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={9}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.files_completed}\n              title=\"F\"\n              tooltip={t('throughput.files_completed')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.submissions_completed}\n              title=\"C\"\n              tooltip={t('throughput.submissions_completed')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.whitelisted}\n              title=\"W\"\n              tooltip={t('throughput.whitelisted')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.skipped}\n              title=\"S\"\n              tooltip={t('throughput.skipped')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.duplicates}\n              title=\"D\"\n              tooltip={t('throughput.duplicates')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.error}\n              title=\"E\"\n              tooltip={t('throughput.error')}\n              margin=\"16px\"\n            />\n            <Tooltip title={t('throughput.bytes')}>\n              <span style={{ display: 'inline-block' }}>\n                <SpeedOutlinedIcon className={classes.icon} />\n                {ingester.initialized ? (\n                  `${Number(\n                    ((1.0 * ingester.metrics.bytes_completed) / ((1024 * 1024 * 60) / 8)).toFixed(2)\n                  )} / ${Number(((1.0 * ingester.metrics.bytes_ingested) / ((1024 * 1024 * 60) / 8)).toFixed(2))} Mbps`\n                ) : (\n                  <Skeleton height=\"1.5rem\" width=\"3rem\" style={{ display: 'inline-block' }} />\n                )}\n              </span>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedDispatcherCard = ({ dispatcher, up, down }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const busyness = (dispatcher.metrics.cpu_seconds * dispatcher.metrics.cpu_seconds_count) / dispatcher.instances / 60;\n  const startQueue = dispatcher.queues.start.reduce((x, y) => x + y, 0);\n  const resultQueue = dispatcher.queues.result.reduce((x, y) => x + y, 0);\n  const commandQueue = dispatcher.queues.command.reduce((x, y) => x + y, 0);\n\n  useEffect(() => {\n    if (dispatcher.initialized && dispatcher.queues.ingest >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.ingest'));\n    } else if (dispatcher.initialized && dispatcher.queues.files >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.files'));\n    } else if (dispatcher.initialized && startQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.start'));\n    } else if (dispatcher.initialized && resultQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.result'));\n    } else if (dispatcher.initialized && commandQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.command'));\n    } else if (dispatcher.initialized && busyness >= 0.8) {\n      setError(t('dispatcher.error.busy'));\n    } else if (dispatcher.inflight.outstanding / dispatcher.inflight.max > 0.9) {\n      setError(t('dispatcher.error.inflight'));\n    } else if ((timer !== null && dispatcher.initialized) || (timer === null && !dispatcher.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatcher]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || dispatcher.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || dispatcher.error) && (\n            <Tooltip title={error || dispatcher.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('dispatcher')} :: x${dispatcher.instances}`}</div>\n        </Grid>\n        <Grid item xs={12}>\n          <div>\n            <label>{t('services')}</label>\n          </div>\n          {dispatcher.initialized ? (\n            <div>\n              {up.length === 0 && down.length === 0 && <span className={classes.muted}>{t('no_services')}</span>}\n              {up.length !== 0 && <span>{up.join(' | ')}</span>}\n              {up.length !== 0 && down.length !== 0 && <span> :: </span>}\n              {down.length !== 0 && <span>{down.join(' | ')}</span>}\n            </div>\n          ) : (\n            <div>\n              <Skeleton />\n            </div>\n          )}\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <div>\n            <label>{t('submissions')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={\n                <span>\n                  {dispatcher.inflight.outstanding} / {dispatcher.inflight.max}\n                </span>\n              }\n              title=\"O\"\n              tooltip={t('submissions.outstanding')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.queues.ingest}\n              title=\"I\"\n              tooltip={t('queues.ingest')}\n            />\n            {dispatcher.queues.start.length === 0 &&\n              dispatcher.queues.result.length === 0 &&\n              dispatcher.queues.command.length === 0 && (\n                <MetricCounter\n                  init={dispatcher.initialized}\n                  value={dispatcher.queues.files}\n                  title=\"F\"\n                  tooltip={t('queues.file')}\n                />\n              )}\n            {dispatcher.queues.start.length > 0 && (\n              <MetricCounter init={dispatcher.initialized} value={startQueue} title=\"S\" tooltip={t('queues.start')} />\n            )}\n            {dispatcher.queues.result.length > 0 && (\n              <MetricCounter init={dispatcher.initialized} value={resultQueue} title=\"R\" tooltip={t('queues.result')} />\n            )}\n            {dispatcher.queues.command.length > 0 && (\n              <MetricCounter\n                init={dispatcher.initialized}\n                value={commandQueue}\n                title=\"C\"\n                tooltip={t('queues.command')}\n              />\n            )}\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <div>\n            <label>{t('busyness')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={`${Number(busyness * 100).toFixed(2)} %`}\n              title=\"B\"\n              tooltip={t('throughput.busy')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.metrics.files_completed}\n              title=\"F\"\n              tooltip={t('throughput.files_completed')}\n            />\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.metrics.submissions_completed}\n              title=\"S\"\n              tooltip={t('throughput.submissions_completed')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedExpiryCard = ({ expiry }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if ((timer !== null && expiry.initialized) || (timer === null && !expiry.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [expiry]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || expiry.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || expiry.error) && (\n            <Tooltip title={error || expiry.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('expiry')} :: x${expiry.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.alert}\n              title=\"A\"\n              tooltip={t('queues.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.error}\n              title=\"E\"\n              tooltip={t('queues.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.cached_file + expiry.queues.file + expiry.queues.filescore}\n              title=\"F\"\n              tooltip={t('queues.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.result + expiry.queues.emptyresult}\n              title=\"R\"\n              tooltip={t('queues.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.submission + expiry.queues.submission_summary + expiry.queues.submission_tree}\n              title=\"S\"\n              tooltip={t('queues.submission')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('expired')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.alert}\n              title=\"A\"\n              tooltip={t('expired.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.error}\n              title=\"E\"\n              tooltip={t('expired.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.cached_file + expiry.metrics.file + expiry.metrics.filescore}\n              title=\"F\"\n              tooltip={t('expired.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.result + expiry.metrics.emptyresult}\n              title=\"R\"\n              tooltip={t('expired.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.submission + expiry.metrics.submission_summary + expiry.metrics.submission_tree}\n              title=\"S\"\n              tooltip={t('expired.submission')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6} />\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('archived')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.alert}\n              title=\"A\"\n              tooltip={t('archived.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.error}\n              title=\"E\"\n              tooltip={t('archived.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.cached_file + expiry.archive.file + expiry.archive.filescore}\n              title=\"F\"\n              tooltip={t('archived.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.result + expiry.archive.emptyresult}\n              title=\"R\"\n              tooltip={t('archived.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.submission + expiry.archive.submission_summary + expiry.archive.submission_tree}\n              title=\"S\"\n              tooltip={t('archived.submission')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedAlerterCard = ({ alerter }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (alerter.metrics.error > 0) {\n      setError(t('alerter.error'));\n    } else if ((timer !== null && alerter.initialized) || (timer === null && !alerter.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [alerter]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || alerter.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || alerter.error) && (\n            <Tooltip title={error || alerter.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('alerter')} :: x${alerter.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={4}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.queues.alert}\n              title=\"A\"\n              tooltip={t('queues.alert')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={8}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.created}\n              title=\"C\"\n              tooltip={t('throughput.created')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.error}\n              title=\"E\"\n              tooltip={t('throughput.error')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.received}\n              title=\"R\"\n              tooltip={t('throughput.received')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.updated}\n              title=\"U\"\n              tooltip={t('throughput.updated')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedScalerResourcesCard = ({ scaler }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if ((timer !== null && scaler.initialized) || (timer === null && !scaler.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scaler]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || scaler.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || scaler.error) && (\n            <Tooltip title={error || scaler.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{t('resources')}</div>\n        </Grid>\n        <Grid item xs={6} style={{ textAlign: 'center' }}>\n          <div style={{ display: 'inline-block' }}>\n            <ArcGauge\n              initialized={scaler ? scaler.initialized : false}\n              pctValue={\n                scaler.metrics.cpu_total === 0\n                  ? 0\n                  : ((scaler.metrics.cpu_total - scaler.metrics.cpu_free) / scaler.metrics.cpu_total) * 100\n              }\n              title={t('cpu')}\n              caption={`${Number((scaler.metrics.cpu_total - scaler.metrics.cpu_free).toFixed(1))} / ${Number(\n                scaler.metrics.cpu_total.toFixed(1)\n              )} ${t('cores')}`}\n              width=\"120px\"\n            />\n          </div>\n        </Grid>\n        <Grid item xs={6} style={{ textAlign: 'center' }}>\n          <div style={{ display: 'inline-block' }}>\n            <ArcGauge\n              initialized={scaler ? scaler.initialized : false}\n              pctValue={\n                scaler.metrics.memory_total === 0\n                  ? 0\n                  : ((scaler.metrics.memory_total - scaler.metrics.memory_free) / scaler.metrics.memory_total) * 100\n              }\n              title={t('ram')}\n              caption={`${Number(\n                ((scaler.metrics.memory_total - scaler.metrics.memory_free) / 1024).toFixed(1)\n              )} / ${Number((scaler.metrics.memory_total / 1024).toFixed(1))} ${t('gb')}`}\n              width=\"120px\"\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedServiceCard = ({ service, max_inflight }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (service.total !== 0 && service.instances === 0) {\n      setError(t('service.error.none'));\n    } else if (service.metrics.fail_nonrecoverable > 0) {\n      setError(t('service.error.fail_nonrecoverable'));\n    } else if (service.queue > max_inflight / 4) {\n      setError(t('service.error.queue'));\n    } else if (error !== null) {\n      setError(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [service]);\n\n  return (\n    <Card className={`${classes.card} ${error || service.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || service.error) && (\n            <Tooltip title={error || service.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>\n            {`${service.service_name} :: ${service.instances} / ${service.scaler.target || '-'}`}\n          </div>\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.queue} title=\"Q\" tooltip={t('service.queue')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.activity.busy} title=\"B\" tooltip={t('service.busy')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.metrics.execute} title=\"P\" tooltip={t('service.processed')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.metrics.fail_nonrecoverable} title=\"F\" tooltip={t('service.failed')} />\n          <MetricCounter init value={service.metrics.fail_recoverable} title=\"R\" tooltip={t('service.retried')} />\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst IngestCard = React.memo(WrappedIngestCard);\nconst DispatcherCard = React.memo(WrappedDispatcherCard);\nconst ExpiryCard = React.memo(WrappedExpiryCard);\nconst AlerterCard = React.memo(WrappedAlerterCard);\nconst ScalerResourcesCard = React.memo(WrappedScalerResourcesCard);\nconst ServiceCard = React.memo(WrappedServiceCard);\n\nconst basicReducer = (state, newState) => {\n  return { ...state, ...newState };\n};\n\nconst serviceReducer = (state, serviceState) => {\n  const { type: hbType, hb } = serviceState;\n  const current = state[hb.service_name] || {};\n  if (hbType === 'scaler') {\n    const newState = {};\n    newState[hb.service_name] = {\n      ...DEFAULT_SERVICE,\n      ...current,\n      service_name: hb.service_name,\n      scaler: hb.metrics\n    };\n    return { ...state, ...newState };\n  }\n\n  const newState = {};\n  newState[hb.service_name] = {\n    ...DEFAULT_SERVICE,\n    ...current,\n    ...hb\n  };\n  return { ...state, ...newState };\n};\n\nconst serviceListReducer = (state, serviceName) => {\n  const { up, down, timing } = state;\n  const curTime = Math.floor(new Date().getTime() / 1000);\n  timing[serviceName] = curTime;\n  if (up.indexOf(serviceName) === -1) {\n    up.push(serviceName);\n  }\n  if (down.indexOf(serviceName) !== -1) {\n    down.pop(serviceName);\n  }\n\n  return { up, down, timing };\n};\n\nconst DEFAULT_ALERTER = {\n  instances: 0,\n  queues: {\n    alert: 0\n  },\n  metrics: {\n    created: 0,\n    error: 0,\n    received: 0,\n    updated: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_DISPATCHER = {\n  instances: 0,\n  inflight: {\n    outstanding: 0,\n    max: 0,\n    per_instance: []\n  },\n  queues: {\n    ingest: 0,\n    files: 0,\n    start: [],\n    result: [],\n    command: []\n  },\n  metrics: {\n    busy_seconds: 0,\n    busy_seconds_count: 0,\n    cpu_seconds: 0,\n    cpu_seconds_count: 0,\n    files_completed: 0,\n    submissions_completed: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_EXPIRY = {\n  instances: 0,\n  queues: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  metrics: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  archive: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_INGESTER = {\n  instances: 0,\n  metrics: {\n    busy_seconds: 0,\n    busy_seconds_count: 0,\n    cache_miss: 0,\n    cache_expired: 0,\n    cache_stale: 0,\n    cache_hit_local: 0,\n    cache_hit: 0,\n    bytes_completed: 0,\n    bytes_ingested: 0,\n    duplicates: 0,\n    error: 0,\n    files_completed: 0,\n    skipped: 0,\n    submissions_completed: 0,\n    submissions_ingested: 0,\n    timed_out: 0,\n    whitelisted: 0\n  },\n  processing: {\n    inflight: 0\n  },\n  processing_chance: {\n    critical: 1,\n    high: 1,\n    medium: 1,\n    low: 1\n  },\n  queues: {\n    ingest: 0,\n    critical: 0,\n    high: 0,\n    medium: 0,\n    low: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_SCALER = {\n  instances: 0,\n  metrics: {\n    memory_total: 0,\n    memory_free: 0,\n    cpu_total: 0,\n    cpu_free: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_SERVICE = {\n  duty_cycle: 0,\n  instances: 0,\n  last_hb: 0,\n  metrics: {\n    cache_hit: 0,\n    cache_miss: 0,\n    cache_skipped: 0,\n    execute: 0,\n    fail_recoverable: 0,\n    fail_nonrecoverable: 0,\n    scored: 0,\n    not_scored: 0\n  },\n  scaler: {\n    running: 0,\n    target: 0,\n    minimum: 0,\n    maximum: 0,\n    dynamic_maximum: 0,\n    queue: 0,\n    pressure: 0.0,\n    duty_cycle: 0.0\n  },\n  queue: 0,\n  activity: {\n    busy: 0,\n    idle: 0\n  },\n  service_name: null,\n  error: null\n};\n\nconst DEFAULT_SERVICE_LIST = {\n  up: [],\n  down: [],\n  timing: {}\n};\n\nconst Dashboard = () => {\n  const { t } = useTranslation(['dashboard']);\n  const [alerter, setAlerter] = useReducer(basicReducer, DEFAULT_ALERTER);\n  const [dispatcher, setDispatcher] = useReducer(basicReducer, DEFAULT_DISPATCHER);\n  const [expiry, setExpiry] = useReducer(basicReducer, DEFAULT_EXPIRY);\n  const [ingester, setIngester] = useReducer(basicReducer, DEFAULT_INGESTER);\n  const [scaler, setScaler] = useReducer(basicReducer, DEFAULT_SCALER);\n  const [services, setServices] = useReducer(serviceReducer, {});\n  const [servicesList, setServicesList] = useReducer(serviceListReducer, DEFAULT_SERVICE_LIST);\n\n  const handleAlerterHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: AlerterHeartbeat', hb);\n    setAlerter({ ...hb, initialized: true });\n  };\n\n  const handleArchiveHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ArchiveHeartbeat', hb);\n    setExpiry({ archive: hb.metrics, initialized: true });\n  };\n\n  const handleDispatcherHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: DispatcherHeartbeat', hb);\n    setDispatcher({ ...hb, initialized: true });\n  };\n\n  const handleExpiryHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ExpiryHeartbeat', hb);\n    setExpiry({ ...hb, initialized: true });\n  };\n\n  const handleIngestHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: IngestHeartbeat', hb);\n    setIngester({ ...hb, initialized: true });\n  };\n\n  const handleScalerHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ScalerHeartbeat', hb);\n    setScaler({ ...hb, initialized: true });\n  };\n\n  const handleServiceHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug(`Socket-IO :: ServiceHeartbeat ${hb.service_name}`, hb);\n    setServicesList(hb.service_name);\n    setServices({ type: 'service', hb: { ...hb, last_hb: Math.floor(new Date().getTime() / 1000) } });\n  };\n\n  const handleScalerStatusHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug(`Socket-IO :: ScalerStatusHeartbeat ${hb.service_name}`, hb);\n    setServices({ type: 'scaler', hb });\n  };\n\n  useEffect(() => {\n    const socket = io(NAMESPACE);\n\n    socket.on('connect', () => {\n      socket.emit('monitor', { status: 'start' });\n      // eslint-disable-next-line no-console\n      console.debug('Socket-IO :: Connecting to socketIO server...');\n    });\n\n    socket.on('disconnect', () => {\n      // eslint-disable-next-line no-console\n      console.debug('Socket-IO :: Disconnected from socketIO server.');\n    });\n    // eslint-disable-next-line no-console\n    socket.on('monitoring', data => console.debug('Socket-IO :: Connected to socket server', data));\n\n    socket.on('AlerterHeartbeat', handleAlerterHeartbeat);\n    socket.on('ArchiveHeartbeat', handleArchiveHeartbeat);\n    socket.on('DispatcherHeartbeat', handleDispatcherHeartbeat);\n    socket.on('ExpiryHeartbeat', handleExpiryHeartbeat);\n    socket.on('IngestHeartbeat', handleIngestHeartbeat);\n    socket.on('ScalerHeartbeat', handleScalerHeartbeat);\n    socket.on('ScalerStatusHeartbeat', handleScalerStatusHeartbeat);\n    socket.on('ServiceHeartbeat', handleServiceHeartbeat);\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return (\n    <PageFullscreen margin={4}>\n      <Typography gutterBottom color=\"primary\" variant=\"h2\" align=\"center\">\n        {t('title')}\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={12} xl={6}>\n          <IngestCard ingester={ingester} />\n        </Grid>\n        <Grid item xs={12} xl={6}>\n          <DispatcherCard dispatcher={dispatcher} up={servicesList.up} down={servicesList.down} />\n        </Grid>\n        <Grid item xs={12} xl={5}>\n          <ExpiryCard expiry={expiry} />\n        </Grid>\n        <Grid item xs={12} md={8} xl={4}>\n          <AlerterCard alerter={alerter} />\n        </Grid>\n        <Grid item xs={12} md={4} xl={3}>\n          <ScalerResourcesCard scaler={scaler} />\n        </Grid>\n        {Object.keys(services).map(key => (\n          <Grid key={key} item xs={12} md={4} xl={3}>\n            <ServiceCard service={services[key]} max_inflight={dispatcher.inflight.max} />\n          </Grid>\n        ))}\n      </Grid>\n    </PageFullscreen>\n  );\n};\n\nexport default Dashboard;\n","import React, { useCallback, useEffect, useState } from 'react';\n\ntype HighlighMapProps = {\n  [key: string]: string[];\n};\n\ntype EventProps = {\n  key: string;\n};\n\nexport type HighlightContextProps = {\n  getKey: (type: string, value: string) => string;\n  triggerHighlight: (key: string) => void;\n  isHighlighted: (key: string) => boolean;\n  hasHighlightedKeys: (keyList: string[]) => boolean;\n  setHighlightMap: (map: HighlighMapProps) => void;\n};\n\nexport interface HighlightProviderProps {\n  children: React.ReactNode;\n}\n\nexport const HighlightContext = React.createContext<HighlightContextProps>(null);\n\nfunction HighlightProvider(props: HighlightProviderProps) {\n  const { children } = props;\n  const [highlighted, setHighlighted] = useState<Set<any>>(new Set());\n  const [relatedHighlighted, setRelatedHighlighted] = useState<Set<any>>(new Set());\n  const [highlightMap, setHighlightMap] = useState<HighlighMapProps>({});\n\n  const getKey = useCallback((type: string, value: string) => {\n    return `${type}__${value}`;\n  }, []);\n\n  const isHighlighted = useCallback(\n    key => {\n      if (highlightMap) {\n        return highlighted.has(key) || relatedHighlighted.has(key);\n      }\n      return highlighted.has(key);\n    },\n    [highlighted, relatedHighlighted, highlightMap]\n  );\n\n  const hasHighlightedKeys = useCallback(\n    (keyList: string[]) => {\n      return keyList.some(item => isHighlighted(item));\n    },\n    [isHighlighted]\n  );\n\n  const triggerHighlight = useCallback((data: string) => {\n    window.dispatchEvent(new CustomEvent('tiggerHighlight', { detail: data }));\n  }, []);\n\n  useEffect(() => {\n    function handleTrigger(event: CustomEvent) {\n      const { detail: key } = event;\n      const newHighlighted = new Set(highlighted);\n      if (!newHighlighted.has(key)) {\n        newHighlighted.add(key);\n      } else {\n        newHighlighted.delete(key);\n      }\n\n      if (highlightMap) {\n        const newRelatedHighlighted = new Set();\n        newHighlighted.forEach(item => {\n          const items = highlightMap[item];\n          if (items) {\n            for (const val of items) {\n              newRelatedHighlighted.add(val);\n            }\n          }\n        });\n        setRelatedHighlighted(newRelatedHighlighted);\n      }\n      setHighlighted(newHighlighted);\n    }\n\n    window.addEventListener('tiggerHighlight', handleTrigger);\n\n    return () => {\n      window.removeEventListener('tiggerHighlight', handleTrigger);\n    };\n  }, [highlightMap, highlighted]);\n\n  return (\n    <HighlightContext.Provider\n      value={{\n        getKey,\n        triggerHighlight,\n        isHighlighted,\n        hasHighlightedKeys,\n        setHighlightMap\n      }}\n    >\n      {children}\n    </HighlightContext.Provider>\n  );\n}\n\nexport default HighlightProvider;\n","import { HighlightContext, HighlightContextProps } from 'components/visual/HighlightProvider';\nimport { useContext } from 'react';\n\nexport default function useHighlighter(): HighlightContextProps {\n  return useContext(HighlightContext) as HighlightContextProps;\n}\n","import { Link, makeStyles, Tooltip } from '@material-ui/core';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport type ExtractedFiles = {\n  classification: string;\n  description: string;\n  name: string;\n  sha256: string;\n};\n\ntype ExtractedFileProps = {\n  file: ExtractedFiles;\n  download?: boolean;\n  sid?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst WrappedExtractedFile: React.FC<ExtractedFileProps> = ({ file, download = false, sid = null }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const classes = useStyles();\n  return (\n    <div>\n      {download ? (\n        <Link href={`/api/v4/file/download/${file.sha256}/?name=${encodeURI(file.name)}`}>{file.name}</Link>\n      ) : (\n        <Link\n          component={RouterLink}\n          to={\n            sid\n              ? `/submission/detail/${sid}/${file.sha256}?name=${encodeURI(file.name)}`\n              : `/file/detail/${file.sha256}?name=${encodeURI(file.name)}`\n          }\n        >\n          {file.name}\n        </Link>\n      )}\n      <small className={classes.muted}>{` :: ${file.description}`}</small>\n      <Tooltip title={t('view_file')}>\n        <Link component={RouterLink} to={`/file/viewer/${file.sha256}`}>\n          <PageviewOutlinedIcon style={{ fontSize: '1.4em', marginLeft: '0.5rem', verticalAlign: 'bottom' }} />\n        </Link>\n      </Tooltip>\n    </div>\n  );\n};\n\nconst ExtractedFile = React.memo(WrappedExtractedFile);\nexport default ExtractedFile;\n","import { Box, Collapse, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ExtractedFile, { ExtractedFiles } from './extracted_file';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ExtractedSectionProps = {\n  extracted: ExtractedFiles[];\n  sid: string;\n};\n\nconst WrappedExtractedSection: React.FC<ExtractedSectionProps> = ({ extracted, sid }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box\n        className={classes.title}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <h3>{t('extracted')}</h3>\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            extracted.map((file, id) => {\n              return <ExtractedFile key={id} file={file} sid={sid} />;\n            }),\n          [extracted, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ExtractedSection = React.memo(WrappedExtractedSection);\nexport default ExtractedSection;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype AttackProps = {\n  text: string;\n  lvl?: string | null;\n  score?: number | null;\n  show_type?: boolean;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Attack: React.FC<AttackProps> = ({\n  text,\n  lvl = null,\n  score = null,\n  show_type = false,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.heuristic.attack.pattern:\"${text}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [text]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={show_type ? `[ATT&CK] ${text}` : text}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Attack;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype HeuristicProps = {\n  text: string;\n  lvl?: string | null;\n  score?: number | null;\n  signature?: boolean;\n  show_type?: boolean;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Heuristic: React.FC<HeuristicProps> = ({\n  text,\n  lvl = null,\n  score = null,\n  signature = false,\n  show_type = false,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.heuristic${signature ? '.signature' : ''}.name:\"${text}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [signature, text]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={show_type ? (signature ? `[SIGNATURE] ${text}` : `[HEURISTIC] ${text}`) : text}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Heuristic;\n","import { useTheme } from '@material-ui/core';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React from 'react';\n\ntype SectionHighlightProps = {\n  score: number;\n  indent: number;\n  depth?: number;\n  highlighted?: boolean;\n};\n\nconst SectionHighlight: React.FC<SectionHighlightProps> = ({ score, indent, depth = 1, highlighted = false }) => {\n  const theme = useTheme();\n\n  const VERDICT_SCORE_MAP = {\n    // suspicious: theme.palette.type === 'dark' ? '#1f5c6e' : '#a8ebff',\n    info: theme.palette.type === 'dark' ? '#393939' : '#f0f0f0',\n    safe: theme.palette.type === 'dark' ? '#2a492b' : '#9ae99d',\n    suspicious: theme.palette.type === 'dark' ? '#654312' : '#ffd395',\n    highly_suspicious: theme.palette.type === 'dark' ? '#654312' : '#ffd395',\n    malicious: theme.palette.type === 'dark' ? '#6e2b2b' : '#ffa1a1'\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: highlighted\n          ? theme.palette.type === 'dark'\n            ? '#343a44'\n            : '#d8e3ea'\n          : VERDICT_SCORE_MAP[scoreToVerdict(score)],\n        minWidth: '0.5rem',\n        marginLeft: `${-1 * indent + -0.5 * (indent - depth)}rem`,\n        marginRight: `${1 * indent + 0.5 * (indent - depth)}rem`\n      }}\n    />\n  );\n};\n\nexport default SectionHighlight;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype TagProps = {\n  type: string;\n  value: string;\n  lvl?: string | null;\n  score?: number | null;\n  short_type?: string | null;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Tag: React.FC<TagProps> = ({\n  type,\n  value,\n  lvl = null,\n  score = null,\n  short_type = null,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.tags.${type}:\"${value}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [type, value]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={short_type ? `[${short_type.toUpperCase()}] ${value}` : value}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Tag;\n","import React from 'react';\n\ntype TitleKeyProps = {\n  title: string;\n};\n\nconst TitleKey: React.FC<TitleKeyProps> = ({ title }) => {\n  return <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{title.replace(/[-_.]/g, ' ')}</span>;\n};\n\nexport default TitleKey;\n","import {\n  Box,\n  Collapse,\n  createStyles,\n  Link,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Tooltip,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport { TreeItem, TreeView } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Attack from 'components/visual/Attack';\nimport Classification from 'components/visual/Classification';\nimport Heuristic from 'components/visual/Heuristic';\nimport SectionHighlight from 'components/visual/SectionHighlight';\nimport Tag from 'components/visual/Tag';\nimport TitleKey from 'components/visual/TitleKey';\nimport Verdict from 'components/visual/Verdict';\nimport { scaleLinear } from 'd3-scale';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactJson from 'react-json-view';\n\nconst useStyles = makeStyles(theme => ({\n  section_title: {\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n      cursor: 'pointer'\n    }\n  }\n}));\n\nconst useTreeItemStyles = makeStyles((theme: Theme) => ({\n  root: {\n    '&:hover > .MuiTreeItem-content': {\n      backgroundColor: 'transparent'\n    },\n    '&:focus > .MuiTreeItem-content, &$root.Mui-selected > .MuiTreeItem-content': {\n      backgroundColor: 'transparent'\n    },\n    '&:focus > .MuiTreeItem-content .MuiTreeItem-label, &:hover > .MuiTreeItem-content .MuiTreeItem-label, &$root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label': {\n      backgroundColor: 'transparent'\n    }\n  },\n  suspicious: {\n    backgroundColor: theme.palette.type === 'dark' ? '#654312' : '#ffedd4'\n  },\n  malicious: {\n    backgroundColor: theme.palette.type === 'dark' ? '#4e2525' : '#ffd0d0'\n  }\n}));\n\nconst TextBody = ({ body }) => {\n  return <div style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{body}</div>;\n};\n\nconst MemDumpBody = ({ body }) => {\n  const theme = useTheme();\n  return (\n    <pre\n      style={{\n        backgroundColor: theme.palette.type === 'dark' ? '#ffffff05' : '#00000005',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: '4px',\n        padding: '4px',\n        whiteSpace: 'pre-wrap',\n        fontSize: '1rem',\n        wordBreak: 'break-word',\n        margin: '0.25rem 0'\n      }}\n    >\n      {body}\n    </pre>\n  );\n};\n\nconst KVBody = ({ body }) => {\n  return (\n    <table cellSpacing={0}>\n      <tbody>\n        {Object.keys(body).map((key, id) => {\n          let value = body[key];\n          if (value instanceof Array) {\n            value = value.join(' | ');\n          } else if (value === true) {\n            value = 'true';\n          } else if (value === false) {\n            value = 'false';\n          } else if (typeof value === 'object') {\n            value = JSON.stringify(value);\n          }\n          return (\n            <tr key={id}>\n              <td style={{ paddingRight: '16px', wordBreak: 'normal' }}>\n                <TitleKey title={key} />\n              </td>\n              <td style={{ wordBreak: 'break-word' }}>{value}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nconst GraphBody = ({ body }) => {\n  const theme = useTheme();\n  if (body.type === 'colormap') {\n    const colorRange = ['#87c6fb', '#111920'];\n    const itemWidthPct = 100 / body.data.values.length;\n    const colorScale = scaleLinear().domain(body.data.domain).range(colorRange);\n    return (\n      <svg width=\"100%\" height=\"70\">\n        <rect y={10} x={0} width={15} height={15} fill={colorRange[0]} />\n        <text y={22} x={20} fill={theme.palette.text.primary}>{`: ${body.data.domain[0]}`}</text>\n        <rect y={10} x={80} width={15} height={15} fill={colorRange[1]} />\n        <text y={22} x={100} fill={theme.palette.text.primary}>{`: ${body.data.domain[1]}`}</text>\n        {body.data.values.map((value, i) => {\n          return (\n            <rect\n              key={i}\n              y={30}\n              x={`${i * itemWidthPct}%`}\n              width={`${itemWidthPct}%`}\n              height={40}\n              stroke={colorScale(value)}\n              fill={colorScale(value)}\n            />\n          );\n        })}\n      </svg>\n    );\n  }\n  return <div style={{ margin: '2rem' }}>Unsupported graph...</div>;\n};\n\nconst URLBody = ({ body }) => {\n  const arr = [];\n  if (!(body instanceof Array)) {\n    arr.push(body);\n  } else {\n    Array.prototype.push.apply(arr, body);\n  }\n\n  return (\n    <ul\n      style={{\n        listStyleType: 'none',\n        paddingInlineStart: 0,\n        marginBlockStart: '0.25rem',\n        marginBlockEnd: '0.25rem'\n      }}\n    >\n      {arr.map((item, id) => {\n        return (\n          <li key={id}>\n            <Link href={item.url}>{item.name ? item.name : item.url}</Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nconst JSONBody = ({ body }) => {\n  const theme = useTheme();\n\n  const jsonTheme = {\n    base00: 'transparent', // Background\n    base01: '#f1f1f1', // Edit key text\n    base02: theme.palette.type === 'dark' ? theme.palette.text.hint : theme.palette.divider, // Borders and DataType Background\n    base03: '#444', // Unused\n    base04: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 400], // Object size and Add key border\n    base05: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 700], // Undefined and Add key background\n    base06: '#444', // Unused\n    base07: theme.palette.text.primary, // Brace, Key and Borders\n    base08: theme.palette.text.secondary, // NaN\n    base09: theme.palette.type === 'dark' ? theme.palette.warning.light : theme.palette.warning.dark, // Strings and Icons\n    base0A: '#333', // Null, Regex and edit color\n    base0B: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark, // Float\n    base0C: theme.palette.type === 'dark' ? theme.palette.secondary.light : theme.palette.secondary.dark, // Array Key\n    base0D: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Date, function, expand icon\n    base0E: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Boolean\n    base0F: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark // Integer\n  };\n\n  return (\n    <ReactJson\n      name={false}\n      src={body}\n      theme={jsonTheme}\n      enableClipboard={false}\n      collapsed\n      groupArraysAfterLength={10}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      style={{\n        backgroundColor: theme.palette.type === 'dark' ? '#FFFFFF05' : '#00000005',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: '4px',\n        fontSize: '1rem',\n        padding: '4px'\n      }}\n    />\n  );\n};\n\nconst ProcessTreeItem = ({ process }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const theme = useTheme();\n  const classes = useTreeItemStyles();\n  const classMap = {\n    suspicious: classes.suspicious,\n    highly_suspicious: classes.suspicious,\n    malicious: classes.malicious\n  };\n\n  return (\n    <TreeItem\n      nodeId={process.process_pid.toString()}\n      classes={{\n        root: classes.root\n      }}\n      label={\n        <div\n          className={\n            classMap[\n              scoreToVerdict(\n                Object.keys(process.signatures).reduce((sum, key) => sum + parseFloat(process.signatures[key] || 0), 0)\n              )\n            ]\n          }\n          style={{\n            border: `1px solid ${theme.palette.divider}`,\n            margin: '0.2em 0em',\n            borderRadius: '4px',\n            display: 'flex',\n            maxWidth: '50rem',\n            minWidth: '30rem'\n          }}\n        >\n          <div\n            style={{\n              padding: '5px',\n              backgroundColor: theme.palette.type === 'dark' ? '#FFFFFF10' : '#00000010',\n              borderRadius: '4px 0px 0px 4px'\n            }}\n          >\n            {process.process_pid}\n          </div>\n          <div style={{ padding: '5px', flexGrow: 1, wordBreak: 'break-word' }}>\n            <div style={{ paddingBottom: '5px' }}>\n              <b>{process.process_name}</b>\n            </div>\n            <div>\n              <samp>\n                <small>{process.command_line}</small>\n              </samp>\n            </div>\n          </div>\n          <div style={{ alignSelf: 'center', color: theme.palette.text.secondary }}>\n            {Object.keys(process.signatures).length !== 0 && (\n              <div>\n                <Tooltip title={`${t('process_signatures')}: ${Object.keys(process.signatures).join(' | ')}`}>\n                  <span>\n                    {Object.keys(process.signatures).length}x\n                    <FingerprintOutlinedIcon style={{ verticalAlign: 'middle' }} />\n                  </span>\n                </Tooltip>\n              </div>\n            )}\n          </div>\n        </div>\n      }\n    >\n      {process.children.length !== 0 && <ProcessTreeItemList processes={process.children} />}\n    </TreeItem>\n  );\n};\n\nconst ProcessTreeItemList = ({ processes }) => {\n  return processes.map((process, id) => {\n    return <ProcessTreeItem key={id} process={process} />;\n  });\n};\n\nconst ProcessTreeBody = ({ body }) => {\n  try {\n    const data = JSON.parse(body);\n    const expanded = [];\n\n    // Auto-expand first two levels\n    data.forEach(process => {\n      if (process.process_pid !== undefined && process.process_pid !== null) {\n        expanded.push(process.process_pid.toString());\n      }\n      if (process.children !== undefined && process.children !== null && process.children.length !== 0) {\n        process.children.forEach(subprocess => {\n          if (subprocess.process_pid !== undefined && subprocess.process_pid !== null) {\n            expanded.push(subprocess.process_pid.toString());\n          }\n        });\n      }\n    });\n\n    return (\n      <div style={{ overflowX: 'auto' }}>\n        <TreeView\n          defaultExpanded={expanded}\n          defaultCollapseIcon={<ExpandMoreIcon />}\n          defaultExpandIcon={<ChevronRightIcon />}\n        >\n          <ProcessTreeItemList processes={data} />\n        </TreeView>\n      </div>\n    );\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Could not parse ProcessTree body. The section will be skipped...');\n  }\n  return null;\n};\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontSize: 'inherit',\n      lineHeight: 'inherit'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE'\n    },\n    body: {\n      wordBreak: 'break-word'\n    }\n  })\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.type === 'dark' ? '#ffffff08' : '#00000008'\n      }\n    }\n  })\n)(TableRow);\n\nconst StyledTable = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      [theme.breakpoints.down('sm')]: {\n        width: 'max-content'\n      }\n    }\n  })\n)(Table);\n\nconst TblBody = ({ body }) => {\n  let data = null;\n  try {\n    data = JSON.parse(body);\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Could not parse Table body. The section will be skipped...');\n  }\n\n  const headers = [];\n\n  if (data) {\n    for (const line of data) {\n      // eslint-disable-next-line guard-for-in\n      for (const th in line) {\n        const val = line[th];\n        if (val !== null && val !== '') {\n          if (!headers.includes(th)) {\n            headers.push(th);\n          }\n        }\n      }\n    }\n  }\n\n  return (\n    data && (\n      <TableContainer style={{ fontSize: '90%', maxHeight: '500px' }}>\n        <StyledTable stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              {headers.map((th, id) => {\n                return (\n                  <StyledTableCell key={id}>\n                    <TitleKey title={th} />\n                  </StyledTableCell>\n                );\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.map((row, id) => {\n              return (\n                <StyledTableRow key={id}>\n                  {headers.map((key, hid) => {\n                    let value = row[key];\n                    if (value instanceof Array) {\n                      value = value.join(' | ');\n                    } else if (value === true) {\n                      value = 'true';\n                    } else if (value === false) {\n                      value = 'false';\n                    } else if (typeof value === 'object' && value !== null && value !== undefined) {\n                      value = <KVBody body={value} />;\n                    }\n                    return <StyledTableCell key={hid}>{value}</StyledTableCell>;\n                  })}\n                </StyledTableRow>\n              );\n            })}\n          </TableBody>\n        </StyledTable>\n      </TableContainer>\n    )\n  );\n};\n\nexport type SectionItem = {\n  children: SectionItem[];\n  id: number;\n};\n\nexport type Section = {\n  body: any;\n  body_format: string;\n  classification: string;\n  depth: number;\n  heuristic: {\n    attack: {\n      attack_id: string;\n      categories: string[];\n      pattern: string;\n    }[];\n    heur_id: string;\n    name: string;\n    score: number;\n    signature: {\n      frequency: number;\n      name: string;\n    }[];\n  };\n  tags: {\n    type: string;\n    short_type: string;\n    value: string;\n  }[];\n  title_text: string;\n};\n\ntype ResultSectionProps = {\n  section_list: Section[];\n  id: number;\n  sub_sections: SectionItem[];\n  indent: number;\n  depth?: number;\n};\n\nconst ResultSection: React.FC<ResultSectionProps> = ({ section_list, id, sub_sections, indent, depth = 1 }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const section = section_list[id];\n  const [open, setOpen] = React.useState(true);\n  const { getKey, hasHighlightedKeys } = useHighlighter();\n  const { c12nDef } = useALContext();\n\n  const allTags = useMemo(() => {\n    const tagList = [];\n    for (const tag of section.tags) {\n      tagList.push(getKey(tag.type, tag.value));\n    }\n\n    if (section.heuristic !== undefined && section.heuristic !== null) {\n      if (section.heuristic.attack !== undefined && section.heuristic.attack.length !== 0) {\n        for (const attack of section.heuristic.attack) {\n          tagList.push(getKey('attack_pattern', attack.attack_id));\n        }\n      }\n      if (section.heuristic.heur_id !== undefined && section.heuristic.heur_id !== null) {\n        tagList.push(getKey('heuristic', section.heuristic.heur_id));\n      }\n      if (section.heuristic.signature !== undefined && section.heuristic.signature.length !== 0) {\n        for (const signature of section.heuristic.signature) {\n          tagList.push(getKey('heuristic.signature', signature.name));\n        }\n      }\n    }\n    return tagList;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [section]);\n\n  const highlighted = hasHighlightedKeys(allTags);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexWrap: 'nowrap',\n        marginLeft: `${depth}rem`,\n        backgroundColor: highlighted ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n      }}\n    >\n      <SectionHighlight\n        score={section.heuristic ? section.heuristic.score : 0}\n        indent={indent}\n        depth={depth}\n        highlighted={highlighted}\n      />\n\n      <div style={{ width: '100%' }}>\n        <Box className={classes.section_title} onClick={handleClick}>\n          {c12nDef.enforce && (\n            <span>\n              <Classification c12n={section.classification} type=\"text\" />\n              &nbsp;&nbsp;::&nbsp;&nbsp;\n            </span>\n          )}\n          {section.heuristic && (\n            <span>\n              <Verdict score={section.heuristic.score} mono short size=\"tiny\" />\n              &nbsp;::&nbsp;&nbsp;\n            </span>\n          )}\n          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{section.title_text}</span>\n        </Box>\n        <Collapse in={open} timeout=\"auto\">\n          {useMemo(\n            () => (\n              <>\n                <div style={{ marginLeft: '1rem', marginBottom: '0.75rem' }}>\n                  {(() => {\n                    switch (section.body_format) {\n                      case 'TEXT':\n                        return <TextBody body={section.body} />;\n                      case 'MEMORY_DUMP':\n                        return <MemDumpBody body={section.body} />;\n                      case 'GRAPH_DATA':\n                        return <GraphBody body={section.body} />;\n                      case 'URL':\n                        return <URLBody body={section.body} />;\n                      case 'JSON':\n                        return <JSONBody body={section.body} />;\n                      case 'KEY_VALUE':\n                        return <KVBody body={section.body} />;\n                      case 'PROCESS_TREE':\n                        return <ProcessTreeBody body={section.body} />;\n                      case 'TABLE':\n                        return <TblBody body={section.body} />;\n                      default:\n                        return <div style={{ margin: '2rem' }}>INVALID SECTION TYPE</div>;\n                    }\n                  })()}\n                  {section.heuristic && (\n                    <Heuristic\n                      text={section.heuristic.name}\n                      score={section.heuristic.score}\n                      show_type\n                      highlight_key={getKey('heuristic', section.heuristic.heur_id)}\n                    />\n                  )}\n                  {section.heuristic &&\n                    section.heuristic.attack.map((attack, idx) => {\n                      return (\n                        <Attack\n                          key={idx}\n                          text={attack.pattern}\n                          score={section.heuristic.score}\n                          show_type\n                          highlight_key={getKey('attack_pattern', attack.attack_id)}\n                        />\n                      );\n                    })}\n                  {section.heuristic &&\n                    section.heuristic.signature.map((signature, idx) => {\n                      return (\n                        <Heuristic\n                          key={idx}\n                          text={signature.name}\n                          score={section.heuristic.score}\n                          signature\n                          show_type\n                          highlight_key={getKey('heuristic.signature', signature.name)}\n                        />\n                      );\n                    })}\n                  {section.tags.map((tag, idx) => {\n                    return (\n                      <Tag\n                        key={idx}\n                        type={tag.type}\n                        value={tag.value}\n                        short_type={tag.short_type}\n                        score={section.heuristic ? section.heuristic.score : 0}\n                        highlight_key={getKey(tag.type, tag.value)}\n                      />\n                    );\n                  })}\n                </div>\n                <div>\n                  {sub_sections.map(item => {\n                    return (\n                      <ResultSection\n                        key={item.id}\n                        section_list={section_list}\n                        id={item.id}\n                        sub_sections={item.children}\n                        indent={indent + 1}\n                      />\n                    );\n                  })}\n                </div>\n              </>\n            ),\n            [\n              getKey,\n              indent,\n              section.body,\n              section.body_format,\n              section.heuristic,\n              section.tags,\n              section_list,\n              sub_sections\n            ]\n          )}\n        </Collapse>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultSection;\n","import { Box, Collapse, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ExtractedFile, { ExtractedFiles } from './extracted_file';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype SupplementarySectionProps = {\n  extracted: ExtractedFiles[];\n};\n\nconst WrappedSupplementarySection: React.FC<SupplementarySectionProps> = ({ extracted }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box\n        className={classes.title}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <h3>{t('supplementary')}</h3>\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            extracted.map((file, id) => {\n              return <ExtractedFile key={id} file={file} download />;\n            }),\n          [extracted]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst SupplementarySection = React.memo(WrappedSupplementarySection);\nexport default SupplementarySection;\n","import {\n  Box,\n  Button,\n  ClickAwayListener,\n  Collapse,\n  Fade,\n  makeStyles,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport useALContext from 'components/hooks/useALContext';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport ExtractedSection from './ResultCard/extracted';\nimport { ExtractedFiles } from './ResultCard/extracted_file';\nimport ResultSection, { Section, SectionItem } from './ResultCard/result_section';\nimport SupplementarySection from './ResultCard/supplementary';\n\nexport type Result = {\n  archive_ts: string;\n  classification: string;\n  created: string;\n  drop_file: boolean;\n  expiry_ts: string | null;\n  response: {\n    extracted: ExtractedFiles[];\n    milestones: {\n      service_completed: string;\n      service_started: string;\n    };\n    service_context: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    supplementary: ExtractedFiles[];\n  };\n  result: {\n    score: number;\n    sections: Section[];\n  };\n  section_hierarchy: SectionItem[];\n  sha256: string;\n};\n\nexport type AlternateResult = {\n  classification: string;\n  created: string;\n  drop_file: boolean;\n  id: string;\n  response: {\n    service_name: string;\n    service_version: string;\n  };\n  result: {\n    score: number;\n  };\n};\n\ntype ResultCardProps = {\n  result: Result;\n  sid: string | null;\n  alternates?: AlternateResult[] | null;\n};\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    backgroundColor: theme.palette.background.default,\n    border: `solid 1px ${theme.palette.type === 'dark' ? '#393939' : '#ddd'}`,\n    borderRadius: '4px'\n  },\n  card_title: {\n    backgroundColor: theme.palette.type === 'dark' ? '#393939' : '#f0f0f0',\n    padding: '6px',\n    borderRadius: '4px 4px 0px 0px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#505050' : '#e6e6e6',\n      cursor: 'pointer'\n    }\n  },\n  content: {\n    padding: '6px'\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nexport const emptyResult = (result: Result) => {\n  return (\n    result.result.score === 0 &&\n    result.result.sections.length === 0 &&\n    result.response.extracted.length === 0 &&\n    result.response.supplementary.length === 0\n  );\n};\n\nconst ResultCard: React.FC<ResultCardProps> = ({ result, sid, alternates = null }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const sp2 = theme.spacing(2);\n  const { c12nDef, settings } = useALContext();\n  const empty = emptyResult(result);\n  const [displayedResult, setDisplayedResult] = React.useState<Result>(result);\n  const [open, setOpen] = React.useState(!empty && displayedResult.result.score >= settings.expand_min_score);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [selected, setSelected] = React.useState(null);\n  const { getKey, hasHighlightedKeys } = useHighlighter();\n  const popper = Boolean(anchorEl);\n\n  const allTags = useMemo(() => {\n    const tagList = [];\n    displayedResult.result.sections.forEach(section => {\n      for (const tag of section.tags) {\n        tagList.push(getKey(tag.type, tag.value));\n      }\n\n      if (section.heuristic !== undefined && section.heuristic !== null) {\n        if (section.heuristic.attack !== undefined && section.heuristic.attack.length !== 0) {\n          for (const attack of section.heuristic.attack) {\n            tagList.push(getKey('attack_pattern', attack.attack_id));\n          }\n        }\n        if (section.heuristic.heur_id !== undefined && section.heuristic.heur_id !== null) {\n          tagList.push(getKey('heuristic', section.heuristic.heur_id));\n        }\n        if (section.heuristic.signature !== undefined && section.heuristic.signature.length !== 0) {\n          for (const signature of section.heuristic.signature) {\n            tagList.push(getKey('heuristic.signature', signature.name));\n          }\n        }\n      }\n    });\n    return tagList;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [displayedResult]);\n\n  if (displayedResult.section_hierarchy === undefined) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Using old rendering method because the section hierarchy is missing...');\n  }\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const handlePopperClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.stopPropagation();\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n\n  useEffect(() => {\n    if (selected !== null) {\n      setAnchorEl(null);\n      apiCall({\n        url: `/api/v4/result/${selected}/`,\n        onSuccess: api_data => {\n          setDisplayedResult(api_data.api_response);\n          setOpen(true);\n        }\n      });\n    } else if (displayedResult !== result) {\n      setAnchorEl(null);\n      setDisplayedResult(result);\n      setOpen(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selected]);\n\n  return (\n    <div className={classes.card} style={{ marginBottom: sp2 }}>\n      <Popper open={popper} anchorEl={anchorEl} placement=\"bottom-end\" transition>\n        {({ TransitionProps }) => (\n          <Fade {...TransitionProps}>\n            <Paper>\n              <ClickAwayListener onClickAway={() => setAnchorEl(null)}>\n                <MenuList dense>\n                  <MenuItem disabled={selected === null} onClick={() => setSelected(null)}>\n                    <span style={{ paddingRight: theme.spacing(2) }}>\n                      {`${result.response.service_version} :: [${result.result.score}]`}\n                    </span>\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{result.created}</Moment>\n                  </MenuItem>\n                  {alternates.map(alt => {\n                    return (\n                      <MenuItem disabled={selected === alt.id} key={alt.id} onClick={() => setSelected(alt.id)}>\n                        <span style={{ paddingRight: theme.spacing(2) }}>\n                          {`${alt.response.service_version} :: [${alt.result.score}]`}\n                        </span>\n                        <Moment format=\"YYYY-MM-DD HH:mm:ss\">{alt.created}</Moment>\n                      </MenuItem>\n                    );\n                  })}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Fade>\n        )}\n      </Popper>\n      <Box\n        className={classes.card_title}\n        onClick={handleClick}\n        style={{\n          backgroundColor: hasHighlightedKeys(allTags) ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n        }}\n      >\n        {c12nDef.enforce && <Classification c12n={displayedResult.classification} type=\"text\" />}\n        <span>\n          {c12nDef.enforce && <span>&nbsp;::&nbsp;</span>}\n          <b>{displayedResult.response.service_name}</b>&nbsp;\n        </span>\n        {!empty && <Verdict score={displayedResult.result.score} mono short size=\"tiny\" />}\n        <small className={classes.muted}>{` :: ${displayedResult.response.service_version.replace(/_/g, '.')}`}</small>\n        <small className={classes.muted} style={{ flexGrow: 1 }}>\n          &nbsp;{displayedResult.response.service_context ? `(${displayedResult.response.service_context})` : ''}\n        </small>\n        {!empty && !sid && (\n          <div>\n            {alternates ? (\n              <Button\n                className={classes.muted}\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={handlePopperClick}\n                style={{ fontSize: 'smaller' }}\n              >\n                <Moment fromNow>{displayedResult.created}</Moment>\n              </Button>\n            ) : (\n              <Typography\n                className={classes.muted}\n                variant=\"button\"\n                style={{ fontSize: 'smaller', paddingRight: theme.spacing(1.4) }}\n              >\n                <Moment fromNow>{displayedResult.created}</Moment>\n              </Typography>\n            )}\n          </div>\n        )}\n        {open ? <ExpandLess className={classes.muted} /> : <ExpandMore className={classes.muted} />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            empty ? (\n              <div className={classes.content} style={{ color: theme.palette.text.secondary }}>\n                {t('nothing_to_report')}\n              </div>\n            ) : (\n              <div className={classes.content}>\n                {displayedResult.section_hierarchy\n                  ? displayedResult.section_hierarchy.map(item => {\n                      return (\n                        <ResultSection\n                          key={item.id}\n                          section_list={displayedResult.result.sections}\n                          id={item.id}\n                          sub_sections={item.children}\n                          indent={1}\n                        />\n                      );\n                    })\n                  : displayedResult.result.sections.map((section, id) => {\n                      return (\n                        <ResultSection\n                          key={id}\n                          section_list={displayedResult.result.sections}\n                          id={id}\n                          sub_sections={[]}\n                          indent={section.depth}\n                          depth={section.depth}\n                        />\n                      );\n                    })}\n                {displayedResult.response.supplementary.length !== 0 && (\n                  <SupplementarySection extracted={displayedResult.response.supplementary} />\n                )}\n                {displayedResult.response.extracted.length !== 0 && (\n                  <ExtractedSection extracted={displayedResult.response.extracted} sid={sid} />\n                )}\n              </div>\n            ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [\n            empty,\n            displayedResult.response.extracted,\n            displayedResult.response.supplementary,\n            displayedResult.result.sections,\n            displayedResult.section_hierarchy,\n            sid\n          ]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nexport default ResultCard;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Attack from '../Attack';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype AttackSectionProps = {\n  attacks: any;\n};\n\nconst WrappedAttackSection: React.FC<AttackSectionProps> = ({ attacks }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('attack_matrix')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {attacks\n                ? Object.keys(attacks).map((cat, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{cat.replace(/-/g, ' ')}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {attacks[cat].map(([cid, mat, lvl], idx) => {\n                            return (\n                              <Attack\n                                key={`${cid}_${idx}`}\n                                text={mat}\n                                lvl={lvl}\n                                highlight_key={getKey('attack_pattern', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [attacks]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst AttackSection = React.memo(WrappedAttackSection);\nexport default AttackSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  clickable: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ChildrenSectionProps = {\n  childrens: any;\n};\n\nconst WrappedChildrenSection: React.FC<ChildrenSectionProps> = ({ childrens }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const history = useHistory();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('childrens')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {childrens.map((fileItem, i) => {\n                return (\n                  <Box\n                    key={i}\n                    className={classes.clickable}\n                    onClick={() => {\n                      history.push(`/file/detail/${fileItem.sha256}?name=${encodeURI(fileItem.name)}`);\n                    }}\n                    style={{ wordBreak: 'break-word' }}\n                  >\n                    <span>{fileItem.name}</span>\n                    <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>\n                      {` :: ${fileItem.sha256}`}\n                    </span>\n                  </Box>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [childrens]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ChildrenSection = React.memo(WrappedChildrenSection);\nexport default ChildrenSection;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ResultCard from '../ResultCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype EmptySectionProps = {\n  emptys: any;\n  sid: string;\n};\n\nconst WrappedEmptySection: React.FC<EmptySectionProps> = ({ emptys, sid }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('emptys')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {emptys\n                ? emptys.map((result, i) => {\n                    return <ResultCard key={i} result={result} sid={sid} />;\n                  })\n                : [...Array(2)].map((_, i) => {\n                    return <Skeleton key={i} style={{ height: '16rem' }} />;\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [emptys, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst EmptySection = React.memo(WrappedEmptySection);\nexport default EmptySection;\n","import { Box, Collapse, makeStyles, useTheme } from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nexport type Error = {\n  archive_ts: string;\n  created: string;\n  expiry_ts: string | null;\n  response: {\n    message: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    status: string;\n  };\n  sha256: string;\n  type: string;\n};\n\ntype ErrorCardProps = {\n  error: Error;\n};\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    backgroundColor: theme.palette.type === 'dark' ? '#371a1a' : '#fce9e9',\n    border: `solid 1px ${theme.palette.type === 'dark' ? '#502121' : '#ffcbcb'}`,\n    borderRadius: '4px'\n  },\n  card_title: {\n    backgroundColor: theme.palette.type === 'dark' ? '#502121' : '#ffd9d9',\n    padding: '6px',\n    borderRadius: '4px 4px 0px 0px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#6e2b2b' : '#ffc5c5',\n      cursor: 'pointer'\n    }\n  },\n  content: {\n    padding: '6px'\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst ErrorCard: React.FC<ErrorCardProps> = ({ error }) => {\n  const classes = useStyles();\n  const { t } = useTranslation(['adminErrorViewer']);\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div className={classes.card} style={{ marginBottom: sp2 }}>\n      <Box className={classes.card_title} onClick={handleClick}>\n        <span>\n          <b>{error.response.service_name}</b>&nbsp;\n        </span>\n        <span>[{t(`type.${error.type}`)}]&nbsp;</span>\n        <small className={classes.muted}>{` :: ${error.response.service_version}`}</small>\n        <small className={classes.muted} style={{ flexGrow: 1 }}>\n          &nbsp;{error.response.service_tool_version ? `(${error.response.service_tool_version})` : ''}\n        </small>\n        <small>\n          <Moment className={classes.muted} fromNow>\n            {error.created}\n          </Moment>\n        </small>\n        {open ? <ExpandLess className={classes.muted} /> : <ExpandMore className={classes.muted} />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        <div className={classes.content}>{error.response.message}</div>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default ErrorCard;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ErrorCard from '../ErrorCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ErrorSectionProps = {\n  errors: any;\n};\n\nconst WrappedErrorSection: React.FC<ErrorSectionProps> = ({ errors }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('errors')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {errors.map((error, i) => {\n                return <ErrorCard key={i} error={error} />;\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [errors]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ErrorSection = React.memo(WrappedErrorSection);\nexport default ErrorSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype FrequencySectionProps = {\n  fileinfo: any;\n};\n\nconst WrappedFrequencySection: React.FC<FrequencySectionProps> = ({ fileinfo }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('frequency')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.first')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <div>\n                      <Moment fromNow>{fileinfo.seen.first}</Moment> (\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">{fileinfo.seen.first}</Moment>)\n                    </div>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.last')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <div>\n                      <Moment fromNow>{fileinfo.seen.last}</Moment> (\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">{fileinfo.seen.last}</Moment>)\n                    </div>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.count')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? fileinfo.seen.count : <Skeleton />}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [fileinfo]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst FrequencySection = React.memo(WrappedFrequencySection);\nexport default FrequencySection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Heuristic from '../Heuristic';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype HeuristicSectionProps = {\n  heuristics: any;\n};\n\nconst WrappedHeuristicSection: React.FC<HeuristicSectionProps> = ({ heuristics }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('heuristics')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {heuristics\n                ? Object.keys(heuristics).map((lvl, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{t(`verdict.${lvl}`)}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {heuristics[lvl].map(([cid, hname], idx) => {\n                            return (\n                              <Heuristic\n                                key={`${cid}_${idx}`}\n                                text={hname}\n                                lvl={lvl}\n                                highlight_key={getKey('heuristic', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [heuristics]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst HeuristicSection = React.memo(WrappedHeuristicSection);\nexport default HeuristicSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { bytesToSize } from 'helpers/utils';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype IdentificationSectionProps = {\n  fileinfo: any;\n};\n\nconst WrappedIdentificationSection: React.FC<IdentificationSectionProps> = ({ fileinfo }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('identification')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>MD5</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.md5 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SHA1</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.sha1 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SHA256</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.sha256 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SSDEEP</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.ssdeep : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('size')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <span>\n                      {fileinfo.size}\n                      <span style={{ fontWeight: 300 }}> ({bytesToSize(fileinfo.size)})</span>\n                    </span>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('type')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.type : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('mime')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.mime : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('magic')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.magic : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('entropy')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? fileinfo.entropy : <Skeleton />}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [fileinfo]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst IdentificationSection = React.memo(WrappedIdentificationSection);\nexport default IdentificationSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CustomChip from '../CustomChip';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype MetadataSectionProps = {\n  metadata: any;\n};\n\nconst WrappedMetadataSection: React.FC<MetadataSectionProps> = ({ metadata }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('metadata')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {metadata\n                ? Object.keys(metadata).map((meta, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{meta}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {Object.keys(metadata[meta]).map((item, key) => {\n                            return <CustomChip size=\"tiny\" key={key} label={`${metadata[meta][item]}x ${item}`} />;\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [metadata]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst MetadataSection = React.memo(WrappedMetadataSection);\nexport default MetadataSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  clickable: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ParentSectionProps = {\n  parents: any;\n};\n\nconst WrappedParentSection: React.FC<ParentSectionProps> = ({ parents }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const history = useHistory();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('parents')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {parents.map((resultKey, i) => {\n                const [parentSHA256, service] = resultKey.split('.', 2);\n                return (\n                  <Box\n                    key={i}\n                    className={classes.clickable}\n                    onClick={() => {\n                      history.push(`/file/detail/${parentSHA256}`);\n                    }}\n                    style={{ wordBreak: 'break-word' }}\n                  >\n                    <span>{parentSHA256}</span>\n                    <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>{` :: ${service}`}</span>\n                  </Box>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [parents]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ParentSection = React.memo(WrappedParentSection);\nexport default ParentSection;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ResultCard, { AlternateResult } from '../ResultCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ResultSectionProps = {\n  results: any;\n  sid: string;\n  alternates?: {\n    [serviceName: string]: AlternateResult[];\n  };\n};\n\nconst WrappedResultSection: React.FC<ResultSectionProps> = ({ results, sid, alternates }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('results')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {results\n                ? results.map((result, i) => {\n                    return (\n                      <ResultCard\n                        key={i}\n                        result={result}\n                        sid={sid}\n                        alternates={alternates ? alternates[result.response.service_name] : null}\n                      />\n                    );\n                  })\n                : [...Array(2)].map((_, i) => {\n                    return <Skeleton key={i} style={{ height: '16rem' }} />;\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [results, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ResultSection = React.memo(WrappedResultSection);\nexport default ResultSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Heuristic from '../Heuristic';\nimport Tag from '../Tag';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype TagSectionProps = {\n  signatures: any;\n  tags: any;\n};\n\nconst WrappedTagSection: React.FC<TagSectionProps> = ({ signatures, tags }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('generated_tags')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {signatures && signatures.length !== 0 && (\n                <Grid container>\n                  <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                    <span style={{ fontWeight: 500 }}>heuristic.signature</span>\n                  </Grid>\n                  <Grid item xs={12} sm={9} lg={10}>\n                    {signatures.map(([value, lvl], idx) => {\n                      return (\n                        <Heuristic\n                          key={idx}\n                          signature\n                          text={value}\n                          lvl={lvl}\n                          highlight_key={getKey('heuristic.signature', value)}\n                        />\n                      );\n                    })}\n                  </Grid>\n                </Grid>\n              )}\n              {tags\n                ? Object.keys(tags).map((tag_type, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                          <span\n                            style={{\n                              fontWeight: 500\n                            }}\n                          >\n                            {tag_type}\n                          </span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {tags[tag_type].map(([value, lvl], idx) => {\n                            return (\n                              <Tag\n                                key={idx}\n                                value={value}\n                                type={tag_type}\n                                lvl={lvl}\n                                highlight_key={getKey(tag_type, value)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [signatures, tags]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst TagSection = React.memo(WrappedTagSection);\nexport default TagSection;\n","import { Grid, IconButton, Link as MaterialLink, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport RotateLeftOutlinedIcon from '@material-ui/icons/RotateLeftOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport { Error } from 'components/visual/ErrorCard';\nimport { AlternateResult, emptyResult, Result } from 'components/visual/ResultCard';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport AttackSection from './FileDetail/attacks';\nimport ChildrenSection from './FileDetail/childrens';\nimport EmptySection from './FileDetail/emptys';\nimport ErrorSection from './FileDetail/errors';\nimport FrequencySection from './FileDetail/freqency';\nimport HeuristicSection from './FileDetail/heuristics';\nimport IdentificationSection from './FileDetail/indent';\nimport MetadataSection from './FileDetail/metadata';\nimport ParentSection from './FileDetail/parents';\nimport ResultSection from './FileDetail/results';\nimport TagSection from './FileDetail/tags';\n\ntype FileInfo = {\n  archive_ts: string;\n  ascii: string;\n  classification: string;\n  entropy: number;\n  expiry_ts: string | null;\n  hex: string;\n  magic: string;\n  md5: string;\n  mime: string;\n  seen: {\n    count: number;\n    first: string;\n    last: string;\n  };\n  sha1: string;\n  sha256: string;\n  size: number;\n  ssdeep: string;\n  type: string;\n};\n\ntype File = {\n  alternates: {\n    [serviceName: string]: AlternateResult[];\n  };\n  attack_matrix: {\n    [category: string]: string[][];\n  };\n  childrens: {\n    name: string;\n    sha256: string;\n  }[];\n  emptys: Result[];\n  errors: Error[];\n  file_info: FileInfo;\n  heuristics: {\n    [category: string]: string[][];\n  };\n  metadata: {\n    [level: string]: {\n      [key: string]: any;\n    };\n  };\n  parents: string[];\n  results: Result[];\n  signatures: string[][];\n  tags: {\n    [type: string]: string[][];\n  };\n};\n\ntype FileDetailProps = {\n  sha256: string;\n  sid?: string;\n  liveResultKeys?: string[];\n  liveErrors?: Error[];\n};\n\nconst WrappedFileDetail: React.FC<FileDetailProps> = ({\n  sha256,\n  sid = null,\n  liveResultKeys = null,\n  liveErrors = null\n}) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [file, setFile] = useState<File | null>(null);\n  const apiCall = useMyAPI();\n  const { c12nDef } = useALContext();\n  const theme = useTheme();\n  const history = useHistory();\n  const { showSuccessMessage } = useMySnackbar();\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const fileName = file ? params.get('name') || sha256 : null;\n\n  const elementInViewport = element => {\n    const bounding = element.getBoundingClientRect();\n    const myElementHeight = element.offsetHeight;\n    const myElementWidth = element.offsetWidth;\n\n    if (\n      bounding.top >= -myElementHeight &&\n      bounding.left >= -myElementWidth &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) + myElementWidth &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) + myElementHeight\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  const scrollToTop = scrollToItem => {\n    const element = document.getElementById(scrollToItem);\n    if (element && !elementInViewport(element)) {\n      element.scrollIntoView();\n    }\n  };\n\n  const patchFileDetails = (data: File) => {\n    const newData = { ...data };\n    newData.results.sort((a, b) => (a.response.service_name > b.response.service_name ? 1 : -1));\n    newData.emptys = data.results.filter(result => emptyResult(result));\n    newData.results = data.results.filter(result => !emptyResult(result));\n    newData.errors = liveErrors ? [...data.errors, ...liveErrors] : data.errors;\n    return newData;\n  };\n\n  const resubmit = useCallback(() => {\n    apiCall({\n      url: `/api/v4/submit/dynamic/${sha256}/`,\n      onSuccess: api_data => {\n        showSuccessMessage(t('resubmit.success'));\n        setTimeout(() => {\n          history.push(`/submission/detail/${api_data.api_response.sid}`);\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  useEffect(() => {\n    setFile(null);\n\n    if (sid && sha256) {\n      apiCall({\n        method: liveResultKeys ? 'POST' : 'GET',\n        url: `/api/v4/submission/${sid}/file/${sha256}/`,\n        body: liveResultKeys ? { extra_result_keys: liveResultKeys } : null,\n        onSuccess: api_data => {\n          scrollToTop('drawerTop');\n          setFile(patchFileDetails(api_data.api_response));\n        }\n      });\n    } else if (sha256) {\n      apiCall({\n        url: `/api/v4/file/result/${sha256}/`,\n        onSuccess: api_data => {\n          scrollToTop('fileDetailTop');\n          setFile(patchFileDetails(api_data.api_response));\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [sha256, sid]);\n\n  return (\n    <div id=\"fileDetailTop\" style={{ textAlign: 'left' }}>\n      {useMemo(\n        () => (\n          <>\n            {c12nDef.enforce && (\n              <div style={{ paddingBottom: sp4, paddingTop: sp2 }}>\n                <Classification size=\"tiny\" c12n={file ? file.file_info.classification : null} />\n              </div>\n            )}\n            <div style={{ paddingBottom: sp4 }}>\n              <Grid container alignItems=\"center\">\n                <Grid item xs>\n                  <div>\n                    <Typography variant=\"h4\">{t('title')}</Typography>\n                    <Typography variant=\"caption\" style={{ wordBreak: 'break-word' }}>\n                      {file ? fileName : <Skeleton style={{ width: '10rem' }} />}\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={12} sm>\n                  <div style={{ textAlign: 'right' }}>\n                    <Tooltip title={t('related')}>\n                      <IconButton\n                        component={Link}\n                        to={`/search/submission?query=files.sha256:${file && file.file_info.sha256} OR results:${\n                          file && file.file_info.sha256\n                        }*`}\n                      >\n                        <AmpStoriesOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('download')}>\n                      <IconButton\n                        component={MaterialLink}\n                        href={`/api/v4/file/download/${file && file.file_info.sha256}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                      >\n                        <GetAppOutlinedIcon color=\"action\" />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('file_viewer')}>\n                      <IconButton component={Link} to={`/file/viewer/${file && file.file_info.sha256}`}>\n                        <PageviewOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('resubmit_dynamic')}>\n                      <IconButton onClick={resubmit}>\n                        <RotateLeftOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [file, fileName, resubmit]\n      )}\n\n      <div style={{ paddingBottom: sp2 }}>\n        <IdentificationSection fileinfo={file ? file.file_info : null} />\n        <FrequencySection fileinfo={file ? file.file_info : null} />\n\n        {(!file || Object.keys(file.metadata).length !== 0) && (\n          <MetadataSection metadata={file ? file.metadata : null} />\n        )}\n\n        {file && file.childrens && file.childrens.length !== 0 && <ChildrenSection childrens={file.childrens} />}\n\n        {file && file.parents && file.parents.length !== 0 && <ParentSection parents={file.parents} />}\n\n        {(!file || Object.keys(file.attack_matrix).length !== 0) && (\n          <AttackSection attacks={file ? file.attack_matrix : null} />\n        )}\n\n        {(!file || Object.keys(file.heuristics).length !== 0) && (\n          <HeuristicSection heuristics={file ? file.heuristics : null} />\n        )}\n\n        {(!file || Object.keys(file.tags).length !== 0 || file.signatures.length !== 0) && (\n          <TagSection signatures={file ? file.signatures : null} tags={file ? file.tags : null} />\n        )}\n\n        {(!file || file.results.length !== 0) && (\n          <ResultSection results={file ? file.results : null} sid={sid} alternates={file ? file.alternates : null} />\n        )}\n\n        {(!file || file.emptys.length !== 0) && <EmptySection emptys={file ? file.emptys : null} sid={sid} />}\n\n        {file && file.errors.length !== 0 && <ErrorSection errors={file.errors} />}\n      </div>\n    </div>\n  );\n};\n\nconst FileDetail = React.memo(WrappedFileDetail);\n\nexport default FileDetail;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport FileDetail from 'components/visual/FileDetail';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nfunction FileFullDetail() {\n  const { id } = useParams<ParamProps>();\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <FileDetail sha256={id} />\n    </PageCenter>\n  );\n}\n\nexport default FileFullDetail;\n","import {\n  Grid,\n  IconButton,\n  LinearProgress,\n  Link as MaterialLink,\n  makeStyles,\n  Paper,\n  Tab,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport { Alert, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  pre: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ffffff05' : '#00000005',\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    fontSize: '1rem',\n    padding: '16px 8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word'\n  },\n  no_pad: {\n    padding: 0\n  }\n}));\n\nconst WrappedAsciiViewer = ({ sha256 }) => {\n  const [ascii, setAscii] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/ascii/${sha256}/`,\n      onSuccess: api_data => {\n        setAscii(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return ascii ? (\n    <pre className={classes.pre}>{ascii}</pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst WrappedHexViewer = ({ sha256 }) => {\n  const [hex, setHex] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/hex/${sha256}/`,\n      onSuccess: api_data => {\n        setHex(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return hex ? (\n    <pre className={classes.pre}>\n      <div style={{ minWidth: '580px' }}>{hex}</div>\n    </pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst WrappedStringViewer = ({ sha256 }) => {\n  const [string, setString] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/strings/${sha256}/`,\n      onSuccess: api_data => {\n        setString(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return string ? (\n    <pre className={classes.pre}>{string}</pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst AsciiViewer = React.memo(WrappedAsciiViewer);\nconst HexViewer = React.memo(WrappedHexViewer);\nconst StringViewer = React.memo(WrappedStringViewer);\n\nconst FileViewer = () => {\n  const { id } = useParams<ParamProps>();\n  const { t } = useTranslation(['fileViewer']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const location = useLocation();\n  const history = useHistory();\n  const [tab, setTab] = useState('ascii');\n\n  const handleChangeTab = (event, newTab) => {\n    const currentTab = location.hash.substring(1, location.hash.length) || 'ascii';\n    if (currentTab !== newTab) {\n      history.push(`${location.pathname}#${newTab}`);\n    }\n  };\n\n  useEffect(() => {\n    const newTab = location.hash.substring(1, location.hash.length) || 'ascii';\n    setTab(newTab);\n  }, [location.hash]);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <div style={{ textAlign: 'left' }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs sm={8}>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n            <Typography variant=\"caption\" style={{ wordBreak: 'break-word' }}>\n              {id}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm>\n            <div style={{ textAlign: 'right' }}>\n              <Tooltip title={t('detail')}>\n                <IconButton component={Link} to={`/file/detail/${id}`}>\n                  <DescriptionOutlinedIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={t('related')}>\n                <IconButton component={Link} to={`/search/submission?query=files.sha256:${id} OR results:${id}*`}>\n                  <AmpStoriesOutlinedIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={t('download')}>\n                <IconButton\n                  component={MaterialLink}\n                  href={`/api/v4/file/download/${id}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                >\n                  <GetAppOutlinedIcon color=\"action\" />\n                </IconButton>\n              </Tooltip>\n            </div>\n          </Grid>\n        </Grid>\n\n        <TabContext value={tab}>\n          <Paper square style={{ marginTop: theme.spacing(4), marginBottom: theme.spacing(2) }}>\n            <TabList onChange={handleChangeTab} indicatorColor=\"primary\" textColor=\"primary\">\n              <Tab label={t('ascii')} value=\"ascii\" />\n              <Tab label={t('strings')} value=\"strings\" />\n              <Tab label={t('hex')} value=\"hex\" />\n            </TabList>\n          </Paper>\n          <TabPanel value=\"ascii\" className={classes.no_pad}>\n            <AsciiViewer sha256={id} />\n          </TabPanel>\n          <TabPanel value=\"strings\" className={classes.no_pad}>\n            <StringViewer sha256={id} />\n          </TabPanel>\n          <TabPanel value=\"hex\" className={classes.no_pad}>\n            <HexViewer sha256={id} />\n          </TabPanel>\n        </TabContext>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default FileViewer;\n","import useAppUser from 'commons/components/hooks/useAppUser';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\n\nexport default function Help() {\n  const layout = useMyLayout();\n  const { validateProps } = useAppUser<CustomUser>();\n  let items = [];\n  for (const item of layout.leftnav.elements) {\n    if (item.type === 'group' && item.element.id === 'help') {\n      // eslint-disable-next-line @typescript-eslint/dot-notation\n      items = item.element['items'].filter(obj => {\n        return validateProps(obj.userPropValidators);\n      });\n    }\n  }\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={items} />\n    </PageCenter>\n  );\n}\n","import {\n  Box,\n  Card,\n  Collapse,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport clsx from 'clsx';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst apiHeight = '48px';\nconst useStyles = makeStyles(theme => ({\n  api: {\n    minHeight: apiHeight,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected\n    }\n  },\n  blueprint: {\n    minHeight: apiHeight,\n    alignItems: 'center',\n    borderColor: theme.palette.action.disabledBackground,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected\n    }\n  },\n  blueprintSkel: {\n    minHeight: apiHeight,\n    alignItems: 'center',\n    borderColor: theme.palette.action.disabledBackground\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: theme.spacing(2),\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  }\n}));\n\nexport default function ApiDoc() {\n  const apiCall = useMyAPI();\n  const [apiList, setApiList] = useState(null);\n  const [apiSelected, setApiSelected] = useState(null);\n  const [apiDefinition, setApiDefinition] = useState(null);\n  const classes = useStyles();\n  const [expandMap, setExpandMap] = useState({});\n  const theme = useTheme();\n  const { t } = useTranslation(['helpAPI']);\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const xs = useMediaQuery(theme.breakpoints.only('xs'));\n  const isDark = theme.palette.type === 'dark';\n  const methodColor = {\n    DELETE: 'error',\n    GET: 'info',\n    POST: 'success',\n    PUT: 'warning'\n  };\n  const privColor = {\n    E: 'error',\n    R: 'success',\n    W: 'warning'\n  };\n  const userColor = {\n    admin: 'error',\n    signature_manager: 'info',\n    user: null,\n    signature_importer: 'warning'\n  };\n\n  function toggleBlueprintExpand(bp) {\n    const newValue = {};\n    newValue[bp] = !expandMap[bp];\n    setExpandMap({ ...expandMap, ...newValue });\n  }\n\n  function blueprintAPIs(bp) {\n    const out = [];\n    if (apiDefinition) {\n      for (const item of apiDefinition.apis) {\n        if (bp === 'documentation') {\n          if (item.path === `/api/${apiSelected}/`) {\n            out.push(item);\n          }\n        } else if (item.path.indexOf(`/api/${apiSelected}/${bp}/`) === 0) {\n          out.push(item);\n        }\n      }\n    }\n    return out.sort(compare);\n  }\n\n  function compare(a, b) {\n    if (a.name < b.name) {\n      return -1;\n    }\n    if (a.name > b.name) {\n      return 1;\n    }\n    return 0;\n  }\n\n  useEffect(() => {\n    if (apiList) {\n      apiCall({\n        url: `/api/${apiSelected}/`,\n        onSuccess: api_data => {\n          setApiDefinition(api_data.api_response);\n        }\n      });\n    } else {\n      apiCall({\n        url: '/api/',\n        onSuccess: api_data => {\n          setApiList(api_data.api_response);\n          setApiSelected(api_data.api_response[0]);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [apiSelected]);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ marginBottom: theme.spacing(4) }}>\n          <Grid container>\n            <Grid item xs={12} sm>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n            </Grid>\n            <Grid item xs={12} sm style={{ textAlign: 'end' }}>\n              {apiList && apiSelected ? (\n                <Select\n                  id=\"api\"\n                  value={apiSelected}\n                  onChange={event => setApiSelected(event.target.value)}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                >\n                  {apiList.map((version, index) => {\n                    return (\n                      <MenuItem key={index} value={version}>\n                        {version.replace('v', t('version')) + t('version_end')}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>\n              ) : (\n                <Skeleton variant=\"rect\" style={{ display: 'inline-block', height: '2rem', width: '14rem' }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n        {apiDefinition ? (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            {Object.keys(apiDefinition.blueprints).map((bp, i) => {\n              return (\n                <div key={i}>\n                  <Box\n                    display=\"flex\"\n                    flexDirection=\"row\"\n                    flexWrap=\"wrap\"\n                    className={classes.blueprint}\n                    borderBottom={1}\n                    px={1}\n                    onClick={() => toggleBlueprintExpand(bp)}\n                  >\n                    <Typography variant=\"body2\" color=\"textSecondary\" style={{ fontWeight: 800, lineHeight: 2 }}>\n                      {`/api/${apiSelected}/`}&nbsp;\n                    </Typography>\n                    <div style={{ flexGrow: 1 }}>\n                      <Typography variant=\"h6\" style={{ fontWeight: 800, lineHeight: 2 }} color=\"secondary\">\n                        {bp}\n                      </Typography>\n                    </div>\n                    <div style={{ display: 'inline-flex', width: downSM ? '100%' : null, justifyContent: 'flex-end' }}>\n                      <Typography variant=\"body2\" color=\"textSecondary\" align=\"right\" style={{ lineHeight: 2 }}>\n                        {apiDefinition.blueprints[bp]}\n                      </Typography>\n                      <ExpandMoreIcon\n                        className={clsx(classes.expand, {\n                          [classes.expandOpen]: expandMap[bp]\n                        })}\n                      />\n                    </div>\n                  </Box>\n                  <Collapse in={expandMap[bp]} timeout=\"auto\" unmountOnExit>\n                    <div\n                      style={{\n                        backgroundColor: isDark ? theme.palette.grey[900] : theme.palette.grey[100]\n                      }}\n                    >\n                      {blueprintAPIs(bp).map((api, idx) => {\n                        return (\n                          <div key={idx}>\n                            <Box\n                              className={classes.api}\n                              px={1}\n                              display=\"flex\"\n                              flexDirection={xs ? 'column' : 'row'}\n                              flexWrap=\"wrap\"\n                              alignItems={xs ? 'flex-start' : 'center'}\n                              onClick={() => toggleBlueprintExpand(api.name)}\n                            >\n                              <div>\n                                {api.methods.map((method, midx) => {\n                                  return (\n                                    <CustomChip\n                                      color={methodColor[method]}\n                                      type=\"rounded\"\n                                      size=\"small\"\n                                      key={midx}\n                                      label={method}\n                                    />\n                                  );\n                                })}\n                              </div>\n                              <div style={{ flexGrow: 1 }}>\n                                <Typography\n                                  variant=\"body2\"\n                                  color=\"textSecondary\"\n                                  style={{ wordBreak: 'break-word', lineHeight: 2 }}\n                                >\n                                  {api.path}\n                                </Typography>\n                              </div>\n                              <div\n                                style={{\n                                  display: 'inline-flex',\n                                  width: downSM ? '100%' : null,\n                                  justifyContent: 'flex-end'\n                                }}\n                              >\n                                <Typography align=\"right\" variant=\"caption\" style={{ lineHeight: 2 }}>\n                                  {api.name}\n                                </Typography>\n\n                                <ExpandMoreIcon\n                                  className={clsx(classes.expand, {\n                                    [classes.expandOpen]: expandMap[api.name]\n                                  })}\n                                />\n                              </div>\n                            </Box>\n                            <Collapse in={expandMap[api.name]} timeout=\"auto\" unmountOnExit>\n                              <div\n                                style={{\n                                  border: 1,\n                                  borderTop: 0,\n                                  borderBottom: 0,\n                                  padding: sp1,\n                                  borderColor: isDark ? theme.palette.grey[900] : theme.palette.grey[100],\n                                  backgroundColor: theme.palette.background.default\n                                }}\n                              >\n                                <Grid container alignItems=\"center\">\n                                  <>\n                                    <Grid item xs={8} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('complete')}:</div>\n                                    </Grid>\n                                    <Grid item xs={4} sm={8} md={9} lg={4}>\n                                      {api.complete ? (\n                                        <CheckOutlinedIcon htmlColor={theme.palette.success.main} />\n                                      ) : (\n                                        <ClearOutlinedIcon htmlColor={theme.palette.error.main} />\n                                      )}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={8} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('protected')}:</div>\n                                    </Grid>\n                                    <Grid item xs={4} sm={8} md={9} lg={4}>\n                                      {api.protected ? (\n                                        <CheckOutlinedIcon htmlColor={theme.palette.success.main} />\n                                      ) : (\n                                        <ClearOutlinedIcon htmlColor={theme.palette.error.main} />\n                                      )}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('require_type')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      {api.require_type.map((utype, uidx) => {\n                                        return (\n                                          <CustomChip\n                                            key={uidx}\n                                            color={userColor[utype]}\n                                            type=\"rounded\"\n                                            size=\"tiny\"\n                                            label={t(`user_type.${utype}`)}\n                                          />\n                                        );\n                                      })}\n                                    </Grid>\n                                  </>\n                                  {api.required_priv ? (\n                                    <>\n                                      <Grid item xs={12} sm={4} md={3} lg={2}>\n                                        <div style={{ fontWeight: 500 }}>{t('required_priv')}:</div>\n                                      </Grid>\n                                      <Grid item xs={12} sm={8} md={9} lg={4}>\n                                        {api.required_priv.map((ptype, pidx) => {\n                                          return (\n                                            <CustomChip\n                                              key={pidx}\n                                              color={privColor[ptype]}\n                                              type=\"rounded\"\n                                              size=\"tiny\"\n                                              label={t(`priv.${ptype}`)}\n                                            />\n                                          );\n                                        })}\n                                      </Grid>\n                                    </>\n                                  ) : null}\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('methods')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      {api.methods.map((met, metid) => {\n                                        return (\n                                          <CustomChip\n                                            key={metid}\n                                            color={methodColor[met]}\n                                            type=\"rounded\"\n                                            size=\"tiny\"\n                                            label={t(met)}\n                                          />\n                                        );\n                                      })}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('path')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      <div style={{ lineHeight: 2, fontFamily: 'Monospace', wordBreak: 'break-word' }}>\n                                        {api.path}\n                                      </div>\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12}>\n                                      <div style={{ fontWeight: 500, lineHeight: 2 }}>{t('description')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                      <Card variant=\"outlined\" style={{ overflowX: 'auto' }}>\n                                        <pre style={{ paddingLeft: sp2, paddingRight: sp2 }}>{api.description}</pre>\n                                      </Card>\n                                    </Grid>\n                                  </>\n                                </Grid>\n                              </div>\n                            </Collapse>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </Collapse>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            {[...Array(21)].map((_, i) => {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    paddingLeft: sp1,\n                    paddingRight: sp1,\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flexWrap: 'wrap',\n                    borderBottom: 1\n                  }}\n                  className={classes.blueprintSkel}\n                >\n                  <Typography variant=\"body2\" style={{ paddingRight: '8px' }}>\n                    <Skeleton width=\"2rem\" />\n                  </Typography>\n                  <div style={{ flexGrow: 1 }}>\n                    <Typography variant=\"h6\">\n                      <Skeleton width=\"12rem\" />\n                    </Typography>\n                  </div>\n                  <div style={{ display: 'inline-flex', width: downSM ? '100%' : null, justifyContent: 'flex-end' }}>\n                    <Typography variant=\"body2\" style={{ paddingRight: '16px', lineHeight: 2 }}>\n                      <Skeleton width=\"14rem\" />\n                    </Typography>\n                    <Skeleton width=\"1rem\" />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport NotFoundPage from 'components/routes/404_dl';\nimport Classification from 'components/visual/Classification';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nexport default function HelpClassification() {\n  const { t } = useTranslation(['helpClassification']);\n  const { c12nDef } = useALContext();\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  return c12nDef.enforce ? (\n    <PageCenter margin={4} width=\"100%\">\n      <div style={{ marginBottom: theme.spacing(4), textAlign: 'left' }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('desc_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('desc_1')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('desc_2')}\n        </Typography>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('submission_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('submission_desc')}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('ex_title')}\n        </Typography>\n        <div style={{ paddingLeft: sp2 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('assumptions')}\n          </Typography>\n          <ul>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_1\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_2\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_3\" components={{ bold: <strong /> }} />\n            </li>\n          </ul>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"submission_a_res_1_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.UNRESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"submission_a_res_1_p2\" components={{ bold: <strong /> }} />\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans\n              ns=\"helpClassification\"\n              i18nKey=\"submission_a_res_2_p1\"\n              components={{ italic: <i />, bold: <strong /> }}\n            />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans\n              ns=\"helpClassification\"\n              i18nKey=\"submission_a_res_2_p2\"\n              components={{ italic: <i />, bold: <strong /> }}\n            />\n          </Typography>\n        </div>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('result_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('result_desc')}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('ex_title')}\n        </Typography>\n        <div style={{ paddingLeft: sp2 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('assumptions')}\n          </Typography>\n          <ul>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_1\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_2\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_3\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_4\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n          </ul>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p2\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.UNRESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p3\" components={{ bold: <strong /> }} />\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_2_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_2_p2\" components={{ bold: <strong /> }} />\n          </Typography>\n        </div>\n      </div>\n      <div style={{ textAlign: 'left' }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('validation_title')}\n        </Typography>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_level')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_level_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_level_supported')}\n        </Typography>\n        <ul>\n          {c12nDef\n            ? c12nDef.original_definition.levels.map((lvl, idx) => {\n                return (\n                  <li key={idx}>\n                    <Classification size=\"tiny\" type=\"text\" c12n={lvl.name} format=\"long\" /> :: {lvl.description}\n                  </li>\n                );\n              })\n            : [...Array(2)].map((_, i) => {\n                return (\n                  <li>\n                    <Skeleton />\n                  </li>\n                );\n              })}\n        </ul>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_required')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_required_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_required_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.required.length !== 0 ? (\n              c12nDef.original_definition.required.map((req, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{req.name}</div>\n                    {` :: ${req.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_required_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_groups')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_groups_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_groups_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.groups.length !== 0 ? (\n              c12nDef.original_definition.groups.map((grp, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{grp.name}</div>\n                    {` :: ${grp.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_groups_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n        <Typography variant=\"subtitle2\" gutterBottom color=\"error\">\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_groups_note\" components={{ bold: <strong /> }} />\n        </Typography>\n      </div>\n      <div style={{ textAlign: 'left' }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_subgroups')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_subgroups_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_subgroups_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.subgroups.length !== 0 ? (\n              c12nDef.original_definition.subgroups.map((sgrp, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{sgrp.name}</div>\n                    {` :: ${sgrp.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_subgroups_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n        <Typography variant=\"subtitle2\" gutterBottom color=\"error\">\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_subgroups_note\" components={{ bold: <strong /> }} />\n        </Typography>\n      </div>\n    </PageCenter>\n  ) : (\n    <NotFoundPage />\n  );\n}\n","import { Grid, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default function Configuration() {\n  const apiCall = useMyAPI();\n  const [configuration, setConfiguration] = useState(null);\n  const [constants, setConstants] = useState(null);\n  const { t } = useTranslation(['helpConfiguration']);\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  function isArrayOfArray(val) {\n    if (Array.isArray(val)) {\n      if (Array.isArray(val[0])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  useEffect(() => {\n    // Load all services on start\n    apiCall({\n      url: '/api/v4/help/constants/',\n      onSuccess: api_data => {\n        setConstants(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: '/api/v4/help/configuration/',\n      onSuccess: api_data => {\n        setConfiguration(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ marginBottom: theme.spacing(4) }}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('tags')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('tags.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('tags.desc_list')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2, display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}>\n            {constants\n              ? constants.tag_types.map((tag, id) => {\n                  return <CustomChip type=\"rounded\" size=\"tiny\" key={id} label={tag} style={{ padding: '5px' }} />;\n                })\n              : [...Array(192)].map((_, i) => {\n                  return <Skeleton key={i} style={{ height: '2rem', width: '8rem', marginRight: '3px' }} />;\n                })}\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('priorities')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('priorities.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('priorities.desc_list')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants ? (\n                <>\n                  {Object.keys(constants.priorities).map((priority, id) => {\n                    return (\n                      <Grid key={id} item xs={12} sm={6} md={4} lg={3} xl={2}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{priority}:&nbsp;&nbsp;</div>\n                        <div style={{ display: 'inline-block', fontWeight: 300 }}>{constants.priorities[priority]}</div>\n                      </Grid>\n                    );\n                  })}\n\n                  <Grid item xs={12} sm={6} md={4} lg={3} xl={2}>\n                    <div style={{ display: 'inline-block', fontWeight: 500 }}>{t('priorities.max')}:&nbsp;&nbsp;</div>\n                    <div style={{ display: 'inline-block', fontWeight: 300 }}>{constants.max_priority}</div>\n                  </Grid>\n                </>\n              ) : (\n                [...Array(8)].map((_, i) => {\n                  return (\n                    <Grid item key={i} xs={12} sm={6} md={4} lg={3} xl={2}>\n                      <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                        <Skeleton key={i} style={{ height: '2rem', width: '5rem', margin: '2px' }} />\n                      </div>\n                      <div style={{ display: 'inline-block' }}>\n                        <Skeleton key={i} style={{ height: '2rem', width: '3rem', margin: '2px' }} />\n                      </div>\n                    </Grid>\n                  );\n                })\n              )}\n            </Grid>\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('file_types')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.specific')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants\n                ? constants.file_types.map((type, id) => {\n                    return type[0] !== '*' && type[1].length !== 0 ? (\n                      <Grid key={id} item xs={12} md={6} lg={4} xl={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{type[0]}</div>\n                        <div style={{ display: 'inline-block', fontWeight: 300 }}>\n                          &nbsp;::&nbsp;{type[1].join(', ')}\n                        </div>\n                      </Grid>\n                    ) : null;\n                  })\n                : [...Array(40)].map((_, i) => {\n                    return (\n                      <Grid key={i} item xs={12} md={6} lg={4} xl={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                          <Skeleton style={{ height: '2rem', width: '4rem', margin: '2px' }} />\n                        </div>\n                        <div style={{ display: 'inline-block' }}>\n                          <Skeleton style={{ height: '2rem', width: '8rem', margin: '2px' }} />\n                        </div>\n                      </Grid>\n                    );\n                  })}\n            </Grid>\n          </div>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.non_specific')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants\n                ? constants.file_types.map((type, id) => {\n                    return type[0] !== '*' && type[1].length === 0 ? (\n                      <Grid key={id} item xs={12} sm={6} md={4} lg={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{type[0]}</div>\n                      </Grid>\n                    ) : null;\n                  })\n                : [...Array(60)].map((_, i) => {\n                    return (\n                      <Grid key={i} item xs={12} sm={6} md={4} lg={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                          <Skeleton style={{ height: '2rem', width: '8rem', margin: '2px' }} />\n                        </div>\n                      </Grid>\n                    );\n                  })}\n            </Grid>\n          </div>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.non_specific_service')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            {constants ? (\n              <div style={{ fontWeight: 500 }}>{constants.file_types[0][1].join(', ')}</div>\n            ) : (\n              <Skeleton style={{ height: '2rem' }} />\n            )}\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('config')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('config.desc')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            {configuration\n              ? Object.keys(configuration).map((key, idx) => {\n                  return (\n                    <Grid key={idx} container spacing={1}>\n                      <Grid\n                        item\n                        xs={12}\n                        sm={5}\n                        md={4}\n                        lg={3}\n                        style={{\n                          overflowX: 'hidden',\n                          whiteSpace: 'nowrap',\n                          textOverflow: 'ellipsis'\n                        }}\n                      >\n                        <span style={{ fontWeight: 500 }}>{key}</span>\n                      </Grid>\n                      <Grid item xs={12} sm={7} md={8} lg={9}>\n                        <div style={{ fontWeight: 300 }}>\n                          {typeof configuration[key] !== 'object' ? (\n                            <div>{String(configuration[key])}</div>\n                          ) : isArrayOfArray(configuration[key]) ? (\n                            configuration[key].map((sub_key, sub_idx) => {\n                              return (\n                                <div key={sub_idx} style={{ display: 'flex' }}>\n                                  <div style={{ fontWeight: 500, whiteSpace: 'nowrap' }}>{sub_key[0]}:&nbsp;</div>\n                                  <div>{sub_key[1].join(', ')}</div>\n                                </div>\n                              );\n                            })\n                          ) : (\n                            <div>{configuration[key].join(' | ')}</div>\n                          )}\n                        </div>\n                      </Grid>\n                    </Grid>\n                  );\n                })\n              : [...Array(10)].map((_, i) => {\n                  return (\n                    <Grid key={i} container spacing={1}>\n                      <Grid key={i} item xs={12} sm={5} md={4} lg={3}>\n                        <Skeleton style={{ height: '2rem' }} />\n                      </Grid>\n                      <Grid item xs={12} sm={7} md={8} lg={9}>\n                        <Skeleton style={{ height: '2rem' }} />\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n          </div>\n        </div>\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport DeveloperModeOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst UnderConstruction = ({ page }) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n        <DeveloperModeOutlinedIcon color=\"secondary\" fontSize=\"inherit\" />\n      </div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h3\">{page}</Typography>\n      </div>\n      <div>\n        <Typography variant=\"h6\">{t('under_construction')}</Typography>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default UnderConstruction;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport UnderConstruction from '../under_construction';\n\nexport default function Search() {\n  const { t } = useTranslation(['helpSearch']);\n\n  return <UnderConstruction page={t('title')} />;\n}\n","import { Card, CardHeader, Grid, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction ServiceCard({ service }) {\n  const { t } = useTranslation(['helpServices']);\n  const theme = useTheme();\n  const isDark = theme.palette.type === 'dark';\n  const minCardHeight = '240px';\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  return (\n    <Card\n      style={{\n        minHeight: minCardHeight,\n        backgroundColor: service.enabled ? null : isDark ? '#ff000017' : '#FFE4E4',\n        border: `solid 1px ${\n          service.enabled ? theme.palette.divider : isDark ? theme.palette.error.light : theme.palette.error.dark\n        }`\n      }}\n    >\n      <CardHeader\n        title={service.name}\n        subheader={service.version}\n        action={\n          service.enabled ? null : (\n            <div style={{ padding: sp2 }}>\n              <CustomChip type=\"rounded\" variant=\"outlined\" size=\"small\" color=\"error\" label={t('disabled')} />\n            </div>\n          )\n        }\n        style={{ padding: theme.spacing(1) }}\n      />\n      <div style={{ padding: sp1 }}>\n        <div style={{ minHeight: '110px', whiteSpace: 'pre-wrap', paddingBottom: theme.spacing(1) }}>\n          {service.description}\n        </div>\n        <Grid container spacing={1}>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('accepts')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.accepts}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('rejects')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.rejects}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('category')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.category}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('stage')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.stage}\n            </Typography>\n          </Grid>\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n\nexport default function Services() {\n  const apiCall = useMyAPI();\n  const { t } = useTranslation(['helpServices']);\n  const theme = useTheme();\n  const [services, setServices] = useState(null);\n  const minCardHeight = '240px';\n\n  useEffect(() => {\n    // Load all services on start\n    apiCall({\n      url: '/api/v4/service/all/',\n      onSuccess: api_data => {\n        setServices(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ marginBottom: theme.spacing(4) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n        {services ? (\n          <Typography variant=\"caption\">{`${services.length} ${t('count')}`}</Typography>\n        ) : (\n          <Skeleton width=\"8rem\" />\n        )}\n      </div>\n      {services ? (\n        <Grid container spacing={2}>\n          {services.map((s, i) => (\n            <Grid key={i} item xs={12} md={6} xl={4}>\n              <ServiceCard service={s} />\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Grid container spacing={2}>\n          {[...Array(8)].map((_, i) => (\n            <Grid key={i} item xs={12} md={6} xl={4}>\n              <Skeleton variant=\"rect\" style={{ height: minCardHeight }} />\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </PageFullWidth>\n  );\n}\n","import { CircularProgress, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction Logout() {\n  const { t } = useTranslation(['logout']);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { getBanner, hideMenus } = useAppLayout();\n\n  useEffect(() => {\n    hideMenus();\n\n    apiCall({\n      url: '/api/v4/auth/logout/',\n      onSuccess: () => {\n        setTimeout(() => {\n          window.location.replace(`${process.env.PUBLIC_URL}/`);\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <CardCentered>\n      <div style={{ textAlign: 'center' }}>\n        {getBanner(theme)}\n        <div style={{ marginBottom: theme.spacing(3) }}>\n          <Typography>{t('title')}</Typography>\n        </div>\n        <CircularProgress size={24} />\n      </div>\n    </CardCentered>\n  );\n}\n\nexport default Logout;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\n\nexport default function Manage() {\n  const layout = useMyLayout();\n  let items = [];\n  for (const item of layout.leftnav.elements) {\n    if (item.type === 'group' && item.element.id === 'manage') {\n      // eslint-disable-next-line @typescript-eslint/dot-notation\n      items = item.element['items'];\n    }\n  }\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={items} />\n    </PageCenter>\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport { Statistics } from 'components/routes/manage/heuristic_detail';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type HeuristicResult = {\n  attack_id: string[];\n  classification: string;\n  description: string;\n  filetype: string;\n  heur_id: string;\n  id: string;\n  max_score: number;\n  name: string;\n  score: number;\n  stats: Statistics;\n};\n\ntype SearchResults = {\n  items: HeuristicResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype HeuristicsTableProps = {\n  heuristicResults: SearchResults;\n  setHeuristicID?: (id: string) => void;\n  allowSort?: boolean;\n};\n\nconst WrappedHeuristicsTable: React.FC<HeuristicsTableProps> = ({\n  heuristicResults,\n  setHeuristicID = null,\n  allowSort = true\n}) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return heuristicResults ? (\n    heuristicResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"heur_id\" allowSort={allowSort}>\n                {t('header.id')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\" allowSort={allowSort}>\n                {t('header.name')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"filetype\" allowSort={allowSort}>\n                {t('header.filetype')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"score\" allowSort={allowSort}>\n                {t('header.score')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.count\" allowSort={allowSort}>\n                {t('header.hit_count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.last_hit\" allowSort={allowSort}>\n                {t('header.last_hit')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {heuristicResults.items.map(heuristic => (\n              <LinkRow\n                key={heuristic.heur_id}\n                component={Link}\n                to={`/manage/heuristic/${heuristic.heur_id}`}\n                onClick={event => {\n                  if (setHeuristicID) {\n                    event.preventDefault();\n                    setHeuristicID(heuristic.heur_id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>{heuristic.heur_id}</DivTableCell>\n                <DivTableCell>{heuristic.name}</DivTableCell>\n                <DivTableCell>{heuristic.filetype}</DivTableCell>\n                <DivTableCell>{heuristic.score}</DivTableCell>\n                <DivTableCell>{heuristic.stats ? heuristic.stats.count || 0 : 0}</DivTableCell>\n                <DivTableCell>\n                  {heuristic.stats && heuristic.stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {heuristic.stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('never')\n                  )}\n                </DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={heuristic.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_heuristics_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst HeuristicsTable = React.memo(WrappedHeuristicsTable);\nexport default HeuristicsTable;\n","import { useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\n\ntype HistogramProps = {\n  data: {\n    labels: string[];\n    datasets: { label: string; data: number[] }[];\n  };\n  title?: string;\n  height?: number;\n  isDate?: boolean;\n};\n\nconst WrappedHistogram = ({ data, height, title, isDate }: HistogramProps) => {\n  const theme = useTheme();\n  const [max, setMax] = useState(5);\n  const [histData, setHistData] = useState(null);\n  const options = {\n    maintainAspectRatio: false,\n    responsive: true,\n    scales: {\n      xAxes: [\n        {\n          gridLines: { display: false, drawBorder: true },\n          ticks: { fontColor: theme.palette.text.secondary },\n          time: isDate ? { unit: 'day' } : null,\n          type: isDate ? 'time' : null\n        }\n      ],\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: max,\n            fontColor: theme.palette.text.secondary,\n            precision: 0\n          }\n        }\n      ]\n    },\n    title: title\n      ? {\n          display: true,\n          text: title,\n          fontColor: theme.palette.text.primary,\n          fontFamily: 'Roboto',\n          fontSize: 14\n        }\n      : null\n  };\n\n  useEffect(() => {\n    if (data) {\n      const tempDatasets = [];\n      let maxValue = max;\n\n      data.datasets.forEach(dataset => {\n        maxValue = Math.max(maxValue, ...Object.values<number>(dataset.data));\n        tempDatasets.push({\n          ...dataset,\n          backgroundColor: theme.palette.primary.dark,\n          borderColor: theme.palette.primary.light,\n          borderWidth: 1,\n          hoverBackgroundColor: theme.palette.primary.main\n        });\n      });\n\n      setMax(maxValue);\n      setHistData({ ...data, datasets: tempDatasets });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data, theme]);\n\n  return histData ? (\n    <Line redraw data={histData} legend={{ display: false }} height={height} options={options} />\n  ) : (\n    <Skeleton variant=\"rect\" height={height} />\n  );\n};\n\nWrappedHistogram.defaultProps = {\n  title: null,\n  height: null,\n  isDate: false\n};\n\nconst Histogram = React.memo(WrappedHistogram);\nexport default Histogram;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ResultResult = {\n  classification: string;\n  created: number;\n  drop_file: boolean;\n  id: string;\n  response: {\n    service_name: string;\n    service_tool_version: string;\n  };\n  result: {\n    score: number;\n  };\n};\n\ntype SearchResults = {\n  items: ResultResult[];\n  total: number;\n};\n\ntype ResultsTableProps = {\n  resultResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedResultsTable: React.FC<ResultsTableProps> = ({ resultResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return resultResults ? (\n    resultResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"created\" allowSort={allowSort}>\n                {t('header.created')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"result.score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"id\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"response.service_name\" allowSort={allowSort}>\n                {t('header.service')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {resultResults.items.map(result => (\n              <LinkRow\n                key={result.id}\n                component={Link}\n                to={`/file/detail/${result.id.substring(0, 64)}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={result.created}>\n                    <Moment fromNow locale={i18n.language}>\n                      {result.created}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={result.result.score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{result.id.substring(0, 64)}</DivTableCell>\n                <DivTableCell>{result.response.service_name}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={result.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_results_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ResultsTable = React.memo(WrappedResultsTable);\nexport default ResultsTable;\n","import { Grid, IconButton, makeStyles, Paper, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport YoutubeSearchedForIcon from '@material-ui/icons/YoutubeSearchedFor';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport Classification from 'components/visual/Classification';\nimport Histogram from 'components/visual/Histogram';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useParams } from 'react-router-dom';\n\nexport type Heuristic = {\n  attack_id: string[];\n  avg: number;\n  classification: string;\n  count: number;\n  description: string;\n  filetype: string;\n  heur_id: string;\n  max: number;\n  max_score: number;\n  min: number;\n  name: string;\n  score: number;\n  signature_score_map: {\n    [key: string]: number;\n  };\n  stats: Statistics;\n};\n\nexport type Statistics = {\n  avg: number;\n  min: number;\n  max: number;\n  count: number;\n  sum: number;\n  last_hit: string;\n  first_hit: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype HeuristicDetailProps = {\n  heur_id?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  preview: {\n    margin: 0,\n    padding: `${theme.spacing(0.75)}px ${theme.spacing(1)}px`,\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  drawerPaper: {\n    maxWidth: '1200px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst HeuristicDetail = ({ heur_id }: HeuristicDetailProps) => {\n  const { t, i18n } = useTranslation(['manageHeuristicDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [heuristic, setHeuristic] = useState<Heuristic>(null);\n  const [stats, setStats] = useState<Statistics>(null);\n  const [histogram, setHistogram] = useState<any>(null);\n  const [results, setResults] = useState<any>(null);\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { c12nDef } = useALContext();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/heuristics/${heur_id || id}/`,\n      onSuccess: api_data => {\n        setHeuristic(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heur_id, id]);\n\n  useEffect(() => {\n    if (heuristic) {\n      if (!heuristic.stats) {\n        apiCall({\n          method: 'POST',\n          url: '/api/v4/search/stats/result/result.score/',\n          body: { query: `result.sections.heuristic.heur_id:${heur_id || id}` },\n          onSuccess: api_data => {\n            setStats(api_data.api_response);\n          }\n        });\n      } else {\n        setStats(heuristic.stats);\n      }\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/histogram/result/created/',\n        body: {\n          query: `result.sections.heuristic.heur_id:${heur_id || id}`,\n          mincount: 0,\n          start: 'now-30d/d',\n          end: 'now+1d/d-1s',\n          gap: '+1d'\n        },\n        onSuccess: api_data => {\n          const chartData = {\n            labels: Object.keys(api_data.api_response).map((key: string) => key.replace('T00:00:00.000Z', '')),\n            datasets: [\n              {\n                label: heur_id || id,\n                data: Object.values(api_data.api_response)\n              }\n            ]\n          };\n          setHistogram(chartData);\n        }\n      });\n      apiCall({\n        method: 'GET',\n        url: `/api/v4/search/result/?query=result.sections.heuristic.heur_id:${heur_id || id}&rows=10`,\n        onSuccess: api_data => {\n          setResults(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heuristic]);\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification size=\"tiny\" c12n={heuristic ? heuristic.classification : null} />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n              <Typography variant=\"caption\">\n                {heuristic ? heuristic.heur_id : <Skeleton style={{ width: '10rem' }} />}\n              </Typography>\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n              {heuristic ? (\n                <Tooltip title={t('usage')}>\n                  <IconButton\n                    component={Link}\n                    style={{ color: theme.palette.action.active }}\n                    to={`/search/result/?query=result.sections.heuristic.heur_id:\"${heuristic.heur_id}\"`}\n                  >\n                    <YoutubeSearchedForIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('name')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.name}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('filetype')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.filetype}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('desc')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.description}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('score')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.score}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('max_score')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.max_score || t('no_max')}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('attack_id')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.attack_id && heuristic.attack_id.length !== 0\n                  ? heuristic.attack_id.join(', ')\n                  : t('no_attack_id')}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('signature_score_map')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.signature_score_map && Object.keys(heuristic.signature_score_map).length !== 0 ? (\n                  <Grid container spacing={1}>\n                    {Object.keys(heuristic.signature_score_map).map((key, i) => {\n                      return (\n                        <Grid key={i} item xs>\n                          {`${key} = ${heuristic.signature_score_map[key]}`}\n                        </Grid>\n                      );\n                    })}\n                  </Grid>\n                ) : (\n                  t('no_sigs')\n                )}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('statistics')}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('hits')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.count')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.count : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.first')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? (\n                  stats.first_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.first_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.last')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? (\n                  stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('contribution')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.min')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.min : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.avg')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? Number(stats.avg).toFixed(0) : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.max')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.max : <Skeleton />}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Histogram data={histogram} height={300} isDate title={t('chart.title')} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('last10')}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsTable resultResults={results} allowSort={false} />\n          </Grid>\n        </Grid>\n      </div>\n    </PageCenter>\n  );\n};\n\nHeuristicDetail.defaultProps = {\n  heur_id: null\n};\n\nexport default HeuristicDetail;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport HeuristicsTable from 'components/visual/SearchResult/heuristics';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport HeuristicDetail from './heuristic_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Heuristics() {\n  const { t } = useTranslation(['manageHeuristics']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [heuristicResults, setHeuristicResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { setGlobalDrawer } = useDrawer();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.heuristic).filter(name => {\n      return indexes.heuristic[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      query.set('rows', PAGE_SIZE);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/heuristic/',\n        body: query.getParams(),\n        onSuccess: api_data => {\n          setHeuristicResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setHeuristicID = useCallback(\n    (heur_id: string) => {\n      setGlobalDrawer(<HeuristicDetail heur_id={heur_id} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      {useMemo(() => {\n        return (\n          <>\n            <div style={{ paddingBottom: theme.spacing(2) }}>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n            </div>\n\n            <PageHeader isSticky>\n              <div style={{ paddingTop: theme.spacing(1) }}>\n                <SearchBar\n                  initValue={query ? query.get('query', '') : ''}\n                  placeholder={t('filter')}\n                  searching={searching}\n                  suggestions={suggestions}\n                  onValueChange={onFilterValueChange}\n                  onClear={onClear}\n                  onSearch={onSearch}\n                >\n                  {heuristicResults !== null && (\n                    <div className={classes.searchresult}>\n                      {heuristicResults.total !== 0 && (\n                        <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                          {searching ? (\n                            <span>{t('searching')}</span>\n                          ) : (\n                            <span>\n                              {heuristicResults.total}&nbsp;\n                              {query.get('query')\n                                ? t(`filtered${heuristicResults.total === 1 ? '' : 's'}`)\n                                : t(`total${heuristicResults.total === 1 ? '' : 's'}`)}\n                            </span>\n                          )}\n                        </Typography>\n                      )}\n\n                      <SearchPager\n                        total={heuristicResults.total}\n                        setResults={setHeuristicResults}\n                        pageSize={pageSize}\n                        index=\"heuristic\"\n                        query={query}\n                        setSearching={setSearching}\n                      />\n                    </div>\n                  )}\n                </SearchBar>\n              </div>\n            </PageHeader>\n          </>\n        );\n      }, [\n        classes.searchresult,\n        heuristicResults,\n        onClear,\n        onSearch,\n        pageSize,\n        query,\n        searching,\n        suggestions,\n        t,\n        theme\n      ])}\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <HeuristicsTable heuristicResults={heuristicResults} setHeuristicID={setHeuristicID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CustomChip from './CustomChip';\n\nconst COLOR_MAP = {\n  DEPLOYED: 'success' as 'success',\n  NOISY: 'info' as 'info',\n  DISABLED: 'error' as 'error'\n};\n\ntype SignatureStatusProps = {\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  fullWidth?: boolean;\n  onClick?: () => void;\n};\n\nconst WrappedSignatureStatus: React.FC<SignatureStatusProps> = ({ status, fullWidth = true, onClick = null }) => {\n  const { t } = useTranslation();\n\n  return (\n    <CustomChip\n      size=\"tiny\"\n      fullWidth={fullWidth}\n      color={COLOR_MAP[status]}\n      label={t(`signature.status.${status}`)}\n      onClick={onClick}\n    />\n  );\n};\n\nconst SignatureStatus = React.memo(WrappedSignatureStatus);\nexport default SignatureStatus;\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport { Statistics } from 'components/routes/manage/signature_detail';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\nimport SignatureStatus from '../SignatureStatus';\n\nexport type SignatureResult = {\n  classification: string;\n  id: string;\n  last_modified: string;\n  name: string;\n  revision: string;\n  signature_id: string;\n  source: string;\n  stats: Statistics;\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  type: string;\n};\n\ntype SearchResults = {\n  items: SignatureResult[];\n  total: number;\n};\n\ntype SignaturesTableProps = {\n  signatureResults: SearchResults;\n  setSignatureID?: (id: string) => void;\n  allowSort?: boolean;\n};\n\nconst WrappedSignaturesTable: React.FC<SignaturesTableProps> = ({\n  signatureResults,\n  setSignatureID = null,\n  allowSort = true\n}) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return signatureResults ? (\n    signatureResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.type')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"source\" allowSort={allowSort}>\n                {t('header.source')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\" allowSort={allowSort}>\n                {t('header.name')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.count\" allowSort={allowSort}>\n                {t('header.hit_count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.last_hit\" allowSort={allowSort}>\n                {t('header.last_hit')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"status\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {signatureResults.items.map(signature => (\n              <LinkRow\n                key={signature.signature_id}\n                component={Link}\n                to={`/manage/signature/${signature.id}`}\n                onClick={event => {\n                  if (setSignatureID) {\n                    event.preventDefault();\n                    setSignatureID(signature.id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>{signature.type}</DivTableCell>\n                <DivTableCell>{signature.source}</DivTableCell>\n                <DivTableCell>{signature.name}</DivTableCell>\n                <DivTableCell>{signature.stats ? signature.stats.count || 0 : 0}</DivTableCell>\n                <DivTableCell>\n                  {signature.stats && signature.stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {signature.stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('never')\n                  )}\n                </DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={signature.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell>\n                  <SignatureStatus status={signature.status} />\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_signatures_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst SignaturesTable = React.memo(WrappedSignaturesTable);\nexport default SignaturesTable;\n","import {\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport YoutubeSearchedForIcon from '@material-ui/icons/YoutubeSearchedFor';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport Histogram from 'components/visual/Histogram';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport SignatureStatus from 'components/visual/SignatureStatus';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\nexport type Signature = {\n  classification: string;\n  data: string;\n  last_modified: string;\n  name: string;\n  order: number;\n  revision: string;\n  signature_id: string;\n  source: string;\n  state_change_data: string;\n  state_change_user: string;\n  stats: Statistics;\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  type: string;\n};\n\nexport type Statistics = {\n  avg: number;\n  min: number;\n  max: number;\n  count: number;\n  sum: number;\n  last_hit: string;\n  first_hit: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype SignatureDetailProps = {\n  signature_id?: string;\n  onUpdated?: () => void;\n  onDeleted?: () => void;\n};\n\nconst useStyles = makeStyles(theme => ({\n  preview: {\n    padding: theme.spacing(2),\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  stats: {\n    margin: 0,\n    padding: `${theme.spacing(0.75)}px ${theme.spacing(1)}px`\n  },\n  openPaper: {\n    maxWidth: '1200px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst SignatureDetail = ({ signature_id, onUpdated, onDeleted }: SignatureDetailProps) => {\n  const { t, i18n } = useTranslation(['manageSignatureDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [signature, setSignature] = useState<Signature>(null);\n  const [stats, setStats] = useState<Statistics>(null);\n  const [histogram, setHistogram] = useState<any>(null);\n  const [results, setResults] = useState<any>(null);\n  const [open, setOpen] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [modified, setModified] = useState(false);\n  const history = useHistory();\n  const { showSuccessMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { user: currentUser, c12nDef } = useALContext();\n\n  useEffect(() => {\n    if (signature_id || id) {\n      apiCall({\n        url: `/api/v4/signature/${signature_id || id}/`,\n        onSuccess: api_data => {\n          setSignature(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [signature_id, id]);\n\n  useEffect(() => {\n    if (signature) {\n      if (!signature.stats) {\n        apiCall({\n          method: 'POST',\n          url: '/api/v4/search/stats/result/result.score/',\n          body: { query: `result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"` },\n          onSuccess: api_data => {\n            setStats(api_data.api_response);\n          }\n        });\n      } else {\n        setStats(signature.stats);\n      }\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/histogram/result/created/',\n        body: {\n          query: `result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"`,\n          mincount: 0,\n          start: 'now-30d/d',\n          end: 'now+1d/d-1s',\n          gap: '+1d'\n        },\n        onSuccess: api_data => {\n          const chartData = {\n            labels: Object.keys(api_data.api_response).map((key: string) => key.replace('T00:00:00.000Z', '')),\n            datasets: [\n              {\n                label: signature_id || id,\n                data: Object.values(api_data.api_response)\n              }\n            ]\n          };\n          setHistogram(chartData);\n        }\n      });\n      apiCall({\n        method: 'GET',\n        url: `/api/v4/search/result/?query=result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"&rows=10`,\n        onSuccess: api_data => {\n          setResults(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [signature]);\n\n  const closeDialog = () => {\n    setOpen(false);\n  };\n\n  const handleSelectChange = event => {\n    setModified(true);\n    setSignature({ ...signature, status: event.target.value });\n    closeDialog();\n  };\n\n  const handleStateSaveButtonClick = () => {\n    apiCall({\n      url: `/api/v4/signature/change_status/${signature_id || id}/${signature.status}/`,\n      onSuccess: () => {\n        showSuccessMessage(t('change.success'));\n        setModified(false);\n        onUpdated();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const handleExecuteDeleteButtonClick = () => {\n    closeDialog();\n    apiCall({\n      url: `/api/v4/signature/${signature_id || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        if (id) setTimeout(() => history.push('/manage/signatures'), 1000);\n        onDeleted();\n      }\n    });\n  };\n\n  const handleDeleteButtonClick = () => {\n    setDeleteDialog(true);\n  };\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={handleExecuteDeleteButtonClick}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      <Dialog\n        open={open}\n        onClose={closeDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{t('change.title')}</DialogTitle>\n        <DialogContent>\n          <p>{t('change.warning')}</p>\n          <ul>\n            <li>{t('change.warning.1')}</li>\n            <li>{t('change.warning.2')}</li>\n          </ul>\n          <div>{t('change.warning.action')}</div>\n          {signature ? (\n            <Select fullWidth onChange={handleSelectChange} variant=\"outlined\" margin=\"dense\" value={signature.status}>\n              <MenuItem value=\"DEPLOYED\">{t('status.DEPLOYED')}</MenuItem>\n              <MenuItem value=\"NOISY\">{t('status.NOISY')}</MenuItem>\n              <MenuItem value=\"DISABLED\">{t('status.DISABLED')}</MenuItem>\n            </Select>\n          ) : (\n            <Skeleton height={2} />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={closeDialog} color=\"primary\">\n            {t('change.close')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification size=\"tiny\" c12n={signature ? signature.classification : null} />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <Grid container alignItems=\"center\" spacing={3}>\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n            <Typography variant=\"caption\">\n              {signature ? (\n                `${signature.type}_${signature.source}_${signature.signature_id}`\n              ) : (\n                <Skeleton style={{ width: '10rem' }} />\n              )}\n            </Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n            {signature ? (\n              <>\n                <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n                  <Tooltip title={t('usage')}>\n                    <IconButton\n                      component={Link}\n                      style={{ color: theme.palette.action.active }}\n                      to={`/search/result/?query=result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"`}\n                    >\n                      <YoutubeSearchedForIcon />\n                    </IconButton>\n                  </Tooltip>\n                  {(currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1) && (\n                    <Tooltip title={t('remove')}>\n                      <IconButton\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                        onClick={handleDeleteButtonClick}\n                      >\n                        <RemoveCircleOutlineOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                </div>\n                <SignatureStatus\n                  status={signature.status}\n                  onClick={\n                    currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1\n                      ? () => setOpen(true)\n                      : null\n                  }\n                />\n              </>\n            ) : (\n              <>\n                <div style={{ display: 'flex' }}>\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                </div>\n                <Skeleton\n                  variant=\"rect\"\n                  height=\"1rem\"\n                  width=\"6rem\"\n                  style={{\n                    marginBottom: theme.spacing(1),\n                    marginTop: theme.spacing(1),\n                    borderRadius: theme.spacing(1)\n                  }}\n                />\n              </>\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            {signature ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {signature.data}\n              </Paper>\n            ) : (\n              <Skeleton variant=\"rect\" height=\"6rem\" />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('statistics')}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('hits')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.count')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.count : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.first')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? (\n                  stats.first_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.first_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.last')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? (\n                  stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('contribution')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.min')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.min : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.avg')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? Number(stats.avg).toFixed(0) : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.max')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.max : <Skeleton />}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Histogram data={histogram} height={300} isDate title={t('chart.title')} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('last10')}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsTable resultResults={results} allowSort={false} />\n          </Grid>\n        </Grid>\n\n        {signature && modified ? (\n          <div\n            style={{\n              paddingTop: id ? theme.spacing(1) : theme.spacing(2),\n              paddingBottom: id ? theme.spacing(1) : theme.spacing(2),\n              position: id ? 'fixed' : 'inherit',\n              bottom: id ? 0 : 'inherit',\n              left: id ? 0 : 'inherit',\n              width: id ? '100%' : 'inherit',\n              textAlign: id ? 'center' : 'right',\n              zIndex: id ? theme.zIndex.drawer - 1 : 'auto',\n              backgroundColor: id ? theme.palette.background.default : 'inherit',\n              boxShadow: id ? theme.shadows[4] : 'inherit'\n            }}\n          >\n            <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading} onClick={handleStateSaveButtonClick}>\n              {t('change.save')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </div>\n        ) : null}\n      </div>\n    </PageCenter>\n  );\n};\n\nSignatureDetail.defaultProps = {\n  signature_id: null,\n  onUpdated: () => {},\n  onDeleted: () => {}\n};\n\nexport default SignatureDetail;\n","import { Grid, IconButton, Link, makeStyles, Tooltip, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport RecordVoiceOverOutlinedIcon from '@material-ui/icons/RecordVoiceOverOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport SignaturesTable from 'components/visual/SearchResult/signatures';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport SignatureDetail from './signature_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Signatures() {\n  const { t } = useTranslation(['manageSignatures']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [signatureResults, setSignatureResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n  const [suggestions] = useState([\n    ...Object.keys(indexes.signature).filter(name => {\n      return indexes.signature[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      reload(0);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    function handleReload() {\n      reload(signatureResults ? signatureResults.offset : 0);\n    }\n\n    window.addEventListener('reloadSignatures', handleReload);\n\n    return () => {\n      window.removeEventListener('reloadSignatures', handleReload);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, signatureResults]);\n\n  const reload = offset => {\n    query.set('rows', PAGE_SIZE);\n    query.set('offset', offset);\n    apiCall({\n      method: 'POST',\n      url: '/api/v4/search/signature/',\n      body: query.getParams(),\n      onSuccess: api_data => {\n        if (\n          api_data.api_response.items.length === 0 &&\n          api_data.api_response.offset !== 0 &&\n          api_data.api_response.offset >= api_data.api_response.total\n        ) {\n          reload(Math.max(0, api_data.api_response.offset - api_data.api_response.rows));\n        } else {\n          setSignatureResults(api_data.api_response);\n        }\n      },\n      onEnter: () => setSearching(true),\n      onExit: () => setSearching(false)\n    });\n  };\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setSignatureID = useCallback(\n    (sig_id: string) => {\n      setGlobalDrawer(\n        <SignatureDetail signature_id={sig_id} onUpdated={handleSignatureUpdated} onDeleted={handleSignatureDeleted} />\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query]\n  );\n\n  const handleSignatureUpdated = () => {\n    if (!isXL) closeGlobalDrawer();\n    setTimeout(() => window.dispatchEvent(new CustomEvent('reloadSignatures')), 1000);\n  };\n\n  const handleSignatureDeleted = () => {\n    closeGlobalDrawer();\n    setTimeout(() => window.dispatchEvent(new CustomEvent('reloadSignatures')), 1000);\n  };\n\n  return (\n    <PageFullWidth margin={4}>\n      {useMemo(() => {\n        return (\n          <>\n            <div style={{ paddingBottom: theme.spacing(2) }}>\n              <Grid container alignItems=\"center\">\n                <Grid item xs>\n                  <Typography variant=\"h4\">{t('title')}</Typography>\n                </Grid>\n                <Grid item xs style={{ textAlign: 'right' }}>\n                  <Tooltip title={t('download_desc')}>\n                    <IconButton\n                      component={Link}\n                      style={{ color: theme.palette.action.active }}\n                      href={`/api/v4/signature/download/?query=${query ? query.get('query', '*') : '*'}`}\n                    >\n                      <GetAppOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </Grid>\n              </Grid>\n            </div>\n\n            <PageHeader isSticky>\n              <div style={{ paddingTop: theme.spacing(1) }}>\n                <SearchBar\n                  initValue={query ? query.get('query', '') : ''}\n                  placeholder={t('filter')}\n                  searching={searching}\n                  suggestions={suggestions}\n                  onValueChange={onFilterValueChange}\n                  onClear={onClear}\n                  onSearch={onSearch}\n                  buttons={[\n                    {\n                      icon: <RecordVoiceOverOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                      tooltip: t('noisy'),\n                      props: {\n                        onClick: () => {\n                          query.set('query', 'status:NOISY');\n                          history.push(`${location.pathname}?${query.getDeltaString()}`);\n                        }\n                      }\n                    },\n\n                    {\n                      icon: <BlockIcon fontSize={upMD ? 'default' : 'small'} />,\n                      tooltip: t('disabled'),\n                      props: {\n                        onClick: () => {\n                          query.set('query', 'status:DISABLED');\n                          history.push(`${location.pathname}?${query.getDeltaString()}`);\n                        }\n                      }\n                    }\n                  ]}\n                >\n                  {signatureResults !== null && (\n                    <div className={classes.searchresult}>\n                      {signatureResults.total !== 0 && (\n                        <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                          {searching ? (\n                            <span>{t('searching')}</span>\n                          ) : (\n                            <span>\n                              {signatureResults.total}&nbsp;\n                              {query.get('query')\n                                ? t(`filtered${signatureResults.total === 1 ? '' : 's'}`)\n                                : t(`total${signatureResults.total === 1 ? '' : 's'}`)}\n                            </span>\n                          )}\n                        </Typography>\n                      )}\n\n                      <SearchPager\n                        total={signatureResults.total}\n                        setResults={setSignatureResults}\n                        pageSize={pageSize}\n                        index=\"signature\"\n                        query={query}\n                        setSearching={setSearching}\n                      />\n                    </div>\n                  )}\n                </SearchBar>\n              </div>\n            </PageHeader>\n          </>\n        );\n      }, [\n        classes.searchresult,\n        history,\n        location.pathname,\n        onClear,\n        onSearch,\n        pageSize,\n        query,\n        searching,\n        signatureResults,\n        suggestions,\n        t,\n        theme,\n        upMD\n      ])}\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <SignaturesTable signatureResults={signatureResults} setSignatureID={setSignatureID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type WorkflowResult = {\n  classification: string;\n  creation_date: string;\n  creator: string;\n  edited_by: string;\n  hit_count: string;\n  id: string;\n  last_edit: string;\n  last_seen: string;\n  name: string;\n  priority: string;\n  query: string;\n  status: string;\n  workflow_id: string;\n};\n\ntype SearchResults = {\n  items: WorkflowResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype WorkflowTableProps = {\n  workflowResults: SearchResults;\n  setWorkflowID?: (id: string) => void;\n};\n\nconst WrappedWorflowTable: React.FC<WorkflowTableProps> = ({ workflowResults, setWorkflowID = null }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return workflowResults ? (\n    workflowResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"creation_date\">{t('header.created')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"last_seen\">{t('header.lasttimeseen')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\">{t('header.name')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"priority\">{t('header.priority')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"status\">{t('header.status')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"hit_count\">{t('header.hit_count')}</SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\">{t('header.classification')}</SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {workflowResults.items.map(workflow => (\n              <LinkRow\n                key={workflow.workflow_id}\n                component={Link}\n                to={`/manage/workflow/${workflow.workflow_id}`}\n                onClick={event => {\n                  if (setWorkflowID) {\n                    event.preventDefault();\n                    setWorkflowID(workflow.workflow_id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>\n                  <Moment fromNow locale={i18n.language}>\n                    {workflow.creation_date}\n                  </Moment>\n                </DivTableCell>\n                <DivTableCell>\n                  {workflow.last_seen && (\n                    <Moment fromNow locale={i18n.language}>\n                      {workflow.last_seen}\n                    </Moment>\n                  )}\n                </DivTableCell>\n                <DivTableCell>{workflow.name}</DivTableCell>\n                <DivTableCell>{workflow.priority}</DivTableCell>\n                <DivTableCell>{workflow.status}</DivTableCell>\n                <DivTableCell>{workflow.hit_count}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={workflow.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_workflows_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst WorflowTable = React.memo(WrappedWorflowTable);\nexport default WorflowTable;\n","import {\n  Button,\n  CircularProgress,\n  createStyles,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Theme,\n  Tooltip,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Autocomplete, Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst DEFAULT_LABELS = [\n  'PHISHING',\n  'CRIME',\n  'ATTRIBUTED',\n  'WHITELISTED',\n  'FALSE_POSITIVE',\n  'REPORTED',\n  'MITIGATED',\n  'PENDING'\n];\n\nexport type Workflow = {\n  classification: string;\n  creation_date?: number;\n  creator?: string;\n  edited_by?: string;\n  hit_count: number;\n  labels: string[];\n  last_edit?: string;\n  last_seen?: string;\n  name: string;\n  priority: string;\n  query: string;\n  status: string;\n  workflow_id?: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype WorkflowDetailProps = {\n  workflow_id?: string;\n  close?: () => void;\n};\n\nconst MyMenuItem = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      minHeight: theme.spacing(4)\n    }\n  })\n)(MenuItem);\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst WorkflowDetail = ({ workflow_id, close }: WorkflowDetailProps) => {\n  const { t, i18n } = useTranslation(['manageWorkflowDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [workflow, setWorkflow] = useState<Workflow>(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const { c12nDef } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const history = useHistory();\n\n  const DEFAULT_WORKFLOW = {\n    classification: c12nDef.UNRESTRICTED,\n    hit_count: 0,\n    labels: [],\n    name: '',\n    priority: '',\n    query: '',\n    status: ''\n  };\n\n  useEffect(() => {\n    if (workflow_id || id) {\n      apiCall({\n        url: `/api/v4/workflow/${workflow_id || id}/`,\n        onSuccess: api_data => {\n          setWorkflow({\n            ...api_data.api_response,\n            status: api_data.api_response.status || '',\n            priority: api_data.api_response.priority || ''\n          });\n        }\n      });\n    } else {\n      setWorkflow({ ...DEFAULT_WORKFLOW });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [workflow_id, id]);\n\n  const handleNameChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, name: event.target.value });\n  };\n\n  const handleQueryChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, query: event.target.value });\n  };\n\n  const handleLabelsChange = labels => {\n    setModified(true);\n    setWorkflow({ ...workflow, labels: labels.map(label => label.toUpperCase()) });\n  };\n\n  const handlePriorityChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, priority: event.target.value });\n  };\n\n  const handleStatusChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, status: event.target.value });\n  };\n\n  const setClassification = classification => {\n    setModified(true);\n    setWorkflow({ ...workflow, classification });\n  };\n\n  const removeWorkflow = () => {\n    apiCall({\n      url: `/api/v4/workflow/${workflow_id || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        setDeleteDialog(false);\n        showSuccessMessage(t('delete.success'));\n        if (id) {\n          setTimeout(() => history.push('/manage/workflows'), 1000);\n        }\n        setTimeout(() => window.dispatchEvent(new CustomEvent('reloadWorkflows')), 1000);\n        close();\n      }\n    });\n  };\n\n  const saveWorkflow = () => {\n    apiCall({\n      url: workflow_id || id ? `/api/v4/workflow/${workflow_id || id}/` : '/api/v4/workflow/',\n      method: workflow_id || id ? 'POST' : 'PUT',\n      body: {\n        ...workflow,\n        priority: workflow.priority === '' ? null : workflow.priority,\n        status: workflow.status === '' ? null : workflow.status\n      },\n      onSuccess: () => {\n        showSuccessMessage(t(workflow_id || id ? 'save.success' : 'add.success'));\n        setModified(false);\n        setTimeout(() => window.dispatchEvent(new CustomEvent('reloadWorkflows')), 1000);\n        if (!(workflow_id || id)) close();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={removeWorkflow}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification\n            type=\"picker\"\n            c12n={workflow ? workflow.classification : null}\n            setClassification={setClassification}\n          />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t(workflow_id || id ? 'title' : 'add.title')}</Typography>\n              <Typography variant=\"caption\">\n                {workflow ? workflow.workflow_id : <Skeleton style={{ width: '10rem' }} />}\n              </Typography>\n            </Grid>\n            {(workflow_id || id) && (\n              <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n                {workflow ? (\n                  <Tooltip title={t('remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={() => setDeleteDialog(true)}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : (\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                )}\n              </Grid>\n            )}\n          </Grid>\n        </div>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('name')}</Typography>\n            {workflow ? (\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleNameChange}\n                value={workflow.name}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('query')}</Typography>\n            {workflow ? (\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleQueryChange}\n                value={workflow.query}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('labels')}</Typography>\n            {workflow ? (\n              <Autocomplete\n                fullWidth\n                multiple\n                freeSolo\n                options={DEFAULT_LABELS}\n                value={workflow.labels}\n                renderInput={params => <TextField {...params} variant=\"outlined\" />}\n                onChange={(event, value) => handleLabelsChange(value as string[])}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('priority')}</Typography>\n            {workflow ? (\n              <Select\n                id=\"priority\"\n                fullWidth\n                value={workflow.priority}\n                onChange={handlePriorityChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              >\n                <MyMenuItem value=\"\">{t('priority.null')}</MyMenuItem>\n                <MyMenuItem value=\"LOW\">{t('priority.LOW')}</MyMenuItem>\n                <MyMenuItem value=\"MEDIUM\">{t('priority.MEDIUM')}</MyMenuItem>\n                <MyMenuItem value=\"HIGH\">{t('priority.HIGH')}</MyMenuItem>\n                <MyMenuItem value=\"CRITICAL\">{t('priority.CRITICAL')}</MyMenuItem>\n              </Select>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('status')}</Typography>\n            {workflow ? (\n              <Select\n                id=\"priority\"\n                fullWidth\n                value={workflow.status}\n                onChange={handleStatusChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              >\n                <MyMenuItem value=\"\">{t('status.null')}</MyMenuItem>\n                <MyMenuItem value=\"MALICIOUS\">{t('status.MALICIOUS')}</MyMenuItem>\n                <MyMenuItem value=\"NON-MALICIOUS\">{t('status.NON-MALICIOUS')}</MyMenuItem>\n                <MyMenuItem value=\"ASSESS\">{t('status.ASSESS')}</MyMenuItem>\n              </Select>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n        </Grid>\n        <div style={{ textAlign: 'center', paddingTop: theme.spacing(3) }}>\n          {workflow ? (\n            workflow.creator && (\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {`${t('created_by')} ${workflow.creator} `}\n                <Moment fromNow locale={i18n.language}>\n                  {workflow.creation_date}\n                </Moment>\n              </Typography>\n            )\n          ) : (\n            <Skeleton />\n          )}\n          {workflow ? (\n            workflow.edited_by && (\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {`${t('edited_by')} ${workflow.edited_by} `}\n                <Moment fromNow locale={i18n.language}>\n                  {workflow.last_edit}\n                </Moment>\n              </Typography>\n            )\n          ) : (\n            <Skeleton />\n          )}{' '}\n        </div>\n      </div>\n\n      {workflow && modified && workflow.name && workflow.query ? (\n        <div\n          style={{\n            paddingTop: id ? theme.spacing(1) : theme.spacing(2),\n            paddingBottom: id ? theme.spacing(1) : theme.spacing(2),\n            position: id ? 'fixed' : 'inherit',\n            bottom: id ? 0 : 'inherit',\n            left: id ? 0 : 'inherit',\n            width: id ? '100%' : 'inherit',\n            textAlign: id ? 'center' : 'right',\n            zIndex: id ? theme.zIndex.drawer - 1 : 'auto',\n            backgroundColor: id ? theme.palette.background.default : 'inherit',\n            boxShadow: id ? theme.shadows[4] : 'inherit'\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading} onClick={saveWorkflow}>\n            {t(workflow_id || id ? 'save' : 'add.button')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      ) : null}\n    </PageCenter>\n  );\n};\n\nWorkflowDetail.defaultProps = {\n  workflow_id: null,\n  close: () => {}\n};\n\nexport default WorkflowDetail;\n","import { Grid, IconButton, makeStyles, Tooltip, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport EventBusyOutlinedIcon from '@material-ui/icons/EventBusyOutlined';\nimport EventOutlinedIcon from '@material-ui/icons/EventOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport WorkflowTable from 'components/visual/SearchResult/workflow';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport WorkflowDetail from './workflow_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Workflows() {\n  const { t } = useTranslation(['manageWorkflows']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [workflowResults, setWorkflowResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.workflow).filter(name => {\n      return indexes.workflow[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      reload(0);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    function handleReload() {\n      reload(workflowResults ? workflowResults.offset : 0);\n    }\n\n    window.addEventListener('reloadWorkflows', handleReload);\n\n    return () => {\n      window.removeEventListener('reloadWorkflows', handleReload);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, workflowResults]);\n\n  const reload = offset => {\n    query.set('rows', PAGE_SIZE);\n    query.set('offset', offset);\n    apiCall({\n      method: 'POST',\n      url: '/api/v4/search/workflow/',\n      body: query.getParams(),\n      onSuccess: api_data => {\n        if (\n          api_data.api_response.items.length === 0 &&\n          api_data.api_response.offset !== 0 &&\n          api_data.api_response.offset >= api_data.api_response.total\n        ) {\n          reload(Math.max(0, api_data.api_response.offset - api_data.api_response.rows));\n        } else {\n          setWorkflowResults(api_data.api_response);\n        }\n      },\n      onEnter: () => setSearching(true),\n      onExit: () => setSearching(false)\n    });\n  };\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setWorkflowID = useCallback(\n    (wf_id: string) => {\n      setGlobalDrawer(<WorkflowDetail workflow_id={wf_id} close={closeGlobalDrawer} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_workflow')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => setGlobalDrawer(<WorkflowDetail workflow_id={null} close={closeGlobalDrawer} />)}\n              >\n                <AddCircleOutlineOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <EventBusyOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('never_used'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'hit_count:0');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <EventOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('old'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'last_seen:[* TO now-3m]');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {workflowResults !== null && (\n              <div className={classes.searchresult}>\n                {workflowResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {workflowResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${workflowResults.total === 1 ? '' : 's'}`)\n                          : t(`total${workflowResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  total={workflowResults.total}\n                  setResults={setWorkflowResults}\n                  pageSize={pageSize}\n                  index=\"workflow\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <WorkflowTable workflowResults={workflowResults} setWorkflowID={setWorkflowID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { CircularProgress, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction Optout() {\n  const { t } = useTranslation(['optout']);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { getBanner, hideMenus } = useAppLayout();\n\n  useEffect(() => {\n    hideMenus();\n\n    apiCall({\n      body: false,\n      method: 'PUT',\n      url: '/api/v4/user/ui4/',\n      onSuccess: () => {\n        setTimeout(() => {\n          window.location.replace('/');\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <CardCentered>\n      <div style={{ textAlign: 'center' }}>\n        {getBanner(theme)}\n        <div style={{ marginBottom: theme.spacing(3) }}>\n          <Typography>{t('title')}</Typography>\n        </div>\n        <CircularProgress size={24} />\n      </div>\n    </CardCentered>\n  );\n}\n\nexport default Optout;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type AlertResult = {\n  al: {\n    av: string[];\n    score: number;\n  };\n  alert_id: string;\n  classification: string;\n  file: {\n    md5: string;\n    sha1: string;\n    sha256: string;\n    type: string;\n  };\n  filtered: boolean;\n  id: string;\n  label: string[];\n  owner: string;\n  priority: string;\n  reporting_ts: string;\n  status: string;\n  ts: string;\n  type: string;\n};\n\ntype SearchResults = {\n  items: AlertResult[];\n  total: number;\n};\n\ntype AlertsTableProps = {\n  alertResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedAlertsTable: React.FC<AlertsTableProps> = ({ alertResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return alertResults ? (\n    alertResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"reporting_ts\" allowSort={allowSort}>\n                {t('header.reporting_ts')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"al.score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"file.sha256\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"status\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.type')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {alertResults.items.map(alert => (\n              <LinkRow\n                key={alert.id}\n                component={Link}\n                to={`/alerts/${alert.id}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={alert.reporting_ts}>\n                    <Moment fromNow locale={i18n.language}>\n                      {alert.reporting_ts}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={alert.al.score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{alert.file.sha256}</DivTableCell>\n                <DivTableCell>{alert.status}</DivTableCell>\n                <DivTableCell>{alert.type}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={alert.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_alerts_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst AlertsTable = React.memo(WrappedAlertsTable);\nexport default AlertsTable;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type FileResult = {\n  classification: string;\n  entropy: number;\n  id: string;\n  md5: string;\n  seen: {\n    count: number;\n    first: string;\n    last: string;\n  };\n  sha1: string;\n  sha256: string;\n  size: number;\n  type: string;\n};\n\ntype SearchResults = {\n  items: FileResult[];\n  total: number;\n};\n\ntype FilesTableProps = {\n  fileResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedFilesTable: React.FC<FilesTableProps> = ({ fileResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return fileResults ? (\n    fileResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"seen.last\" allowSort={allowSort}>\n                {t('header.lasttimeseen')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"seen.count\" allowSort={allowSort}>\n                {t('header.count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"sha256\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.filetype')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"size\" allowSort={allowSort}>\n                {t('header.size')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {fileResults.items.map(file => (\n              <LinkRow\n                key={file.id}\n                component={Link}\n                to={`/file/detail/${file.sha256}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={file.seen.last}>\n                    <Moment fromNow locale={i18n.language}>\n                      {file.seen.last}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>{file.seen.count}</DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{file.sha256}</DivTableCell>\n                <DivTableCell>{file.type}</DivTableCell>\n                <DivTableCell>{file.size}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={file.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_files_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst FilesTable = React.memo(WrappedFilesTable);\nexport default FilesTable;\n","import { Tooltip } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst STATE_ICON_MAP = {\n  error: <ClearIcon color=\"error\" />,\n  completed: <DoneIcon color=\"primary\" />,\n  submitted: <UpdateIcon color=\"action\" />\n};\n\ntype SubmissionStateProps = {\n  state: string;\n  error_count?: number;\n};\n\nconst WrappedSubmissionState: React.FC<SubmissionStateProps> = ({ state, error_count = 0 }) => {\n  const { t } = useTranslation();\n  const curState = error_count !== 0 ? 'error' : state;\n  const icon = STATE_ICON_MAP[curState];\n\n  return <Tooltip title={t(`submission.state.${curState}`)}>{icon}</Tooltip>;\n};\n\nconst SubmissionState = React.memo(WrappedSubmissionState);\nexport default SubmissionState;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport SubmissionState from 'components/visual/SubmissionState';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type SubmissionResult = {\n  classification: string;\n  error_count: number;\n  file_count: number;\n  id: string;\n  max_score: number;\n  params: {\n    description: string;\n    submitter: string;\n  };\n  sid: string;\n  state: string;\n  times: {\n    submitted: string;\n  };\n};\n\ntype SearchResults = {\n  items: SubmissionResult[];\n  total: number;\n};\n\ntype SubmissionsTableProps = {\n  submissionResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedSubmissionsTable: React.FC<SubmissionsTableProps> = ({ submissionResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return submissionResults ? (\n    submissionResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"times.submitted\" allowSort={allowSort}>\n                {t('header.starttime')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"max_score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <DivTableCell>{t('header.description')}</DivTableCell>\n              <SortableHeaderCell sortField=\"params.submitter\" allowSort={allowSort}>\n                {t('header.user')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"file_count\" allowSort={allowSort}>\n                {t('header.numfiles')}\n              </SortableHeaderCell>\n              {c12nDef && c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"error_count\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {submissionResults.items.map(submission => (\n              <LinkRow\n                key={submission.id}\n                component={Link}\n                to={\n                  submission.state === 'completed'\n                    ? `/submission/${submission.id}`\n                    : `/submission/detail/${submission.id}`\n                }\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={submission.times.submitted}>\n                    <Moment fromNow locale={i18n.language}>\n                      {submission.times.submitted}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={submission.max_score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>\n                  {submission.params.description.length > 150\n                    ? `${submission.params.description.substr(0, 147)}...`\n                    : submission.params.description}\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{submission.params.submitter}</DivTableCell>\n                <DivTableCell>{submission.file_count}</DivTableCell>\n                {c12nDef && c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={submission.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell style={{ textAlign: 'center' }}>\n                  <SubmissionState state={submission.state} error_count={submission.error_count} />\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_submissions_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst SubmissionsTable = React.memo(WrappedSubmissionsTable);\nexport default SubmissionsTable;\n","import {\n  createStyles,\n  IconButton,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  Theme,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport CenterFocusStrongOutlinedIcon from '@material-ui/icons/CenterFocusStrongOutlined';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FolderOutlinedIcon from '@material-ui/icons/FolderOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport AlertsTable from 'components/visual/SearchResult/alerts';\nimport FilesTable from 'components/visual/SearchResult/files';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport SignaturesTable from 'components/visual/SearchResult/signatures';\nimport SubmissionsTable from 'components/visual/SearchResult/submissions';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    tweaked_tabs: {\n      minHeight: 'unset',\n      [theme.breakpoints.up('md')]: {\n        '& [role=tab]': {\n          padding: '8px 20px',\n          fontSize: '13px',\n          minHeight: 'unset',\n          minWidth: 'unset'\n        }\n      },\n      [theme.breakpoints.down('sm')]: {\n        minHeight: 'unset',\n        '& [role=tab]': {\n          fontSize: '12px',\n          minHeight: 'unset',\n          minWidth: 'unset'\n        }\n      }\n    },\n    searchresult: {\n      paddingLeft: theme.spacing(1),\n      color: theme.palette.primary.main,\n      fontStyle: 'italic'\n    }\n  })\n);\n\ntype SearchProps = {\n  index?: string | null;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nfunction Search({ index }: SearchProps) {\n  const { id } = useParams<ParamProps>();\n  const { t } = useTranslation(['search']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const location = useLocation();\n  const history = useHistory();\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const [searchSuggestion, setSearchSuggestion] = useState<string[]>(null);\n  const [tab, setTab] = useState(null);\n  const { showErrorMessage } = useMySnackbar();\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n\n  // Result lists\n  const [submissionResults, setSubmissionResults] = useState<SearchResults>(null);\n  const [fileResults, setFileResults] = useState<SearchResults>(null);\n  const [resultResults, setResultResults] = useState<SearchResults>(null);\n  const [signatureResults, setSignatureResults] = useState<SearchResults>(null);\n  const [alertResults, setAlertResults] = useState<SearchResults>(null);\n\n  const stateMap = {\n    submission: setSubmissionResults,\n    file: setFileResults,\n    result: setResultResults,\n    signature: setSignatureResults,\n    alert: setAlertResults\n  };\n\n  const resMap = {\n    submission: submissionResults,\n    file: fileResults,\n    result: resultResults,\n    signature: signatureResults,\n    alert: alertResults\n  };\n\n  const queryValue = useRef<string>('');\n\n  const handleChangeTab = (event, newTab) => {\n    history.push(`${location.pathname}?${query.toString()}#${newTab}`);\n  };\n\n  const onClear = () => {\n    query.delete('query');\n    history.push(`${location.pathname}?${query.toString()}${location.hash}`);\n  };\n\n  const onSearch = () => {\n    if (queryValue.current !== '') {\n      query.set('query', queryValue.current);\n      history.push(`${location.pathname}?${query.toString()}${location.hash}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    queryValue.current = inputValue;\n  };\n\n  const resetResults = () => {\n    setSubmissionResults(null);\n    setFileResults(null);\n    setResultResults(null);\n    setSignatureResults(null);\n    setAlertResults(null);\n  };\n\n  useEffect(() => {\n    // On index change we need to update the search suggestion\n    setSearchSuggestion([\n      ...Object.keys(indexes[index || id] || {}).filter(name => {\n        return indexes[index || id][name].indexed;\n      }),\n      ...DEFAULT_SUGGESTION\n    ]);\n  }, [index, id, indexes]);\n\n  useEffect(() => {\n    // On location.search change we need to change the query object and reset the results\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n    resetResults();\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    // On location.hash change, we need to change the tab\n    const newTab = location.hash.substring(1, location.hash.length) || index || id || 'submission';\n    setTab(newTab);\n  }, [id, index, location.hash]);\n\n  useEffect(() => {\n    if (query) {\n      queryValue.current = query.get('query', '');\n      if (query.get('query')) {\n        const searchList = [];\n        if (!(index || id)) {\n          searchList.push(...Object.keys(stateMap));\n        } else {\n          searchList.push(tab);\n          if (!searching) setSearching(true);\n        }\n        for (const searchIndex of searchList) {\n          apiCall({\n            method: 'POST',\n            url: `/api/v4/search/${searchIndex}/`,\n            body: { ...query.getParams(), rows: pageSize, offset: 0 },\n            onSuccess: api_data => {\n              stateMap[searchIndex](api_data.api_response);\n            },\n            onFailure: api_data => {\n              if (index || id || !api_data.api_error_message.includes('Rewrite first')) {\n                showErrorMessage(api_data.api_error_message);\n              } else {\n                stateMap[searchIndex]({ total: 0, offset: 0, items: [], rows: pageSize });\n              }\n            },\n            onFinalize: () => {\n              if (index || id) {\n                setSearching(false);\n              }\n            }\n          });\n        }\n      }\n    }\n    // eslint-disable-next-line\n  }, [query]);\n\n  const TabSpacer = props => {\n    return <div style={{ flexGrow: 1 }} />;\n  };\n\n  const SpecialTab = ({ children, ...otherProps }) => {\n    return children;\n  };\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2), textAlign: 'left', width: '100%' }}>\n        <Typography variant=\"h4\">{t(`title_${index || id || 'all'}`)}</Typography>\n      </div>\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            searching={searching}\n            placeholder={t(`search_${index || id || 'all'}`)}\n            suggestions={searchSuggestion}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon:\n                  query && query.get('use_archive') === 'false' ? (\n                    <FolderOutlinedIcon fontSize={downSM ? 'small' : 'default'} />\n                  ) : (\n                    <FolderIcon fontSize={downSM ? 'small' : 'default'} />\n                  ),\n                tooltip:\n                  query && query.get('use_archive') === 'false' ? t('use_archive.turn_on') : t('use_archive.turn_off'),\n                props: {\n                  onClick: () => {\n                    query.set('use_archive', query.get('use_archive') === 'false');\n                    history.push(`${location.pathname}?${query.getDeltaString()}${location.hash}`);\n                  }\n                }\n              }\n            ]}\n          />\n\n          {!(index || id) && query && query.get('query') && (\n            <Paper square style={{ marginBottom: theme.spacing(0.5) }}>\n              <Tabs\n                className={classes.tweaked_tabs}\n                value={tab}\n                onChange={handleChangeTab}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                scrollButtons=\"auto\"\n                variant=\"scrollable\"\n              >\n                <Tab\n                  label={`${t('submission')} (${submissionResults ? submissionResults.total : '...'})`}\n                  value=\"submission\"\n                />\n                <Tab label={`${t('file')} (${fileResults ? fileResults.total : '...'})`} value=\"file\" />\n                <Tab label={`${t('result')} (${resultResults ? resultResults.total : '...'})`} value=\"result\" />\n                <Tab\n                  label={`${t('signature')} (${signatureResults ? signatureResults.total : '...'})`}\n                  value=\"signature\"\n                />\n                <Tab label={`${t('alert')} (${alertResults ? alertResults.total : '...'})`} value=\"alert\" />\n                <TabSpacer />\n                <SpecialTab>\n                  <Tooltip title={t('focus_search')}>\n                    <IconButton\n                      size={downSM ? 'small' : 'medium'}\n                      component={Link}\n                      to={`/search/${tab}${location.search}`}\n                    >\n                      <CenterFocusStrongOutlinedIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                </SpecialTab>\n              </Tabs>\n            </Paper>\n          )}\n          <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap', marginBottom: theme.spacing(0.5) }}>\n            {resMap[tab] && resMap[tab].total !== 0 && (index || id) && (\n              <div className={classes.searchresult}>\n                {`${resMap[tab].total} ${t(resMap[tab].total === 1 ? 'matching_result' : 'matching_results')}`}\n              </div>\n            )}\n            <div style={{ flexGrow: 1 }} />\n            {resMap[tab] && (\n              <SearchPager\n                total={resMap[tab].total}\n                setResults={stateMap[tab]}\n                page={resMap[tab].offset / resMap[tab].rows + 1}\n                pageSize={pageSize}\n                index={tab}\n                query={query}\n                setSearching={setSearching}\n              />\n            )}\n          </div>\n        </div>\n      </PageHeader>\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        {tab === 'submission' && query && query.get('query') && (\n          <SubmissionsTable submissionResults={submissionResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'file' && query && query.get('query') && (\n          <FilesTable fileResults={fileResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'result' && query && query.get('query') && (\n          <ResultsTable resultResults={resultResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'signature' && query && query.get('query') && (\n          <SignaturesTable signatureResults={signatureResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'alert' && query && query.get('query') && (\n          <AlertsTable alertResults={alertResults} allowSort={!!(index || id)} />\n        )}\n      </div>\n    </PageFullWidth>\n  );\n}\n\nSearch.defaultProps = {\n  index: null\n};\n\nexport default Search;\n","import { Checkbox, createStyles, FormControlLabel, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { HiOutlineExternalLink } from 'react-icons/hi';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    item: {\n      width: '100%',\n      '&:hover': {\n        background: theme.palette.action.hover\n      }\n    }\n  })\n);\n\ntype ServiceTreeItemSkelProps = {\n  size: 'medium' | 'small';\n};\n\nfunction ServiceTreeItemSkel({ size = 'medium' }: ServiceTreeItemSkelProps) {\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', paddingBottom: '8px' }}>\n      <Skeleton style={{ height: size === 'medium' ? '2.5rem' : '2rem', width: '1.5rem' }} />\n      <Skeleton style={{ marginLeft: '1rem', height: size === 'medium' ? '2.5rem' : '2rem', width: '100%' }} />\n    </div>\n  );\n}\n\ntype ServiceTreeItemProps = {\n  item: any;\n  onChange: (name: string, category: string) => void;\n  size: 'medium' | 'small';\n};\n\nfunction ServiceTreeItem({ item, onChange, size = 'medium' as 'medium' }: ServiceTreeItemProps) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n  return (\n    <div\n      style={{\n        paddingLeft: sp1,\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid'\n      }}\n    >\n      <FormControlLabel\n        control={\n          <Checkbox\n            size={size}\n            indeterminate={\n              item.services ? !item.services.every(e => e.selected) && !item.services.every(e => !e.selected) : false\n            }\n            checked={item.services ? item.services.some(e => e.selected) : item.selected}\n            name=\"label\"\n            onChange={() => onChange(item.name, item.category)}\n          />\n        }\n        label={\n          <Typography variant={size === 'small' ? 'body2' : 'body1'}>\n            {item.name}\n            {item.is_external && (\n              <HiOutlineExternalLink\n                style={{ fontSize: 'large', verticalAlign: 'middle', marginLeft: theme.spacing(2) }}\n              />\n            )}\n          </Typography>\n        }\n        className={classes.item}\n      />\n      <div style={{ paddingLeft: sp4 }}>\n        {item.services\n          ? item.services.map((service, service_id) => {\n              return <ServiceTreeItem size={size} key={service_id} item={service} onChange={onChange} />;\n            })\n          : null}\n      </div>\n    </div>\n  );\n}\n\ntype SkelItemsProps = {\n  size: 'medium' | 'small';\n  spacing: number;\n};\n\nfunction SkelItems({ size, spacing }: SkelItemsProps) {\n  return (\n    <>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype ServiceTreeProps = {\n  settings: any;\n  setSettings: (settings: any) => void;\n  setModified?: (isModified: boolean) => void;\n  compressed?: boolean;\n  size?: 'medium' | 'small';\n};\n\nconst ServiceTree: React.FC<ServiceTreeProps> = ({\n  settings,\n  setSettings,\n  setModified = null,\n  compressed = false,\n  size = 'medium' as 'medium'\n}) => {\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  function handleServiceChange(name, category) {\n    if (settings) {\n      const newServices = settings.services;\n      if (category) {\n        for (const cat of newServices) {\n          if (cat.name === category) {\n            for (const srv of cat.services) {\n              if (srv.name === name) {\n                srv.selected = !srv.selected;\n                break;\n              }\n            }\n            cat.selected = cat.services.every(e => e.selected);\n            break;\n          }\n        }\n      } else {\n        for (const cat of newServices) {\n          if (cat.name === name) {\n            cat.selected = !cat.selected;\n            for (const srv of cat.services) {\n              srv.selected = cat.selected;\n            }\n            break;\n          }\n        }\n      }\n      if (setModified) {\n        setModified(true);\n      }\n      setSettings({ ...settings, services: newServices });\n    }\n  }\n\n  function sortFunc(a, b) {\n    const nameA = a.name.toUpperCase(); // ignore upper and lowercase\n    const nameB = b.name.toUpperCase(); // ignore upper and lowercase\n    if (nameA < nameB) {\n      return -1;\n    }\n    if (nameA > nameB) {\n      return 1;\n    }\n\n    // names must be equal\n    return 0;\n  }\n\n  return compressed ? (\n    <div\n      style={{\n        paddingTop: sp2,\n        paddingBottom: sp2,\n        columnWidth: '18rem',\n        columnGap: '1rem',\n        columnRuleWidth: '1px',\n        columnRuleStyle: 'dotted',\n        columnRuleColor: theme.palette.divider\n      }}\n    >\n      {settings ? (\n        settings.services.sort(sortFunc).map((category, cat_id) => {\n          return <ServiceTreeItem size={size} key={cat_id} item={category} onChange={handleServiceChange} />;\n        })\n      ) : (\n        <SkelItems size={size} spacing={sp4} />\n      )}\n    </div>\n  ) : settings ? (\n    settings.services.sort(sortFunc).map((category, cat_id) => {\n      return <ServiceTreeItem size={size} key={cat_id} item={category} onChange={handleServiceChange} />;\n    })\n  ) : (\n    <SkelItems size={size} spacing={sp4} />\n  );\n};\n\nexport default ServiceTree;\n","import {\n  Button,\n  CircularProgress,\n  Drawer,\n  IconButton,\n  isWidthDown,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n  useTheme,\n  withWidth\n} from '@material-ui/core';\nimport ChevronRightOutlinedIcon from '@material-ui/icons/ChevronRightOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ServiceTree from 'components/layout/serviceTree';\nimport Classification from 'components/visual/Classification';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype SettingsProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nfunction Settings<SettingsProps>({ width }) {\n  const { t } = useTranslation(['settings']);\n  const theme = useTheme();\n  const [drawerType, setDrawerType] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [settings, setSettings] = useState(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, c12nDef } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    drawer: {\n      width: '500px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100vw'\n      }\n    },\n    row: {\n      height: '62px'\n    },\n    group: {\n      marginTop: '1rem'\n    },\n    skelItem: {\n      display: 'inline-block'\n    },\n    skelButton: {\n      display: 'inline-block',\n      width: '9rem',\n      height: '4rem'\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n\n  function setClassification(value) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, classification: value });\n    }\n  }\n\n  function setTTL(value) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ttl: parseInt(value) });\n    }\n  }\n\n  function toggleDynamicPrevention() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_dynamic_recursion_prevention: !settings.ignore_dynamic_recursion_prevention });\n    }\n  }\n\n  function toggleFiltering() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_filtering: !settings.ignore_filtering });\n    }\n  }\n\n  function toggleCaching() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_cache: !settings.ignore_cache });\n    }\n  }\n\n  function toggleDeepScan() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, deep_scan: !settings.deep_scan });\n    }\n  }\n\n  function toggleProfile() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, profile: !settings.profile });\n    }\n  }\n\n  function handleViewChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, submission_view: event.target.value });\n    }\n  }\n\n  function handleEncodingChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, download_encoding: event.target.value });\n    }\n  }\n\n  function handleScoreChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, expand_min_score: event.target.value });\n    }\n  }\n\n  function saveSettings() {\n    if (settings) {\n      apiCall({\n        url: `/api/v4/user/settings/${currentUser.username}/`,\n        method: 'POST',\n        body: settings,\n        onSuccess: () => {\n          setModified(false);\n          showSuccessMessage(t('success_save'));\n        },\n        onEnter: () => setButtonLoading(true),\n        onExit: () => setButtonLoading(false)\n      });\n    }\n  }\n\n  function toggleDrawer(type) {\n    if (settings) {\n      setDrawerType(type);\n      setDrawerOpen(true);\n    }\n  }\n\n  useEffect(() => {\n    // Load user on start\n    apiCall({\n      url: `/api/v4/user/settings/${currentUser.username}/`,\n      onSuccess: api_data => {\n        setSettings(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <React.Fragment key=\"right\">\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n          <div style={{ alignSelf: 'flex-end' }}>\n            <IconButton onClick={() => setDrawerOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n          <div\n            className={classes.drawer}\n            style={{\n              paddingTop: sp4,\n              paddingBottom: sp6,\n              paddingLeft: sp4,\n              paddingRight: sp4,\n              display: 'flex',\n              flexDirection: 'column'\n            }}\n          >\n            {drawerType &&\n              settings &&\n              {\n                ttl: (\n                  <>\n                    <Typography variant=\"h4\">{t('submissions.ttl')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('submissions.ttl_desc')}\n                    </Typography>\n                    <TextField\n                      autoFocus\n                      type=\"number\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      onChange={event => setTTL(event.target.value)}\n                      value={settings.ttl}\n                      inputProps={{ min: 0, max: 365 }}\n                    />\n                  </>\n                ),\n                view: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.view')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.view_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.submission_view}\n                        onChange={handleViewChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"report\">{t('interface.view_report')}</MenuItem>\n                        <MenuItem value=\"details\">{t('interface.view_details')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                ),\n                encoding: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.encoding')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.encoding_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.download_encoding}\n                        onChange={handleEncodingChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"raw\">{t('interface.encoding_raw')}</MenuItem>\n                        <MenuItem value=\"cart\">{t('interface.encoding_cart')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                ),\n                score: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.score')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.score_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.expand_min_score}\n                        onChange={handleScoreChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"-1000000\">{t('interface.score_-1000000')}</MenuItem>\n                        <MenuItem value=\"0\">{t('interface.score_0')}</MenuItem>\n                        <MenuItem value=\"100\">{t('interface.score_100')}</MenuItem>\n                        <MenuItem value=\"500\">{t('interface.score_500')}</MenuItem>\n                        <MenuItem value=\"2000\">{t('interface.score_2000')}</MenuItem>\n                        <MenuItem value=\"100000000\">{t('interface.score_100000000')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                )\n              }[drawerType]}\n          </div>\n        </Drawer>\n      </React.Fragment>\n\n      <TableContainer className={classes.group} component={Paper}>\n        <Table aria-label={t('submissions')}>\n          <TableHead>\n            <TableRow>\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 3}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('submissions')}\n                </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDynamicPrevention()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.dynamic_recursion')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.dynamic_recursion_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_dynamic_recursion_prevention : true}\n                  disabled={settings === null}\n                  onChange={() => toggleDynamicPrevention()}\n                  color=\"secondary\"\n                  name=\"dynamic_resursion\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleFiltering()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.filtering')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.filtering_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_filtering : true}\n                  disabled={settings === null}\n                  onChange={() => toggleFiltering()}\n                  color=\"secondary\"\n                  name=\"filtering\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleCaching()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.result_caching')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.result_caching_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_cache : true}\n                  disabled={settings === null}\n                  onChange={() => toggleCaching()}\n                  color=\"secondary\"\n                  name=\"result_caching\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDeepScan()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.deep_scan')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.deep_scan_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? settings.deep_scan : true}\n                  disabled={settings === null}\n                  onChange={() => toggleDeepScan()}\n                  color=\"secondary\"\n                  name=\"deep_scan\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleProfile()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.profile')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.profile_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.profile : true}\n                  disabled={settings === null}\n                  onChange={() => toggleProfile()}\n                  color=\"secondary\"\n                  name=\"profile\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('ttl')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('submissions.ttl')}</Typography>\n                  <Typography variant=\"caption\">{t('submissions.ttl_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('submissions.ttl')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('submissions.ttl_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {settings.ttl === 0 ? t('submissions.ttl_forever') : `${settings.ttl} ${t('submissions.ttl_days')}`}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            {c12nDef.enforce && (\n              <TableRow style={{ cursor: 'pointer' }}>\n                {isWidthDown('xs', width) ? null : (\n                  <TableCell>\n                    <Typography variant=\"body1\">{t('submissions.classification')}</Typography>\n                    <Typography variant=\"caption\">{t('submissions.classification_desc')}</Typography>\n                  </TableCell>\n                )}\n                <TableCell colSpan={isWidthDown('xs', width) ? 3 : 2}>\n                  {!isWidthDown('xs', width) ? null : (\n                    <>\n                      <Typography variant=\"body1\">{t('submissions.classification')}</Typography>\n                      <Typography variant=\"caption\" gutterBottom>\n                        {t('submissions.classification_desc')}\n                      </Typography>\n                    </>\n                  )}\n                  <Classification\n                    type=\"picker\"\n                    size=\"small\"\n                    c12n={settings ? settings.classification : null}\n                    setClassification={setClassification}\n                  />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <TableContainer className={classes.group} component={Paper}>\n        <Table aria-label={t('interface')}>\n          <TableHead>\n            <TableRow>\n              <TableCell colSpan={3}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('interface')}\n                </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('view')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.view')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.view_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.view')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.view_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.view_${settings.submission_view}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('encoding')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.encoding')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.encoding_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.encoding')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.encoding_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.encoding_${settings.download_encoding}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('score')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.score')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.score_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.score')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.score_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.score_${settings.expand_min_score}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <Paper className={classes.group}>\n        <div style={{ padding: sp2, textAlign: 'left' }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('service')}\n          </Typography>\n          <ServiceTree settings={settings} setSettings={setSettings} setModified={setModified} compressed />\n        </div>\n      </Paper>\n\n      {settings && modified && (\n        <div\n          style={{\n            paddingTop: sp1,\n            paddingBottom: sp1,\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            width: '100%',\n            zIndex: theme.zIndex.drawer - 1,\n            backgroundColor: theme.palette.background.default,\n            boxShadow: theme.shadows[4]\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveSettings}>\n            {t('save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      )}\n    </PageCenter>\n  );\n}\n\nexport default withWidth()(Settings);\n","export const getErrorTypeFromKey = key => {\n  let eID = key.substr(65, key.length);\n\n  if (eID.indexOf('.e') !== -1) {\n    eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n  }\n\n  if (eID === '21') {\n    return 'down';\n  }\n  if (eID === '12') {\n    return 'retry';\n  }\n  if (eID === '10') {\n    return 'depth';\n  }\n  if (eID === '30') {\n    return 'preempted';\n  }\n  if (eID === '20') {\n    return 'busy';\n  }\n  if (eID === '11') {\n    return 'files';\n  }\n  if (eID === '1') {\n    return 'exception';\n  }\n\n  return 'unknown';\n};\n\nexport const getServiceFromKey = key => {\n  let srv = key.substr(65, key.length);\n\n  if (srv.indexOf('.') !== -1) {\n    srv = srv.substr(0, srv.indexOf('.'));\n  }\n\n  return srv;\n};\n\nexport const getErrorIDFromKey = key => {\n  let eID = key.substr(65, key.length);\n\n  if (eID.indexOf('.e') !== -1) {\n    eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n  }\n\n  return eID;\n};\n\nexport const getHashFromKey = key => {\n  return key.substr(0, 64);\n};\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Attack from 'components/visual/Attack';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype AttackSectionProps = {\n  attack_matrix: any;\n};\n\nconst WrappedAttackSection: React.FC<AttackSectionProps> = ({ attack_matrix }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('attack_matrix')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {attack_matrix\n                ? Object.keys(attack_matrix).map((cat, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{cat.replace(/-/g, ' ')}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {attack_matrix[cat].map(([cid, name, lvl], idx) => {\n                            return (\n                              <Attack\n                                key={`${cid}_${idx}`}\n                                text={name}\n                                lvl={lvl}\n                                highlight_key={getKey('attack_pattern', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [attack_matrix, getKey]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst AttackSection = React.memo(WrappedAttackSection);\n\nexport default AttackSection;\n","import { Collapse, Divider, Link as MaterialLink, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { getErrorTypeFromKey, getHashFromKey, getServiceFromKey } from 'helpers/errors';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype ErrorSectionProps = {\n  sid: string;\n  parsed_errors: {\n    aggregated: {\n      depth: string[];\n      files: string[];\n      retry: string[];\n      down: string[];\n      busy: string[];\n    };\n    listed: string[];\n  };\n};\n\nconst WrappedErrorSection: React.FC<ErrorSectionProps> = ({ sid, parsed_errors }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        style={{\n          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n        }}\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('errors')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <div>\n                {Object.keys(parsed_errors.aggregated).map((errorType, i) => {\n                  return (\n                    parsed_errors.aggregated[errorType].length > 0 && (\n                      <div\n                        key={i}\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                      >\n                        {`${t('errors.aggregated').replace(\n                          '{errorType}',\n                          t(`errors.type.${errorType}`)\n                        )}: ${parsed_errors.aggregated[errorType].join(' | ')}`}\n                      </div>\n                    )\n                  );\n                })}\n                {parsed_errors.listed.map((error, i) => {\n                  return (\n                    <div\n                      key={i}\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                    >\n                      <strong>{getServiceFromKey(error)}</strong>\n                      {t('errors.listed')}\n                      <strong>\n                        <MaterialLink\n                          component={Link}\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                          }}\n                          to={`/submission/detail/${sid}/${getHashFromKey(error)}`}\n                        >\n                          {getHashFromKey(error)}\n                        </MaterialLink>\n                      </strong>\n                      <span style={{ fontSize: 'smaller' }}>\n                        &nbsp;::&nbsp;{t(`errors.type.${getErrorTypeFromKey(error)}`)}\n                      </span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [parsed_errors, sid, theme, t]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst ErrorSection = React.memo(WrappedErrorSection);\n\nexport default ErrorSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Verdict from 'components/visual/Verdict';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  file_item: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  noMaxWidth: {\n    maxWidth: 'none'\n  }\n}));\n\ntype FileItemProps = {\n  children: {\n    [key: string]: FileItemProps;\n  };\n  name: string[];\n  score: number;\n  sha256: string;\n  size: number;\n  truncated: boolean;\n  type: string;\n};\n\ntype FileTreeProps = {\n  tree: {\n    [key: string]: FileItemProps;\n  };\n  sid: string;\n};\n\nconst WrappedFileTreeSection: React.FC<FileTreeProps> = ({ tree, sid }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('tree')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        <div style={{ paddingTop: sp2 }}>\n          {tree !== null ? (\n            <FileTree tree={tree} sid={sid} />\n          ) : (\n            [...Array(3)].map((_, i) => {\n              return (\n                <div style={{ display: 'flex' }} key={i}>\n                  <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '0.5rem' }} />\n                  <Skeleton style={{ flexGrow: 1 }} />\n                </div>\n              );\n            })\n          )}\n        </div>\n      </Collapse>\n    </div>\n  );\n};\n\nconst WrappedFileTree: React.FC<FileTreeProps> = ({ tree, sid }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const history = useHistory();\n  const { isHighlighted } = useHighlighter();\n\n  return (\n    <>\n      {Object.keys(tree).map((sha256, i) => {\n        const item = tree[sha256];\n        return (\n          <div key={i}>\n            <Box\n              className={classes.file_item}\n              onClick={\n                item.sha256\n                  ? () => {\n                      history.push(`/submission/detail/${sid}/${item.sha256}?name=${encodeURI(item.name[0])}`);\n                    }\n                  : null\n              }\n              style={{\n                wordBreak: 'break-word',\n                backgroundColor: isHighlighted(sha256) ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n              }}\n            >\n              <span>\n                <Verdict score={item.score} mono short />\n                {`:: ${item.name.join(' | ')} `}\n                <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>{`[${item.type}]`}</span>\n              </span>\n            </Box>\n            <div style={{ marginLeft: theme.spacing(3) }}>\n              <FileTree tree={item.children} sid={sid} />\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nconst FileTree = React.memo(WrappedFileTree);\nconst FileTreeSection = React.memo(WrappedFileTreeSection);\n\nexport default FileTreeSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Heuristic from 'components/visual/Heuristic';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype HeuristicSectionProps = {\n  heuristics: any;\n};\n\nconst WrappedHeuristicSection: React.FC<HeuristicSectionProps> = ({ heuristics }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('heuristics')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {heuristics\n                ? Object.keys(heuristics).map((lvl, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{t(`verdict.${lvl}`)}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {heuristics[lvl].map(([cid, name], idx) => {\n                            return (\n                              <Heuristic\n                                key={`${cid}_${idx}`}\n                                text={name}\n                                lvl={lvl}\n                                highlight_key={getKey('heuristic', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [getKey, heuristics]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst HeuristicSection = React.memo(WrappedHeuristicSection);\n\nexport default HeuristicSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype InfoSectionProps = {\n  submission: any;\n};\n\nconst WrappedInfoSection: React.FC<InfoSectionProps> = ({ submission }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('information')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.description')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.description : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.groups')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.groups.join(' | ') : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.services.selected')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.services.selected.join(' | ') : <Skeleton />}\n                </Grid>\n\n                {['deep_scan', 'ignore_cache', 'ignore_dynamic_recursion_prevention', 'ignore_filtering'].map(\n                  (k, i) => {\n                    return (\n                      <div key={i} style={{ display: 'contents' }}>\n                        <Grid item xs={4} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500 }}>{t(`params.${k}`)}</span>\n                        </Grid>\n                        <Grid item xs={8} sm={9} lg={10}>\n                          {submission ? (\n                            submission.params[k] ? (\n                              <DoneOutlinedIcon color=\"primary\" />\n                            ) : (\n                              <ClearOutlinedIcon color=\"error\" />\n                            )\n                          ) : (\n                            <Skeleton />\n                          )}\n                        </Grid>\n                      </div>\n                    );\n                  }\n                )}\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.submitter')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.submitter : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('max_score')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission ? <Verdict score={submission.max_score} /> : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('times.submitted')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission ? (\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{submission.times.submitted}</Moment>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('times.completed')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission && submission.times.completed ? (\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{submission.times.completed}</Moment>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [submission]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst InfoSection = React.memo(WrappedInfoSection);\n\nexport default InfoSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype MetaSectionProps = {\n  metadata: any;\n};\n\nconst WrappedMetaSection: React.FC<MetaSectionProps> = ({ metadata }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('metadata')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {metadata\n                ? Object.keys(metadata).map((meta, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500 }}>{meta}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                          {metadata[meta]}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [metadata]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst MetaSection = React.memo(WrappedMetaSection);\n\nexport default MetaSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Tag from 'components/visual/Tag';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype TagSectionProps = {\n  tag_group: string;\n  tags: any;\n};\n\nconst WrappedTagSection: React.FC<TagSectionProps> = ({ tag_group, tags }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography variant=\"h6\" onClick={() => setOpen(!open)} className={classes.title}>\n        {t(tag_group)}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {Object.keys(tags).map((tag_type, i) => {\n                return (\n                  <Grid container key={i}>\n                    <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                      <span style={{ fontWeight: 500 }}>{tag_type}</span>\n                    </Grid>\n                    <Grid item xs={12} sm={9} lg={10}>\n                      {tags[tag_type].map(([value, lvl], idx) => {\n                        return (\n                          <Tag\n                            key={idx}\n                            value={value}\n                            type={tag_type}\n                            lvl={lvl}\n                            highlight_key={getKey(tag_type, value)}\n                          />\n                        );\n                      })}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [getKey, tags]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst TagSection = React.memo(WrappedTagSection);\n\nexport default TagSection;\n","import {\n  Grid,\n  IconButton,\n  LinearProgress,\n  Link as MaterialLink,\n  Snackbar,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport ChromeReaderModeOutlinedIcon from '@material-ui/icons/ChromeReaderModeOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CloudDownloadOutlinedIcon from '@material-ui/icons/CloudDownloadOutlined';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport ReplayOutlinedIcon from '@material-ui/icons/ReplayOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Alert, Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport FileDetail from 'components/visual/FileDetail';\nimport VerdictBar from 'components/visual/VerdictBar';\nimport { getErrorIDFromKey, getServiceFromKey } from 'helpers/errors';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport AttackSection from './detail/attack';\nimport ErrorSection from './detail/errors';\nimport FileTreeSection from './detail/file_tree';\nimport HeuristicSection from './detail/heuristics';\nimport InfoSection from './detail/info';\nimport MetaSection from './detail/meta';\nimport TagSection from './detail/tags';\n\nconst NAMESPACE = '/live_submission';\nconst MESSAGE_TIMEOUT = 5000;\nconst OUTSTANDING_TRIGGER_COUNT = 4;\n\ntype ParamProps = {\n  id: string;\n  fid?: string;\n};\n\nconst resultReducer = (currentResults, newResults) => {\n  if (newResults === null) return null;\n  if (currentResults === null) return newResults;\n\n  return {\n    result: { ...currentResults.result, ...newResults.result },\n    error: { ...currentResults.error, ...newResults.error }\n  };\n};\n\nconst messageReducer = (messages: string[], receivedMessages: string[]) => {\n  if (receivedMessages === null) return [];\n\n  const newMessages = receivedMessages.filter(item => messages.indexOf(item) === -1);\n  if (newMessages.length !== 0) {\n    return [...messages, ...newMessages];\n  }\n  return messages;\n};\n\nconst incrementReducer = (old: number, increment: number) => {\n  if (increment === null) return 0;\n  return old + increment;\n};\n\nexport default function SubmissionDetail() {\n  const { t } = useTranslation(['submissionDetail']);\n  const { id, fid } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [submission, setSubmission] = useState(null);\n  const [summary, setSummary] = useState(null);\n  const [tree, setTree] = useState(null);\n  const [watchQueue, setWatchQueue] = useState(null);\n  const [liveResultKeys, setLiveResultKeys] = useReducer(messageReducer, []);\n  const [liveErrorKeys, setLiveErrorKeys] = useReducer(messageReducer, []);\n  const [processedKeys, setProcessedKeys] = useReducer(messageReducer, []);\n  const [liveResults, setLiveResults] = useReducer(resultReducer, null);\n  const [configuration, setConfiguration] = useState(null);\n  const [liveErrors, setLiveErrors] = useState(null);\n  const [liveTagMap, setLiveTagMap] = useState(null);\n  const [outstanding, setOutstanding] = useState(null);\n  const [loadTrigger, incrementLoadTrigger] = useReducer(incrementReducer, 0);\n  const [socket, setSocket] = useState(null);\n  const [loadInterval, setLoadInterval] = useState(null);\n  const [lastSuccessfulTrigger, setLastSuccessfulTrigger] = useState(0);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const apiCall = useMyAPI();\n  const sp4 = theme.spacing(4);\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const history = useHistory();\n  const { user: currentUser, c12nDef } = useALContext();\n  const { setHighlightMap } = useHighlighter();\n  const { setGlobalDrawer, globalDrawer } = useDrawer();\n\n  const updateLiveSumary = (results: object) => {\n    const tempSummary = summary !== null ? { ...summary } : { tags: {}, heuristics: {}, attack_matrix: {} };\n    const tempTagMap = liveTagMap !== null ? { ...liveTagMap } : {};\n\n    Object.entries(results).forEach(([resultKey, result]) => {\n      const key = resultKey.substr(0, 64);\n\n      if (!Object.hasOwnProperty.call(tempTagMap, key)) {\n        tempTagMap[key] = [];\n      }\n\n      // eslint-disable-next-line guard-for-in\n      for (const sectionID in result.result.sections) {\n        const section = result.result.sections[sectionID];\n        let hType = 'info';\n        if (section.heuristic !== null && section.heuristic !== undefined) {\n          // #1: Get heuristic score\n          if (section.heuristic.score < 100) {\n            hType = 'info';\n          } else if (section.heuristic.score < 1000) {\n            hType = 'suspicious';\n          } else {\n            hType = 'malicious';\n          }\n\n          // #2: Parse heuristics\n          if (!Object.hasOwnProperty.call(tempSummary.heuristics, hType)) {\n            tempSummary.heuristics[hType] = [];\n          }\n\n          let heurExists = false;\n          const heurItem = [section.heuristic.heur_id, section.heuristic.name];\n          for (const i in tempSummary.heuristics[hType]) {\n            if (\n              tempSummary.heuristics[hType][i][0] === heurItem[0] &&\n              tempSummary.heuristics[hType][i][1] === heurItem[1]\n            ) {\n              heurExists = true;\n              break;\n            }\n          }\n\n          if (!heurExists) {\n            tempSummary.heuristics[hType].push(heurItem);\n\n            const heurKey = `heuristic__${section.heuristic.heur_id}`;\n            tempTagMap[key].push(heurKey);\n            if (!Object.hasOwnProperty.call(tempTagMap, heurKey)) {\n              tempTagMap[heurKey] = [];\n            }\n            tempTagMap[heurKey].push(key);\n          }\n\n          // #3: Parse Att&cks\n          if (section.heuristic.attack) {\n            // eslint-disable-next-line guard-for-in\n            for (const i in section.heuristic.attack) {\n              const attack = section.heuristic.attack[i];\n              // eslint-disable-next-line guard-for-in\n              for (const j in attack.categories) {\n                const cat = attack.categories[j];\n                if (!Object.hasOwnProperty.call(tempSummary.attack_matrix, cat)) {\n                  tempSummary.attack_matrix[cat] = [];\n                }\n\n                let attExists = false;\n                const attackItem = [attack.attack_id, attack.pattern, hType];\n                for (const k in tempSummary.attack_matrix[cat]) {\n                  if (\n                    tempSummary.attack_matrix[cat][k][0] === attackItem[0] &&\n                    tempSummary.attack_matrix[cat][k][1] === attackItem[1] &&\n                    tempSummary.attack_matrix[cat][k][2] === attackItem[2]\n                  ) {\n                    attExists = true;\n                    break;\n                  }\n                }\n                if (!attExists) {\n                  tempSummary.attack_matrix[cat].push(attackItem);\n\n                  const attKey = `attack_pattern__${attack.attack_id}`;\n                  tempTagMap[key].push(attKey);\n                  if (!Object.hasOwnProperty.call(tempTagMap, attKey)) {\n                    tempTagMap[attKey] = [];\n                  }\n                  tempTagMap[attKey].push(key);\n                }\n              }\n            }\n          }\n        }\n\n        // #3: Parse Tags\n        // eslint-disable-next-line guard-for-in\n        for (const tagID in section.tags) {\n          const tag = section.tags[tagID];\n          let summaryType = null;\n          if (configuration['submission.tag_types.attribution'].indexOf(tag.type) !== -1) {\n            summaryType = 'attribution';\n          } else if (configuration['submission.tag_types.behavior'].indexOf(tag.type) !== -1) {\n            summaryType = 'behavior';\n          } else if (configuration['submission.tag_types.ioc'].indexOf(tag.type) !== -1) {\n            summaryType = 'ioc';\n          }\n\n          if (summaryType !== null) {\n            if (!Object.hasOwnProperty.call(tempSummary.tags, summaryType)) {\n              tempSummary.tags[summaryType] = {};\n            }\n\n            if (!Object.hasOwnProperty.call(tempSummary.tags[summaryType], tag.type)) {\n              tempSummary.tags[summaryType][tag.type] = [];\n            }\n\n            let exists = false;\n            const tagVal = [tag.value, hType];\n            for (const i in tempSummary.tags[summaryType][tag.type]) {\n              if (\n                tempSummary.tags[summaryType][tag.type][i][0] === tagVal[0] &&\n                tempSummary.tags[summaryType][tag.type][i][1] === tagVal[1]\n              ) {\n                exists = true;\n                break;\n              }\n            }\n\n            if (!exists) {\n              tempSummary.tags[summaryType][tag.type].push(tagVal);\n\n              const tagKey = `${tag.type}__${tag.value}`;\n              tempTagMap[key].push(tagKey);\n              if (!Object.hasOwnProperty.call(tempTagMap, tagKey)) {\n                tempTagMap[tagKey] = [];\n              }\n              tempTagMap[tagKey].push(key);\n            }\n          }\n        }\n      }\n    });\n    setLiveTagMap(tempTagMap);\n    setHighlightMap(tempTagMap);\n    setSummary(tempSummary);\n  };\n\n  const updateLiveFileTree = (results: object) => {\n    const tempTree = tree !== null ? { ...tree } : {};\n\n    const searchFileTree = (sha256: string, currentTree: object) => {\n      let output = [];\n      Object.entries(currentTree).forEach(([key, val]) => {\n        if (Object.keys(val.children).length !== 0) {\n          output = [...output, ...searchFileTree(sha256, val.children)];\n        }\n        if (key === sha256) {\n          output.push(val);\n        }\n      });\n      return output;\n    };\n\n    const getFilenameFromSHA256 = sha256 => {\n      if (submission !== null) {\n        for (const i in submission.files) {\n          if (submission.files[i].sha256 === sha256) {\n            return submission.files[i].name;\n          }\n        }\n      }\n\n      return null;\n    };\n    Object.entries(results).forEach(([resultKey, result]) => {\n      const key = resultKey.substr(0, 64);\n\n      const toUpdate = searchFileTree(key, tempTree);\n\n      if (toUpdate.length === 0) {\n        const fname = getFilenameFromSHA256(key);\n\n        if (fname != null) {\n          tempTree[key] = { children: {}, name: [fname], score: 0, sha256: key, type: 'N/A' };\n          toUpdate.push(tempTree[key]);\n        } else {\n          if (!Object.hasOwnProperty.call(tempTree, 'TBD')) {\n            tempTree.TBD = { children: {}, name: ['Undetermined Parent'], score: 0, type: 'N/A' };\n          }\n\n          tempTree.TBD.children[key] = { children: {}, name: [key], score: 0, sha256: key, type: 'N/A' };\n          toUpdate.push(tempTree.TBD.children[key]);\n        }\n      }\n      const toDelTDB = [];\n      for (const idx in toUpdate) {\n        if (Object.hasOwnProperty.call(toUpdate, idx)) {\n          const item = toUpdate[idx];\n          if (result.result.score !== undefined) {\n            item.score += result.result.score;\n          }\n\n          for (const i in result.response.extracted) {\n            if (Object.hasOwnProperty.call(result.response.extracted, i)) {\n              const { sha256, name } = result.response.extracted[i];\n\n              if (!Object.hasOwnProperty.call(item.children, sha256)) {\n                if (\n                  Object.hasOwnProperty.call(tempTree, 'TBD') &&\n                  Object.hasOwnProperty.call(tempTree.TBD.children, sha256)\n                ) {\n                  item.children[sha256] = tempTree.TBD.children[sha256];\n                  item.children[sha256].name = [name];\n                  if (toDelTDB.indexOf(sha256) === -1) toDelTDB.push(sha256);\n                } else {\n                  item.children[sha256] = { children: {}, name: [name], score: 0, sha256, type: 'N/A' };\n                }\n              } else {\n                item.children[sha256].name.push(name);\n              }\n            }\n          }\n        }\n      }\n\n      for (const idxDel in toDelTDB) {\n        if (Object.hasOwnProperty.call(toDelTDB, idxDel)) {\n          delete tempTree.TBD.children[toDelTDB[idxDel]];\n        }\n      }\n    });\n\n    if (tempTree.TBD && Object.keys(tempTree.TBD.children).length === 0) delete tempTree.TBD;\n    setTree(tempTree);\n  };\n\n  const getParsedErrors = errorList => {\n    const relevantErrors = errors => {\n      return errors.filter(error => {\n        let eID = error.substr(65, error.length);\n\n        if (eID.indexOf('.e') !== -1) {\n          eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n        }\n\n        return ['20', '21', '12', '10', '11'].indexOf(eID) === -1;\n      });\n    };\n    const futileErrors = errors => {\n      const out = {\n        depth: [],\n        files: [],\n        retry: [],\n        down: [],\n        busy: []\n      };\n      errors.forEach(error => {\n        const srv = getServiceFromKey(error);\n        const eID = getErrorIDFromKey(error);\n\n        if (eID === '20') {\n          if (out.busy.indexOf(srv) === -1) {\n            out.busy.push(srv);\n          }\n        }\n        if (eID === '21') {\n          if (out.down.indexOf(srv) === -1) {\n            out.down.push(srv);\n          }\n        } else if (eID === '12') {\n          if (out.retry.indexOf(srv) === -1) {\n            out.retry.push(srv);\n          }\n        } else if (eID === '10') {\n          if (out.depth.indexOf(srv) === -1) {\n            out.depth.push(srv);\n          }\n        } else if (eID === '11') {\n          if (out.files.indexOf(srv) === -1) {\n            out.files.push(srv);\n          }\n        }\n      });\n\n      out.busy.sort();\n      out.down.sort();\n      out.depth.sort();\n      out.files.sort();\n      out.retry.sort();\n\n      return out;\n    };\n\n    return {\n      aggregated: futileErrors(errorList),\n      listed: relevantErrors(errorList)\n    };\n  };\n\n  const parseSubmissionErrors = currentSubmission => {\n    return {\n      ...currentSubmission,\n      parsed_errors: getParsedErrors(currentSubmission.errors)\n    };\n  };\n\n  const resetLiveMode = useCallback(() => {\n    if (socket) {\n      // Disconnect socket\n      socket.disconnect();\n\n      // Reset all live mode states\n      setLiveResultKeys(null);\n      setLiveErrorKeys(null);\n      setProcessedKeys(null);\n      setLiveResults(null);\n      setLiveErrors(null);\n      setLiveTagMap(null);\n      setSocket(null);\n      setOutstanding(null);\n      incrementLoadTrigger(null);\n      setLastSuccessfulTrigger(0);\n      setWatchQueue(null);\n    }\n  }, [socket]);\n\n  const resubmit = useCallback(() => {\n    if (submission != null) {\n      apiCall({\n        url: `/api/v4/submit/resubmit/${submission.sid}/`,\n        onSuccess: api_data => {\n          showSuccessMessage(t('submit.success'));\n          resetLiveMode();\n          setSubmission(null);\n          setSummary(null);\n          setTree(null);\n          setTimeout(() => {\n            history.push(`/submission/detail/${api_data.api_response.sid}`);\n          }, 500);\n        }\n      });\n    }\n  }, [apiCall, history, resetLiveMode, showSuccessMessage, submission, t]);\n\n  const deleteSubmission = () => {\n    if (submission != null) {\n      apiCall({\n        method: 'DELETE',\n        url: `/api/v4/submission/${submission.sid}/`,\n        onSuccess: api_data => {\n          showSuccessMessage(t('delete.success'));\n          setDeleteDialog(false);\n          setTimeout(() => {\n            history.push('/submissions');\n          }, 500);\n        }\n      });\n    }\n  };\n\n  const setVerdict = useCallback(\n    verdict => {\n      if (submission != null && submission.verdict[verdict].indexOf(currentUser.username) === -1) {\n        apiCall({\n          method: 'PUT',\n          url: `/api/v4/submission/verdict/${submission.sid}/${verdict}/`,\n          onSuccess: api_data => {\n            if (!api_data.api_response.success) {\n              return;\n            }\n            const newSubmission = { ...submission };\n            if (verdict === 'malicious') {\n              if (newSubmission.verdict.malicious.indexOf(currentUser.username) === -1) {\n                newSubmission.verdict.malicious.push(currentUser.username);\n              }\n              if (newSubmission.verdict.non_malicious.indexOf(currentUser.username) !== -1) {\n                newSubmission.verdict.non_malicious.splice(\n                  newSubmission.verdict.non_malicious.indexOf(currentUser.username),\n                  1\n                );\n              }\n            } else {\n              if (newSubmission.verdict.non_malicious.indexOf(currentUser.username) === -1) {\n                newSubmission.verdict.non_malicious.push(currentUser.username);\n              }\n              if (newSubmission.verdict.malicious.indexOf(currentUser.username) !== -1) {\n                newSubmission.verdict.malicious.splice(submission.verdict.malicious.indexOf(currentUser.username), 1);\n              }\n            }\n            setSubmission(newSubmission);\n          }\n        });\n      }\n    },\n    [apiCall, currentUser.username, submission]\n  );\n\n  useEffect(() => {\n    apiCall({\n      url: '/api/v4/help/configuration/',\n      onSuccess: api_data => {\n        setConfiguration(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: `/api/v4/submission/${id}/`,\n      onSuccess: api_data => {\n        setSubmission(parseSubmissionErrors(api_data.api_response));\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    if (submission) {\n      if (submission.state === 'completed') {\n        resetLiveMode();\n        apiCall({\n          url: `/api/v4/submission/summary/${id}/`,\n          onSuccess: summ_data => {\n            setHighlightMap(summ_data.api_response.map);\n            setSummary(summ_data.api_response);\n          }\n        });\n        apiCall({\n          url: `/api/v4/submission/tree/${id}/`,\n          onSuccess: tree_data => {\n            setTree(tree_data.api_response.tree);\n          }\n        });\n      } else {\n        if (!socket) {\n          // eslint-disable-next-line no-console\n          console.debug('SocketIO :: Init => Create SocketIO client...');\n          const tempSocket = io(NAMESPACE);\n          tempSocket.on('connect', () => {\n            // eslint-disable-next-line no-console\n            console.debug('SocketIO :: Conn => Connecting to socketIO server...');\n          });\n          tempSocket.on('disconnect', () => {\n            // eslint-disable-next-line no-console\n            console.debug('SocketIO :: Conn => Disconnected from socketIO server...');\n          });\n          setSocket(tempSocket);\n        }\n        setLoadInterval(setInterval(() => incrementLoadTrigger(1), MESSAGE_TIMEOUT));\n\n        apiCall({\n          url: `/api/v4/live/setup_watch_queue/${id}/`,\n          onSuccess: summ_data => {\n            setWatchQueue(summ_data.api_response.wq_id);\n          }\n        });\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [submission]);\n\n  const handleErrorMessage = useCallback(\n    data => {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: onError => ${data.msg}`);\n      showErrorMessage(t('dispatcher.not_responding'), 15000);\n      apiCall({\n        url: `/api/v4/live/setup_watch_queue/${id}/`,\n        onSuccess: summ_data => {\n          setWatchQueue(summ_data.api_response.wq_id);\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  const handleStartMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onStart => ${data.msg}`);\n    setTimeout(() => incrementLoadTrigger(1), 500);\n  };\n\n  const handleStopMessage = useCallback(\n    data => {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: onStop => ${data.msg}`);\n\n      setTimeout(() => {\n        if (loadInterval) clearInterval(loadInterval);\n        setLoadInterval(null);\n        setOutstanding(null);\n        // Loading final submission\n        apiCall({\n          url: `/api/v4/submission/${id}/`,\n          onSuccess: api_data => {\n            setSubmission(parseSubmissionErrors(api_data.api_response));\n          }\n        });\n      }, 2000);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  const handleCacheKeyMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onCacheKey => ${data.msg}`);\n    setLiveResultKeys([data.msg]);\n  };\n\n  const handleCacheKeyErrrorMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onCacheKeyError => ${data.msg}`);\n    setLiveErrorKeys([data.msg]);\n  };\n\n  const resetOutstanding = () => {\n    setLastSuccessfulTrigger(loadTrigger);\n    setOutstanding(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (loadInterval) clearInterval(loadInterval);\n    };\n  }, [loadInterval]);\n\n  useEffect(() => {\n    if (socket) {\n      // eslint-disable-next-line no-console\n      console.debug('SocketIO :: Init => Registering SocketIO Callbacks...');\n      socket.on('error', handleErrorMessage);\n      socket.on('start', handleStartMessage);\n      socket.on('stop', handleStopMessage);\n      socket.on('cachekey', handleCacheKeyMessage);\n      socket.on('cachekeyerr', handleCacheKeyErrrorMessage);\n    }\n\n    return () => {\n      if (socket) socket.disconnect();\n    };\n  }, [socket, handleErrorMessage, handleStopMessage]);\n\n  useEffect(() => {\n    if (watchQueue && socket) {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: emitListen => Listening for messages on watch queue: ${watchQueue}`);\n      socket.emit('listen', { wq_id: watchQueue, from_start: true });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [watchQueue, socket, handleErrorMessage]);\n\n  useEffect(() => {\n    if (submission !== null && globalDrawer === null && fid !== undefined) {\n      history.push(`/submission/detail/${id}`);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalDrawer]);\n\n  useEffect(() => {\n    if (fid) {\n      if (liveResults) {\n        const curFileLiveResults = [];\n        const curFileLiveErrors = [];\n        Object.entries(liveResults.result).forEach(([resultKey, result]) => {\n          if (resultKey.startsWith(fid)) {\n            curFileLiveResults.push(result);\n          }\n        });\n        Object.entries(liveResults.error).forEach(([errorKey, error]) => {\n          if (errorKey.startsWith(fid)) {\n            curFileLiveErrors.push(error);\n          }\n        });\n        setGlobalDrawer(\n          <FileDetail sha256={fid} sid={id} liveResultKeys={liveResultKeys} liveErrors={curFileLiveErrors} />\n        );\n      } else {\n        setGlobalDrawer(<FileDetail sha256={fid} sid={id} />);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fid]);\n\n  useEffect(() => {\n    if (loadTrigger === 0) return;\n\n    // eslint-disable-next-line no-console\n    console.debug('LIVE :: Checking for new keys to load...');\n    const newResults = liveResultKeys.filter(msg => processedKeys.indexOf(msg) === -1);\n    const newErrors = liveErrorKeys.filter(msg => processedKeys.indexOf(msg) === -1);\n    if (newResults.length !== 0 || newErrors.length !== 0) {\n      // eslint-disable-next-line no-console\n      console.debug(`LIVE :: New Results: ${newResults.join(' | ')} - New Errors: ${newErrors.join(' | ')}`);\n      setLiveErrors(getParsedErrors(liveErrorKeys));\n\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/result/multiple_keys/',\n        body: { error: newErrors, result: newResults },\n        onSuccess: api_data => {\n          setLastSuccessfulTrigger(loadTrigger);\n          setProcessedKeys([...newResults, ...newErrors]);\n          setLiveResults(api_data.api_response);\n          updateLiveFileTree(api_data.api_response.result);\n          updateLiveSumary(api_data.api_response.result);\n        }\n      });\n    } else if (\n      loadTrigger >= lastSuccessfulTrigger + OUTSTANDING_TRIGGER_COUNT &&\n      (!outstanding || loadTrigger % OUTSTANDING_TRIGGER_COUNT === 0)\n    ) {\n      // eslint-disable-next-line no-console\n      console.debug('LIVE :: Finding out oustanding services...');\n\n      apiCall({\n        url: `/api/v4/live/outstanding_services/${id}/`,\n        onSuccess: api_data => {\n          setOutstanding(api_data.api_response);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadTrigger]);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={deleteSubmission}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={outstanding !== null}\n        key=\"outstanding\"\n        style={{ top: theme.spacing(8), zIndex: 100 }}\n      >\n        {outstanding &&\n          (Object.keys(outstanding).length > 0 ? (\n            <Alert\n              elevation={6}\n              severity=\"info\"\n              style={{ textAlign: 'left' }}\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={resetOutstanding}\n                  style={{ alignSelf: 'start', margin: '6px 6px 0 0' }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              <span style={{ fontWeight: 500, textAlign: 'left' }}>{t('outstanding.title')}</span>\n              <Grid container style={{ marginTop: theme.spacing(1) }}>\n                <Grid item xs={6}>\n                  <b>{t('outstanding.services')}</b>\n                </Grid>\n                <Grid item xs={6}>\n                  <b>{t('outstanding.files')}</b>\n                </Grid>\n              </Grid>\n              {Object.keys(outstanding).map(service => {\n                return (\n                  <Grid key={service} container>\n                    <Grid item xs={6}>\n                      <b>{service}</b>\n                    </Grid>\n                    <Grid item xs={6}>\n                      {outstanding[service]}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </Alert>\n          ) : (\n            <Alert\n              elevation={6}\n              severity=\"error\"\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={resetOutstanding}\n                  style={{ alignSelf: 'start', margin: '6px 6px 0 0' }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              <div style={{ textAlign: 'left' }}>{t('outstanding.error')}</div>\n            </Alert>\n          ))}\n      </Snackbar>\n      <div style={{ textAlign: 'left' }}>\n        {useMemo(\n          () => (\n            <>\n              {c12nDef.enforce && (\n                <div style={{ paddingBottom: sp4 }}>\n                  <Classification size=\"tiny\" c12n={submission ? submission.classification : null} />\n                </div>\n              )}\n              <div style={{ paddingBottom: sp4 }}>\n                <Grid container>\n                  <Grid item xs>\n                    <div>\n                      <Typography variant=\"h4\">{t('title')}</Typography>\n                      <Typography variant=\"caption\">\n                        {submission ? submission.sid : <Skeleton style={{ width: '10rem' }} />}\n                      </Typography>\n                    </div>\n                    {socket && (\n                      <div\n                        style={{\n                          paddingBottom: theme.spacing(3),\n                          paddingTop: theme.spacing(2),\n                          color:\n                            theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark\n                        }}\n                      >\n                        <PlayCircleOutlineIcon\n                          style={{\n                            height: theme.spacing(2),\n                            width: theme.spacing(2),\n                            verticalAlign: 'sub',\n                            marginRight: theme.spacing(1)\n                          }}\n                        />\n                        {t('live_mode')}\n                        <LinearProgress />\n                      </div>\n                    )}\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={4}>\n                    <div style={{ textAlign: 'right' }}>\n                      <Tooltip title={t('delete')}>\n                        <IconButton\n                          onClick={() => setDeleteDialog(true)}\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                          }}\n                        >\n                          <RemoveCircleOutlineOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('download')}>\n                        <IconButton\n                          component={MaterialLink}\n                          href={`/api/v4/bundle/${submission ? submission.sid : id}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                        >\n                          <CloudDownloadOutlinedIcon color=\"action\" />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('resubmit')}>\n                        <IconButton onClick={resubmit}>\n                          <ReplayOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('report_view')}>\n                        <IconButton component={Link} to={`/submission/report/${submission ? submission.sid : id}`}>\n                          <ChromeReaderModeOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </div>\n                    <div\n                      style={{\n                        textAlign: 'right',\n                        width: '164px',\n                        marginTop: '8px',\n                        marginLeft: 'auto',\n                        marginRight: '12px'\n                      }}\n                    >\n                      {submission ? <VerdictBar verdicts={submission.verdict} /> : <Skeleton />}\n                      <Grid container>\n                        <Grid item xs={5} style={{ textAlign: 'left' }}>\n                          <Tooltip\n                            title={t(\n                              `verdict.${\n                                submission && submission.verdict.malicious.indexOf(currentUser.username) !== -1\n                                  ? 'is'\n                                  : 'set'\n                              }.malicious`\n                            )}\n                          >\n                            <IconButton size=\"small\" onClick={() => setVerdict('malicious')}>\n                              <BugReportOutlinedIcon\n                                style={{\n                                  color:\n                                    submission && submission.verdict.malicious.indexOf(currentUser.username) !== -1\n                                      ? theme.palette.error.dark\n                                      : null\n                                }}\n                              />\n                            </IconButton>\n                          </Tooltip>\n                        </Grid>\n                        <Grid item xs={2} />\n                        <Grid item xs={5} style={{ textAlign: 'right' }}>\n                          <Tooltip\n                            title={t(\n                              `verdict.${\n                                submission && submission.verdict.non_malicious.indexOf(currentUser.username) !== -1\n                                  ? 'is'\n                                  : 'set'\n                              }.non_malicious`\n                            )}\n                          >\n                            <IconButton size=\"small\" onClick={() => setVerdict('non_malicious')}>\n                              <VerifiedUserOutlinedIcon\n                                style={{\n                                  color:\n                                    submission && submission.verdict.non_malicious.indexOf(currentUser.username) !== -1\n                                      ? theme.palette.success.dark\n                                      : null\n                                }}\n                              />\n                            </IconButton>\n                          </Tooltip>\n                        </Grid>\n                      </Grid>\n                    </div>\n                  </Grid>\n                </Grid>\n              </div>\n            </>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [submission, id, socket, theme, t]\n        )}\n\n        <InfoSection submission={submission} />\n\n        {(!submission || Object.keys(submission.metadata).length !== 0) && (\n          <MetaSection metadata={submission ? submission.metadata : null} />\n        )}\n\n        {(!summary || Object.keys(summary.attack_matrix).length !== 0) && (\n          <AttackSection attack_matrix={summary ? summary.attack_matrix : null} />\n        )}\n\n        {(!summary || Object.keys(summary.heuristics).length !== 0) && (\n          <HeuristicSection heuristics={summary ? summary.heuristics : null} />\n        )}\n\n        {summary &&\n          Object.keys(summary.tags).length !== 0 &&\n          Object.keys(summary.tags).map((tag_group, group_idx) => {\n            return (\n              Object.keys(summary.tags[tag_group]).length !== 0 && (\n                <TagSection key={group_idx} tag_group={tag_group} tags={summary.tags[tag_group]} />\n              )\n            );\n          })}\n\n        {submission && submission.state === 'completed' && Object.keys(submission.errors).length !== 0 && (\n          <ErrorSection sid={id} parsed_errors={submission.parsed_errors} />\n        )}\n\n        {submission && submission.state !== 'completed' && liveErrorKeys.length !== 0 && liveErrors !== null && (\n          <ErrorSection sid={id} parsed_errors={liveErrors} />\n        )}\n\n        <FileTreeSection tree={tree} sid={id} />\n      </div>\n    </PageCenter>\n  );\n}\n","import { Tooltip } from '@material-ui/core';\nimport CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst VERDICT_COLOR_MAP = {\n  info: 'default',\n  safe: 'success',\n  suspicious: 'warning',\n  highly_suspicious: 'warning',\n  malicious: 'error'\n};\n\ntype TextVerdictProps = {\n  verdict: string;\n  variant?: 'outlined' | 'default';\n  size?: 'tiny' | 'small' | 'medium';\n  mono?: boolean;\n  fullWidth?: boolean;\n};\n\nconst WrappedTextVerdict: React.FC<TextVerdictProps> = ({\n  verdict,\n  variant = 'default',\n  size = 'tiny',\n  mono = false,\n  fullWidth = false\n}) => {\n  const { t } = useTranslation();\n  const color = VERDICT_COLOR_MAP[verdict];\n\n  return (\n    <Tooltip title={t(`verdict.${verdict}`)}>\n      <span>\n        <CustomChip\n          type=\"rounded\"\n          variant={variant}\n          size={size}\n          label={t(`verdict.${verdict}.short`)}\n          color={color}\n          mono={mono}\n          fullWidth={fullWidth}\n        />\n      </span>\n    </Tooltip>\n  );\n};\n\nconst TextVerdict = React.memo(WrappedTextVerdict);\nexport default TextVerdict;\n","import { makeStyles, Tooltip, useTheme } from '@material-ui/core';\nimport { scaleLinear } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  circle: {\n    position: 'relative',\n    zIndex: 1,\n    top: '-90px',\n    left: '15px',\n    borderRadius: '50%',\n    width: '70px',\n    height: '70px',\n    boxShadow: theme.shadows[2],\n    backgroundColor: theme.palette.background.paper,\n    textAlign: 'center',\n    '@media print': {\n      backgroundColor: '#FFFFFF'\n    }\n  },\n  text: {\n    fontSize: '30px',\n    lineHeight: '30px',\n    paddingTop: '15px',\n    fontWeight: 900,\n    color: theme.palette.text.secondary,\n    '@media print': {\n      color: '#00000066'\n    }\n  },\n  under_text: {\n    fontSize: '13px',\n    lineHeight: '13px',\n    fontWeight: 300,\n    color: theme.palette.text.secondary,\n    '@media print': {\n      color: '#00000066'\n    }\n  }\n}));\n\ntype VerdictGaugeProps = {\n  verdicts: {\n    malicious: any[];\n    non_malicious: any[];\n  };\n  max?: number;\n  colorBack?: string;\n};\n\nconst VerdictGauge: React.FC<VerdictGaugeProps> = ({ verdicts, max = 20, colorBack = '#68686815' }) => {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const theme = useTheme();\n  const colorMalicious = theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark;\n  const colorNonMalicious = theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark;\n\n  const backgroundArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI)\n    .endAngle(Math.PI)\n    .cornerRadius(0)();\n  const percentScale = scaleLinear().domain([0, max]).range([0, 1]);\n\n  const angleScaleRight = scaleLinear().domain([0, 1]).range([0, Math.PI]).clamp(true);\n  const filledArcRight = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(0)\n    .endAngle(angleScaleRight(percentScale(verdicts.malicious.length)))\n    .cornerRadius(0)();\n\n  const angleScaleLeft = scaleLinear().domain([0, 1]).range([0, -Math.PI]).clamp(true);\n  const filledArcLeft = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(angleScaleLeft(percentScale(verdicts.non_malicious.length)))\n    .endAngle(0)\n    .cornerRadius(0)();\n\n  return (\n    <div>\n      <Tooltip\n        title={`${t('verdict.non_malicious')}: ${verdicts.non_malicious.length} / ${t('verdict.malicious')}: ${\n          verdicts.malicious.length\n        }`}\n      >\n        <div style={{ width: '100px', height: '100px', display: 'block' }}>\n          <svg style={{ position: 'relative', width: '100px', height: '100px' }} viewBox={[-1, -1, 2, 1].join(' ')}>\n            <g style={{ transform: 'translateY(-50%)' }}>\n              <path d={backgroundArc} fill={colorBack} />\n              <path d={filledArcLeft} fill={colorNonMalicious} />\n              <path d={filledArcRight} fill={colorMalicious} />\n            </g>\n          </svg>\n          <div className={classes.circle}>\n            <div\n              className={classes.text}\n              style={{\n                color:\n                  verdicts.non_malicious.length > verdicts.malicious.length\n                    ? colorNonMalicious\n                    : verdicts.malicious.length > verdicts.non_malicious.length\n                    ? colorMalicious\n                    : null\n              }}\n            >\n              {verdicts.non_malicious.length > verdicts.malicious.length\n                ? verdicts.non_malicious.length\n                : verdicts.malicious.length}\n            </div>\n            <div className={classes.under_text}>{`/ ${verdicts.non_malicious.length + verdicts.malicious.length}`}</div>\n          </div>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default VerdictGauge;\n","import {\n  Divider,\n  Grid,\n  Hidden,\n  IconButton,\n  makeStyles,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport MoodBadIcon from '@material-ui/icons/MoodBad';\nimport PrintOutlinedIcon from '@material-ui/icons/PrintOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport TextVerdict from 'components/visual/TextVerdict';\nimport Verdict from 'components/visual/Verdict';\nimport VerdictGauge from 'components/visual/VerdictGauge';\nimport { bytesToSize, scoreToVerdict } from 'helpers/utils';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    display: 'inline-flex',\n    width: theme.spacing(16),\n    height: theme.spacing(16),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.down('xs')]: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n      marginRight: 0\n    }\n  },\n  banner_title: {\n    fontWeight: 500,\n    fontSize: '200%',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '180%'\n    }\n  },\n  divider: {\n    '@media print': {\n      backgroundColor: '#0000001f !important'\n    }\n  },\n  file_details: {\n    fontFamily: 'monospace',\n    color: theme.palette.text.secondary,\n    wordBreak: 'break-word',\n    paddingBottom: '4px',\n    '@media print': {\n      color: 'rgba(0, 0, 0, 0.54)'\n    }\n  },\n  icon: {\n    marginLeft: '24px',\n    marginRight: '36px',\n    fontSize: '400%',\n    [theme.breakpoints.down('xs')]: {\n      marginLeft: '16px',\n      marginRight: '20px',\n      fontSize: '350%'\n    },\n    '@media print': {\n      marginLeft: '24px',\n      marginRight: '36px',\n      fontSize: '400%'\n    }\n  },\n  malicious_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#f2000015 !important',\n    borderBottom: '1px solid #d9534f !important'\n  },\n  suspicious_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#ff970015 !important',\n    borderBottom: '1px solid #f0ad4e !important'\n  },\n  info_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#6e6e6e15 !important',\n    borderBottom: '1px solid #aaa !important'\n  }\n}));\n\nfunction AttributionBanner({ report }) {\n  const { t } = useTranslation(['submissionReport']);\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classes = useStyles();\n  const score = report ? report.max_score : 0;\n\n  const BANNER_COLOR_MAP = {\n    info: {\n      icon: <HelpOutlineIcon className={classes.icon} />,\n      bgColor: '#6e6e6e15',\n      textColor: theme.palette.type === 'dark' ? '#AAA' : '#888'\n    },\n    safe: {\n      icon: <VerifiedUserOutlinedIcon className={classes.icon} />,\n      bgColor: '#00f20015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n    },\n    suspicious: {\n      icon: <MoodBadIcon className={classes.icon} />,\n      bgColor: '#ff970015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    highly_suspicious: {\n      icon: <MoodBadIcon className={classes.icon} />,\n      bgColor: '#ff970015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    malicious: {\n      icon: <BugReportOutlinedIcon className={classes.icon} />,\n      bgColor: '#f2000015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n    }\n  };\n\n  const { bgColor, icon, textColor } = BANNER_COLOR_MAP[scoreToVerdict(score)];\n  const implant =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.implant']\n      ? Object.keys(report.tags.attributions['attribution.implant']).join(' | ')\n      : null;\n  const family =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.family']\n      ? Object.keys(report.tags.attributions['attribution.family']).join(' | ')\n      : null;\n  const actor =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.actor']\n      ? Object.keys(report.tags.attributions['attribution.actor']).join(' | ')\n      : null;\n\n  return (\n    <div\n      style={{\n        marginBottom: sp2,\n        marginTop: sp2,\n        padding: sp1,\n        backgroundColor: bgColor,\n        border: `solid 1px ${textColor}`,\n        borderRadius: '4px'\n      }}\n    >\n      <Grid container alignItems=\"center\" justify=\"center\">\n        <Hidden smDown>\n          <Grid item xs style={{ color: textColor }}>\n            {icon}\n          </Grid>\n        </Hidden>\n        <Grid item xs style={{ flexGrow: 10 }}>\n          <div className={classes.banner_title}>\n            {report ? <Verdict type=\"text\" size=\"medium\" score={report.max_score} /> : <Skeleton />}\n          </div>\n          <table width={report ? null : '100%'} style={{ borderSpacing: 0 }}>\n            <tbody>\n              <tr>\n                {report ? (\n                  implant && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('implant')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.implant']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n              <tr>\n                {report ? (\n                  family && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('family')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.family']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n              <tr>\n                {report ? (\n                  actor && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('actor')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.actor']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n            </tbody>\n          </table>\n        </Grid>\n        <Grid item xs style={{ color: textColor, paddingLeft: sp1, paddingRight: sp1 }}>\n          {report ? (\n            <VerdictGauge verdicts={report.verdict} />\n          ) : (\n            <Skeleton variant=\"circle\" height=\"100px\" width=\"100px\" />\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nfunction TagTable({ group, items }) {\n  const { t } = useTranslation(['submissionReport']);\n  const theme = useTheme();\n  const orderedItems = {};\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classes = useStyles();\n\n  Object.keys(items).map(tagType =>\n    Object.keys(items[tagType]).map(tagValue => {\n      const key = `${items[tagType][tagValue].h_type}_${tagType}`;\n      if (!Object.hasOwnProperty.call(orderedItems, key)) {\n        orderedItems[key] = { verdict: items[tagType][tagValue].h_type, type: tagType, values: [] };\n      }\n      orderedItems[key].values.push(tagValue);\n      return null;\n    })\n  );\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n      <Typography variant=\"h6\">{t(`tag.${group}`)}</Typography>\n      <Divider className={classes.divider} />\n      <div\n        style={{\n          paddingTop: sp2,\n          paddingBottom: sp2,\n          paddingLeft: sp1,\n          paddingRight: sp1\n        }}\n      >\n        <Grid container spacing={1}>\n          {Object.keys(orderedItems).map((k, idx) => {\n            return (\n              <Grid key={idx} style={{ marginBottom: sp2, paddingLeft: sp1, paddingRight: sp1, minWidth: '21rem' }}>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <div style={{ display: 'flex', minWidth: '5rem' }}>\n                      <TextVerdict verdict={orderedItems[k].verdict} mono />\n                      <Tooltip title={orderedItems[k].type}>\n                        <span style={{ fontSize: '110%', flexGrow: 1, textTransform: 'capitalize' }}>\n                          {orderedItems[k].type.split('.').pop().replace('_', ' ')}\n                        </span>\n                      </Tooltip>\n                    </div>\n                  </Grid>\n                  <Grid item>\n                    {orderedItems[k].values.map((v, vidx) => {\n                      return (\n                        <div\n                          key={vidx}\n                          style={{\n                            paddingBottom: '5px',\n                            wordBreak: 'break-word'\n                          }}\n                        >\n                          {v}\n                        </div>\n                      );\n                    })}\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </div>\n  );\n}\n\nfunction AttackMatrixBlock({ attack, items }) {\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  return (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid',\n        paddingBottom: sp2\n      }}\n    >\n      <span style={{ fontSize: '1rem', textTransform: 'capitalize' }}>{attack.replace(/-/g, ' ')}</span>\n      {Object.keys(items).map((cat, idx) => {\n        return (\n          <div key={idx}>\n            <TextVerdict verdict={items[cat].h_type} mono />\n            <span style={{ verticalAlign: 'middle' }}>{cat}</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction AttackMatrixSkel() {\n  return (\n    <div\n      style={{\n        paddingBottom: '1rem',\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid'\n      }}\n    >\n      <Skeleton style={{ height: '2rem' }} />\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '8px' }} />\n        <Skeleton style={{ height: '2rem', flexGrow: 1 }} />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '8px' }} />\n        <Skeleton style={{ height: '2rem', flexGrow: 1 }} />\n      </div>\n    </div>\n  );\n}\n\nfunction HeuristicsList({ verdict, items }) {\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classMap = {\n    malicious: classes.malicious_heur,\n    suspicious: classes.suspicious_heur,\n    info: classes.info_heur\n  };\n\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        minWidth: '200px'\n      }}\n    >\n      <div className={classMap[verdict]} style={{ marginBottom: sp2, marginTop: sp2, fontSize: '1.2rem' }}>\n        {t(`verdict.${verdict}`)}\n      </div>\n      <div style={{ paddingLeft: sp1, paddingRight: sp1 }}>\n        {Object.keys(items).map((heur, idx) => {\n          return (\n            <div key={idx} style={{ fontSize: '1rem', verticalAlign: 'middle', paddingBottom: '2px' }}>\n              {heur}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction HeuristicsListSkel() {\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        margin: 5\n      }}\n    >\n      <Skeleton style={{ height: '3.5rem' }} />\n\n      <Skeleton style={{ height: '2rem' }} />\n      <Skeleton style={{ height: '2rem' }} />\n      <Skeleton style={{ height: '2rem' }} />\n    </div>\n  );\n}\n\nfunction FileTree({ tree, important_files }) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      {Object.keys(tree).map((f, i) => {\n        return important_files.indexOf(f) !== -1 ? (\n          <div key={i} style={{ pageBreakInside: 'avoid' }}>\n            <table style={{ borderSpacing: 0 }}>\n              <tbody>\n                <tr>\n                  <td style={{ verticalAlign: 'top' }}>\n                    <Verdict score={tree[f].score} short mono />\n                  </td>\n                  <td>\n                    <b style={{ fontSize: '110%', wordBreak: 'break-word' }}>{tree[f].name.join(' | ')}</b>\n                  </td>\n                </tr>\n                <tr>\n                  <td />\n                  <td>\n                    <div className={classes.file_details}>\n                      {`${tree[f].sha256} - ${tree[f].type} - `}\n                      <b>{tree[f].size}</b>\n                      <span style={{ fontWeight: 300 }}> ({bytesToSize(tree[f].size)})</span>\n                    </div>\n                  </td>\n                </tr>\n                <tr>\n                  <td />\n                  <td>\n                    <FileTree tree={tree[f].children} important_files={important_files} />\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        ) : null;\n      })}\n    </div>\n  );\n}\n\nfunction FileTreeSkel() {\n  function FileItemSkel() {\n    return (\n      <>\n        <div style={{ display: 'flex' }}>\n          <Skeleton style={{ height: '2rem', width: '2rem' }} />\n          <Skeleton style={{ height: '2rem', marginLeft: '1rem', flexGrow: 1 }} />\n        </div>\n        <Skeleton />\n        <Skeleton />\n        <Skeleton />\n      </>\n    );\n  }\n\n  return (\n    <div>\n      <FileItemSkel />\n      <div style={{ marginLeft: '2rem' }}>\n        <FileItemSkel />\n      </div>\n    </div>\n  );\n}\n\nexport default function SubmissionReport() {\n  const { t } = useTranslation(['submissionReport']);\n  const { id } = useParams<ParamProps>();\n  const { c12nDef } = useALContext();\n  const history = useHistory();\n  const theme = useTheme();\n  const [report, setReport] = useState(null);\n  const apiCall = useMyAPI();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const classes = useStyles();\n  const { showErrorMessage, showWarningMessage } = useMySnackbar();\n  const isPrinting = useMediaQuery('print');\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/submission/report/${id}/`,\n      onSuccess: api_data => {\n        setReport(api_data.api_response);\n      },\n      onFailure: api_data => {\n        if (api_data.api_status_code === 425) {\n          showWarningMessage(t('error.too_early'));\n          history.replace(`/submission/detail/${id}`);\n        } else if (api_data.api_status_code === 404) {\n          showErrorMessage(t('error.notfound'));\n          history.replace('/notfound');\n        } else {\n          showErrorMessage(api_data.api_error_message);\n        }\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter\n      mt={isPrinting ? 0 : 4}\n      mb={isPrinting ? 0 : 4}\n      ml={isPrinting ? 2 : 4}\n      mr={isPrinting ? 2 : 4}\n      width=\"100%\"\n    >\n      <div style={{ textAlign: 'left' }}>\n        {c12nDef.enforce && (\n          <div style={{ paddingBottom: sp4 }}>\n            <Classification size=\"tiny\" c12n={report ? report.classification : null} />\n          </div>\n        )}\n\n        {c12nDef.enforce && (\n          <div className=\"print-footer print-only\">\n            {`${t('title')} :: ${id} :: `}\n            <Classification type=\"text\" size=\"tiny\" c12n={report ? report.classification : null} />\n          </div>\n        )}\n        <div style={{ paddingBottom: sp2 }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <div>\n                <Typography variant=\"h4\">{t('title')}</Typography>\n                <Typography variant=\"caption\">\n                  {report ? report.sid : <Skeleton style={{ width: '10rem' }} />}\n                </Typography>\n              </div>\n            </Grid>\n            <Grid item className=\"print-only\">\n              <img\n                src={`${process.env.PUBLIC_URL}/images/banner.svg`}\n                alt=\"Assemblyline Banner\"\n                style={{ height: '72px' }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} className=\"no-print\">\n              <div style={{ textAlign: 'right' }}>\n                <Tooltip title={t('print')}>\n                  <IconButton onClick={() => window.print()}>\n                    <PrintOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={t('detail_view')}>\n                  <IconButton component={Link} to={`/submission/detail/${report ? report.sid : id}`}>\n                    <ListAltOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n\n        <AttributionBanner report={report} />\n\n        <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n          <Typography variant=\"h6\">{t('general')}</Typography>\n          <Divider className={classes.divider} />\n          <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n            <Grid container spacing={1}>\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.name')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                {report ? report.files[0].name : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.description')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                {report ? report.params.description : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={12}>\n                <div style={{ height: sp2 }} />\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.date')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? <Moment date={report.times.submitted} /> : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.user')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.params.submitter : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.services')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.params.services.selected.join(' | ') : <Skeleton />}\n              </Grid>\n\n              {report && report.params.services.errors.length !== 0 && (\n                <>\n                  <Grid item xs={4} sm={3} lg={2}>\n                    <span style={{ fontWeight: 500 }}>{t('submission.services.errors')}</span>\n                  </Grid>\n                  <Grid item xs={8} sm={9} lg={10}>\n                    <span\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                    >\n                      {report.params.services.errors.join(' | ')}\n                    </span>\n                  </Grid>\n                </>\n              )}\n\n              <Grid item xs={12}>\n                <div style={{ height: sp2 }} />\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.type')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.type : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.mime')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.mime : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.magic')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.magic : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.size')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.size : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.md5')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.md5 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.sha1')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.sha1 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.sha256')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.sha256 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.ssdeep')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.ssdeep : <Skeleton />}\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        {(!report || Object.keys(report.metadata).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('metadata')}</Typography>\n            <Divider className={classes.divider} />\n            <table style={{ paddingBottom: sp2, paddingTop: sp2, width: '100%' }}>\n              <tbody>\n                {report\n                  ? Object.keys(report.metadata).map((meta, i) => {\n                      return (\n                        <tr key={i}>\n                          <td style={{ width: '20%' }}>\n                            <span style={{ fontWeight: 500 }}>{meta}</span>\n                          </td>\n                          <td style={{ paddingLeft: sp1, width: '80%', wordBreak: 'break-word' }}>\n                            {report.metadata[meta]}\n                          </td>\n                        </tr>\n                      );\n                    })\n                  : [...Array(3)].map((_, i) => {\n                      return (\n                        <tr key={i} style={{ width: '100%' }}>\n                          <td width=\"33%\">\n                            <Skeleton />\n                          </td>\n                          <td width=\"67%\">\n                            <Skeleton />\n                          </td>\n                        </tr>\n                      );\n                    })}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {(!report || Object.keys(report.attack_matrix).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('attack')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                paddingTop: sp2,\n                paddingBottom: sp2,\n                columnWidth: '21rem',\n                columnGap: '1rem'\n              }}\n            >\n              {report\n                ? Object.keys(report.attack_matrix).map((att, i) => {\n                    return <AttackMatrixBlock key={i} attack={att} items={report.attack_matrix[att]} />;\n                  })\n                : [...Array(5)].map((_, i) => {\n                    return <AttackMatrixSkel key={i} />;\n                  })}\n            </div>\n          </div>\n        )}\n\n        {(!report ||\n          Object.keys(report.heuristics.malicious).length !== 0 ||\n          Object.keys(report.heuristics.suspicious).length !== 0 ||\n          Object.keys(report.heuristics.info).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('heuristics')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                display: 'flex',\n                flexWrap: 'wrap'\n              }}\n            >\n              {report ? (\n                <>\n                  {Object.keys(report.heuristics.malicious).length !== 0 && (\n                    <HeuristicsList verdict=\"malicious\" items={report.heuristics.malicious} />\n                  )}\n                  {Object.keys(report.heuristics.suspicious).length !== 0 && (\n                    <HeuristicsList verdict=\"suspicious\" items={report.heuristics.suspicious} />\n                  )}\n                  {Object.keys(report.heuristics.info).length !== 0 && (\n                    <HeuristicsList verdict=\"info\" items={report.heuristics.info} />\n                  )}\n                </>\n              ) : (\n                [...Array(3)].map((_, i) => {\n                  return <HeuristicsListSkel key={i} />;\n                })\n              )}\n            </div>\n          </div>\n        )}\n\n        {report &&\n          Object.keys(report.tags).length !== 0 &&\n          Object.keys(report.tags).map((tagGroup, groupIdx) => {\n            return <TagTable key={groupIdx} group={tagGroup} items={report.tags[tagGroup]} />;\n          })}\n\n        {(!report || report.important_files.length !== 0) && (\n          <div style={{ paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('important_files')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                paddingTop: sp2\n              }}\n            >\n              {report ? (\n                <FileTree\n                  tree={report.file_tree[report.files[0].sha256].children}\n                  important_files={report.important_files}\n                />\n              ) : (\n                <FileTreeSkel />\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </PageCenter>\n  );\n}\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport SubmissionsTable, { SubmissionResult } from 'components/visual/SearchResult/submissions';\nimport 'moment/locale/fr';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  }\n}));\n\ntype SearchResults = {\n  items: SubmissionResult[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Submissions() {\n  const { t } = useTranslation(['submissions']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [submissionResults, setSubmissionResults] = useState<SearchResults>(null);\n  const [searching, setSearching] = useState(false);\n  const { user: currentUser, indexes } = useALContext();\n  const history = useHistory();\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const filterValue = useRef<string>('');\n  const classes = useStyles();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.submission).filter(name => {\n      return indexes.submission[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n\n  const onClear = () => {\n    history.push(location.pathname);\n  };\n\n  const onSearch = () => {\n    if (filterValue.current !== '') {\n      query.set('query', filterValue.current);\n      history.push(`${location.pathname}?${query.toString()}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  useEffect(() => {\n    setSearching(true);\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/submission/',\n        body: query.getParams(),\n        onSuccess: api_data => {\n          setSubmissionResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <PersonIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('my_submission'),\n                props: {\n                  onClick: () => {\n                    query.set('query', `params.submitter:\"${currentUser.username}\"`);\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <AssignmentTurnedInIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('completed_submissions'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'state:completed');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <BugReportIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('malicious_submissions'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'max_score:>1000');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {submissionResults !== null && (\n              <div className={classes.searchresult}>\n                {submissionResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {submissionResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${submissionResults.total === 1 ? '' : 's'}`)\n                          : t(`total${submissionResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  total={submissionResults.total}\n                  setResults={setSubmissionResults}\n                  pageSize={pageSize}\n                  index=\"submission\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <SubmissionsTable submissionResults={submissionResults} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useTranslation } from 'react-i18next';\nimport { AiOutlineSecurityScan } from 'react-icons/ai';\n\ntype FileDropperProps = {\n  file: File;\n  setFile: (file: File) => void;\n  disabled: boolean;\n};\n\nexport default function FileDropper({ file, setFile, disabled }: FileDropperProps) {\n  const { t } = useTranslation(['submit']);\n  const { acceptedFiles, getRootProps, getInputProps, isDragActive } = useDropzone({ disabled });\n  const useStyles = ctrlDisabled => {\n    return makeStyles(theme => ({\n      drop_zone: {\n        flex: '1',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: theme.spacing(3),\n        backgroundColor: theme.palette.action.hover,\n        outline: 'none',\n        border: `2px ${theme.palette.action.disabled} dashed`,\n        borderRadius: '6px',\n        color: theme.palette.action.disabled,\n        '&:hover': {\n          border: !ctrlDisabled ? `2px ${theme.palette.text.disabled} dashed` : null,\n          backgroundColor: !ctrlDisabled ? theme.palette.action.selected : null,\n          color: !ctrlDisabled ? theme.palette.text.disabled : null,\n          cursor: !ctrlDisabled ? 'pointer' : null\n        }\n      },\n      drag_enter: {\n        border: `2px ${theme.palette.text.disabled} dashed`,\n        backgroundColor: theme.palette.action.selected,\n        color: theme.palette.text.disabled\n      }\n    }))();\n  };\n  const classes = useStyles(disabled);\n\n  useEffect(() => {\n    if (acceptedFiles.length !== 0) {\n      setFile(acceptedFiles[0]);\n    }\n    // eslint-disable-next-line\n  }, [acceptedFiles]);\n\n  return (\n    <div\n      {...getRootProps()}\n      className={isDragActive && !disabled ? `${classes.drop_zone} ${classes.drag_enter}` : classes.drop_zone}\n    >\n      <input {...getInputProps()} />\n      <AiOutlineSecurityScan style={{ fontSize: '140px' }} />\n      <div style={{ height: '44px', textAlign: 'center' }}>\n        <Typography variant=\"body1\">\n          <b>{isDragActive && !disabled ? t('file.drophere') : file ? file.name : t('file.dragzone')}</b>\n        </Typography>\n        {file && (!isDragActive || disabled) && (\n          <Typography variant=\"body2\" align=\"center\">\n            {file.size} {t('file.dragzone.byte')}\n          </Typography>\n        )}\n      </div>\n    </div>\n  );\n}\n","import {\n  Button,\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  TextField,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport { Alert, Skeleton, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ServiceTree from 'components/layout/serviceTree';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport Empty from 'components/visual/Empty';\nimport FileDropper from 'components/visual/FileDropper';\nimport Flow from 'helpers/flow';\nimport generateUUID from 'helpers/uuid';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction Submit() {\n  const { getBanner } = useAppLayout();\n  const apiCall = useMyAPI();\n  const { t, i18n } = useTranslation(['submit']);\n  const theme = useTheme();\n  const { user: currentUser, c12nDef, configuration } = useALContext();\n  const [uuid, setUUID] = useState(null);\n  const [flow, setFlow] = useState(null);\n  const [settings, setSettings] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(null);\n  const [url, setUrl] = useState('');\n  const [urlHasError, setUrlHasError] = useState(false);\n  const [validate, setValidate] = useState(false);\n  const [validateCB, setValidateCB] = useState(null);\n  const [allowClick, setAllowClick] = useState(true);\n  const [file, setFile] = useState(null);\n  const [value, setValue] = useState('0');\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const md = useMediaQuery(theme.breakpoints.only('md'));\n  const { showErrorMessage, showSuccessMessage, closeSnackbar } = useMySnackbar();\n  const history = useHistory();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const sp8 = theme.spacing(8);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const useStyles = makeStyles(curTheme => ({\n    no_pad: {\n      padding: 0\n    },\n    item: {\n      marginLeft: 0,\n      width: '100%',\n      '&:hover': {\n        background: theme.palette.action.hover\n      }\n    }\n  }));\n  const classes = useStyles();\n\n  const getFileUUID = selectedFile => {\n    const relativePath =\n      selectedFile.relativePath || selectedFile.webkitRelativePath || selectedFile.fileName || selectedFile.name;\n    return `${uuid}_${file.size}_${relativePath.replace(/[^0-9a-zA-Z_-]/gim, '')}`;\n  };\n\n  const cancelUpload = () => {\n    setFile(null);\n    setAllowClick(true);\n    setUploadProgress(null);\n    flow.cancel();\n    flow.off('complete');\n    flow.off('fileError');\n    flow.off('progress');\n  };\n\n  const validateServiceSelection = cbType => {\n    let showPopup = false;\n\n    // Check if we need the popup, and if we do\n    settings.services.forEach(cat => {\n      cat.services.forEach(srv => {\n        if (srv.selected && srv.is_external) {\n          showPopup = true;\n        }\n      });\n    });\n\n    if (showPopup) {\n      // External service selected, show popup\n      setValidateCB(cbType);\n      setValidate(true);\n    } else if (cbType === 'file') {\n      // No external service and file submitted\n      uploadAndScan();\n    } else {\n      // No external service and url submitted\n      analyseUrl();\n    }\n  };\n\n  const cleanupServiceSelection = () => {\n    // eslint-disable-next-line guard-for-in\n    for (const i in settings.services) {\n      const cat = settings.services[i];\n      // eslint-disable-next-line guard-for-in\n      for (const j in settings.services[i].services) {\n        const srv = settings.services[i].services[j];\n        if (srv.selected && srv.is_external) {\n          srv.selected = false;\n        }\n      }\n      cat.selected = cat.services.every(e => e.selected);\n    }\n\n    executeCB();\n  };\n\n  const executeCB = () => {\n    setValidate(false);\n    if (validateCB === 'file') {\n      uploadAndScan();\n    } else {\n      analyseUrl();\n    }\n  };\n\n  const uploadAndScan = () => {\n    flow.opts.generateUniqueIdentifier = getFileUUID;\n    setAllowClick(false);\n    setUploadProgress(0);\n    flow.on('fileError', (event, api_data) => {\n      try {\n        const data = JSON.parse(api_data);\n        if (Object.hasOwnProperty.call(data, 'api_status_code')) {\n          if (data.api_status_code === 401) {\n            window.location.reload(false);\n          }\n        }\n      } catch (ex) {\n        cancelUpload();\n        showErrorMessage(t('submit.file.upload_fail'));\n      }\n    });\n    flow.on('progress', () => {\n      setUploadProgress(Math.trunc(flow.progress() * 100));\n    });\n    flow.on('complete', () => {\n      if (flow.files.length === 0) {\n        return;\n      }\n\n      for (let x = 0; x < flow.files.length; x++) {\n        if (flow.files[x].error) {\n          return;\n        }\n      }\n      apiCall({\n        url: `/api/v4/ui/start/${uuid}/`,\n        method: 'POST',\n        body: settings,\n        onSuccess: api_data => {\n          showSuccessMessage(`${t('submit.success')} ${api_data.api_response.sid}`);\n          setTimeout(() => {\n            history.push(`/submission/detail/${api_data.api_response.sid}`);\n          }, 500);\n        },\n        onFailure: api_data => {\n          if (\n            api_data.api_status_code === 503 ||\n            api_data.api_status_code === 403 ||\n            api_data.api_status_code === 404 ||\n            api_data.api_status_code === 400\n          ) {\n            showErrorMessage(api_data.api_error_message);\n          } else {\n            showErrorMessage(t('submit.file.failure'));\n          }\n          setAllowClick(true);\n          cancelUpload();\n        }\n      });\n    });\n\n    flow.addFile(file);\n    flow.upload();\n  };\n\n  const setFileDropperFile = selectedFile => {\n    setFile(selectedFile);\n  };\n\n  const setParam = (service_idx, param_idx, p_value) => {\n    if (settings) {\n      const newSettings = { ...settings };\n      newSettings.service_spec[service_idx].params[param_idx].value = p_value;\n      setSettings(newSettings);\n    }\n  };\n\n  function setParamAsync(service_idx, param_idx, p_value) {\n    if (settings) {\n      settings.service_spec[service_idx].params[param_idx].value = p_value;\n    }\n  }\n\n  function setSettingValue(field, fieldValue) {\n    if (settings) {\n      setSettings({ ...settings, [field]: fieldValue });\n    }\n  }\n\n  function setSettingAsyncValue(field, fieldValue) {\n    if (settings) {\n      settings[field] = fieldValue;\n    }\n  }\n\n  function setClassification(c12n) {\n    if (settings) {\n      setSettings({ ...settings, classification: c12n });\n    }\n  }\n\n  function handleUrlChange(event) {\n    closeSnackbar();\n    setUrlHasError(false);\n    setUrl(event.target.value);\n  }\n\n  function analyseUrl() {\n    const urlParseRE = /^(((([^:/#?]+:)?(?:(\\/\\/)((?:(([^:@/#?]+)(?::([^:@/#?]+))?)@)?(([^:/#?\\][]+|\\[[^/\\]@#?]+])(?::([0-9]+))?))?)?)?((\\/?(?:[^/?#]+\\/+)*)([^?#]*)))?(\\?[^#]+)?)(#.*)?/;\n    const matches = urlParseRE.exec(url);\n\n    if (matches[15] === undefined || matches[15] === '') {\n      matches[15] = 'file';\n    }\n\n    const data = {\n      name: matches[15],\n      url,\n      ui_params: settings\n    };\n\n    setUrlHasError(false);\n    apiCall({\n      url: '/api/v4/submit/',\n      method: 'POST',\n      body: data,\n      onSuccess: api_data => {\n        setAllowClick(false);\n        showSuccessMessage(`${t('submit.success')} ${api_data.api_response.sid}`);\n        setTimeout(() => {\n          history.push(`/submission/detail/${api_data.api_response.sid}`);\n        }, 500);\n      },\n      onFailure: api_data => {\n        showErrorMessage(t('submit.url.failure'));\n        setUrlHasError(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Setup Flow\n    setFlow(\n      new Flow({\n        target: '/api/v4/ui/flowjs/',\n        permanentErrors: [412, 404, 500],\n        maxChunkRetries: 1,\n        chunkRetryInterval: 500,\n        simultaneousUploads: 4\n      })\n    );\n\n    // Load user on start\n    apiCall({\n      url: `/api/v4/user/settings/${currentUser.username}/`,\n      onSuccess: api_data => {\n        setSettings(api_data.api_response);\n      }\n    });\n    setUUID(generateUUID());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter maxWidth={md ? '800px' : downSM ? '100%' : '1024px'} margin={4} width=\"100%\">\n      <ConfirmationDialog\n        open={validate}\n        handleClose={cleanupServiceSelection}\n        handleAccept={executeCB}\n        title={t('validate.title')}\n        cancelText={t('validate.cancelText')}\n        acceptText={t('validate.acceptText')}\n        text={t('validate.text')}\n      />\n      <div style={{ marginBottom: !downSM && !configuration.ui.banner ? '2rem' : null }}>{getBanner(theme)}</div>\n      {configuration.ui.banner && (\n        <Alert severity={configuration.ui.banner_level} style={{ marginBottom: '2rem' }}>\n          {configuration.ui.banner[i18n.language] ? configuration.ui.banner[i18n.language] : configuration.ui.banner.en}\n        </Alert>\n      )}\n      {c12nDef.enforce ? (\n        <div style={{ paddingBottom: sp8 }}>\n          <div style={{ padding: sp1, fontSize: 16 }}>{t('classification')}</div>\n          <Classification\n            format=\"long\"\n            type=\"picker\"\n            c12n={settings ? settings.classification : null}\n            setClassification={setClassification}\n          />\n        </div>\n      ) : null}\n      <TabContext value={value}>\n        <Paper square>\n          <TabList centered onChange={handleChange} indicatorColor=\"primary\" textColor=\"primary\">\n            <Tab label={t('file')} value=\"0\" />\n            {configuration.ui.allow_url_submissions ? (\n              <Tab label={t('url')} value=\"1\" disabled={!configuration.ui.allow_url_submissions} />\n            ) : (\n              <Empty />\n            )}\n            <Tab label={t('options')} value=\"2\" />\n          </TabList>\n        </Paper>\n        <TabPanel value=\"0\" className={classes.no_pad}>\n          {settings ? (\n            <div style={{ marginTop: '30px' }}>\n              <FileDropper file={file} setFile={setFileDropperFile} disabled={!allowClick} />\n              <div style={{ marginTop: '2rem' }}>\n                {file ? (\n                  <>\n                    <Button\n                      disabled={!allowClick}\n                      color=\"primary\"\n                      variant=\"contained\"\n                      onClick={() => validateServiceSelection('file')}\n                    >\n                      {uploadProgress === null ? t('file.button') : `${uploadProgress}${t('submit.progress')}`}\n                    </Button>\n                    <Button style={{ marginLeft: '16px' }} color=\"secondary\" variant=\"contained\" onClick={cancelUpload}>\n                      {t('file.cancel')}\n                    </Button>\n                  </>\n                ) : null}\n              </div>\n            </div>\n          ) : (\n            <Skeleton style={{ height: '280px' }} />\n          )}\n          {configuration.ui.tos ? (\n            <div style={{ marginTop: '50px', textAlign: 'center' }}>\n              <Typography variant=\"body2\">\n                {t('terms1')}\n                <i>{t('file.button')}</i>\n                {t('terms2')}\n                <Link style={{ textDecoration: 'none', color: theme.palette.primary.main }} to=\"/tos\">\n                  {t('terms3')}\n                </Link>\n                .\n              </Typography>\n            </div>\n          ) : null}\n        </TabPanel>\n        {configuration.ui.allow_url_submissions && (\n          <TabPanel value=\"1\" className={classes.no_pad}>\n            <div style={{ display: 'flex', flexDirection: 'row', marginTop: '30px', alignItems: 'flex-start' }}>\n              {settings ? (\n                <>\n                  <TextField\n                    label={t('url.input')}\n                    error={urlHasError}\n                    size=\"small\"\n                    type=\"url\"\n                    variant=\"outlined\"\n                    value={url}\n                    onChange={handleUrlChange}\n                    style={{ flexGrow: 1, marginRight: '1rem' }}\n                  />\n                  <Button\n                    disabled={!url || !allowClick}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={() => validateServiceSelection('url')}\n                  >\n                    {t('url.button')}\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Skeleton style={{ flexGrow: 1, height: '3rem' }} />\n                  <Skeleton style={{ marginLeft: '16px', height: '3rem', width: '5rem' }} />\n                </>\n              )}\n            </div>\n            {configuration.ui.tos ? (\n              <div style={{ marginTop: '50px', textAlign: 'center' }}>\n                <Typography variant=\"body2\">\n                  {t('terms1')}\n                  <i>{t('url.button')}</i>\n                  {t('terms2')}\n                  <Link style={{ textDecoration: 'none', color: theme.palette.primary.main }} to=\"/tos\">\n                    {t('terms3')}\n                  </Link>\n                  .\n                </Typography>\n              </div>\n            ) : null}\n          </TabPanel>\n        )}\n        <TabPanel value=\"2\" className={classes.no_pad}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} md>\n              <div style={{ paddingLeft: sp2, textAlign: 'left', marginTop: sp4 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('options.service')}\n                </Typography>\n                <ServiceTree size=\"small\" settings={settings} setSettings={setSettings} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md>\n              <div style={{ textAlign: 'left', marginTop: sp4 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('options.submission')}\n                </Typography>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.desc')}\n                  </Typography>\n                  {settings ? (\n                    <TextField\n                      id=\"desc\"\n                      size=\"small\"\n                      type=\"text\"\n                      defaultValue={settings.description}\n                      onChange={event => setSettingAsyncValue('description', event.target.value)}\n                      InputLabelProps={{\n                        shrink: true\n                      }}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.priority')}\n                  </Typography>\n                  {settings ? (\n                    <Select\n                      id=\"priority\"\n                      margin=\"dense\"\n                      value={settings.priority}\n                      variant=\"outlined\"\n                      onChange={event => setSettingValue('priority', event.target.value)}\n                      fullWidth\n                    >\n                      <MenuItem value=\"500\">{t('options.submission.priority.low')}</MenuItem>\n                      <MenuItem value=\"1000\">{t('options.submission.priority.medium')}</MenuItem>\n                      <MenuItem value=\"1500\">{t('options.submission.priority.high')}</MenuItem>\n                    </Select>\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_filtering}\n                          name=\"label\"\n                          onChange={event => setSettingValue('ignore_filtering', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.ignore_filtering')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_cache}\n                          name=\"label\"\n                          onChange={event => setSettingValue('ignore_cache', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.ignore_cache')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_dynamic_recursion_prevention}\n                          name=\"label\"\n                          onChange={event =>\n                            setSettingValue('ignore_dynamic_recursion_prevention', event.target.checked)\n                          }\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={\n                      <Typography variant=\"body2\">\n                        {t('options.submission.ignore_dynamic_recursion_prevention')}\n                      </Typography>\n                    }\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.profile}\n                          name=\"label\"\n                          onChange={event => setSettingValue('profile', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.profile')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.deep_scan}\n                          name=\"label\"\n                          onChange={event => setSettingValue('deep_scan', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.deep_scan')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.ttl')}\n                  </Typography>\n                  {settings ? (\n                    <TextField\n                      id=\"ttl\"\n                      size=\"small\"\n                      type=\"number\"\n                      inputProps={{ min: 0, max: 365 }}\n                      defaultValue={settings.ttl}\n                      onChange={event => setSettingAsyncValue('ttl', event.target.value)}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n              </div>\n\n              {settings && settings.service_spec.length !== 0 ? (\n                <div style={{ textAlign: 'left', marginTop: sp4 }}>\n                  <Typography variant=\"h6\" gutterBottom>\n                    {t('options.service_spec')}\n                  </Typography>\n                  {settings.service_spec.map((service, idx) => {\n                    return (\n                      <div key={idx} style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          {service.name}\n                        </Typography>\n                        {service.params.map((param, pidx) => {\n                          return (\n                            <div key={pidx} style={{ paddingBottom: sp1 }}>\n                              {param.type === 'bool' ? (\n                                <div style={{ paddingLeft: sp1 }}>\n                                  <FormControlLabel\n                                    control={\n                                      <Checkbox\n                                        size=\"small\"\n                                        checked={param.value === 'true' || param.value === true}\n                                        name=\"label\"\n                                        onChange={() => setParam(idx, pidx, !param.value)}\n                                      />\n                                    }\n                                    label={\n                                      <Typography variant=\"body2\" style={{ textTransform: 'capitalize' }}>\n                                        {param.name.replace(/_/g, ' ')}\n                                      </Typography>\n                                    }\n                                    className={classes.item}\n                                  />\n                                </div>\n                              ) : (\n                                <>\n                                  <div>\n                                    <Typography variant=\"caption\" gutterBottom style={{ textTransform: 'capitalize' }}>\n                                      {param.name.replace(/_/g, ' ')}\n                                    </Typography>\n                                  </div>\n                                  {param.type === 'list' ? (\n                                    <Select\n                                      margin=\"dense\"\n                                      value={param.value}\n                                      variant=\"outlined\"\n                                      onChange={event => setParam(idx, pidx, event.target.value)}\n                                      fullWidth\n                                    >\n                                      {param.list.map((item, i) => {\n                                        return (\n                                          <MenuItem key={i} value={item}>\n                                            {item}\n                                          </MenuItem>\n                                        );\n                                      })}\n                                    </Select>\n                                  ) : (\n                                    <TextField\n                                      variant=\"outlined\"\n                                      type={param.type === 'int' ? 'number' : 'text'}\n                                      size=\"small\"\n                                      fullWidth\n                                      defaultValue={param.value}\n                                      onChange={event => setParamAsync(idx, pidx, event.target.value)}\n                                    />\n                                  )}\n                                </>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : null}\n            </Grid>\n          </Grid>\n        </TabPanel>\n      </TabContext>\n    </PageCenter>\n  );\n}\n\nexport default Submit;\n","/* eslint-disable no-bitwise */\n\nexport default function generateUUID() {\n  let d = new Date().getTime();\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : (r & 0x7) | 0x8).toString(16);\n  });\n}\n","import { Button, CircularProgress, Link, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport NotFoundPage from 'components/routes/404_dl';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst Markdown = require('react-markdown');\n\nexport default function Tos() {\n  const { t } = useTranslation(['tos']);\n  const theme = useTheme();\n  const [tos, setTos] = useState('');\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { getBanner } = useAppLayout();\n  const { user: currentUser, configuration } = useALContext();\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    no_pad: {\n      padding: 0\n    },\n    page: {\n      maxWidth: '960px',\n      width: '100%',\n      [curTheme.breakpoints.down('sm')]: {\n        maxWidth: '100%'\n      },\n      [curTheme.breakpoints.only('md')]: {\n        maxWidth: '630px'\n      }\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n  const sp6 = theme.spacing(6);\n\n  function acceptTOS() {\n    apiCall({\n      url: `/api/v4/user/tos/${currentUser.username}/`,\n      onSuccess: () => window.location.reload(false),\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  function cancelTOS() {\n    apiCall({\n      url: '/api/v4/auth/logout/',\n      onSuccess: () => window.location.reload(false),\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  useEffect(() => {\n    if (configuration.ui.tos) {\n      apiCall({\n        url: '/api/v4/help/tos/',\n        onSuccess: api_data => setTos(api_data.api_response)\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return configuration.ui.tos ? (\n    <PageCenter margin={4} width=\"100%\">\n      <div className={classes.page} style={{ display: 'inline-block', textAlign: 'center' }}>\n        <div>{getBanner(theme)}</div>\n        <div style={{ marginBottom: sp6, textAlign: 'left' }}>\n          <Typography variant=\"h3\" gutterBottom>\n            {t('title')}\n          </Typography>\n        </div>\n        {tos ? (\n          <>\n            <div style={{ textAlign: 'left' }}>\n              <Markdown source={tos} renderers={{ link: Link }} />\n            </div>\n            {currentUser.agrees_with_tos ? (\n              <div style={{ marginTop: sp6 }}>\n                <Typography variant=\"subtitle1\" color=\"secondary\">\n                  {t('agreed')}\n                </Typography>\n              </div>\n            ) : (\n              <div>\n                <Button\n                  style={{ marginTop: '3rem', marginBottom: '3rem' }}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={buttonLoading}\n                  onClick={acceptTOS}\n                >\n                  {t('button')}\n                  {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </Button>\n                <Button\n                  style={{ marginLeft: '1rem', marginTop: '3rem', marginBottom: '3rem' }}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled={buttonLoading}\n                  onClick={cancelTOS}\n                >\n                  {t('logout')}\n                  {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </Button>\n              </div>\n            )}\n          </>\n        ) : (\n          <>\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton />\n          </>\n        )}\n      </div>\n    </PageCenter>\n  ) : (\n    <NotFoundPage />\n  );\n}\n","import useALContext from 'components/hooks/useALContext';\nimport ForbiddenPage from 'components/routes/403';\nimport NotFoundPage from 'components/routes/404_dl';\nimport Account from 'components/routes/account';\nimport Admin from 'components/routes/admin';\nimport AdminErrorViewer from 'components/routes/admin/error_viewer';\nimport AdminServices from 'components/routes/admin/services';\nimport Service from 'components/routes/admin/service_detail';\nimport AdminSiteMap from 'components/routes/admin/site_map';\nimport AdminUsers from 'components/routes/admin/users';\nimport AlertDetails from 'components/routes/alerts/alert-details';\nimport Alerts from 'components/routes/alerts/alerts';\nimport AlertsLegacy from 'components/routes/alerts/legacy-alert';\nimport AppRegistration from 'components/routes/authorize';\nimport Dashboard from 'components/routes/dashboard';\nimport FileFullDetail from 'components/routes/file/detail';\nimport FileViewer from 'components/routes/file/viewer';\nimport Help from 'components/routes/help';\nimport HelpApiDoc from 'components/routes/help/api';\nimport HelpClassification from 'components/routes/help/classification';\nimport HelpConfiguration from 'components/routes/help/configuration';\nimport HelpSearch from 'components/routes/help/search';\nimport HelpServices from 'components/routes/help/services';\nimport Logout from 'components/routes/logout';\nimport Manage from 'components/routes/manage';\nimport ManageHeuristics from 'components/routes/manage/heuristics';\nimport HeuristicDetail from 'components/routes/manage/heuristic_detail';\nimport ManageSignatures from 'components/routes/manage/signatures';\nimport SignatureDetail from 'components/routes/manage/signature_detail';\nimport ManageSignatureSources from 'components/routes/manage/signature_sources';\nimport ManageWorkflows from 'components/routes/manage/workflows';\nimport WorkflowDetail from 'components/routes/manage/workflow_detail';\nimport Optout from 'components/routes/optout';\nimport Search from 'components/routes/search';\nimport Settings from 'components/routes/settings';\nimport SubmissionDetail from 'components/routes/submission/detail';\nimport SubmissionReport from 'components/routes/submission/report';\nimport Submissions from 'components/routes/submissions';\nimport Submit from 'components/routes/submit';\nimport Tos from 'components/routes/tos';\nimport User from 'components/routes/user';\nimport React, { useEffect, useState } from 'react';\nimport { matchPath, Redirect, Route, Switch, useLocation } from 'react-router-dom';\n\nconst APP_NAME = 'AL4';\n\nfunction RouteActions() {\n  const { pathname } = useLocation();\n  const [oldID, setOldID] = useState(null);\n\n  useEffect(() => {\n    // Scroll to top\n    const { params } = { params: { id: null }, ...matchPath(pathname, { path: '/submission/detail/:id' }) };\n    // eslint-disable-next-line prefer-destructuring, @typescript-eslint/dot-notation\n    const id = params['id'];\n    if (id === null || id === undefined || id === oldID) {\n      window.scrollTo(0, 0);\n      setOldID(id);\n    }\n\n    // Patch window title\n    const currentLocation = pathname.split('/').join(' ').trim();\n    document.title = `${APP_NAME} | ${\n      currentLocation ? currentLocation.charAt(0).toUpperCase() + currentLocation.slice(1) : 'Submit'\n    }`;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname]);\n\n  return null;\n}\n\nconst WrappedRoutes = () => {\n  const { configuration, settings } = useALContext();\n  return (\n    <>\n      <RouteActions />\n      <Switch>\n        <Route exact path=\"/\" component={Submit} />\n        <Route exact path=\"/account\" component={Account} />\n        <Route exact path=\"/alerts\" component={Alerts} />\n        <Route exact path=\"/alerts/legacy\" component={AlertsLegacy} />\n        <Route exact path=\"/alerts/:id\" component={AlertDetails} />\n        <Route exact path=\"/admin\" component={Admin} />\n        <Route exact path=\"/admin/errors\" component={AdminErrorViewer} />\n        <Route exact path=\"/admin/services\" component={AdminServices} />\n        <Route exact path=\"/admin/services/:svc\" component={Service} />\n        <Route exact path=\"/admin/sitemap\" component={AdminSiteMap} />\n        <Route exact path=\"/admin/users\" component={AdminUsers} />\n        <Route exact path=\"/admin/users/:id\" component={User} />\n        <Route exact path=\"/authorize\" component={AppRegistration} />\n        <Route exact path=\"/dashboard\" component={Dashboard} />\n        <Route exact path=\"/file/detail/:id\" component={FileFullDetail} />\n        <Route exact path=\"/file/viewer/:id\" component={FileViewer} />\n        <Route exact path=\"/help\" component={Help} />\n        <Route exact path=\"/help/api\" component={HelpApiDoc} />\n        <Route exact path=\"/help/classification\" component={HelpClassification} />\n        <Route exact path=\"/help/configuration\" component={HelpConfiguration} />\n        <Route exact path=\"/help/search\" component={HelpSearch} />\n        <Route exact path=\"/help/services\" component={HelpServices} />\n        <Route exact path=\"/logout\" component={Logout} />\n        <Route exact path=\"/manage/heuristics\" component={ManageHeuristics} />\n        <Route exact path=\"/manage/heuristic/:id\" component={HeuristicDetail} />\n        <Route exact path=\"/manage/signatures\" component={ManageSignatures} />\n        <Route exact path=\"/manage/signature/:id\" component={SignatureDetail} />\n        <Route exact path=\"/manage/sources\" component={ManageSignatureSources} />\n        <Route exact path=\"/manage/workflow/:id\" component={WorkflowDetail} />\n        <Route exact path=\"/manage/workflows\" component={ManageWorkflows} />\n        <Route exact path=\"/manage\" component={Manage} />\n        <Route exact path=\"/optout\" component={Optout} />\n        <Route exact path=\"/search\" component={Search} />\n        <Route exact path=\"/search/:id\" component={Search} />\n        <Route exact path=\"/settings\" component={Settings} />\n        <Route exact path=\"/submit\" component={Submit} />\n        <Route exact path=\"/submission/detail/:id/:fid\" component={SubmissionDetail} />\n        <Route exact path=\"/submission/detail/:id\" component={SubmissionDetail} />\n        <Route exact path=\"/submission/report/:id\" component={SubmissionReport} />\n        {settings.submission_view === 'details' ? (\n          <Redirect from=\"/submission/:id\" to=\"/submission/detail/:id\" />\n        ) : (\n          <Redirect from=\"/submission/:id\" to=\"/submission/report/:id\" />\n        )}\n        <Route exact path=\"/submissions\" component={Submissions} />\n        <Route exact path=\"/tos\" component={Tos} />\n        <Route exact path=\"/forbidden\" component={ForbiddenPage} />\n        <Route exact path=\"/notfound\" component={NotFoundPage} />\n        <Redirect to=\"/notfound\" />\n      </Switch>\n      {configuration.system && configuration.system.type !== 'production' && (\n        <div\n          style={{\n            position: 'sticky',\n            bottom: '16px',\n            right: '16px',\n            opacity: '0.4',\n            textAlign: 'right',\n            zIndex: 10000,\n            marginTop: 'auto',\n            marginLeft: 'auto'\n          }}\n        >\n          {`Assemblyline ${configuration.system.version} :: `}\n          <span style={{ textTransform: 'capitalize' }}>{configuration.system.type}</span>\n        </div>\n      )}\n    </>\n  );\n};\n\nconst Routes = React.memo(WrappedRoutes);\nexport default Routes;\n","import AppContextProvider from 'commons/components/app/AppContextProvider';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport AppLayoutProvider from 'commons/components/layout/LayoutProvider';\nimport SiteMapProvider from 'commons/components/sitemap/SitemapProvider';\nimport UserProvider from 'commons/components/user/UserProvider';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport useMySitemap from 'components/hooks/useMySitemap';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport useMyUser from 'components/hooks/useMyUser';\nimport LoadingScreen from 'components/routes/loading';\nimport LockedPage from 'components/routes/locked';\nimport LoginScreen from 'components/routes/login';\nimport Routes from 'components/routes/routes';\nimport Tos from 'components/routes/tos';\nimport DrawerProvider from 'components/visual/DrawerProvider';\nimport HighlightProvider from 'components/visual/HighlightProvider';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BrowserRouter } from 'react-router-dom';\n\ntype LoginParamsProps = {\n  oauth_providers: string[];\n  allow_userpass_login: boolean;\n  allow_signup: boolean;\n  allow_pw_rest: boolean;\n};\n\ntype PossibleApps = 'load' | 'locked' | 'login' | 'routes' | 'tos';\n\nconst MyApp = () => {\n  const storedLoginParams = localStorage.getItem('loginParams');\n  const defaultLoginParams = storedLoginParams ? JSON.parse(storedLoginParams) : null;\n\n  const params = new URLSearchParams(window.location.search);\n  const [renderedApp, setRenderedApp] = useState<PossibleApps>(params.get('provider') ? 'login' : 'load');\n  const [loginParams, setLoginParams] = useState<LoginParamsProps | null>(defaultLoginParams);\n\n  const { t } = useTranslation();\n  const { setUser, setConfiguration } = useALContext();\n  const { setReady } = useAppLayout();\n  const { showErrorMessage } = useMySnackbar();\n\n  const switchRenderedApp = (value: PossibleApps) => {\n    if (renderedApp !== value) {\n      setRenderedApp(value);\n    }\n  };\n\n  useEffect(() => {\n    if (params.get('provider')) {\n      return;\n    }\n    const requestOptions: RequestInit = {\n      method: 'GET',\n      headers: {\n        'X-XSRF-TOKEN': getXSRFCookie()\n      },\n      credentials: 'same-origin'\n    };\n\n    fetch('/api/v4/user/whoami/', requestOptions)\n      .then(res => {\n        return res.json();\n      })\n      .catch(() => {\n        return {\n          api_error_message: t('api.unreachable'),\n          api_response: '',\n          api_server_version: '4.0.0',\n          api_status_code: 400\n        };\n      })\n      .then(api_data => {\n        // eslint-disable-next-line no-prototype-builtins\n        if (api_data === undefined || !api_data.hasOwnProperty('api_response')) {\n          showErrorMessage(t('api.unreachable'), 30000);\n          switchRenderedApp('load');\n        } else if (api_data.api_status_code === 403) {\n          setConfiguration(api_data.api_response);\n          switchRenderedApp('locked');\n        } else if (api_data.api_status_code === 401) {\n          localStorage.setItem('loginParams', JSON.stringify(api_data.api_response));\n          setLoginParams(api_data.api_response);\n          switchRenderedApp('login');\n        } else if (api_data.api_status_code === 200) {\n          setUser(api_data.api_response);\n          setReady(true);\n          if (!api_data.api_response.agrees_with_tos && api_data.api_response.configuration.ui.tos) {\n            switchRenderedApp('tos');\n          } else {\n            switchRenderedApp('routes');\n          }\n        } else {\n          showErrorMessage(t('api.unreachable'), 30000);\n          switchRenderedApp('load');\n        }\n      });\n    // eslint-disable-next-line\n  }, []);\n  return {\n    load: <LoadingScreen />,\n    locked: <LockedPage />,\n    login: loginParams ? (\n      <LoginScreen\n        oAuthProviders={loginParams.oauth_providers}\n        allowUserPass={loginParams.allow_userpass_login}\n        allowSignup={loginParams.allow_signup}\n        allowPWReset={loginParams.allow_pw_rest}\n      />\n    ) : (\n      <LoadingScreen />\n    ),\n    routes: <Routes />,\n    tos: <Tos />\n  }[renderedApp];\n};\n\nconst AppInit: React.FC = () => {\n  // WARNING: do not use these hooks any other places than here.\n  // Each of these hooks have corresponding hooks in the commons\n  //  that accesses they global state stored in react context providers.\n  const layoutProps = useMyLayout();\n  const sitemapProps = useMySitemap();\n  const userProps = useMyUser();\n  // For src/components/hooks/useMyLayout -[use]-> src/commons/components/hooks/useAppLayout\n  // For src/components/hooks/useMySiteMap -[use]-> src/commons/components/hooks/useAppSiteMap\n  // For src/components/hooks/useMyUser -[use]-> src/commons/components/hooks/useAppUser\n\n  // General TemplateUI layout structure.\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <UserProvider {...userProps}>\n        <SiteMapProvider {...sitemapProps}>\n          <HighlightProvider>\n            <DrawerProvider>\n              <AppLayoutProvider {...layoutProps}>\n                <MyApp />\n              </AppLayoutProvider>\n            </DrawerProvider>\n          </HighlightProvider>\n        </SiteMapProvider>\n      </UserProvider>\n    </BrowserRouter>\n  );\n};\n\n// Main Application entry component.\n// This will initialize things like theme and snackar providers which will then be available\n//  from this point on.\nconst App = () => {\n  const colors = {\n    darkPrimary: '#7c93b9',\n    darkSecondary: '#929cad',\n    lightPrimary: '#0b65a1',\n    lightSecondary: '#939dac'\n  };\n  return (\n    <AppContextProvider defaultTheme=\"light\" colors={colors}>\n      <AppInit />\n    </AppContextProvider>\n  );\n};\n\nexport default App;\n","import AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport BallotOutlinedIcon from '@material-ui/icons/BallotOutlined';\nimport BlockIcon from '@material-ui/icons/Block';\nimport BuildOutlinedIcon from '@material-ui/icons/BuildOutlined';\nimport BusinessOutlinedIcon from '@material-ui/icons/BusinessOutlined';\nimport ChromeReaderModeOutlinedIcon from '@material-ui/icons/ChromeReaderModeOutlined';\nimport CodeOutlinedIcon from '@material-ui/icons/CodeOutlined';\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ListOutlinedIcon from '@material-ui/icons/ListOutlined';\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport PublishOutlinedIcon from '@material-ui/icons/PublishOutlined';\nimport ReceiptOutlinedIcon from '@material-ui/icons/ReceiptOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsApplicationsOutlinedIcon from '@material-ui/icons/SettingsApplicationsOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport SimCardOutlinedIcon from '@material-ui/icons/SimCardOutlined';\nimport SupervisorAccountOutlinedIcon from '@material-ui/icons/SupervisorAccountOutlined';\nimport WebAssetIcon from '@material-ui/icons/WebAsset';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\n\n// SiteMapContextProps configuration properties.\n// exceptLast: boolean = false (default),\n// allLinks: boolean = false (default),\n// lastOnly: boolean = false (default),\n// itemsBefore: number = 1 (default),\n// itemsAfter: number = 1 (default),\n// routes: SiteMapRoute[] = [] (default)\n\n// For each individual SiteMapRoute:\n// path: string -> the react router path to this route.\n// title: string -> the title/lable to display in breadcrumbs for this route.\n// icon?: React.ReactNode -> the icon component to show beside the title/lable.\n// isRoot?: boolean = false -> when true, indicates that the breadcrumbs will reset to this one path each time it is encountered.\n// isLeaf?: boolean = false -> when true, indicates that this path does not aggregate in breadcrumbs, i.e. will be replaced by next path.\n// excluded?: boolean = false -> when true, indicates to breadcrumbs component to not render this route.  This is usefull if you want to use <PageHeader mode='title' />\nexport default function useMySitemap() {\n  const { t } = useTranslation();\n  return {\n    routes: [\n      { path: '/forbidden', title: t('forbidden'), isRoot: true, icon: <BlockIcon /> },\n      { path: '/notfound', title: t('notfound'), isRoot: true, icon: <LinkOffIcon /> },\n\n      { path: '/', title: t('drawer.submit'), isRoot: true, icon: <PublishOutlinedIcon /> },\n      { path: '/submit', title: t('drawer.submit'), isRoot: true, icon: <PublishOutlinedIcon /> },\n      { path: '/submissions', title: t('drawer.submissions'), isRoot: true, icon: <AmpStoriesOutlinedIcon /> },\n      {\n        path: '/submission/detail/:id',\n        title: t('breadcrumb.submission.detail'),\n        icon: <ListAltOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      {\n        path: '/file/detail/:id',\n        title: t('breadcrumb.file.detail'),\n        icon: <DescriptionOutlinedIcon />,\n        isRoot: true\n      },\n      {\n        path: '/file/viewer/:id',\n        title: t('breadcrumb.file.viewer'),\n        icon: <PageviewOutlinedIcon />,\n        isRoot: true\n      },\n      {\n        path: '/submission/detail/:id/:fid',\n        title: t('breadcrumb.submission.detail'),\n        icon: <ListAltOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      {\n        path: '/submission/report/:id',\n        title: t('breadcrumb.submission.report'),\n        icon: <ChromeReaderModeOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      { path: '/alerts', title: t('drawer.alerts'), isRoot: true, icon: <NotificationImportantOutlinedIcon /> },\n      {\n        path: '/alerts/:id',\n        title: t('breadcrumb.alert.detail'),\n        icon: <BallotOutlinedIcon />,\n        breadcrumbs: ['/alerts']\n      },\n      { path: '/dashboard', title: t('drawer.dashboard'), isRoot: true, icon: <DashboardOutlinedIcon /> },\n      { path: '/manage', title: t('drawer.manage'), isRoot: true, icon: <BuildOutlinedIcon /> },\n      {\n        path: '/manage/heuristics',\n        title: t('drawer.manage.heuristics'),\n        icon: <SimCardOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/heuristic/:id',\n        title: t('breadcrumb.heuristic.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/heuristics']\n      },\n      {\n        path: '/manage/signatures',\n        title: t('drawer.manage.signatures'),\n        icon: <FingerprintOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/signature/:id',\n        title: t('breadcrumb.signature.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/signatures']\n      },\n      {\n        path: '/manage/sources',\n        title: t('drawer.manage.source'),\n        icon: <CodeOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/workflow/:id',\n        title: t('breadcrumb.workflow.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/workflows']\n      },\n      {\n        path: '/manage/workflows',\n        title: t('drawer.manage.workflow'),\n        icon: <BiNetworkChart />,\n        breadcrumbs: ['/manage']\n      },\n      { path: '/search', title: t('drawer.search'), isRoot: true, icon: <SearchIcon /> },\n      { path: '/search/alert', title: t('drawer.search.alert'), breadcrumbs: ['/search'] },\n      { path: '/search/file', title: t('drawer.search.file'), breadcrumbs: ['/search'] },\n      { path: '/search/result', title: t('drawer.search.result'), breadcrumbs: ['/search'] },\n      { path: '/search/signature', title: t('drawer.search.signature'), breadcrumbs: ['/search'] },\n      { path: '/search/submission', title: t('drawer.search.submission'), breadcrumbs: ['/search'] },\n      { path: '/help', title: t('drawer.help'), isRoot: true, icon: <HelpOutlineOutlinedIcon /> },\n      { path: '/help/api', title: t('drawer.help.api'), icon: <AssignmentOutlinedIcon />, breadcrumbs: ['/help'] },\n      {\n        path: '/help/classification',\n        title: t('drawer.help.classification'),\n        icon: <LabelOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      {\n        path: '/help/configuration',\n        title: t('drawer.help.configuration'),\n        icon: <SettingsApplicationsOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      { path: '/help/search', title: t('drawer.help.search'), icon: <SearchIcon />, breadcrumbs: ['/help'] },\n      {\n        path: '/help/services',\n        title: t('drawer.help.services'),\n        icon: <AccountTreeOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      { path: '/tos', title: t('breadcrumb.tos'), isRoot: true, icon: <ReceiptOutlinedIcon /> },\n      { path: '/account', title: t('usermenu.account'), isRoot: true, icon: <AccountCircleOutlinedIcon /> },\n      { path: '/settings', title: t('usermenu.settings'), isRoot: true, icon: <SettingsOutlinedIcon /> },\n      { path: '/admin', title: t('adminmenu'), isRoot: true, icon: <BusinessOutlinedIcon /> },\n      {\n        path: '/admin/errors',\n        title: t('adminmenu.errors'),\n        icon: <ErrorOutlineOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/services',\n        title: t('adminmenu.services'),\n        icon: <AccountTreeOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/services/:svc',\n        title: '{:svc}',\n        icon: <WebAssetIcon />,\n        breadcrumbs: ['/admin', '/admin/services']\n      },\n      { path: '/admin/sitemap', title: t('adminmenu.sitemap'), icon: <MapOutlinedIcon />, breadcrumbs: ['/admin'] },\n      {\n        path: '/admin/users',\n        title: t('adminmenu.users'),\n        icon: <SupervisorAccountOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/users/:id',\n        title: '{:id}',\n        isRoot: true,\n        icon: <AccountCircleOutlinedIcon />,\n        breadcrumbs: ['/admin', '/admin/users']\n      }\n    ]\n  };\n}\n","import App from 'components/app/app';\nimport 'fontsource-roboto';\nimport 'i18n';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}