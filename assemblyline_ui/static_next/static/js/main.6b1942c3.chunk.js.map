{"version":3,"sources":["helpers/cbor.js","helpers/flow.js","commons/components/hooks/useAppTheme.ts","commons/components/app/AppContextProvider.tsx","commons/components/user/UserProvider.tsx","commons/components/hooks/useAppUser.ts","commons/components/layout/leftnav/LeftNavItem.tsx","commons/components/layout/leftnav/LeftNavGroup.tsx","commons/components/layout/topnav/AppTitle.tsx","commons/components/layout/leftnav/LeftNavDrawer.tsx","commons/components/hooks/useAppBarHeight.tsx","commons/components/hooks/useAppContext.tsx","commons/components/sitemap/SitemapProvider.tsx","i18n.ts","commons/components/hooks/useAppSitemap.ts","commons/components/layout/topnav/ThemeSelection.tsx","commons/components/layout/breadcrumbs/BreadcrumbIcon.tsx","commons/components/layout/breadcrumbs/BreadcrumbLinkItem.tsx","commons/components/layout/breadcrumbs/BreadcrumbLastItem.tsx","commons/components/layout/breadcrumbs/BreadcrumbList.tsx","commons/components/layout/breadcrumbs/Breadcrumbs.tsx","commons/components/layout/topnav/AppSwitcher.tsx","commons/components/layout/topnav/QuickSearch.tsx","commons/components/layout/topnav/ThemeSelectionIcon.tsx","commons/components/hooks/useGravatar.tsx","commons/components/layout/topnav/UserProfile.tsx","commons/components/layout/topnav/TopBar.tsx","commons/components/layout/LayoutProvider.tsx","commons/components/hooks/useAppLayout.ts","components/hooks/useALContext.tsx","components/hooks/useMyLayout.tsx","components/hooks/useMySnackbar.tsx","components/hooks/useMyUser.tsx","components/routes/loading.tsx","commons/components/layout/pages/PageCenter.tsx","components/routes/403.tsx","components/routes/locked.tsx","commons/components/layout/pages/CardCentered.tsx","helpers/xsrf.tsx","components/hooks/useMyAPI.tsx","components/routes/login/oauth.tsx","components/routes/login/otp.tsx","components/routes/login/reset.tsx","helpers/toArrayBuffer.tsx","components/routes/login/sectoken.tsx","components/routes/login/signup.tsx","components/routes/login/userpass.tsx","components/visual/TextDivider.tsx","helpers/utils.ts","components/routes/login.tsx","components/routes/404_dl.tsx","components/routes/user/api_keys.tsx","components/routes/user/disable_otp.tsx","components/routes/user/otp.tsx","components/routes/user/token.tsx","components/visual/CustomChip.tsx","helpers/classificationParser.ts","components/visual/Classification.tsx","components/visual/ConfirmationDialog.tsx","components/routes/user/apps.tsx","components/routes/user.tsx","components/routes/account.tsx","components/layout/linkgrid.tsx","components/routes/admin.tsx","commons/components/hooks/useClipboard.tsx","commons/components/layout/pages/PageFullWidth.tsx","commons/components/layout/pages/PageHeader.tsx","components/visual/DrawerProvider.tsx","components/hooks/useDrawer.tsx","commons/addons/elements/utils/browser.ts","commons/addons/elements/utils/keyboard.ts","components/visual/SearchBar/search-textfield.tsx","components/visual/SearchBar/search-bar.tsx","components/visual/SearchBar/simple-search-query.ts","components/visual/SearchPager.tsx","components/visual/DivTable.tsx","components/visual/InformativeAlert.tsx","components/visual/SearchResult/errors.tsx","components/routes/admin/error_viewer.tsx","components/visual/Empty.tsx","components/routes/admin/service_detail/container_dialog.tsx","components/routes/admin/service_detail/container_card.tsx","components/routes/admin/service_detail/container.tsx","components/routes/admin/service_detail/general.tsx","components/routes/admin/service_detail/multi_type_config.tsx","components/routes/admin/service_detail/multi_type_param.tsx","components/routes/admin/service_detail/parameters.tsx","components/routes/manage/signature_sources.tsx","components/routes/admin/service_detail/source_dialog.tsx","components/routes/admin/service_detail/updater.tsx","components/routes/admin/service_detail.tsx","components/visual/SearchResult/service.tsx","components/routes/admin/services.tsx","components/routes/admin/site_map.tsx","components/visual/SearchResult/users.tsx","components/routes/admin/users.tsx","components/visual/ChipList.tsx","components/visual/Verdict.tsx","components/routes/alerts/alert-priority.tsx","components/routes/alerts/alert-status.tsx","components/routes/alerts/alert-details.tsx","commons/addons/elements/carousel/Carousel.tsx","commons/addons/elements/utils/throttler.ts","commons/addons/elements/lists/hooks/useListNavigator.tsx","commons/addons/elements/lists/carousel/ListCarousel.tsx","commons/addons/elements/lists/navigator/ListNavigator.tsx","commons/addons/elements/lists/hooks/useListKeyboard.tsx","commons/addons/elements/lists/hooks/useListStyles.tsx","commons/addons/elements/lists/item/ListItemBase.tsx","commons/addons/elements/lists/scrollers/SimpleListScroller.ts","commons/addons/elements/lists/simplelist/SimpleList.tsx","components/routes/alerts/alert-list-item.tsx","components/routes/alerts/hooks/usePromiseAPI.tsx","components/routes/alerts/alert-list-item-actions.tsx","components/visual/SearchBar/search-query.ts","components/routes/alerts/alerts-filters.tsx","components/routes/alerts/hooks/useFavorites.tsx","components/routes/alerts/alerts-filters-favorites.tsx","components/routes/alerts/alerts-filters-selected.tsx","components/routes/alerts/alerts-workflow-actions.tsx","components/routes/alerts/hooks/useAlerts.ts","components/routes/alerts/alerts.tsx","components/visual/ExtendedScan.tsx","components/visual/VerdictBar.tsx","components/routes/alerts/alert-card.tsx","components/routes/alerts/legacy-alert.tsx","components/routes/authorize.tsx","commons/components/hooks/useFullscreenStatus.ts","commons/components/layout/pages/PageFullScreen.tsx","components/visual/ArcGauge.tsx","components/routes/dashboard.tsx","components/visual/HighlightProvider.tsx","components/hooks/useHighlighter.tsx","components/visual/ResultCard/extracted_file.tsx","components/visual/ResultCard/extracted.tsx","components/visual/Attack.tsx","components/visual/Heuristic.tsx","components/visual/SectionHighlight.tsx","components/visual/Tag.tsx","components/visual/TitleKey.tsx","components/visual/ResultCard/result_section.tsx","components/visual/ResultCard/supplementary.tsx","components/visual/ResultCard.tsx","components/visual/FileDetail/attacks.tsx","components/visual/FileDetail/childrens.tsx","components/visual/FileDetail/emptys.tsx","components/visual/ErrorCard.tsx","components/visual/FileDetail/errors.tsx","components/visual/FileDetail/freqency.tsx","components/visual/FileDetail/heuristics.tsx","components/visual/FileDetail/indent.tsx","components/visual/FileDetail/metadata.tsx","components/visual/FileDetail/parents.tsx","components/visual/FileDetail/results.tsx","components/visual/FileDetail/tags.tsx","components/visual/FileDetail.tsx","components/routes/file/detail.tsx","components/routes/file/viewer.tsx","components/routes/help.tsx","components/routes/help/api.tsx","components/routes/help/classification.tsx","components/routes/help/configuration.tsx","components/routes/under_construction.tsx","components/routes/help/search.tsx","components/routes/help/services.tsx","components/routes/logout.tsx","components/routes/manage.tsx","components/visual/SearchResult/heuristics.tsx","components/visual/Histogram.tsx","components/visual/SearchResult/results.tsx","components/routes/manage/heuristic_detail.tsx","components/routes/manage/heuristics.tsx","components/visual/SignatureStatus.tsx","components/visual/SearchResult/signatures.tsx","components/routes/manage/signature_detail.tsx","components/routes/manage/signatures.tsx","components/visual/SearchResult/workflow.tsx","components/routes/manage/workflow_detail.tsx","components/routes/manage/workflows.tsx","components/routes/optout.tsx","components/visual/SearchResult/alerts.tsx","components/visual/SearchResult/files.tsx","components/visual/SubmissionState.tsx","components/visual/SearchResult/submissions.tsx","components/routes/search.tsx","components/layout/serviceTree.tsx","components/routes/settings.tsx","helpers/errors.js","components/routes/submission/detail/attack.tsx","components/routes/submission/detail/errors.tsx","components/routes/submission/detail/file_tree.tsx","components/routes/submission/detail/heuristics.tsx","components/routes/submission/detail/info.tsx","components/routes/submission/detail/meta.tsx","components/routes/submission/detail/tags.tsx","components/routes/submission/detail.tsx","components/visual/TextVerdict.tsx","components/visual/VerdictGauge.tsx","components/routes/submission/report.tsx","components/routes/submissions.tsx","components/visual/FileDropper.tsx","components/routes/submit.tsx","helpers/uuid.js","components/routes/tos.tsx","components/routes/routes.tsx","components/app/app.tsx","components/hooks/useMySitemap.tsx","index.tsx"],"names":["global","undefined","define","encode","value","lastLength","data","ArrayBuffer","dataView","DataView","offset","prepareWrite","length","newByteLength","byteLength","requiredLength","oldDataView","uint32count","i","setUint32","getUint32","commitWrite","writeUint8","setUint8","writeUint8Array","writeTypeAndLength","type","setUint16","writeUint16","writeUint32","low","high","writeUint64","encodeItem","Math","floor","setFloat64","writeFloat64","utf8data","charCode","charCodeAt","push","Array","isArray","Uint8Array","keys","Object","key","slice","ret","retView","getUint8","decode","tagger","simpleValue","commitRead","readArrayBuffer","readUint8","readUint16","getUint16","readUint32","readBreak","readLength","additionalInformation","readIndefiniteStringLength","majorType","initialByte","appendUtf16Data","utf16data","decodeItem","tempArrayBuffer","tempDataView","sign","exponent","fraction","getFloat32","readFloat16","getFloat64","elements","fullArrayLength","fullArray","fullArrayOffset","set","String","fromCharCode","apply","retArray","retObject","window","document","Flow","opts","this","support","File","Blob","FileList","prototype","webkitSlice","mozSlice","supportDirectory","test","navigator","userAgent","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","prioritizeFirstAndLastChunk","target","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","events","$","onDrop","event","stopPropagation","preventDefault","dataTransfer","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","name","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","error","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","FlowChunk","fileObj","fileObjSize","tested","retries","pendingRetry","preprocessState","loaded","total","startByte","endByte","min","xhr","progressHandler","lengthComputable","chunkEvent","testHandler","status","message","uploadNextChunk","send","doneHandler","abort","retryInterval","setTimeout","dst","src","each","arguments","obj","callback","context","call","hasOwnProperty","on","toLowerCase","off","fn","array","index","indexOf","splice","arrayRemove","fire","args","unshift","queue","readSuccess","entries","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","readEntries","decrement","substring","fileError","item","getAsFile","custom","replace","preventEvents","found","chunk","outstanding","isComplete","assignBrowse","domNodes","domNode","input","tagName","createElement","setAttribute","style","position","overflow","verticalAlign","top","right","fontFamily","fontSize","margin","padding","opacity","cursor","appendChild","addEventListener","e","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","upload","started","num","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","getSize","sizeUploaded","timeRemaining","sizeDelta","Number","POSITIVE_INFINITY","measureSpeed","timeSpan","smoothingFactor","uploaded","max","reset","c","retry","round","ceil","bytesLoaded","percent","delta","getType","split","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","join","XMLHttpRequest","prepareXhrRequest","preprocessFinished","func","bytes","readyState","responseText","s","paramsMethod","blob","v","k","encodeURIComponent","FormData","append","open","setRequestHeader","version","module","exports","useAppTheme","isDark","colors","useMemo","background","darkPrimary","darkSecondary","lightPrimary","lightSecondary","palette","primary","main","secondary","dark","light","createMuiTheme","overrides","MuiCssBaseline","body","width","height","left","bottom","AppContext","React","createContext","useStyles","makeStyles","theme","snackroot","breakpoints","only","wordBreak","AppContextProvider","defaultTheme","defaultContext","children","useState","setContext","classes","prefersDarkMode","useMediaQuery","storedDarkMode","localStorage","getItem","darkMode","JSON","parse","getInitialTheme","setTheme","appTheme","Provider","isDarkTheme","isLightTheme","toggleTheme","newTheme","setItem","stringify","getAppbarStyles","layout","isTopLayout","backgroundColor","default","appbar","sticky","elevation","color","getContrastText","ThemeProvider","root","UserContext","UserProvider","props","contextProps","defaultProps","validateProps","useAppUser","useContext","user","setUser","isReady","createStyles","nested","paddingLeft","spacing","withWidth","useAppLayout","drawerState","hideNestedIcons","toggleDrawer","text","icon","route","userPropValidators","ListItem","button","component","Link","to","dense","className","onClick","isWidthDown","ListItemIcon","ListItemText","Tooltip","title","aria-label","placement","LeftNavGroup","id","popoverTarget","setPopoverTarget","collapseOpen","setCollapseOpen","groupItem","currentTarget","onPopoverClick","Collapse","in","timeout","unmountOnExit","List","disablePadding","map","Popover","onClose","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","topBarTitle","display","alignItems","flex","letterSpacing","minWidth","textDecoration","AppTitle","disabled","noTitle","useTheme","isXs","layoutProps","getLogo","IconButton","edge","appName","drawer","flexShrink","whiteSpace","drawerOver","overflowX","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","up","border","toolbar","toggler","t","useTranslation","currentLayout","header","Toolbar","Divider","hide","ClickAwayListener","mouseEvent","touchEvent","onClickAway","Drawer","variant","clsx","paper","leftnav","element","Box","useAppBarHeight","setHeight","updateHeight","getElementById","rect","getBoundingClientRect","useLayoutEffect","useAppContext","SiteMapContext","SiteMapProvider","history","useHistory","breadcrumbs","setBreadcrumbs","isUserReady","useEffect","appendRoute","getRoute","routes","location","pathname","listen","_matchedRoute","_breadcrumbs","resources","en","adminErrorViewer","adminErrorViewerEN","adminServices","adminServicesEN","adminSiteMap","adminSiteMapEN","adminUsers","adminUsersEN","authorize","authorizeEN","dashboard","dashboardEN","error403","error403EN","error404","error404EN","fileDetail","fileDetailEN","fileViewer","fileViewerEN","helpAPI","helpAPIEN","helpClassification","helpClassificationEN","helpConfiguration","helpConfigurationEN","helpSearch","helpSearchEN","helpServices","helpServicesEN","locked","lockedEN","login","loginEN","logout","logoutEN","manageHeuristics","manageHeuristicsEN","manageHeuristicDetail","manageHeuristicDetailEN","manageSignatures","manageSignaturesEN","manageSignatureDetail","manageSignatureDetailEN","manageSignatureSources","manageSignatureSourcesEN","manageWorkflowDetail","manageWorkflowDetailEN","manageWorkflows","manageWorkflowsEN","optout","optoutEN","search","searchEN","settings","settingsEN","statisticsHeuristics","statisticsHeuristicsEN","statisticsSignatures","statisticsSignaturesEN","submissions","submissionsEN","submissionDetail","submissionDetailEN","submissionReport","submissionReportEN","submit","submitEN","translation","translationEN","tos","tosEN","userEN","alerts","alertsEN","favorites","favoritesEN","fr","adminErrorViewerFR","adminServicesFR","adminSiteMapFR","adminUsersFR","authorizeFR","dashboardFR","error403FR","error404FR","fileDetailFR","fileViewerFR","helpAPIFR","helpClassificationFR","helpConfigurationFR","helpSearchFR","helpServicesFR","lockedFR","loginFR","logoutFR","manageHeuristicsFR","manageHeuristicDetailFR","manageSignaturesFR","manageSignatureDetailFR","manageSignatureSourcesFR","manageWorkflowDetailFR","manageWorkflowsFR","optoutFR","searchFR","settingsFR","statisticsHeuristicsFR","statisticsSignaturesFR","submissionsFR","submissionDetailFR","submissionReportFR","submitFR","translationFR","tosFR","userFR","alertsFR","favoritesFR","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","keySeparator","interpolation","escapeValue","detection","order","TITLE_404","siteMap","matched","_route","matcher","matchPath","path","filter","m","isExact","console","warn","breadcrumb","isRoot","isLeaf","findIndex","_breadcrumb","is404","useAppSitemap","resolveTitle","forEach","getSiteRoute","last","first","Lang","marginRight","BreadcrumbIcon","link","maxWidth","textOverflow","LinkRouter","RouterLink","BreadcrumbLinkItem","textOnly","url","paddingTop","BreadcrumbLastItem","linkClasses","useLinkStyle","Typography","BreadcrumbsEllipsis","css","expanded","BreadcrumbList","disableStyle","itemsBefore","itemsAfter","allLinks","exceptLast","isStatic","setExpanded","useBreadcrumbStyles","itemsBeforeCount","itemsAfterCount","_items","concat","exclude","before","after","hasEllipsis","splitItems","pop","maxItems","moreicon","flexGrow","marginTop","Breadcrumbs","isMedium","isExpanded","breadcrumbsState","lastOnly","current","staticBreadcrumbs","popper","zIndex","popperAnchorEl","setPopperAnchorEl","isPopperOpen","sp1","topnav","apps","Popper","TransitionProps","Fade","Paper","textAlign","flexDirection","flexWrap","a","Button","newWindow","href","fontWeight","Avatar","alt","img_d","img_l","QuickSearch","breadcrumbsEnabled","borderRadius","shape","fade","marginLeft","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","allowBreadcrumbs","setValue","uri","quickSearchURI","param","quickSearchParam","autoComplete","onSubmit","InputBase","onChange","placeholder","inputProps","isLang","lang","language","valueOf","useApp","showQuickSearch","autoHideAppbar","toggleLayout","toggleQuickSearch","toggleAutoHideAppbar","toggleShowBreadcrumbs","toggleBreadcrumbsState","allowPersonalization","allowAutoHideTopbar","allowQuickSearch","allowReset","allowThemeSelection","allowTopbarModeSelection","allowTranslate","subheader","ListSubheader","disableSticky","changeLanguage","EN","FR","Switch","checked","ListItemSecondaryAction","allowBreadcrumbsMinimize","clear","reload","ThemeSelectionIcon","md5","require","useGravatar","email","appBar","avatarButton","iconButton","down","UserProfile","currentUser","useUser","gravatarUrl","allowGravatar","sp2","sp3","renderMenu","menuItems","avatar","n","toUpperCase","disableGutters","paddingBottom","paddingRight","noWrap","userMenu","userMenuTitle","is_admin","adminMenu","adminMenuTitle","themeSelectionUnder","appBarTopLayout","menuButton","topBarLeft","leftSpacer","SlideIn","show","Slide","appear","direction","mountOnEnter","appbarState","isSm","appbarStyles","leftAfterBreadcrumbs","dispatchEvent","CustomEvent","autoHide","AppBar","isWidthUp","useNewStyles","appVertical","appVerticalLeft","appVerticalRight","appVerticalRightContent","appHorizontal","AppLayoutContext","AppLayoutProvider","initialLayout","storedNavLayout","defaultLayout","storedDrawer","initialDrawer","defaultDrawerOpen","storedQuickSearch","initialQuickSearch","defaultShowQuickSearch","storedAutoHideAppbar","initialAutoHideAppbar","defaultAutoHideAppbar","storedShowBreadcrumbs","initialBreadcrumbsEnabled","defaultShowBreadcrumbs","storedBreadcrumbs","initialBreadcrumbsState","defaultBreadcrumbsOpen","appReady","setAppReady","showMenus","setShowMenus","setDrawer","setAppbarState","setBreadcrumbsEnabled","setBreadcrumbsState","quickSearch","setQuickSearch","setAutoHideAppbar","setLayout","isSM","isPrinting","newClasses","getBanner","curTheme","bannerDark","bannerLight","appIconDark","appIconLight","hideMenus","newLayout","setReady","CssBaseline","useALContext","useMyLayout","isXS","MENU_ITEMS","prop","USER_MENU_ITEMS","ADMIN_MENU_ITEMS","darkLogo","process","lightLogo","darkBanner","useMySnackbar","useSnackbar","enqueueSnackbar","closeSnackbar","snackBarOptions","preventDuplicate","snack","showErrorMessage","autoHideDuration","showWarningMessage","showSuccessMessage","showInfoMessage","useMyUser","setState","c12nDef","setC12nDef","configuration","setConfiguration","indexes","setIndexes","setSettings","flattenedProps","setFlattenedProps","validateProp","propDef","whoAmIData","cfg","c12n","idx","userSettings","curUser","flatten","ob","toReturn","flatObject","x","agrees_with_tos","ui","is_active","some","LoadingScreen","transform","CircularProgress","PageCenter","w","mxw","mb","ml","mr","mt","page","divider","marginBottom","ForbiddenPage","LockedPage","tos_lockout_notify","card","CardCentered","Card","getXSRFCookie","xsrfToken","cookie","find","row","startsWith","ex","useMyAPI","contentType","reloadOnUnauthorize","onSuccess","onFailure","onEnter","onExit","onFinalize","requestOptions","credentials","fetch","then","res","json","catch","err","api_error_message","api_response","api_server_version","api_status_code","api_data","buttonProgress","OAuthLogin","username","oAuthToken","buttonLoading","alignSelf","Skeleton","gutterBottom","OneTimePassLogin","setOneTimePass","TextField","maxLength","autoFocus","label","ResetPasswordNow","setButtonLoading","useLocation","apiCall","URLSearchParams","resetID","setResetID","password","setPassword","passwordConfirm","setPasswordConfirm","done","setDone","get","reset_id","password_confirm","align","ResetPassword","setEmail","toArrayBuffer","uint8Array","CBOR","SecurityTokenLogin","setShownControls","setWebAuthNResponse","arrayData","options","buffer","credentialHelper","assertion","response","assertionData","credentialId","rawId","authenticatorData","clientDataJSON","signature","from","log","SignUp","setUsername","autoCorrect","autoCapitalize","UserPassLogin","TextDivider","forcePaper","borderTop","inner","bytesToSize","pow","scoreToVerdict","score","getValueFromPath","paths","getProvider","LoginScreen","allowUserPass","allowSignup","allowPWReset","oAuthProviders","provider","shownControls","setAvatar","setOAuthToken","oneTimePass","webAuthNResponse","pwPadding","focusTarget","otp","webauthn_auth_resp","oauth_token","select","focus","email_adr","registration_key","date","setTime","getTime","toUTCString","hash","signup","reset_now","oauth","sectoken","NotFoundPage","maxHeight","APIKeys","toggleAPIKey","selectedAPIKey","setSelectedAPIKey","tempAPIKey","setTempAPIKey","tempKeyName","setTempKeyName","tempKeyPriv","setTempKeyPriv","fullScreen","regex","RegExp","sp4","handleNew","apikeys","Chip","onDelete","Select","MenuItem","apikey","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","DisableOTP","setDrawerOpen","set2FAEnabled","OTP","setResponse","tempOTP","setTempOTP","sp6","dangerouslySetInnerHTML","__html","qrcode","secret_key","SecurityToken","toggleToken","selectedToken","setSelectedToken","tempToken","setTempToken","security_tokens","attestationData","attestationObject","ColorMap","info","success","warning","auto_height","wrap","square","rounded","fullWidth","tiny","label_tiny","mono","tiny_mono","common","white","darken","success_outlined","borderColor","info_outlined","warning_outlined","error_outlined","CustomChip","memo","tooltip","otherProps","typeClassMap","sizeLabelClassMap","small","medium","sizeClassMap","colorClassMap","appliedClassName","labelClassName","chip","defaultParts","lvlIdx","lvl","req","groups","subgroups","defaultDisabled","levels","getLevelText","format","isMobile","levels_map","toString","levels_map_stl","getLevelIndex","retIndex","splitIdx","c12nLvl","levels_map_lts","levels_aliases","getRequired","returnSet","partSet","p","access_req_map_lts","access_req_map_stl","access_req_aliases","out","r","sort","getGroups","g1","g2","groupParts","grpPart","tempGroup","tg","trim","g","groups_map_lts","groups_map_stl","groups_aliases","subgroups_map_lts","subgroups_map_stl","subgroups_aliases","sa","g1Out","gr","g2Out","sgr","getParts","grps","normalizedClassification","parts","reqGrp","params_map","is_required_group","rg","group","solitary_display_name","alias","values","levelList","isNaN","parseInt","defaultClassificationValidator","applyClassificationRules","userClassification","requireLvl","limitedToGroup","requireGroup","partsToCheck","retParts","disabledList","require_lvl","limited_to_group","require_group","partName","part","triggerAutoSelect","l","includes","groups_auto_select","classification","inlineSkel","WrappedClassification","inline","setClassification","isUser","isPhone","showPicker","setShowPicker","uParts","setUserParts","validated","setValidated","enforce","computeColor","levelStyles","levels_styles_map","skelheight","useClassification","newC12n","originalC12n","container","xs","md","original_definition","short_name","selected","required","newReq","toggleRequired","grp","newGrp","toggleGroups","sgrp","sg","newSGrp","toggleSubGroups","Classification","ConfirmationDialog","handleClose","handleAccept","cancelText","acceptText","Apps","toggleApp","selectedApp","setSelectedApp","netloc","server","scope","DeleteButton","withStyles","red","User","useParams","inputRef","useRef","drawerType","setDrawerType","deleteDialog","setDeleteDialog","modified","setModified","downSM","skelItem","skelButton","toggleRole","role","newTypes","Fragment","anchor","api_quota","change_password","new_pass","new_pass_confirm","defaultValue","chips","submission_quota","disable_otp","token","newTokens","api_key","apiKey","newKeys","app","newApps","Grid","justify","sm","ref","accept","reader","FileReader","onload","img","result","readAsDataURL","htmlFor","click","uname","TableContainer","Table","TableHead","TableRow","TableCell","colSpan","TableBody","hover","auth","allow_2fa","allow_security_tokens","allow_apikeys","boxShadow","shadows","Account","LinkGrid","action","active","cloneElement","Admin","useClipboard","_snack","copy","targetId","el","copySuccess","execCommand","removeChild","PageFullWidth","PageHeader","actions","isSticky","appBarHeight","barWillHide","minHeight","act","startIcon","btnProp","appMain","appContent","appRightDrawer","DrawerContext","DrawerProvider","globalDrawer","setGlobalDrawer","isMD","isLG","isXL","drawerWidth","closeGlobalDrawer","useDrawer","insertText","browserName","browser","oldText","prefix","suffix","newText","_insertTextFF","setSelectionRange","_insertText","is","check","isArrowUp","isArrowDown","isArrowLeft","isArrowRight","isEscape","isEnter","DEFAULT_SUGGESTION","searchTextFieldOptionsCt","outline","searchTextFieldOptionsInner","searchTextFieldItem","SearchTextOption","onSelection","data-searchtextfieldoption-position","data-searchtextfieldoption-selected","SearchTextField","onSearch","onClear","setCursor","start","end","filteredOptions","setFilteredOptions","setOpen","optionsElement","isLTEMedium","getInputEl","querySelector","onOptionsOpen","onOptionsClose","onOptionSelection","startIndex","endIndex","option","inputEl","scrollTo","_target","scrollIntoView","block","filterOptions","inputValue","selectionOffset","parseFilter","filterValue","thisCursor","insertStartIndex","insertEndIndex","_options","selectionStart","_precursor","_postcursor","filterStartIndex","filterEndIndex","_preParts","_prePartsLast","_postParts","_postPartsFirst","InputProps","disableUnderline","_value","onKeyDown","keyCode","nextIndex","onBlur","searchbar","searchresult","SearchBar","initValue","searching","suggestions","buttons","extras","onValueChange","upMD","_onValueClear","orientation","flexItem","b","LinearProgress","SimpleSearchQuery","baseSearch","defaultParams","deltaParams","output","has","defaultVal","getAll","delete","SearchPager","pageSize","setResults","scrollToTop","setSearching","count","Pagination","pageQuery","getDefaultString","StyledTableCell","head","DivTableCell","other","SortableHeaderCell","sortField","allowSort","searchParams","curSort","dir","TableSortLabel","LinkRow","DivTableRow","DivTableHead","DivTableBody","DivTable","StyledAlert","marginbottom","Alert","InformativeAlert","severity","ErrorsTable","errorResults","errorMap","EXCEPTION","UNKNOWN","created","fromNow","locale","service_name","AlertTitle","fontStyle","drawerPaper","clipboardIcon","ErrorDetail","service_version","service_tool_version","service_debug_info","sha256","ErrorViewer","setErrorResults","setQuery","setSuggestions","indexed","useCallback","setError","getDeltaString","Empty","DEFAULT_ENV","WrappedEnvironment","envVar","onAdd","onUpdate","tempEnvVar","setTempEnvVar","Environment","DEFAULT_VOL","capacity","mount_path","storage_class","WrappedVolumeControl","vol","tempVol","setTempVol","tempName","setTempName","handleValueChange","field","VolumeControl","DEFAULT_CONTAINER","allow_internet_access","command","cpu_cores","environment","image","ports","ram_mb","ram_mb_min","registry_password","registry_username","WrappedContainerDialog","volumes","onSave","tempContainer","setTempContainer","tempVolumes","setTempVolumes","handleContainerValueChange","handleEnvAddUpdate","newEnv","newEnvironment","handleEnvDelete","delEnv","handleVolDelete","vol_name","newVolumes","RadioGroup","FormControlLabel","control","Radio","env","ContainerDialog","card_title","WrappedContainerCard","dialog","setDialog","yesColor","noColor","ContainerCard","ServiceContainer","service","setService","handleDependencyChange","newDep","depList","dependencies","update_channel","docker_config","newContainer","onDependencyDelete","ServiceGeneral","constants","versions","default_result_classification","multiline","rows","description","stage","stages","category","categories","accepts","rejects","licence_count","is_external","disable_cache","DEFAULT_CONFIG","WrappedMultiTypeConfig","config","tempConfig","setTempConfig","jsonTheme","base00","base01","base02","hint","base03","base04","grey","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","parsedConfig","handleConfigUpdate","handleConfigUpdateJSON","updated_src","handleConfigChange","handleConfigChangeJSON","enableClipboard","groupArraysAfterLength","displayDataTypes","displayObjectSize","onEdit","MultiTypeConfig","DEFAULT_USER_PARAM","list","WrappedMultiTypeParam","tempUserParams","setTempUserParams","handleSubmissionParamUpdate","handleSPDefaultChange","newList","newDefault","MultiTypeParam","ServiceParams","onParamAdd","detail","onParamUpdate","onParamDelete","onConfigAddUpdate","onConfigDelete","handleSPAdd","newSP","submission_params","handleSPUpdate","handleSPDelete","handleConfigAddUpdate","handleConfigDelete","newConfig","checkbox","DEFAULT_HEADER","DEFAULT_SOURCE","ca_cert","default_classification","pattern","private_key","ssl_ignore_errors","SourceDetail","base","close","tempHeader","setTempHeader","source","setSource","UNRESTRICTED","newHeaders","removeHeader","addHeader","proxy","Checkbox","SourceCard","float","ServiceDetail","sources","openDrawer","currentService","SignatureSources","setSources","roles","WrappedSourceDialog","tempSource","setTempSource","SourceDialog","ServiceUpdater","editDialog","setEditDialog","editedSourceID","setEditedSourceID","handleSaveSource","newSource","newSources","update_config","update_interval_seconds","run_options","generates_signatures","wait_for_update","source_id","handleDeleteSource","Service","onDeleted","svc","setConstants","setVersions","tab","setTab","enabled","TabContext","TabList","newValue","indicatorColor","textColor","Tab","TabPanel","ServiceTable","serviceResults","updates","update_available","updating","latest_tag","Services","setServiceResults","setUpdates","manifest","setManifest","updateData","update_data","newUpdates","SiteMap","setSiteMap","privMap","R","W","E","reqMapColor","signature_importer","signature_manager","admin","stickyHeader","function","methods","mid","protected","req_priv","priv","pid","required_type","rid","UsersTable","userResults","DEFAULT_USER","Users","setUserResults","newUser","setNewUser","closeDrawer","updateNewUser","my","chiplist","listStyle","ChipSkeleton","ChipSkeletonInline","ChipList","cp","Verdict","short","shortText","safe","suspicious","highly_suspicious","malicious","priority","COLOR_MAP","CRITICAL","chip_color","arrow","HIGH","MEDIUM","LOW","null","AlertPriority","withText","withChip","TRIAGE","MALICIOUS","ASSESS","AlertStatus","section","sectionTitle","sectionContent","SkeletonInline","AlertDetails","alert","paramId","alertId","handleAlertUpdate","changes","sid","filtered","alert_id","al","verdict","non_malicious","ts","reporting_ts","owner","hint_owner","toFixed","sha1","metadata","attrib","av","ip","ip_dynamic","ip_static","domain","domain_dynamic","domain_static","attack","heuristic","behavior","yara","Carousel","enableSwipe","disableArrowUp","disableArrowDown","disableArrowLeft","disableArrowRight","onPrevious","onNext","touchX","touchY","touchStartX","touchStartY","touchDirection","touchStale","tabIndex","onTouchStart","touches","clientX","clientY","onTouchMove","moveX","moveY","nextDirection","abs","onTouchEnd","Throttler","msec","throttleId","delayId","delay","bind","clearTimeout","THROTTLER","useList","listId","throttle","selectNext","selectPrevious","register","handlers","onSelect","onSelectNext","onSelectPrevious","ListCarousel","useListNavigator","ListNavigator","useMetaListStyles","outer","frame","progressCt","progressSpinner","useBooklistStyles","pager","pagerSpacer","pagerItems","pagerItem","useSimpleListStyles","useListItemStyles","itemCt","itemDefaultBackgrounds","itemOuter","itemInner","itemDivider","itemActions","useListStyles","listItemClasses","metaListClasses","booklistClasses","simpleListStyles","ListItemBase","noDivider","disableBackgrounds","onRenderActions","_onClick","onItemActionsClick","data-listitem-position","data-listitem-selected","data-listitem-focus","SimpleListScroller","scrollTarget","listElement","rowHeight","scrollElement","getScrollBlock","offsetTop","offsetHeight","listElementRect","stElementRect","scrollTop","SimpleList","loading","disableProgress","scrollTargetId","scrollInfinite","scrollLoadNextThreshold","scrollReset","emptyValue","onCursorChange","onItemSelected","onLoadNext","outerEL","scrollEL","innerEL","scroller","nextScrollThreshold","infinite","onEscape","updateState","nextCursor","next","previous","useListKeyboard","_cursor","onScrollEnabled","_onRowClick","_item","onScroll","fH","sT","tH","scrollHeight","cP","AlertListItem","infoItems","group_count","usePromiseAPI","fetchAlert","Promise","resolve","reject","onApplyWorkflowAction","selectedStatus","selectedPriority","selectedLabels","statusPromise","buildAPIQueryString","priorityPromise","labelPromise","all","onTakeOwnership","setVerdict","SearchFilterType","verticalSpeedDial","actionsClosed","DEFAULT_OWNER","SpeedDialActionLink","others","SpeedDialAction","AlertListItemActions","currentQuery","onTakeOwnershipComplete","onVerdictComplete","groupBy","getGroupBy","takeOwnershipConfirmation","setTakeOwnershipConfirmation","hasSetMalicious","hasSetNonMalicious","handleVerdict","onTakeOwnershipOkClick","buildActionQuery","_actionQuery","newBase","setGroupBy","SpeedDial","ariaLabel","SpeedDialIcon","openIcon","onOpen","FabProps","tooltipTitle","tooltipPlacement","actionQuery","actionData","labels","focusQuery","build","addFq","buildFocusQuery","buildURLQueryString","BLANK","SearchQuery","setDefaults","hasOffset","setOffset","hasTc","setTc","hasRows","setRows","hasGroupBy","getOffsetNumber","getRows","tc","tcStart","hasTcStart","fq","filters","statuses","priorities","queries","clearQuery","setTcStart","clearFq","getTc","getQuery","q","fqs","getFqList","parseFilterValue","STATUS","PRIORITY","LABEL","QUERY","resolveType","findOption","o","decorateQueryFilters","queryFilters","userFavoritesFilters","qf","isFavorite","vf","AlertsFilters","searchQuery","valueFilters","statusFilters","priorityFilters","labelFilters","userFavorites","globalFavorites","onApplyBtnClick","GROUPBY_OPTIONS","TC_OPTIONS","parseFilters","tcOption","groupByOption","selectedTc","setSelectedTc","selectedGroupBy","setSelectedGroupBy","fav","created_by","selectedStatusFilters","setSelectedStatusFilters","selectedPriorityFilters","setSelectedPriorityFilters","selectedLabelFilters","setSelectedLabelFilters","selectedQueryFilters","setSelectedQueryFilters","isSelected","renderOption","_filters","FormControl","displayEmpty","selectedValue","onTcFilterChange","onGroupByFilterChange","Autocomplete","multiple","getOptionLabel","getOptionSelected","renderInput","selections","_selections","_valueFilters","sf","onFavoriteChange","selection","favoriteFilters","onValueFilterChange","useFavorites","setUserFavorites","setGlobalFavorites","onLoadUserFavorites","onLoadGlobalFavorites","onAddUserFavorite","favorite","onAddGlobalFavorite","onDeleteUserFavorite","onDeleteGlobalFavorite","AlertsFiltersFavorites","onSaved","onSelected","formValid","setFormValid","valid","queryValue","setQueryValue","nameValue","setNameValue","publicSwitch","setPublicSwitch","isPublic","confirmation","setConfirmation","validateForm","_queryValue","_nameValue","_onDeleteClick","_onSelect","onSwitchChange","disableElevation","disableRipple","_onDelete","AlertsFiltersSelected","hideQuery","hideGroupBy","disableActions","_statuses","onDeleteStatus","_priorities","onDeletePriority","_labels","onDeleteLabel","_queries","onDeleteQuery","POSSIBLE_STATUS","POSSIBLE_PRIORITY","DEFAULT_LABELS","AlertsWorkflowActions","applying","setApplying","val","possibleLabels","setSelectedStatus","setSelectedPriority","setSelectedLabels","freeSolo","DEFAULT_STATE","countedTotal","alertStateReducer","state","newState","updateAlert","newAlertList","alertIndex","alertChanges","pageTitle","drawerInner","modeToggler","borderTopLeftRadius","borderBottomLeftRadius","SearchResultLarge","onApplyFilters","SearchResultSmall","hasFilters","Alerts","fieldIndexes","setSearchQuery","fields","setFields","setStatusFilters","setPriorityFilters","setLabelFilters","setValueFilters","useReducer","parseResult","responseItems","buildUrl","onLoad","onComplete","executionTime","tc_start","counted_total","getTcStart","onLoadMore","tickOffset","_offset","parsedItems","onLoadStatuses","msItems","onLoadPriorities","onLoadLabels","onLoadStatisics","statistics","ki","vk","vki","vkv","aFields","updateQuery","useAlerts","setScrollReset","searchTextValue","isMDUp","isLGDown","blur","_onLoadMore","setFilters","onRenderListRow","onDrawerClose","onRenderListActions","Set","_fields","buildSearchSuggestions","deleteQuery","STATE_ICON_MAP","incomplete","completed","submitted","skipped","ExtendedScan","VerdictBar","verdicts","fill","stroke","y","AlertCardItem","isDownSM","newVerdict","Hidden","mdUp","lg","extended_scan","tz","smDown","textTransform","AlertsLegacy","setAlerts","VALID_SCOPES","AppRegistration","rUrl","clientID","Backdrop","transitionDuration","goBack","getBrowserFullscreenElementProp","fullscreenElement","Error","toggle","PageFullscreen","isFullscreen","setIsFullscreen","fullscreenSupported","maximizableElement","elRef","onfullscreenchange","requestFullscreen","useFullscreenStatus","exitFullscreen","caption","graph","gridColumn","gridRow","gridTemplate","placeItems","ArcGauge","pctValue","colorBack","initialized","colorFilled","backgroundArc","arc","innerRadius","outerRadius","startAngle","PI","endAngle","cornerRadius","percentScale","scaleLinear","range","angleScale","clamp","filledArc","lineHeight","viewBox","d","core_card","error_icon","metric","muted","ok","MetricCounter","IngestCard","ingester","timer","setTimer","busyness","metrics","busy_seconds","busy_seconds_count","instances","processing_chance","critical","bytes_completed","bytes_ingested","ingest","queues","processing","inflight","cache_hit","cache_miss","files_completed","submissions_completed","whitelisted","duplicates","DispatcherCard","dispatcher","cpu_seconds","cpu_seconds_count","startQueue","reduce","resultQueue","commandQueue","ExpiryCard","expiry","cached_file","filescore","emptyresult","submission","submission_summary","submission_tree","archive","AlerterCard","alerter","received","updated","ScalerResourcesCard","scaler","cpu_total","cpu_free","memory_total","memory_free","ServiceCard","max_inflight","fail_nonrecoverable","activity","busy","execute","fail_recoverable","basicReducer","serviceReducer","serviceState","hbType","hb","DEFAULT_SERVICE","serviceListReducer","serviceName","timing","curTime","DEFAULT_ALERTER","DEFAULT_DISPATCHER","per_instance","DEFAULT_EXPIRY","DEFAULT_INGESTER","cache_expired","cache_stale","cache_hit_local","submissions_ingested","timed_out","DEFAULT_SCALER","duty_cycle","last_hb","cache_skipped","scored","not_scored","running","minimum","maximum","dynamic_maximum","pressure","idle","DEFAULT_SERVICE_LIST","Dashboard","setAlerter","setDispatcher","setExpiry","setIngester","setScaler","services","setServices","servicesList","setServicesList","handleAlerterHeartbeat","debug","handleArchiveHeartbeat","handleDispatcherHeartbeat","handleExpiryHeartbeat","handleIngestHeartbeat","handleScalerHeartbeat","handleServiceHeartbeat","handleScalerStatusHeartbeat","socket","io","emit","disconnect","xl","HighlightContext","HighlightProvider","highlighted","setHighlighted","relatedHighlighted","setRelatedHighlighted","highlightMap","setHighlightMap","getKey","isHighlighted","hasHighlightedKeys","keyList","triggerHighlight","handleTrigger","newHighlighted","add","newRelatedHighlighted","useHighlighter","ExtractedFile","download","encodeURI","ExtractedSection","extracted","STYLE","SEARCH_ICON","Attack","show_type","highlight_key","handleClick","searchAttack","deleteIcon","Heuristic","SectionHighlight","indent","depth","VERDICT_SCORE_MAP","Tag","short_type","TitleKey","section_title","useTreeItemStyles","TextBody","MemDumpBody","KVBody","cellSpacing","GraphBody","colorRange","itemWidthPct","colorScale","URLBody","arr","listStyleType","paddingInlineStart","marginBlockStart","marginBlockEnd","JSONBody","collapsed","ProcessTreeItem","classMap","TreeItem","nodeId","process_pid","signatures","sum","parseFloat","process_name","command_line","processes","ProcessTreeItemList","ProcessTreeBody","subprocess","TreeView","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","StyledTableRow","StyledTable","TblBody","line","th","hid","ResultSection","section_list","sub_sections","tagList","tags","tag","attack_id","heur_id","title_text","body_format","SupplementarySection","content","emptyResult","sections","supplementary","ResultCard","alternates","empty","displayedResult","setDisplayedResult","expand_min_score","setAnchorEl","setSelected","Boolean","allTags","section_hierarchy","MenuList","service_context","AttackSection","attacks","cat","cid","mat","_","clickable","ChildrenSection","childrens","fileItem","EmptySection","emptys","ErrorCard","ErrorSection","errors","FrequencySection","fileinfo","seen","HeuristicSection","heuristics","hname","IdentificationSection","ssdeep","mime","magic","entropy","MetadataSection","meta","ParentSection","parents","resultKey","parentSHA256","results","meta_key","TagSection","tag_type","FileDetail","liveResultKeys","liveErrors","setFile","scrollToItem","bounding","myElementHeight","myElementWidth","offsetWidth","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","elementInViewport","patchFileDetails","newData","resubmit","extra_result_keys","file_info","MaterialLink","attack_matrix","FileFullDetail","pre","no_pad","AsciiViewer","ascii","setAscii","HexViewer","hex","setHex","StringViewer","string","setString","FileViewer","newTab","Help","api","blueprint","disabledBackground","blueprintSkel","expand","shortest","expandOpen","ApiDoc","apiList","setApiList","apiSelected","setApiSelected","apiDefinition","setApiDefinition","expandMap","setExpandMap","methodColor","DELETE","GET","POST","PUT","privColor","userColor","toggleBlueprintExpand","bp","compare","blueprints","borderBottom","px","apis","blueprintAPIs","midx","complete","htmlColor","require_type","utype","uidx","required_priv","ptype","pidx","met","metid","HelpClassification","Trans","ns","i18nKey","components","bold","RESTRICTED","italic","Configuration","tag_types","max_priority","file_types","sub_key","sub_idx","UnderConstruction","Search","CardHeader","overflowWrap","Logout","Manage","HeuristicsTable","heuristicResults","setHeuristicID","filetype","stats","last_hit","WrappedHistogram","isDate","setMax","histData","setHistData","maintainAspectRatio","responsive","scales","xAxes","gridLines","drawBorder","ticks","fontColor","time","unit","yAxes","beginAtZero","suggestedMax","precision","tempDatasets","maxValue","datasets","dataset","borderWidth","hoverBackgroundColor","redraw","legend","Histogram","ResultsTable","resultResults","preview","HeuristicDetail","setHeuristic","setStats","histogram","setHistogram","mincount","gap","chartData","max_score","signature_score_map","first_hit","avg","Heuristics","setHeuristicResults","onFilterValueChange","DEPLOYED","NOISY","DISABLED","SignatureStatus","SignaturesTable","signatureResults","setSignatureID","signature_id","openPaper","SignatureDetail","onUpdated","setSignature","closeDialog","Signatures","setSignatureResults","handleReload","sig_id","handleSignatureUpdated","handleSignatureDeleted","WorflowTable","workflowResults","setWorkflowID","workflow","workflow_id","creation_date","last_seen","hit_count","MyMenuItem","WorkflowDetail","setWorkflow","DEFAULT_WORKFLOW","creator","edited_by","last_edit","Workflows","setWorkflowResults","wf_id","Optout","AlertsTable","alertResults","FilesTable","fileResults","SubmissionState","error_count","curState","SubmissionsTable","submissionResults","times","submitter","file_count","tweaked_tabs","searchSuggestion","setSearchSuggestion","setSubmissionResults","setFileResults","setResultResults","setAlertResults","stateMap","resMap","searchList","searchIndex","TabSpacer","SpecialTab","Tabs","scrollButtons","ServiceTreeItemSkel","ServiceTreeItem","pageBreakInside","indeterminate","every","service_id","SkelItems","ServiceTree","compressed","handleServiceChange","newServices","srv","sortFunc","nameA","nameB","columnWidth","columnGap","columnRuleWidth","columnRuleStyle","columnRuleColor","cat_id","toggleDynamicPrevention","ignore_dynamic_recursion_prevention","toggleFiltering","ignore_filtering","toggleCaching","ignore_cache","toggleDeepScan","deep_scan","toggleProfile","profile","ttl","view","submission_view","encoding","download_encoding","getServiceFromKey","getHashFromKey","parsed_errors","aggregated","errorType","listed","eID","getErrorTypeFromKey","file_item","noMaxWidth","FileTree","tree","FileTreeSection","InfoSection","MetaSection","tag_group","resultReducer","currentResults","newResults","messageReducer","messages","receivedMessages","newMessages","incrementReducer","old","increment","SubmissionDetail","fid","setSubmission","summary","setSummary","setTree","watchQueue","setWatchQueue","setLiveResultKeys","liveErrorKeys","setLiveErrorKeys","processedKeys","setProcessedKeys","liveResults","setLiveResults","setLiveErrors","liveTagMap","setLiveTagMap","setOutstanding","loadTrigger","incrementLoadTrigger","setSocket","loadInterval","setLoadInterval","lastSuccessfulTrigger","setLastSuccessfulTrigger","updateLiveFileTree","tempTree","toUpdate","searchFileTree","currentTree","fname","getFilenameFromSHA256","TBD","toDelTDB","idxDel","getParsedErrors","errorList","getErrorIDFromKey","futileErrors","parseSubmissionErrors","currentSubmission","resetLiveMode","newSubmission","summ_data","tree_data","tempSocket","setInterval","wq_id","handleErrorMessage","msg","handleStartMessage","handleStopMessage","clearInterval","handleCacheKeyMessage","handleCacheKeyErrrorMessage","resetOutstanding","from_start","curFileLiveResults","curFileLiveErrors","errorKey","newErrors","tempSummary","tempTagMap","sectionID","hType","heurExists","heurItem","heurKey","j","attExists","attackItem","attKey","tagID","summaryType","exists","tagVal","tagKey","updateLiveSumary","Snackbar","group_idx","VERDICT_COLOR_MAP","TextVerdict","circle","under_text","VerdictGauge","colorMalicious","colorNonMalicious","angleScaleRight","filledArcRight","angleScaleLeft","filledArcLeft","banner_title","file_details","malicious_heur","WebkitPrintColorAdjust","suspicious_heur","info_heur","AttributionBanner","report","bgColor","implant","attributions","family","actor","borderSpacing","TagTable","orderedItems","tagType","tagValue","h_type","vidx","AttackMatrixBlock","AttackMatrixSkel","HeuristicsList","heur","HeuristicsListSkel","important_files","FileTreeSkel","FileItemSkel","SubmissionReport","setReport","print","att","tagGroup","groupIdx","file_tree","Submissions","FileDropper","ctrlDisabled","useDropzone","acceptedFiles","getRootProps","getInputProps","isDragActive","drop_zone","drag_enter","Submit","uuid","setUUID","flow","setFlow","uploadProgress","setUploadProgress","setUrl","urlHasError","setUrlHasError","validate","setValidate","validateCB","setValidateCB","allowClick","setAllowClick","sp8","getFileUUID","selectedFile","cancelUpload","validateServiceSelection","cbType","showPopup","uploadAndScan","analyseUrl","executeCB","trunc","setParam","service_idx","param_idx","p_value","newSettings","service_spec","setSettingValue","fieldValue","setSettingAsyncValue","matches","exec","ui_params","random","generateUUID","banner","banner_level","centered","allow_url_submissions","InputLabelProps","shrink","Markdown","Tos","setTos","renderers","RouteActions","oldID","setOldID","currentLocation","charAt","Routes","exact","AdminErrorViewer","AdminServices","AdminSiteMap","AdminUsers","HelpApiDoc","HelpConfiguration","HelpSearch","HelpServices","ManageHeuristics","ManageSignatures","ManageSignatureSources","ManageWorkflows","Settings","system","MyApp","storedLoginParams","defaultLoginParams","renderedApp","setRenderedApp","loginParams","setLoginParams","switchRenderedApp","load","oauth_providers","allow_userpass_login","allow_signup","allow_pw_rest","AppInit","sitemapProps","useMySitemap","userProps","basename","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.6b1942c3.chunk.js","sourcesContent":["/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2016 Patrick Gansterer <paroga@paroga.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/*\n  We had to using this basic implementation of CBOR to match\n  what was used in the API but it throws a bunch of warnings\n  in the linter therefor we will disable those checks for this\n  file.\n*/\n/* eslint-disable no-mixed-operators */\n/* eslint-disable no-shadow-restricted-names */\n/* eslint-disable strict */\n/* eslint-disable default-case */\n/* eslint-disable no-throw-literal */\n/* eslint-disable no-undef */\n/* eslint-disable no-bitwise */\n/* eslint-disable no-shadow */\n/* eslint-disable vars-on-top */\n/* eslint-disable consistent-return */\n/* eslint-disable no-var */\n/* eslint-disable no-param-reassign */\n/* eslint-disable func-names */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable @typescript-eslint/no-throw-literal */\n\n(function (global, undefined) {\n  'use strict';\n\n  const POW_2_24 = 5.960464477539063e-8;\n  const POW_2_32 = 4294967296;\n  const POW_2_53 = 9007199254740992;\n\n  function encode(value) {\n    let data = new ArrayBuffer(256);\n    let dataView = new DataView(data);\n    let lastLength;\n    let offset = 0;\n\n    function prepareWrite(length) {\n      let newByteLength = data.byteLength;\n      const requiredLength = offset + length;\n      while (newByteLength < requiredLength) newByteLength <<= 1;\n      if (newByteLength !== data.byteLength) {\n        const oldDataView = dataView;\n        data = new ArrayBuffer(newByteLength);\n        dataView = new DataView(data);\n        const uint32count = (offset + 3) >> 2;\n        for (let i = 0; i < uint32count; ++i) dataView.setUint32(i << 2, oldDataView.getUint32(i << 2));\n      }\n\n      lastLength = length;\n      return dataView;\n    }\n    function commitWrite() {\n      offset += lastLength;\n    }\n    function writeFloat64(value) {\n      commitWrite(prepareWrite(8).setFloat64(offset, value));\n    }\n    function writeUint8(value) {\n      commitWrite(prepareWrite(1).setUint8(offset, value));\n    }\n    function writeUint8Array(value) {\n      const dataView = prepareWrite(value.length);\n      for (let i = 0; i < value.length; ++i) dataView.setUint8(offset + i, value[i]);\n      commitWrite();\n    }\n    function writeUint16(value) {\n      commitWrite(prepareWrite(2).setUint16(offset, value));\n    }\n    function writeUint32(value) {\n      commitWrite(prepareWrite(4).setUint32(offset, value));\n    }\n    function writeUint64(value) {\n      const low = value % POW_2_32;\n      const high = (value - low) / POW_2_32;\n      const dataView = prepareWrite(8);\n      dataView.setUint32(offset, high);\n      dataView.setUint32(offset + 4, low);\n      commitWrite();\n    }\n    function writeTypeAndLength(type, length) {\n      if (length < 24) {\n        writeUint8((type << 5) | length);\n      } else if (length < 0x100) {\n        writeUint8((type << 5) | 24);\n        writeUint8(length);\n      } else if (length < 0x10000) {\n        writeUint8((type << 5) | 25);\n        writeUint16(length);\n      } else if (length < 0x100000000) {\n        writeUint8((type << 5) | 26);\n        writeUint32(length);\n      } else {\n        writeUint8((type << 5) | 27);\n        writeUint64(length);\n      }\n    }\n\n    function encodeItem(value) {\n      let i;\n\n      if (value === false) return writeUint8(0xf4);\n      if (value === true) return writeUint8(0xf5);\n      if (value === null) return writeUint8(0xf6);\n      if (value === undefined) return writeUint8(0xf7);\n\n      switch (typeof value) {\n        case 'number':\n          if (Math.floor(value) === value) {\n            if (value >= 0 && value <= POW_2_53) return writeTypeAndLength(0, value);\n            if (-POW_2_53 <= value && value < 0) return writeTypeAndLength(1, -(value + 1));\n          }\n          writeUint8(0xfb);\n          return writeFloat64(value);\n\n        case 'string':\n          var utf8data = [];\n          for (i = 0; i < value.length; ++i) {\n            let charCode = value.charCodeAt(i);\n            if (charCode < 0x80) {\n              utf8data.push(charCode);\n            } else if (charCode < 0x800) {\n              utf8data.push(0xc0 | (charCode >> 6));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            } else if (charCode < 0xd800) {\n              utf8data.push(0xe0 | (charCode >> 12));\n              utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            } else {\n              charCode = (charCode & 0x3ff) << 10;\n              charCode |= value.charCodeAt(++i) & 0x3ff;\n              charCode += 0x10000;\n\n              utf8data.push(0xf0 | (charCode >> 18));\n              utf8data.push(0x80 | ((charCode >> 12) & 0x3f));\n              utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            }\n          }\n\n          writeTypeAndLength(3, utf8data.length);\n          return writeUint8Array(utf8data);\n\n        default:\n          var length;\n          if (Array.isArray(value)) {\n            length = value.length;\n            writeTypeAndLength(4, length);\n            for (i = 0; i < length; ++i) encodeItem(value[i]);\n          } else if (value instanceof Uint8Array) {\n            writeTypeAndLength(2, value.length);\n            writeUint8Array(value);\n          } else {\n            const keys = Object.keys(value);\n            length = keys.length;\n            writeTypeAndLength(5, length);\n            for (i = 0; i < length; ++i) {\n              const key = keys[i];\n              encodeItem(key);\n              encodeItem(value[key]);\n            }\n          }\n      }\n    }\n\n    encodeItem(value);\n\n    if ('slice' in data) return data.slice(0, offset);\n\n    const ret = new ArrayBuffer(offset);\n    const retView = new DataView(ret);\n    for (let i = 0; i < offset; ++i) retView.setUint8(i, dataView.getUint8(i));\n    return ret;\n  }\n\n  function decode(data, tagger, simpleValue) {\n    const dataView = new DataView(data);\n    let offset = 0;\n\n    if (typeof tagger !== 'function')\n      tagger = function (value) {\n        return value;\n      };\n    if (typeof simpleValue !== 'function')\n      simpleValue = function () {\n        return undefined;\n      };\n\n    function commitRead(length, value) {\n      offset += length;\n      return value;\n    }\n    function readArrayBuffer(length) {\n      return commitRead(length, new Uint8Array(data, offset, length));\n    }\n    function readFloat16() {\n      const tempArrayBuffer = new ArrayBuffer(4);\n      const tempDataView = new DataView(tempArrayBuffer);\n      const value = readUint16();\n\n      const sign = value & 0x8000;\n      let exponent = value & 0x7c00;\n      const fraction = value & 0x03ff;\n\n      if (exponent === 0x7c00) exponent = 0xff << 10;\n      else if (exponent !== 0) exponent += (127 - 15) << 10;\n      else if (fraction !== 0) return (sign ? -1 : 1) * fraction * POW_2_24;\n\n      tempDataView.setUint32(0, (sign << 16) | (exponent << 13) | (fraction << 13));\n      return tempDataView.getFloat32(0);\n    }\n    function readFloat32() {\n      return commitRead(4, dataView.getFloat32(offset));\n    }\n    function readFloat64() {\n      return commitRead(8, dataView.getFloat64(offset));\n    }\n    function readUint8() {\n      return commitRead(1, dataView.getUint8(offset));\n    }\n    function readUint16() {\n      return commitRead(2, dataView.getUint16(offset));\n    }\n    function readUint32() {\n      return commitRead(4, dataView.getUint32(offset));\n    }\n    function readUint64() {\n      return readUint32() * POW_2_32 + readUint32();\n    }\n    function readBreak() {\n      if (dataView.getUint8(offset) !== 0xff) return false;\n      offset += 1;\n      return true;\n    }\n    function readLength(additionalInformation) {\n      if (additionalInformation < 24) return additionalInformation;\n      if (additionalInformation === 24) return readUint8();\n      if (additionalInformation === 25) return readUint16();\n      if (additionalInformation === 26) return readUint32();\n      if (additionalInformation === 27) return readUint64();\n      if (additionalInformation === 31) return -1;\n      throw 'Invalid length encoding';\n    }\n    function readIndefiniteStringLength(majorType) {\n      const initialByte = readUint8();\n      if (initialByte === 0xff) return -1;\n      const length = readLength(initialByte & 0x1f);\n      if (length < 0 || initialByte >> 5 !== majorType) throw 'Invalid indefinite length element';\n      return length;\n    }\n\n    function appendUtf16Data(utf16data, length) {\n      for (let i = 0; i < length; ++i) {\n        let value = readUint8();\n        if (value & 0x80) {\n          if (value < 0xe0) {\n            value = ((value & 0x1f) << 6) | (readUint8() & 0x3f);\n            length -= 1;\n          } else if (value < 0xf0) {\n            value = ((value & 0x0f) << 12) | ((readUint8() & 0x3f) << 6) | (readUint8() & 0x3f);\n            length -= 2;\n          } else {\n            value =\n              ((value & 0x0f) << 18) |\n              ((readUint8() & 0x3f) << 12) |\n              ((readUint8() & 0x3f) << 6) |\n              (readUint8() & 0x3f);\n            length -= 3;\n          }\n        }\n\n        if (value < 0x10000) {\n          utf16data.push(value);\n        } else {\n          value -= 0x10000;\n          utf16data.push(0xd800 | (value >> 10));\n          utf16data.push(0xdc00 | (value & 0x3ff));\n        }\n      }\n    }\n\n    function decodeItem() {\n      const initialByte = readUint8();\n      const majorType = initialByte >> 5;\n      const additionalInformation = initialByte & 0x1f;\n      let i;\n      let length;\n\n      if (majorType === 7) {\n        switch (additionalInformation) {\n          case 25:\n            return readFloat16();\n          case 26:\n            return readFloat32();\n          case 27:\n            return readFloat64();\n        }\n      }\n\n      length = readLength(additionalInformation);\n      if (length < 0 && (majorType < 2 || majorType > 6)) throw 'Invalid length';\n\n      switch (majorType) {\n        case 0:\n          return length;\n        case 1:\n          return -1 - length;\n        case 2:\n          if (length < 0) {\n            const elements = [];\n            let fullArrayLength = 0;\n            while ((length = readIndefiniteStringLength(majorType)) >= 0) {\n              fullArrayLength += length;\n              elements.push(readArrayBuffer(length));\n            }\n            const fullArray = new Uint8Array(fullArrayLength);\n            let fullArrayOffset = 0;\n            for (i = 0; i < elements.length; ++i) {\n              fullArray.set(elements[i], fullArrayOffset);\n              fullArrayOffset += elements[i].length;\n            }\n            return fullArray;\n          }\n          return readArrayBuffer(length);\n        case 3:\n          var utf16data = [];\n          if (length < 0) {\n            while ((length = readIndefiniteStringLength(majorType)) >= 0) appendUtf16Data(utf16data, length);\n          } else appendUtf16Data(utf16data, length);\n          return String.fromCharCode.apply(null, utf16data);\n        case 4:\n          var retArray;\n          if (length < 0) {\n            retArray = [];\n            while (!readBreak()) retArray.push(decodeItem());\n          } else {\n            retArray = new Array(length);\n            for (i = 0; i < length; ++i) retArray[i] = decodeItem();\n          }\n          return retArray;\n        case 5:\n          var retObject = {};\n          for (i = 0; i < length || (length < 0 && !readBreak()); ++i) {\n            const key = decodeItem();\n            retObject[key] = decodeItem();\n          }\n          return retObject;\n        case 6:\n          return tagger(decodeItem(), length);\n        case 7:\n          switch (length) {\n            case 20:\n              return false;\n            case 21:\n              return true;\n            case 22:\n              return null;\n            case 23:\n              return undefined;\n            default:\n              return simpleValue(length);\n          }\n      }\n    }\n\n    const ret = decodeItem();\n    if (offset !== data.byteLength) throw 'Remaining bytes';\n    return ret;\n  }\n\n  const obj = { encode, decode };\n\n  if (typeof define === 'function' && define.amd) define('cbor/cbor', obj);\n  else if (typeof module !== 'undefined' && module.exports) module.exports = obj;\n  else if (!global.CBOR) global.CBOR = obj;\n})(this);\n","/**\n * @license MIT\n */\n\n/*\n  We had to using this current implementation of flow.js to match\n  what was used in the API but it throws a bunch of warnings\n  in the linter therefor we will disable those checks for this\n  file.\n*/\n/* eslint-disable no-shadow-restricted-names */\n/* eslint-disable default-case */\n/* eslint-disable no-undef */\n/* eslint-disable no-bitwise */\n/* eslint-disable vars-on-top */\n/* eslint-disable consistent-return */\n/* eslint-disable no-var */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable func-names */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable prefer-spread */\n\n(function (window, document, undefined) {\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @param [opts]\n   * @param {number} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {string} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support =\n      typeof File !== 'undefined' &&\n      typeof Blob !== 'undefined' &&\n      typeof FileList !== 'undefined' &&\n      (!!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice || false); // slicing files support\n\n    if (!this.support) {\n      return;\n    }\n\n    /**\n     * Check if directory upload is supported\n     * @type {boolean}\n     */\n    this.supportDirectory = /WebKit/.test(window.navigator.userAgent);\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = [];\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      method: 'multipart',\n      prioritizeFirstAndLastChunk: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 415, 500, 501]\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {};\n\n    /**\n     * List of events:\n     *  key stands for event name\n     *  value array list of callbacks\n     * @type {}\n     */\n    this.events = {};\n\n    const $ = this;\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      const { dataTransfer } = event;\n      if (dataTransfer.items && dataTransfer.items[0] && dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event);\n      } else {\n        $.addFiles(dataTransfer.files, event);\n      }\n    };\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault();\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {});\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRetry(file), fileError(file, message), complete(),\n     * progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on(event, callback) {\n      event = event.toLowerCase();\n      if (!this.events.hasOwnProperty(event)) {\n        this.events[event] = [];\n      }\n      this.events[event].push(callback);\n    },\n\n    /**\n     * Remove event callback\n     * @function\n     * @param {string} [event] removes all events if not specified\n     * @param {Function} [fn] removes all callbacks of event if not specified\n     */\n    off(event, fn) {\n      if (event !== undefined) {\n        event = event.toLowerCase();\n        if (fn !== undefined) {\n          if (this.events.hasOwnProperty(event)) {\n            arrayRemove(this.events[event], fn);\n          }\n        } else {\n          delete this.events[event];\n        }\n      } else {\n        this.events = {};\n      }\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire(event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      event = event.toLowerCase();\n      let preventDefault = false;\n      if (this.events.hasOwnProperty(event)) {\n        each(this.events[event], function (callback) {\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\n        });\n      }\n      if (event !== 'catchall') {\n        args.unshift('catchAll');\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\n      }\n      return !preventDefault;\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer(event) {\n      const $ = this;\n      let queue = event.dataTransfer.items.length;\n      const files = [];\n      each(event.dataTransfer.items, function (item) {\n        const entry = item.webkitGetAsEntry();\n        if (!entry) {\n          decrement();\n          return;\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\n        } else {\n          entry.createReader().readEntries(readSuccess, readError);\n        }\n      });\n      function readSuccess(entries) {\n        queue += entries.length;\n        each(entries, function (entry) {\n          if (entry.isFile) {\n            const { fullPath } = entry;\n            entry.file(function (file) {\n              fileReadSuccess(file, fullPath);\n            }, readError);\n          } else if (entry.isDirectory) {\n            entry.createReader().readEntries(readSuccess, readError);\n          }\n        });\n        decrement();\n      }\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1);\n        files.push(file);\n        decrement();\n      }\n      function readError(fileError) {\n        throw fileError;\n      }\n      function decrement() {\n        if (--queue === 0) {\n          $.addFiles(files, event);\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier(file) {\n      const custom = this.opts.generateUniqueIdentifier;\n      if (typeof custom === 'function') {\n        return custom(file);\n      }\n      // Some confusion in different versions of Firefox\n      const relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\n      return `${file.size}-${relativePath.replace(/[^0-9a-zA-Z_-]/gim, '')}`;\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk(preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      let found = false;\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, function (file) {\n          if (\n            !file.paused &&\n            file.chunks.length &&\n            file.chunks[0].status() === 'pending' &&\n            file.chunks[0].preprocessState === 0\n          ) {\n            file.chunks[0].send();\n            found = true;\n            return false;\n          }\n          if (\n            !file.paused &&\n            file.chunks.length > 1 &&\n            file.chunks[file.chunks.length - 1].status() === 'pending' &&\n            file.chunks[0].preprocessState === 0\n          ) {\n            file.chunks[file.chunks.length - 1].send();\n            found = true;\n            return false;\n          }\n        });\n        if (found) {\n          return found;\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, function (file) {\n        if (!file.paused) {\n          each(file.chunks, function (chunk) {\n            if (chunk.status() === 'pending' && chunk.preprocessState === 0) {\n              chunk.send();\n              found = true;\n              return false;\n            }\n          });\n        }\n        if (found) {\n          return false;\n        }\n      });\n      if (found) {\n        return true;\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      let outstanding = false;\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          outstanding = true;\n          return false;\n        }\n      });\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        this.fire('complete');\n      }\n      return false;\n    },\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * be selected (Chrome only).\n     */\n    assignBrowse(domNodes, isDirectory, singleFile) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n\n      // We will create an <input> and overlay it on the domNode\n      // (crappy, but since HTML5 doesn't have a cross-browser.browse() method\n      // we haven't a choice. FF4+ allows click() for this though:\n      // https://developer.mozilla.org/en/using_files_from_web_applications)\n      each(\n        domNodes,\n        function (domNode) {\n          let input;\n          if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n            input = domNode;\n          } else {\n            input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            // input fill entire dom node\n            extend(domNode.style, {\n              // display: 'inline-block',\n              position: 'relative',\n              overflow: 'hidden',\n              verticalAlign: 'top'\n            });\n            // in Opera only 'browse' button\n            // is clickable and it is located at\n            // the right side of the input\n            extend(input.style, {\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              fontFamily: 'Arial',\n              // 4 persons reported this, the max values that worked for them were 243, 236, 236, 118\n              fontSize: '140px',\n              margin: 0,\n              padding: 0,\n              opacity: 0,\n              cursor: 'pointer'\n            });\n            domNode.appendChild(input);\n          }\n          if (!this.opts.singleFile && !singleFile) {\n            input.setAttribute('multiple', 'multiple');\n          }\n          if (isDirectory) {\n            input.setAttribute('webkitdirectory', 'webkitdirectory');\n          }\n          // When new files are added, simply append them to the overall list\n          const $ = this;\n          input.addEventListener(\n            'change',\n            function (e) {\n              $.addFiles(e.target.files, e);\n              e.target.value = '';\n            },\n            false\n          );\n        },\n        this\n      );\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(\n        domNodes,\n        function (domNode) {\n          domNode.addEventListener('dragover', this.preventEvent, false);\n          domNode.addEventListener('dragenter', this.preventEvent, false);\n          domNode.addEventListener('drop', this.onDrop, false);\n        },\n        this\n      );\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(\n        domNodes,\n        function (domNode) {\n          domNode.removeEventListener('dragover', this.preventEvent);\n          domNode.removeEventListener('dragenter', this.preventEvent);\n          domNode.removeEventListener('drop', this.onDrop);\n        },\n        this\n      );\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false;\n      each(this.files, function (file) {\n        if (file.isUploading()) {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload() {\n      // Make sure we don't start too many uploads at once\n      if (this.isUploading()) {\n        return;\n      }\n      // Kick off the queue\n      this.fire('uploadStart');\n      let started = false;\n      for (let num = 1; num <= this.opts.simultaneousUploads; num++) {\n        started = this.uploadNextChunk(true) || started;\n      }\n      if (!started) {\n        this.fire('complete');\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume() {\n      each(this.files, function (file) {\n        file.resume();\n      });\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause() {\n      each(this.files, function (file) {\n        file.pause();\n      });\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel() {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel();\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      let totalDone = 0;\n      let totalSize = 0;\n      // Resume all chunks currently being uploaded\n      each(this.files, function (file) {\n        totalDone += file.progress() * file.size;\n        totalSize += file.size;\n      });\n      return totalSize > 0 ? totalDone / totalSize : 0;\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile(file, event) {\n      this.addFiles([file], event);\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles(fileList, event) {\n      const files = [];\n      each(\n        fileList,\n        function (file) {\n          // Directories have size `0` and name `.`\n          // Ignore already added files\n          if (\n            !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.')) &&\n            !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file))\n          ) {\n            const f = new FlowFile(this, file);\n            if (this.fire('fileAdded', f, event)) {\n              files.push(f);\n            }\n          }\n        },\n        this\n      );\n      if (this.fire('filesAdded', files, event)) {\n        each(\n          files,\n          function (file) {\n            if ((this.opts.singleFile && this.files.length === 0) || !this.opts.singleFile) {\n              this.files.push(file);\n            }\n          },\n          this\n        );\n      }\n      this.fire('filesSubmitted', files, event);\n    },\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile(file) {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1);\n          file.abort();\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier(uniqueIdentifier) {\n      let ret = false;\n      each(this.files, function (file) {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file;\n        }\n      });\n      return ret;\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize() {\n      let totalSize = 0;\n      each(this.files, function (file) {\n        totalSize += file.size;\n      });\n      return totalSize;\n    },\n\n    /**\n     * Returns the total size uploaded of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0;\n      each(this.files, function (file) {\n        size += file.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      let sizeDelta = 0;\n      let averageSpeed = 0;\n      each(this.files, function (file) {\n        if (!file.paused && !file.error) {\n          sizeDelta += file.size - file.sizeUploaded();\n          averageSpeed += file.averageSpeed;\n        }\n      });\n      if (sizeDelta && !averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!sizeDelta && !averageSpeed) {\n        return 0;\n      }\n      return Math.floor(sizeDelta / averageSpeed);\n    }\n  };\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @constructor\n   */\n  function FlowFile(flowObj, file) {\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file;\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size;\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file);\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = [];\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false;\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false;\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0;\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0;\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now();\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0;\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0;\n\n    this.bootstrap();\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed() {\n      const timeSpan = Date.now() - this._lastProgressCallback;\n      if (!timeSpan) {\n        return;\n      }\n      const smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\n      const uploaded = this.sizeUploaded();\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max(((uploaded - this._prevUploadedSize) / timeSpan) * 1000, 0);\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\n      this._prevUploadedSize = uploaded;\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} [message]\n     */\n    chunkEvent(event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback < this.flowObj.opts.progressCallbacksInterval) {\n            break;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          break;\n        case 'error':\n          this.error = true;\n          this.abort(true);\n          this.flowObj.fire('fileError', this, message);\n          this.flowObj.fire('error', message, this);\n          break;\n        case 'success':\n          if (this.error) {\n            return;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          if (this.isComplete()) {\n            this.currentSpeed = 0;\n            this.averageSpeed = 0;\n            this.flowObj.fire('fileSuccess', this, message);\n          }\n          break;\n        case 'retry':\n          this.flowObj.fire('fileRetry', this);\n          break;\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause() {\n      this.paused = true;\n      this.abort();\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume() {\n      this.paused = false;\n      this.flowObj.upload();\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort(reset) {\n      this.currentSpeed = 0;\n      this.averageSpeed = 0;\n      const { chunks } = this;\n      if (reset) {\n        this.chunks = [];\n      }\n      each(\n        chunks,\n        function (c) {\n          if (c.status() === 'uploading') {\n            c.abort();\n            this.flowObj.uploadNextChunk();\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel() {\n      this.flowObj.removeFile(this);\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry() {\n      this.bootstrap();\n      this.flowObj.upload();\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap() {\n      this.abort(true);\n      this.error = false;\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0;\n      const round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\n      const chunks = Math.max(round(this.file.size / this.flowObj.opts.chunkSize), 1);\n      for (let offset = 0; offset < chunks; offset++) {\n        this.chunks.push(new FlowChunk(this.flowObj, this, offset));\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress() {\n      if (this.error) {\n        return 0;\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\n        return this._prevProgress;\n      }\n      // Sum up progress across everything\n      let bytesLoaded = 0;\n      each(this.chunks, function (c) {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\n      });\n      const percent = bytesLoaded / this.size;\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.999 ? 1 : percent);\n      return this._prevProgress;\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false;\n      each(this.chunks, function (chunk) {\n        if (chunk.status() === 'uploading') {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete() {\n      let outstanding = false;\n      each(this.chunks, function (chunk) {\n        const status = chunk.status();\n        if (status === 'pending' || status === 'uploading' || chunk.preprocessState === 1) {\n          outstanding = true;\n          return false;\n        }\n      });\n      return !outstanding;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0;\n      each(this.chunks, function (chunk) {\n        size += chunk.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      if (this.paused || this.error) {\n        return 0;\n      }\n      const delta = this.size - this.sizeUploaded();\n      if (delta && !this.averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!delta && !this.averageSpeed) {\n        return 0;\n      }\n      return Math.floor(delta / this.averageSpeed);\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType() {\n      return this.file.type && this.file.type.split('/')[1];\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension() {\n      return this.name.substr((~-this.name.lastIndexOf('.') >>> 0) + 2).toLowerCase();\n    }\n  };\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.fileObjSize = fileObj.size;\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset;\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false;\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0;\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false;\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0;\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0;\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0;\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    const { chunkSize } = this.flowObj.opts;\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * chunkSize;\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = Math.min(this.fileObjSize, (this.offset + 1) * chunkSize);\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null;\n\n    if (this.fileObjSize - this.endByte < chunkSize && !this.flowObj.opts.forceChunkSize) {\n      // The last chunk will be bigger than the chunk size,\n      // but less than 2*chunkSize\n      this.endByte = this.fileObjSize;\n    }\n\n    const $ = this;\n\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function (event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded;\n        $.total = event.total;\n      }\n      $.fileObj.chunkEvent('progress');\n    };\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function (event) {\n      const status = $.status();\n      if (status === 'success') {\n        $.tested = true;\n        $.fileObj.chunkEvent(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        // Error might be caused by file pause method\n        $.tested = true;\n        $.send();\n      }\n    };\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function (event) {\n      const status = $.status();\n      if (status === 'success' || status === 'error') {\n        $.fileObj.chunkEvent(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else {\n        $.fileObj.chunkEvent('retry', $.message());\n        $.pendingRetry = true;\n        $.abort();\n        $.retries++;\n        const retryInterval = $.flowObj.opts.chunkRetryInterval;\n        if (retryInterval !== null) {\n          setTimeout(function () {\n            $.send();\n          }, retryInterval);\n        } else {\n          $.send();\n        }\n      }\n    };\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams() {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.flowObj.opts.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObjSize,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length\n      };\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget(params) {\n      let { target } = this.flowObj.opts;\n      if (target.indexOf('?') < 0) {\n        target += '?';\n      } else {\n        target += '&';\n      }\n      return target + params.join('&');\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test() {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.addEventListener('load', this.testHandler, false);\n      this.xhr.addEventListener('error', this.testHandler, false);\n      const data = this.prepareXhrRequest('GET');\n      this.xhr.send(data);\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished() {\n      this.preprocessState = 2;\n      this.send();\n    },\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send() {\n      const { preprocess } = this.flowObj.opts;\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            preprocess(this);\n            this.preprocessState = 1;\n            return;\n          case 1:\n            return;\n          case 2:\n            break;\n        }\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test();\n        return;\n      }\n\n      this.loaded = 0;\n      this.total = 0;\n      this.pendingRetry = false;\n\n      const func = this.fileObj.file.slice\n        ? 'slice'\n        : this.fileObj.file.mozSlice\n        ? 'mozSlice'\n        : this.fileObj.file.webkitSlice\n        ? 'webkitSlice'\n        : 'slice';\n      const bytes = this.fileObj.file[func](this.startByte, this.endByte);\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\n      this.xhr.addEventListener('load', this.doneHandler, false);\n      this.xhr.addEventListener('error', this.doneHandler, false);\n\n      const data = this.prepareXhrRequest('POST', this.flowObj.opts.method, bytes);\n\n      this.xhr.send(data);\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort() {\n      // Abort and reset\n      const { xhr } = this;\n      this.xhr = null;\n      if (xhr) {\n        xhr.abort();\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status() {\n      if (this.pendingRetry) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading';\n      }\n      if (!this.xhr) {\n        return 'pending';\n      }\n      if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading';\n      }\n      if (this.xhr.status === 200) {\n        // HTTP 200, perfect\n        return 'success';\n      }\n      if (\n        this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\n        this.retries >= this.flowObj.opts.maxChunkRetries\n      ) {\n        // HTTP 415/500/501, permanent error\n        return 'error';\n      }\n      // this should never happen, but we'll reset and queue a retry\n      // a likely case for this would be 503 service unavailable\n      this.abort();\n      return 'pending';\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message() {\n      return this.xhr ? this.xhr.responseText : '';\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      if (this.pendingRetry) {\n        return 0;\n      }\n      const s = this.status();\n      if (s === 'success' || s === 'error') {\n        return 1;\n      }\n      if (s === 'pending') {\n        return 0;\n      }\n      return this.total > 0 ? this.loaded / this.total : 0;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = this.endByte - this.startByte;\n      // can't return only chunk.loaded value, because it is bigger than chunk size\n      if (this.status() !== 'success') {\n        size *= this.progress();\n      }\n      return size;\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest(method, paramsMethod, blob) {\n      // Add data from the query options\n      let { query } = this.flowObj.opts;\n      if (typeof query === 'function') {\n        query = query(this.fileObj, this);\n      }\n      query = extend(this.getParams(), query);\n\n      let { target } = this.flowObj.opts;\n      let data = null;\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        const params = [];\n        each(query, function (v, k) {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\n        });\n        target = this.getTarget(params);\n        data = blob || null;\n      } else {\n        // Add data from the query options\n        data = new FormData();\n        each(query, function (v, k) {\n          data.append(k, v);\n        });\n        data.append(this.flowObj.opts.fileParameterName, blob);\n      }\n\n      this.xhr.open(method, target);\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\n\n      // Add data from header options\n      each(\n        this.flowObj.opts.headers,\n        function (v, k) {\n          this.xhr.setRequestHeader(k, v);\n        },\n        this\n      );\n\n      return data;\n    }\n  };\n\n  /**\n   * Remove value from array\n   * @param array\n   * @param value\n   */\n  function arrayRemove(array, value) {\n    const index = array.indexOf(value);\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, function (obj) {\n      if (obj !== dst) {\n        each(obj, function (value, key) {\n          dst[key] = value;\n        });\n      }\n    });\n    return dst;\n  }\n  Flow.extend = extend;\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return;\n    }\n    let key;\n    // Is Array?\n    if (typeof obj.length !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return;\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return;\n        }\n      }\n    }\n  }\n  Flow.each = each;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk;\n\n  /**\n   * Library version\n   * @type {string}\n   */\n  Flow.version = '2.1.0';\n\n  if (typeof module === 'object' && module && typeof module.exports === 'object') {\n    // Expose Flow as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = Flow;\n  } else {\n    // Otherwise expose Flow to the global object as usual\n    window.Flow = Flow;\n\n    // Register as a named AMD module, since Flow can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase flow is used because AMD module names are\n    // derived from file names, and Flow is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of Flow, it will work.\n    if (typeof define === 'function' && define.amd) {\n      define('flow', [], function () {\n        return Flow;\n      });\n    }\n  }\n})(window, document);\n","import { createMuiTheme, PaletteType } from '@material-ui/core';\nimport { useMemo } from 'react';\n\nexport type AppThemeProps = {\n  background?: {\n    dark?: {\n      default: string;\n      paper: string;\n    };\n    light?: {\n      default: string;\n      paper: string;\n    };\n  };\n  darkPrimary?: string;\n  darkSecondary?: string;\n  lightPrimary?: string;\n  lightSecondary?: string;\n  appbar?: {\n    sticky?: {\n      elevation?: number;\n      dark?: {\n        backgroundColor: string;\n      };\n      light?: {\n        backgroundColor: string;\n      };\n    };\n  };\n};\n\nconst useAppTheme = (isDark: boolean, colors: AppThemeProps) => {\n  const theme = useMemo(() => {\n    const { background, darkPrimary, darkSecondary, lightPrimary, lightSecondary } = colors;\n\n    const primaryMain = isDark ? darkPrimary : lightPrimary;\n    const secondaryMain = isDark ? darkSecondary : lightSecondary;\n\n    const palette = {\n      primary: {\n        main: primaryMain\n      },\n      secondary: {\n        main: secondaryMain\n      },\n      type: isDark ? ('dark' as PaletteType) : ('light' as PaletteType)\n    };\n\n    if (background) {\n      if (isDark && background.dark) {\n        // eslint-disable-next-line @typescript-eslint/dot-notation\n        palette['background'] = background.dark;\n      } else if (!isDark && background.light) {\n        // eslint-disable-next-line @typescript-eslint/dot-notation\n        palette['background'] = background.light;\n      }\n    }\n\n    return createMuiTheme({\n      overrides: {\n        MuiCssBaseline: {\n          '@global': {\n            body: {\n              width: '100%',\n              height: '100%'\n            },\n            '#root': {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0\n            }\n          }\n        }\n      },\n      palette\n    });\n  }, [colors, isDark]);\n  return [theme];\n};\nexport default useAppTheme;\n","import { makeStyles, ThemeProvider, useMediaQuery } from '@material-ui/core';\nimport useAppTheme, { AppThemeProps } from 'commons/components/hooks/useAppTheme';\nimport { SnackbarProvider } from 'notistack';\nimport React, { useState } from 'react';\n\n//\ninterface AppbarStyles {\n  color: string;\n  backgroundColor: string;\n  elevation: number;\n}\n\n// Specification interface of the component properties.\ninterface AppProviderProps {\n  children: React.ReactNode;\n  colors: AppThemeProps;\n  defaultTheme: 'light' | 'dark';\n  defaultContext?: any;\n}\n\n// Specification interface of the contex provider.\nexport interface AppContextProps {\n  context?: any;\n  theme: 'light' | 'dark';\n  colors: AppThemeProps;\n  isDarkTheme: boolean;\n  isLightTheme: boolean;\n  toggleTheme: () => void;\n  setContext: (context: any) => void;\n  getAppbarStyles: (currentLayout: 'side' | 'top') => AppbarStyles;\n}\n\n// React context instantiation.\nexport const AppContext = React.createContext<AppContextProps>(null);\n\n// Figure what the initial theme to use.\nconst getInitialTheme = (defaultTheme, prefersDarkMode) => {\n  // Figure out initial theme.\n  let initialTheme;\n  const storedDarkMode = localStorage.getItem('darkMode');\n  const darkMode = storedDarkMode ? !!JSON.parse(storedDarkMode) : null;\n  if (darkMode !== null && darkMode === true) {\n    initialTheme = 'dark' as 'dark';\n  } else if (darkMode !== null && darkMode === false) {\n    initialTheme = 'light' as 'light';\n  } else if (prefersDarkMode) {\n    initialTheme = 'dark' as 'dark';\n  } else {\n    initialTheme = defaultTheme;\n  }\n  return initialTheme;\n};\n\nconst useStyles = makeStyles(theme => ({\n  snackroot: {\n    [theme.breakpoints.only('xs')]: { wordBreak: 'break-all' }\n  }\n}));\n\n// Implementation of the AppContext provider component.\n// This should be the root application component renderered by the index.tsx into the dom element-id 'root'\nconst AppContextProvider: React.FC<AppProviderProps> = ({ defaultTheme, colors, defaultContext, children }) => {\n  // Application provided context.\n  const [context, setContext] = useState<any>(defaultContext);\n  const classes = useStyles();\n\n  // Theme state.\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const [theme, setTheme] = useState<'dark' | 'light'>(getInitialTheme(defaultTheme, prefersDarkMode));\n\n  // Theme toggle handler.\n  const toggleTheme = () => {\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('darkMode', JSON.stringify(newTheme === 'dark'));\n    setTheme(newTheme);\n  };\n\n  // Build the theme.\n  const [appTheme] = useAppTheme(theme === 'dark', colors);\n\n  // Compute appbar styles for specified layout.\n  const getAppbarStyles = (layout: 'side' | 'top'): AppbarStyles => {\n    const isTopLayout = layout === 'top';\n    const isDarkTheme = theme === 'dark';\n    const isLightTheme = theme === 'light';\n\n    // Compute background color.\n    let backgroundColor = isTopLayout ? appTheme.palette.primary.dark : appTheme.palette.background.default;\n    if (isTopLayout) {\n      if (isDarkTheme && colors.appbar?.sticky?.dark) {\n        backgroundColor = colors.appbar.sticky.dark.backgroundColor;\n      }\n      if (isLightTheme && colors.appbar?.sticky?.light) {\n        backgroundColor = colors.appbar.sticky.light.backgroundColor;\n      }\n    }\n\n    // Compute elevation.\n    const elevation = isTopLayout\n      ? colors.appbar?.sticky?.elevation !== undefined\n        ? colors.appbar?.sticky?.elevation\n        : 2\n      : 0;\n\n    // Wrap it up and send-it!\n    return {\n      color: appTheme.palette.getContrastText(backgroundColor),\n      backgroundColor,\n      elevation\n    };\n  };\n\n  // Initialize app context provider, theme, snackbar and render children component.\n  // Snackbar needs to be rendered as child of theme provider.  CSS glitches ensues if not the case.\n  return (\n    <AppContext.Provider\n      value={{\n        context,\n        theme,\n        colors,\n        isDarkTheme: theme === 'dark',\n        isLightTheme: theme === 'light',\n        toggleTheme,\n        setContext,\n        getAppbarStyles\n      }}\n    >\n      <ThemeProvider theme={appTheme}>\n        <SnackbarProvider classes={{ root: classes.snackroot }}>{children}</SnackbarProvider>\n      </ThemeProvider>\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContextProvider;\n","import React from 'react';\n\nexport type UserProfileProps = {\n  username: string;\n  email: string;\n  name: string;\n  avatar: string;\n  is_admin: boolean;\n};\n\nexport type ValidatedProp = {\n  prop: string;\n  value: any;\n};\n\nexport interface UserContextProps<U extends UserProfileProps> {\n  user: U;\n  setUser: (user: U) => void;\n  isReady: () => boolean;\n  validateProps?: (props: ValidatedProp[]) => boolean;\n}\n\nexport interface UserProviderProps<U extends UserProfileProps> extends UserContextProps<U> {\n  children: React.ReactNode;\n}\n\nexport const UserContext = React.createContext<UserContextProps<UserProfileProps>>(null);\n\nfunction UserProvider<U extends UserProfileProps>(props: UserProviderProps<U>) {\n  const { children, ...contextProps } = props;\n  return <UserContext.Provider value={contextProps}>{children}</UserContext.Provider>;\n}\n\nUserProvider.defaultProps = {\n  validateProps: () => true\n};\n\nexport default UserProvider;\n","import { UserContext, UserContextProps, UserProfileProps } from 'commons/components/user/UserProvider';\nimport { useContext } from 'react';\n\nexport default function useAppUser<U extends UserProfileProps>(): UserContextProps<U> {\n  const context = useContext(UserContext) as UserContextProps<U>;\n  if (context) {\n    return context;\n  }\n  return {\n    user: null,\n    setUser: user => null,\n    isReady: () => false\n  };\n}\n","import { ListItem, ListItemIcon, ListItemText, Tooltip } from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useAppUser from 'commons/components/hooks/useAppUser';\nimport { LeftNavItemProps } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    nested: {\n      paddingLeft: theme.spacing(4)\n    }\n  })\n);\n\nconst LeftNavItem: React.FC<LeftNavItemProps> = props => {\n  const classes = useStyles();\n  const { drawerState, hideNestedIcons, toggleDrawer } = useAppLayout();\n  const { text, icon, nested, route, userPropValidators } = props;\n  const { validateProps } = useAppUser();\n\n  const onCloseDrawerIfOpen = () => {\n    if (isWidthDown('sm', props.width) && drawerState) {\n      setTimeout(toggleDrawer, 150);\n    }\n  };\n\n  const item = (\n    <ListItem\n      button\n      component={route ? Link : null}\n      to={route}\n      dense={!!nested}\n      className={nested ? classes.nested : null}\n      key={text}\n      onClick={onCloseDrawerIfOpen}\n    >\n      {((icon && !nested) || (!hideNestedIcons && icon && nested)) && <ListItemIcon>{icon}</ListItemIcon>}\n      <ListItemText primary={text} />\n    </ListItem>\n  );\n\n  return validateProps(userPropValidators) ? (\n    drawerState || nested ? (\n      item\n    ) : (\n      <Tooltip title={text} aria-label={text} placement=\"right\">\n        {item}\n      </Tooltip>\n    )\n  ) : null;\n};\n\nexport default withWidth()(LeftNavItem);\n","import { Collapse, List, ListItem, ListItemIcon, ListItemText, Popover, Tooltip } from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport { LeftNavGroupProps } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport LeftNavItem from 'commons/components/layout/leftnav/LeftNavItem';\nimport React, { useState } from 'react';\n\nconst LeftNavGroup: React.FC<LeftNavGroupProps> = ({ open = true, id, title, icon, items }) => {\n  const { drawerState } = useAppLayout();\n  const [popoverTarget, setPopoverTarget] = useState<(EventTarget & Element) | undefined>();\n\n  const onPopoverClick = (event: React.MouseEvent) => {\n    setPopoverTarget(event ? event.currentTarget : undefined);\n  };\n\n  const [collapseOpen, setCollapseOpen] = React.useState(false);\n  const handleClick = (event: React.MouseEvent) => {\n    if (open) {\n      setCollapseOpen(!collapseOpen);\n    } else {\n      onPopoverClick(event);\n    }\n  };\n\n  const groupItem = (\n    <ListItem button key={id} onClick={handleClick}>\n      <ListItemIcon>{icon}</ListItemIcon>\n      <ListItemText primary={title} />\n      {collapseOpen ? <ExpandLess color=\"action\" /> : <ExpandMore color=\"action\" />}\n    </ListItem>\n  );\n\n  return (\n    <div>\n      {drawerState ? (\n        groupItem\n      ) : (\n        <Tooltip title={title} aria-label={title} placement=\"right\">\n          {groupItem}\n        </Tooltip>\n      )}\n      <Collapse in={collapseOpen && open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          {items.map(i => (\n            <LeftNavItem key={i.id} {...i} />\n          ))}\n        </List>\n      </Collapse>\n      <Popover\n        open={!!popoverTarget}\n        onClose={() => setPopoverTarget(undefined)}\n        onClick={() => setPopoverTarget(undefined)}\n        anchorEl={popoverTarget}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left'\n        }}\n      >\n        <List disablePadding>\n          {items.map(i => (\n            <LeftNavItem key={i.id} {...i} />\n          ))}\n        </List>\n      </Popover>\n    </div>\n  );\n};\n\nexport default LeftNavGroup;\n","import { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  topBarTitle: {\n    display: 'flex',\n    alignItems: 'center',\n    flex: '0 0 auto',\n    fontSize: '1.5rem',\n    letterSpacing: '-1px'\n  },\n  icon: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0',\n    minWidth: theme.spacing(7)\n  },\n  title: {\n    color: 'inherit',\n    textDecoration: 'none'\n  }\n}));\n\nexport default function AppTitle({ disabled = false, noTitle = false }) {\n  const theme = useTheme();\n  const classes = useStyles();\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const { layoutProps, getLogo, toggleDrawer } = useAppLayout();\n\n  if (!disabled) {\n    return isXs ? (\n      <div className={classes.topBarTitle} style={{ paddingLeft: theme.spacing(2) }}>\n        <div className={classes.icon}>\n          <IconButton aria-label=\"open drawer\" edge=\"start\" color=\"inherit\" onClick={toggleDrawer}>\n            <MenuIcon />\n          </IconButton>\n        </div>\n        {!noTitle && (\n          <Link to=\"/\" className={classes.title} onClick={toggleDrawer}>\n            {layoutProps.appName}\n          </Link>\n        )}\n      </div>\n    ) : (\n      <Link to=\"/\" className={classes.title} style={{ paddingLeft: theme.spacing(2) }}>\n        <div className={classes.topBarTitle}>\n          <div className={classes.icon}>{getLogo(theme)}</div>\n          {!noTitle && <div>{layoutProps.appName}</div>}\n        </div>\n      </Link>\n    );\n  }\n  return null;\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport {\n  Box,\n  ClickAwayListener,\n  Divider,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Toolbar,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport clsx from 'clsx';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport LeftNavGroup from 'commons/components/layout/leftnav/LeftNavGroup';\nimport LeftNavItem from 'commons/components/layout/leftnav/LeftNavItem';\nimport { ValidatedProp } from 'commons/components/user/UserProvider';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AppTitle from '../topnav/AppTitle';\n\nconst drawerWidth = 240;\n\nexport const useStyles = makeStyles(theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n    '@media print': {\n      display: 'none !important'\n    }\n  },\n  drawerOver: {\n    overflowX: 'hidden'\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    overflowX: 'hidden',\n    width: 0,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(7) + 1\n    },\n    [theme.breakpoints.only('xs')]: {\n      border: 'none'\n    }\n  },\n  toolbar: {\n    [theme.breakpoints.up('xs')]: {\n      padding: 0\n    }\n  },\n  title: {\n    alignItems: 'center',\n    display: 'inline-flex',\n    flex: '0 0 auto',\n    fontSize: '1.5rem',\n    letterSpacing: '-1px',\n    textDecoration: 'none',\n    color: theme.palette.text.primary\n  },\n  toggler: {\n    height: '100%',\n    width: '100%',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\nexport type LeftNavElement = {\n  type: 'item' | 'group' | 'divider';\n  element: LeftNavItemProps | LeftNavGroupProps | null;\n};\n\nexport type LeftNavItemProps = {\n  id: number | string;\n  text: string;\n  userPropValidators?: ValidatedProp[];\n  icon?: React.ReactElement<any>;\n  route?: string;\n  nested?: boolean;\n  width?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nexport type LeftNavGroupProps = {\n  open?: boolean;\n  id: number | string;\n  title: string;\n  icon: React.ReactElement<any>;\n  items: LeftNavItemProps[];\n};\n\ntype LeftNavDrawerProps = {\n  width?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst LeftNavDrawer: React.FC<LeftNavDrawerProps> = props => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const classes = useStyles();\n  const { layoutProps, drawerState, currentLayout, toggleDrawer } = useAppLayout();\n  const isTopLayout = currentLayout === 'top';\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n\n  const onCloseDrawerIfOpen = () => {\n    if (isWidthDown('sm', props.width) && drawerState) {\n      toggleDrawer();\n    }\n  };\n\n  const header = (\n    <div>\n      <Toolbar className={classes.toolbar}>\n        <AppTitle />\n      </Toolbar>\n      <Divider style={{ backgroundColor: isTopLayout && !isXs ? 'transparent' : null }} />\n    </div>\n  );\n\n  const hide = (\n    <List disablePadding>\n      <ListItem button key=\"chevron\" onClick={toggleDrawer}>\n        <ListItemIcon>{drawerState ? <ChevronLeftIcon /> : <ChevronRightIcon />}</ListItemIcon>\n        <ListItemText primary={t('drawer.collapse')} />\n      </ListItem>\n    </List>\n  );\n\n  return (\n    <ClickAwayListener mouseEvent=\"onMouseDown\" touchEvent=\"onTouchStart\" onClickAway={onCloseDrawerIfOpen}>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: drawerState,\n          [classes.drawerClose]: !drawerState\n        })}\n        classes={{\n          paper: clsx(classes.drawerOver, {\n            [classes.drawerOpen]: drawerState,\n            [classes.drawerClose]: !drawerState\n          })\n        }}\n      >\n        {drawerState ? (\n          header\n        ) : (\n          <Tooltip title={layoutProps.appName} aria-label={layoutProps.appName} placement=\"right\">\n            {header}\n          </Tooltip>\n        )}\n        <List disablePadding>\n          {layoutProps.leftnav.elements.map((e, i) => {\n            const key = `{navel-${i}}`;\n            if (e.type === 'item') {\n              return <LeftNavItem key={key} {...(e.element as LeftNavItemProps)} />;\n            }\n            if (e.type === 'group') {\n              return <LeftNavGroup key={key} open={drawerState} {...(e.element as LeftNavGroupProps)} />;\n            }\n            if (e.type === 'divider') {\n              return <Divider key={key} />;\n            }\n\n            return null;\n          })}\n        </List>\n        <Divider />\n        {drawerState ? (\n          hide\n        ) : (\n          <Tooltip title={t('drawer.expand')} aria-label={t('drawer.expand')} placement=\"right\">\n            {hide}\n          </Tooltip>\n        )}\n        <Box className={clsx(classes.toggler)} onClick={toggleDrawer} />\n      </Drawer>\n    </ClickAwayListener>\n  );\n};\n\nexport default withWidth()(LeftNavDrawer);\n","import { useLayoutEffect, useState } from 'react';\n\nexport const APPBAR_READY_EVENT = 'tui.event.appbar.ready';\n\nexport default function useAppBarHeight(): number {\n  const [height, setHeight] = useState<number>(-1);\n\n  const updateHeight = () => {\n    const appbar = document.getElementById('appbar');\n    if (appbar) {\n      const rect = appbar.getBoundingClientRect();\n      setHeight(rect.height);\n    }\n  };\n\n  useLayoutEffect(() => {\n    updateHeight();\n    window.addEventListener('resize', updateHeight);\n    window.addEventListener(APPBAR_READY_EVENT, updateHeight);\n    return () => {\n      window.removeEventListener('resize', updateHeight);\n      window.removeEventListener(APPBAR_READY_EVENT, updateHeight);\n    };\n  }, []);\n\n  return height;\n}\n","import { useContext } from 'react';\nimport { AppContext, AppContextProps } from '../app/AppContextProvider';\n\nexport default function useAppContext(): AppContextProps {\n  return useContext(AppContext);\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { appendRoute, BreadcrumbItem, getRoute } from 'commons/components/hooks/useAppSitemap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useAppUser from '../hooks/useAppUser';\n\nexport type SiteMapRoute = {\n  path: string;\n  title: string;\n  icon?: React.ReactNode;\n  isRoot?: boolean;\n  isLeaf?: boolean;\n  exclude?: boolean;\n  breadcrumbs?: string[];\n};\n\nexport interface SiteMapContextProps {\n  lastOnly?: boolean;\n  exceptLast?: boolean;\n  allLinks?: boolean;\n  itemsBefore?: number;\n  itemsAfter?: number;\n  routes: SiteMapRoute[];\n}\n\ninterface SiteMapProviderProps extends SiteMapContextProps {\n  children: React.ReactNode;\n}\n\nexport interface SitemapProviderContextProps extends SiteMapContextProps {\n  breadcrumbs: BreadcrumbItem[];\n}\n\nexport const SiteMapContext = React.createContext<SitemapProviderContextProps>(null);\n\nfunction SiteMapProvider(props: SiteMapProviderProps) {\n  const { children, ...contextProps } = props;\n  const history = useHistory();\n  const { isReady } = useAppUser();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const isUserReady = isReady();\n\n  // Reset the breadcrumbs if the user ready state changes.\n  useEffect(() => {\n    setBreadcrumbs(\n      appendRoute([getRoute('/', contextProps.routes)], getRoute(history.location.pathname, contextProps.routes))\n    );\n  }, [isUserReady]);\n\n  useEffect(() => {\n    // The return callback will ensure the event handler deregisters when component\n    //  is unmounted.  Failure to do this will result in an event handler\n    //  being registered each time this component renders.\n    return history.listen(location => {\n      const _matchedRoute = getRoute(location.pathname, contextProps.routes);\n      const _breadcrumbs = appendRoute(breadcrumbs, _matchedRoute);\n      setBreadcrumbs(_breadcrumbs);\n    });\n  });\n\n  return <SiteMapContext.Provider value={{ breadcrumbs, ...contextProps }}>{children}</SiteMapContext.Provider>;\n}\n\nexport default SiteMapProvider;\n","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport error403EN from 'locales/en/403.json';\nimport error404EN from 'locales/en/404.json';\nimport adminErrorViewerEN from 'locales/en/admin/error_viewer.json';\nimport adminServicesEN from 'locales/en/admin/services.json';\nimport adminSiteMapEN from 'locales/en/admin/site_map.json';\nimport adminUsersEN from 'locales/en/admin/users.json';\nimport alertsEN from 'locales/en/alerts.json';\nimport authorizeEN from 'locales/en/authorize.json';\nimport dashboardEN from 'locales/en/dashboard.json';\nimport favoritesEN from 'locales/en/favorites.json';\nimport fileDetailEN from 'locales/en/file/detail.json';\nimport fileViewerEN from 'locales/en/file/viewer.json';\nimport helpAPIEN from 'locales/en/help/api.json';\nimport helpClassificationEN from 'locales/en/help/classification.json';\nimport helpConfigurationEN from 'locales/en/help/configuration.json';\nimport helpSearchEN from 'locales/en/help/search.json';\nimport helpServicesEN from 'locales/en/help/services.json';\nimport lockedEN from 'locales/en/locked.json';\nimport loginEN from 'locales/en/login.json';\nimport logoutEN from 'locales/en/logout.json';\nimport manageHeuristicsEN from 'locales/en/manage/heuristics.json';\nimport manageHeuristicDetailEN from 'locales/en/manage/heuristic_detail.json';\nimport manageSignaturesEN from 'locales/en/manage/signatures.json';\nimport manageSignatureDetailEN from 'locales/en/manage/signature_detail.json';\nimport manageSignatureSourcesEN from 'locales/en/manage/signature_sources.json';\nimport manageWorkflowsEN from 'locales/en/manage/workflows.json';\nimport manageWorkflowDetailEN from 'locales/en/manage/workflow_detail.json';\nimport optoutEN from 'locales/en/optout.json';\nimport searchEN from 'locales/en/search.json';\nimport settingsEN from 'locales/en/settings.json';\nimport statisticsHeuristicsEN from 'locales/en/statistics/heuristics.json';\nimport statisticsSignaturesEN from 'locales/en/statistics/signatures.json';\nimport submissionDetailEN from 'locales/en/submission/detail.json';\nimport submissionReportEN from 'locales/en/submission/report.json';\nimport submissionsEN from 'locales/en/submissions.json';\nimport submitEN from 'locales/en/submit.json';\nimport tosEN from 'locales/en/tos.json';\nimport translationEN from 'locales/en/translation.json';\nimport userEN from 'locales/en/user.json';\nimport error403FR from 'locales/fr/403.json';\nimport error404FR from 'locales/fr/404.json';\nimport adminErrorViewerFR from 'locales/fr/admin/error_viewer.json';\nimport adminServicesFR from 'locales/fr/admin/services.json';\nimport adminSiteMapFR from 'locales/fr/admin/site_map.json';\nimport adminUsersFR from 'locales/fr/admin/users.json';\nimport alertsFR from 'locales/fr/alerts.json';\nimport authorizeFR from 'locales/fr/authorize.json';\nimport dashboardFR from 'locales/fr/dashboard.json';\nimport favoritesFR from 'locales/fr/favorites.json';\nimport fileDetailFR from 'locales/fr/file/detail.json';\nimport fileViewerFR from 'locales/fr/file/viewer.json';\nimport helpAPIFR from 'locales/fr/help/api.json';\nimport helpClassificationFR from 'locales/fr/help/classification.json';\nimport helpConfigurationFR from 'locales/fr/help/configuration.json';\nimport helpSearchFR from 'locales/fr/help/search.json';\nimport helpServicesFR from 'locales/fr/help/services.json';\nimport lockedFR from 'locales/fr/locked.json';\nimport loginFR from 'locales/fr/login.json';\nimport logoutFR from 'locales/fr/logout.json';\nimport manageHeuristicsFR from 'locales/fr/manage/heuristics.json';\nimport manageHeuristicDetailFR from 'locales/fr/manage/heuristic_detail.json';\nimport manageSignaturesFR from 'locales/fr/manage/signatures.json';\nimport manageSignatureDetailFR from 'locales/fr/manage/signature_detail.json';\nimport manageSignatureSourcesFR from 'locales/fr/manage/signature_sources.json';\nimport manageWorkflowsFR from 'locales/fr/manage/workflows.json';\nimport manageWorkflowDetailFR from 'locales/fr/manage/workflow_detail.json';\nimport optoutFR from 'locales/fr/optout.json';\nimport searchFR from 'locales/fr/search.json';\nimport settingsFR from 'locales/fr/settings.json';\nimport statisticsHeuristicsFR from 'locales/fr/statistics/heuristics.json';\nimport statisticsSignaturesFR from 'locales/fr/statistics/signatures.json';\nimport submissionDetailFR from 'locales/fr/submission/detail.json';\nimport submissionReportFR from 'locales/fr/submission/report.json';\nimport submissionsFR from 'locales/fr/submissions.json';\nimport submitFR from 'locales/fr/submit.json';\nimport tosFR from 'locales/fr/tos.json';\nimport translationFR from 'locales/fr/translation.json';\nimport userFR from 'locales/fr/user.json';\nimport { initReactI18next } from 'react-i18next';\n\nconst resources = {\n  en: {\n    adminErrorViewer: adminErrorViewerEN,\n    adminServices: adminServicesEN,\n    adminSiteMap: adminSiteMapEN,\n    adminUsers: adminUsersEN,\n    authorize: authorizeEN,\n    dashboard: dashboardEN,\n    error403: error403EN,\n    error404: error404EN,\n    fileDetail: fileDetailEN,\n    fileViewer: fileViewerEN,\n    helpAPI: helpAPIEN,\n    helpClassification: helpClassificationEN,\n    helpConfiguration: helpConfigurationEN,\n    helpSearch: helpSearchEN,\n    helpServices: helpServicesEN,\n    locked: lockedEN,\n    login: loginEN,\n    logout: logoutEN,\n    manageHeuristics: manageHeuristicsEN,\n    manageHeuristicDetail: manageHeuristicDetailEN,\n    manageSignatures: manageSignaturesEN,\n    manageSignatureDetail: manageSignatureDetailEN,\n    manageSignatureSources: manageSignatureSourcesEN,\n    manageWorkflowDetail: manageWorkflowDetailEN,\n    manageWorkflows: manageWorkflowsEN,\n    optout: optoutEN,\n    search: searchEN,\n    settings: settingsEN,\n    statisticsHeuristics: statisticsHeuristicsEN,\n    statisticsSignatures: statisticsSignaturesEN,\n    submissions: submissionsEN,\n    submissionDetail: submissionDetailEN,\n    submissionReport: submissionReportEN,\n    submit: submitEN,\n    translation: translationEN,\n    tos: tosEN,\n    user: userEN,\n    alerts: alertsEN,\n    favorites: favoritesEN\n  },\n  fr: {\n    adminErrorViewer: adminErrorViewerFR,\n    adminServices: adminServicesFR,\n    adminSiteMap: adminSiteMapFR,\n    adminUsers: adminUsersFR,\n    authorize: authorizeFR,\n    dashboard: dashboardFR,\n    error403: error403FR,\n    error404: error404FR,\n    fileDetail: fileDetailFR,\n    fileViewer: fileViewerFR,\n    helpAPI: helpAPIFR,\n    helpClassification: helpClassificationFR,\n    helpConfiguration: helpConfigurationFR,\n    helpSearch: helpSearchFR,\n    helpServices: helpServicesFR,\n    locked: lockedFR,\n    login: loginFR,\n    logout: logoutFR,\n    manageHeuristics: manageHeuristicsFR,\n    manageHeuristicDetail: manageHeuristicDetailFR,\n    manageSignatures: manageSignaturesFR,\n    manageSignatureDetail: manageSignatureDetailFR,\n    manageSignatureSources: manageSignatureSourcesFR,\n    manageWorkflowDetail: manageWorkflowDetailFR,\n    manageWorkflows: manageWorkflowsFR,\n    optout: optoutFR,\n    search: searchFR,\n    settings: settingsFR,\n    statisticsHeuristics: statisticsHeuristicsFR,\n    statisticsSignatures: statisticsSignaturesFR,\n    submissions: submissionsFR,\n    submissionDetail: submissionDetailFR,\n    submissionReport: submissionReportFR,\n    submit: submitFR,\n    translation: translationFR,\n    tos: tosFR,\n    user: userFR,\n    alerts: alertsFR,\n    favorites: favoritesFR\n  }\n};\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false\n    },\n    detection: {\n      order: ['localStorage', 'cookie']\n    },\n    resources\n  });\n\nexport default i18n;\n","import { SiteMapContext, SiteMapContextProps, SiteMapRoute } from 'commons/components/sitemap/SitemapProvider';\nimport i18n from 'i18n';\nimport { useContext } from 'react';\nimport { match, matchPath } from 'react-router-dom';\n\nconst TITLE_404 = i18n.t('breadcrumb.404');\n\nexport type BreadcrumbItem = { route: SiteMapRoute; matcher: match };\n\ntype SitemapProps = {\n  breadcrumbs: BreadcrumbItem[];\n  props: SiteMapContextProps;\n  resolveTitle: (breadcrumb: BreadcrumbItem) => string;\n  getSiteRoute: (path: string) => BreadcrumbItem;\n  last: () => BreadcrumbItem;\n  first: () => BreadcrumbItem;\n  is404: (breadcrumb: BreadcrumbItem) => boolean;\n};\n\nexport const getRoute = (route: string, siteMap: SiteMapRoute[]): BreadcrumbItem => {\n  // match all the route provide in sitemap with current route.\n  const matchers = siteMap.map(_route => {\n    const matcher = matchPath(route, { path: _route.path });\n    return { route: _route, matcher };\n  });\n\n  // only keep the exact matched routes.\n  const matched = matchers.filter(m => m.matcher && m.matcher.isExact);\n\n  // hopefully, we only have a single match.\n  if (matched && matched.length > 1) {\n    // eslint-disable-next-line no-console\n    console.warn(`Found more than one sitemap route match for: ${route}`);\n  }\n  return matched && matched[0] ? matched[0] : { route: { path: route, title: TITLE_404 }, matcher: null };\n};\n\nexport const appendRoute = (breadcrumbs: BreadcrumbItem[], breadcrumb: BreadcrumbItem): BreadcrumbItem[] => {\n  // If the 'siteRoute' is null/undefined, we ignore it.\n  if (breadcrumb) {\n    // If a root route, then we reset the breadcrumbs.\n    if (breadcrumb.route.isRoot) {\n      return [breadcrumb];\n    }\n    // If the last element of bread is a leaf, then we remove it.\n    if (breadcrumbs[breadcrumbs.length - 1].route.isLeaf) {\n      // eslint-disable-next-line no-param-reassign\n      breadcrumbs = breadcrumbs.slice(0, breadcrumbs.length - 1);\n    }\n    // See if the route is already in the breadcrumbs.\n    const index = breadcrumbs.findIndex(_breadcrumb => _breadcrumb.route.path === breadcrumb.route.path);\n    // If the route is already in breacrumbs, then we slice off what comes after,\n    //  if not then we append it to the end.\n    return index > -1 ? [...breadcrumbs.slice(0, index), breadcrumb] : [...breadcrumbs, breadcrumb];\n  }\n  return breadcrumbs;\n};\n\n// We need to dynamically build the title since it will be language/locale specific and therefore we cannot\n//  rely on the cached version since language might have changed since then.\nconst resolveTitle = (breadcrumb: BreadcrumbItem, siteMap: SiteMapRoute[]) => {\n  // we need to refetch the route in order to ensure we have the correct language.\n  let title = breadcrumb.route.path ? getRoute(breadcrumb.route.path, siteMap).route.title : breadcrumb.route.title;\n  // if there are any parameters in match, replace them in title.\n  if (breadcrumb.matcher && breadcrumb.matcher.params) {\n    const { params } = breadcrumb.matcher;\n    Object.keys(params).forEach(k => {\n      title = title.replace(`{:${k}}`, params[k]);\n    });\n  }\n  return title;\n};\n\nconst is404 = (breadcrumb: BreadcrumbItem) => {\n  return breadcrumb.route.title === TITLE_404;\n};\n\nexport default function useAppSitemap(): SitemapProps {\n  const { breadcrumbs, ...props } = useContext(SiteMapContext);\n  return {\n    breadcrumbs,\n    props,\n    resolveTitle: (breadcrumb: BreadcrumbItem) => resolveTitle(breadcrumb, props.routes),\n    getSiteRoute: (path: string) => getRoute(path, props.routes),\n    last: () => (breadcrumbs.length > 0 ? breadcrumbs[breadcrumbs.length - 1] : breadcrumbs[0]),\n    first: () => breadcrumbs[0],\n    is404\n  };\n}\n","import {\n  Divider,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  ListSubheader,\n  Switch,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport useApp from 'commons/components/hooks/useAppContext';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport i18n from 'i18next';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport enum Lang {\n  EN = 'en',\n  FR = 'fr'\n}\n\nconst isLang = (lang: Lang): boolean => {\n  return i18n.language === lang.valueOf();\n};\n\nconst ThemeSelection = ({ width }) => {\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const { toggleTheme } = useApp();\n  const {\n    currentLayout,\n    showQuickSearch,\n    autoHideAppbar,\n    layoutProps,\n    breadcrumbsEnabled,\n    breadcrumbsState,\n    toggleLayout,\n    toggleQuickSearch,\n    toggleAutoHideAppbar,\n    toggleShowBreadcrumbs,\n    toggleBreadcrumbsState\n  } = useAppLayout();\n\n  const onToggleLanguage = () => {\n    i18n.changeLanguage(isLang(Lang.EN) ? Lang.FR.valueOf() : Lang.EN.valueOf());\n  };\n\n  const clearStorage = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  return (\n    <div>\n      {layoutProps.allowTranslate && (\n        <List dense subheader={<ListSubheader disableSticky>{t('app.language')}</ListSubheader>}>\n          <ListItem dense button onClick={onToggleLanguage}>\n            <ListItemText style={{ margin: 0 }}>\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  flexDirection: 'row',\n                  width: '100%',\n                  textAlign: 'center',\n                  cursor: 'pointer'\n                }}\n              >\n                <Typography component=\"div\" variant=\"body2\">\n                  English\n                </Typography>\n                <div style={{ flexGrow: 1 }}>\n                  <Switch checked={isLang(Lang.FR)} name=\"langSwitch\" />\n                </div>\n                <Typography component=\"div\" variant=\"body2\">\n                  Franais\n                </Typography>\n              </div>\n            </ListItemText>\n          </ListItem>\n        </List>\n      )}\n      {layoutProps.allowTranslate && allowPersonalization && <Divider />}\n      {allowPersonalization && (\n        <List dense subheader={<ListSubheader disableSticky>{t('personalization')}</ListSubheader>}>\n          {layoutProps.allowThemeSelection && (\n            <ListItem button onClick={toggleTheme}>\n              <ListItemText>{t('personalization.dark')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch edge=\"end\" onChange={toggleTheme} checked={theme.palette.type === 'dark'} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowTopbarModeSelection && (\n            <ListItem button onClick={toggleLayout}>\n              <ListItemText>{t('personalization.sticky')}</ListItemText>\n              <ListItemSecondaryAction onClick={toggleLayout}>\n                <Switch edge=\"end\" checked={currentLayout === 'top'} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowQuickSearch && !isWidthDown('xs', width) && (\n            <ListItem button onClick={toggleQuickSearch}>\n              <ListItemText>{t('personalization.quicksearch')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch edge=\"end\" checked={showQuickSearch} onClick={toggleQuickSearch} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowAutoHideTopbar && (\n            <ListItem button disabled={currentLayout === 'top'} onClick={toggleAutoHideAppbar}>\n              <ListItemText>{t('personalization.autohideappbar')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  disabled={currentLayout === 'top'}\n                  checked={autoHideAppbar && currentLayout !== 'top'}\n                  onClick={toggleAutoHideAppbar}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowBreadcrumbs && !isWidthDown('sm', width) && (\n            <>\n              <ListItem button onClick={toggleShowBreadcrumbs}>\n                <ListItemText>{t('personalization.showbreadcrumbs')}</ListItemText>\n                <ListItemSecondaryAction>\n                  <Switch edge=\"end\" checked={breadcrumbsEnabled} onClick={toggleShowBreadcrumbs} />\n                </ListItemSecondaryAction>\n              </ListItem>\n              {layoutProps.allowBreadcrumbsMinimize && (\n                <ListItem button onClick={toggleBreadcrumbsState} disabled={!breadcrumbsEnabled}>\n                  <ListItemText>{t('personalization.minimizebreadcrumbs')}</ListItemText>\n                  <ListItemSecondaryAction>\n                    <Switch\n                      edge=\"end\"\n                      disabled={!breadcrumbsEnabled}\n                      checked={breadcrumbsEnabled && !breadcrumbsState}\n                      onClick={toggleBreadcrumbsState}\n                    />\n                  </ListItemSecondaryAction>\n                </ListItem>\n              )}\n            </>\n          )}\n        </List>\n      )}\n\n      {(layoutProps.allowTranslate || allowPersonalization) && layoutProps.allowReset && <Divider />}\n\n      {layoutProps.allowReset && (\n        <List dense>\n          <ListItem dense button onClick={clearStorage}>\n            <ListItemText>{t('personalization.reset_text')}</ListItemText>\n          </ListItem>\n        </List>\n      )}\n    </div>\n  );\n};\n\nexport default withWidth()(ThemeSelection);\n","import { makeStyles } from '@material-ui/core';\nimport { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    '& svg': {\n      marginRight: theme.spacing(0.5),\n      width: 20,\n      height: 20\n    }\n  }\n}));\n\ntype BreadcrumbIconProps = {\n  item: BreadcrumbItem;\n};\n\nconst BreadcrumbIcon: React.FC<BreadcrumbIconProps> = ({ item }) => {\n  const {\n    route: { icon }\n  } = item;\n  const classes = useStyles();\n  return icon ? <span className={classes.icon}>{icon}</span> : null;\n};\n\nexport default BreadcrumbIcon;\n","import { Link, makeStyles } from '@material-ui/core';\nimport useAppSitemap, { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbIcon from 'commons/components/layout/breadcrumbs/BreadcrumbIcon';\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const useStyles = makeStyles({\n  link: {\n    display: 'flex'\n    // alignItems: 'center'\n  },\n  text: {\n    maxWidth: '200px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap'\n  }\n});\n\ntype BreadcrumbLinkItemProps = {\n  textOnly?: boolean;\n  item: BreadcrumbItem;\n};\n\nconst LinkRouter = props => <Link {...props} component={RouterLink} />;\n\nconst BreadcrumbLinkItem: React.FC<BreadcrumbLinkItemProps> = ({ item, textOnly = false }) => {\n  const classes = useStyles();\n  const { route, matcher } = item;\n  const { resolveTitle } = useAppSitemap();\n  const url = matcher ? matcher.url : route.path;\n  return (\n    <LinkRouter\n      style={route.icon ? { paddingTop: '3px' } : null}\n      key={`bcrumb-${url}`}\n      color=\"inherit\"\n      to={url}\n      className={classes.link}\n    >\n      {!textOnly && <BreadcrumbIcon item={item} />}\n      {/* <Tooltip title={url}> */}\n      <span className={classes.text}>{resolveTitle(item)}</span>\n      {/* </Tooltip> */}\n    </LinkRouter>\n  );\n};\n\nexport default BreadcrumbLinkItem;\n","import { Tooltip, Typography } from '@material-ui/core';\nimport useAppSitemap, { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbIcon from 'commons/components/layout/breadcrumbs/BreadcrumbIcon';\nimport { useStyles as useLinkStyle, useStyles } from 'commons/components/layout/breadcrumbs/BreadcrumbLinkItem';\nimport React from 'react';\n\ntype BreadcrumbLastItemProps = {\n  textOnly?: boolean;\n  item: BreadcrumbItem;\n};\n\nconst BreadcrumbLastItem: React.FC<BreadcrumbLastItemProps> = ({ item, textOnly = false }) => {\n  const classes = useStyles();\n  const { route, matcher } = item;\n  const linkClasses = useLinkStyle();\n  const { resolveTitle } = useAppSitemap();\n  const url = matcher ? matcher.url : route.path;\n\n  return (\n    <Typography\n      style={route.icon ? { paddingTop: '3px' } : null}\n      key={`bcrumb-${url}`}\n      // color=\"textPrimary\"\n      className={linkClasses.link}\n    >\n      {!textOnly && <BreadcrumbIcon item={item} />}\n      <Tooltip title={url}>\n        <span className={classes.text}>{resolveTitle(item)}</span>\n      </Tooltip>\n    </Typography>\n  );\n};\n\nexport default BreadcrumbLastItem;\n","import { Tooltip } from '@material-ui/core';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbLastItem from 'commons/components/layout/breadcrumbs/BreadcrumbLastItem';\nimport BreadcrumbLinkItem from 'commons/components/layout/breadcrumbs/BreadcrumbLinkItem';\nimport { useStyles as useBreadcrumbStyles } from 'commons/components/layout/breadcrumbs/Breadcrumbs';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype BreadcrumbListProps = {\n  compact?: boolean;\n  disableStyle?: boolean;\n  disableEllipsis?: boolean;\n  allLinks?: boolean;\n  textOnly?: boolean;\n  exceptLast?: boolean;\n  isStatic?: boolean;\n  itemsBefore?: number;\n  itemsAfter?: number;\n  items: BreadcrumbItem[];\n};\n\nconst splitItems = (\n  items: BreadcrumbItem[],\n  itemsBeforeCount: number,\n  itemsAfterCount: number,\n  expanded: boolean,\n  isStatic: boolean\n): { before: BreadcrumbItem[]; after: BreadcrumbItem[]; hasEllipsis: boolean } => {\n  const _items = items.concat().filter(i => !i.route.exclude);\n  if (_items.length <= itemsBeforeCount + itemsAfterCount + 1 || isStatic) {\n    return { before: null, after: _items, hasEllipsis: false };\n  }\n  const before = _items.slice(0, itemsBeforeCount);\n  const after = expanded ? _items.slice(itemsBeforeCount) : _items.slice(_items.length - itemsAfterCount);\n  return { before, after, hasEllipsis: before.length + after.length + 1 < _items.length || expanded };\n};\n\nconst BreadcrumbList: React.FC<BreadcrumbListProps> = ({\n  items,\n  disableStyle,\n  itemsBefore = 1,\n  itemsAfter = 1,\n  allLinks = false,\n  textOnly = false,\n  exceptLast = false,\n  isStatic = false\n}) => {\n  const [expanded, setExpanded] = useState<boolean>(false);\n  const classes = useBreadcrumbStyles();\n  const { before, after, hasEllipsis } = splitItems(\n    exceptLast ? items.slice(0, items.length - 1) : items,\n    itemsBefore,\n    itemsAfter,\n    expanded,\n    isStatic\n  );\n  const last = after.length > 0 && !allLinks ? after.pop() : before ? before.pop() : null;\n  return (\n    <MuiBreadcrumbs\n      aria-label=\"breadcrumb\"\n      className={!disableStyle ? classes.breadcrumbs : ''}\n      maxItems={1000}\n      // classes={{ root: { color: 'inherit' } }}\n    >\n      {before &&\n        before.map(item => <BreadcrumbLinkItem key={`bcrumb-${item.route.path}`} item={item} textOnly={textOnly} />)}\n      {hasEllipsis && (\n        <BreadcrumbsEllipsis expanded={expanded} onClick={() => setExpanded(!expanded)} css={classes.moreicon} />\n      )}\n      {after &&\n        after.map(item => <BreadcrumbLinkItem key={`bcrumb-${item.route.path}`} item={item} textOnly={textOnly} />)}\n      {last && <BreadcrumbLastItem item={last} textOnly={textOnly} />}\n    </MuiBreadcrumbs>\n  );\n};\n\nconst BreadcrumbsEllipsis = ({ onClick, css, expanded }) => {\n  const { t } = useTranslation();\n  return (\n    <Tooltip title={t(expanded ? 'tooltip.breadcrumbs.min' : 'tooltip.breadcrumbs.max')}>\n      <MoreHorizIcon fontSize=\"small\" className={css} onClick={onClick} />\n    </Tooltip>\n  );\n};\n\nexport default BreadcrumbList;\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useAppSitemap from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbList from 'commons/components/layout/breadcrumbs/BreadcrumbList';\nimport React from 'react';\n\nexport const useStyles = makeStyles(theme => ({\n  breadcrumbs: {\n    color: 'inherit',\n    display: 'flex',\n    alignItems: 'center',\n    flexGrow: 2\n  },\n  moreicon: {\n    verticalAlign: 'bottom',\n    marginTop: '5px',\n    display: 'inline-flex',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\ntype BreadcrumbsProps = {\n  disableStyle?: boolean;\n};\n\nconst Breadcrumbs: React.FC<BreadcrumbsProps> = ({ disableStyle }) => {\n  const theme = useTheme();\n  const isMedium = useMediaQuery(theme.breakpoints.up('md'));\n  const { breadcrumbsState } = useAppLayout();\n  const isExpanded = breadcrumbsState && isMedium;\n  const {\n    breadcrumbs,\n    props: { lastOnly, exceptLast, allLinks, itemsBefore = 1, itemsAfter = 1 },\n    getSiteRoute,\n    last,\n    is404\n  } = useAppSitemap();\n\n  const current = last();\n  const isStatic = !!current.route.breadcrumbs;\n\n  let items = null;\n  if (lastOnly || is404(current)) {\n    items = [current];\n  } else if (isStatic) {\n    const staticBreadcrumbs = current.route.breadcrumbs.map(path => getSiteRoute(path));\n    items = [...staticBreadcrumbs, current];\n  } else {\n    items = exceptLast ? (breadcrumbs.length > 1 ? breadcrumbs.slice(0, breadcrumbs.length - 1) : []) : breadcrumbs;\n  }\n\n  return (\n    <BreadcrumbList\n      items={items}\n      disableStyle={disableStyle}\n      allLinks={allLinks}\n      isStatic={isStatic}\n      itemsBefore={isExpanded ? itemsBefore : 0}\n      itemsAfter={isExpanded ? itemsAfter : 1}\n    />\n  );\n};\n\nexport default Breadcrumbs;\n","import {\n  Avatar,\n  Button,\n  ClickAwayListener,\n  Fade,\n  IconButton,\n  Link,\n  makeStyles,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React, { useState } from 'react';\n\nexport type AppElement = {\n  alt: string;\n  name: string;\n  img_d: React.ReactElement<any> | string;\n  img_l: React.ReactElement<any> | string;\n  route: string;\n  newWindow?: boolean;\n};\n\nconst useStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: theme.zIndex.drawer + 2\n  }\n}));\n\ntype AppsSwitcherProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst AppSwitcher: React.FC<AppsSwitcherProps> = props => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const { layoutProps } = useAppLayout();\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const isDarkTheme = theme.palette.type === 'dark';\n  const isPopperOpen = !!popperAnchorEl;\n  const onTogglePopper = event => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n  const onClickAway = () => setPopperAnchorEl(null);\n  const sp1 = theme.spacing(1);\n\n  if (layoutProps.topnav.apps.length === 0) {\n    return null;\n  }\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton color=\"inherit\" onClick={onTogglePopper}>\n        <AppsIcon />\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          placement=\"bottom-end\"\n          className={classes.popper}\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ textAlign: 'center', padding: theme.spacing(1) }} elevation={4}>\n                <div\n                  style={{\n                    maxWidth: layoutProps.topnav.apps.length <= 4 || isWidthDown('xs', props.width) ? '240px' : '360px',\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flexWrap: 'wrap'\n                  }}\n                >\n                  {layoutProps.topnav.apps.map((a, i) => (\n                    <div key={`box-${i}`} style={{ width: '120px', padding: sp1, overflow: 'hidden' }}>\n                      <Button\n                        component={Link}\n                        target={a.newWindow ? '_blank' : null}\n                        href={a.route}\n                        key={`button-${i}`}\n                        style={{ display: 'inherit', textDecoration: 'none', fontWeight: 400 }}\n                      >\n                        <div style={{ display: 'inline-flex' }}>\n                          <Avatar\n                            key={`avatar-${i}`}\n                            variant=\"rounded\"\n                            alt={a.name}\n                            src={\n                              isDarkTheme\n                                ? typeof a.img_d === 'string'\n                                  ? a.img_d\n                                  : null\n                                : typeof a.img_l === 'string'\n                                ? a.img_l\n                                : null\n                            }\n                            style={\n                              a.img_d === null || typeof a.img_d === 'string'\n                                ? { width: theme.spacing(8), height: theme.spacing(8) }\n                                : { backgroundColor: 'transparent', width: theme.spacing(8), height: theme.spacing(8) }\n                            }\n                          >\n                            {isDarkTheme\n                              ? a.img_d !== null && typeof a.img_d !== 'string'\n                                ? a.img_d\n                                : a.alt\n                              : a.img_l !== null && typeof a.img_l !== 'string'\n                              ? a.img_l\n                              : a.alt}\n                          </Avatar>\n                        </div>\n                        <Typography key={`text-${i}`} variant=\"caption\">\n                          {a.name}\n                        </Typography>\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  );\n};\n\nexport default withWidth()(AppSwitcher);\n","import { fade, InputBase, makeStyles } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = breadcrumbsEnabled => {\n  return makeStyles(theme => ({\n    search: {\n      flexGrow: 1,\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.text.primary, 0.04),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.text.primary, 0.06)\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: 'auto'\n      },\n      [theme.breakpoints.up('md')]: {\n        maxWidth: breadcrumbsEnabled ? 300 : 'inherit'\n      }\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit',\n      width: '100%'\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%'\n    }\n  }))();\n};\n\nconst QuickSearch = () => {\n  const { t } = useTranslation();\n  const { layoutProps, breadcrumbsEnabled } = useAppLayout();\n  const classes = useStyles(layoutProps.allowBreadcrumbs && breadcrumbsEnabled);\n  const [value, setValue] = useState('');\n  const history = useHistory();\n\n  const uri = layoutProps.topnav.quickSearchURI ? layoutProps.topnav.quickSearchURI : '/search/';\n  const param = layoutProps.topnav.quickSearchParam ? layoutProps.topnav.quickSearchParam : 'q';\n\n  const submit = event => {\n    event.preventDefault();\n    history.push(`${uri}?${param}=${encodeURIComponent(value)}`);\n    setValue('');\n  };\n\n  return (\n    <div className={classes.search}>\n      <form autoComplete=\"off\" onSubmit={submit}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          onChange={event => setValue(event.target.value)}\n          placeholder={t('quicksearch.placeholder')}\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput\n          }}\n          value={value}\n          inputProps={{ 'aria-label': t('quicksearch.aria') }}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default QuickSearch;\n","import { ClickAwayListener, Fade, IconButton, makeStyles, Paper, Popper, useTheme } from '@material-ui/core';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport ThemeSelection from 'commons/components/layout/topnav/ThemeSelection';\nimport React, { useState } from 'react';\n\nconst useStyles = () => {\n  return makeStyles(theme => ({\n    popper: {\n      zIndex: theme.zIndex.drawer + 2,\n      minWidth: '280px'\n    }\n  }))();\n};\n\nconst ThemeSelectionIcon = () => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const { layoutProps } = useAppLayout();\n\n  const onThemeSelectionClick = (event: React.MouseEvent) => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n\n  const onClickAway = () => setPopperAnchorEl(null);\n  const isPopperOpen = !!popperAnchorEl;\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  return allowPersonalization || layoutProps.allowTranslate || layoutProps.allowReset ? (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton color=\"inherit\" aria-label=\"open drawer\" onClick={onThemeSelectionClick} edge=\"start\">\n        <TuneIcon />\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          className={classes.popper}\n          placement=\"bottom-end\"\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ padding: theme.spacing(1) }} elevation={4}>\n                <ThemeSelection />\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  ) : null;\n};\n\nexport default ThemeSelectionIcon;\n","import { useMemo } from 'react';\n\nconst md5 = require('md5');\n\nconst useGravatar = (email: string) => {\n  return useMemo(() => {\n    if (email !== null) {\n      return `https://s.gravatar.com/avatar/${md5(email)}?d=404`;\n    }\n    return null;\n  }, [email]);\n};\n\nexport default useGravatar;\n","import {\n  Avatar,\n  ClickAwayListener,\n  Divider,\n  Fade,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  makeStyles,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport useGravatar from 'commons/components/hooks/useGravatar';\nimport ThemeSelection from 'commons/components/layout/topnav/ThemeSelection';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const useStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: theme.zIndex.appBar + 200,\n    minWidth: '280px'\n  },\n  avatarButton: {\n    padding: 0,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  iconButton: {\n    width: theme.spacing(5),\n    height: theme.spacing(5),\n    [theme.breakpoints.down('xs')]: {\n      width: theme.spacing(4),\n      height: theme.spacing(4)\n    }\n  }\n}));\n\nexport type UserMenuElement = {\n  name: string;\n  route: string;\n  icon?: React.ReactElement<any>;\n};\n\nconst UserProfile = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { user: currentUser } = useUser();\n  const { layoutProps } = useAppLayout();\n  const gravatarUrl = useGravatar(layoutProps.allowGravatar ? currentUser.email : null);\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const sp2 = theme.spacing(2);\n  const sp3 = theme.spacing(3);\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  const onProfileClick = (event: React.MouseEvent) => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n\n  const onClickAway = () => setPopperAnchorEl(null);\n  const isPopperOpen = !!popperAnchorEl;\n\n  const renderThemeSelection = enabled => {\n    if (enabled && (allowPersonalization || layoutProps.allowTranslate || layoutProps.allowReset)) {\n      return (\n        <div>\n          <Divider />\n          <ThemeSelection />\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const renderMenu = (type, menuItems, title) => {\n    if (menuItems !== undefined && menuItems !== null && menuItems.length !== 0) {\n      return (\n        <div>\n          <Divider />\n          <List dense subheader={<ListSubheader disableSticky>{title}</ListSubheader>}>\n            {menuItems.map((a, i) => (\n              <ListItem button component={Link} to={a.route} key={`${type}-${i}`}>\n                {a.icon && <ListItemIcon>{a.icon}</ListItemIcon>}\n                <ListItemText>{a.name}</ListItemText>\n              </ListItem>\n            ))}\n          </List>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton edge=\"end\" className={classes.avatarButton} onClick={onProfileClick}>\n        <Avatar\n          className={classes.iconButton}\n          alt={currentUser.name}\n          src={currentUser.avatar ? currentUser.avatar : gravatarUrl}\n        >\n          {currentUser.name\n            .split(' ', 2)\n            .map(n => n[0].toUpperCase())\n            .join('')}\n        </Avatar>\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          className={classes.popper}\n          placement=\"bottom-end\"\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ padding: theme.spacing(1) }} elevation={4}>\n                <List disablePadding>\n                  <ListItem disableGutters dense>\n                    <div\n                      style={{\n                        display: 'flex',\n                        paddingTop: sp2,\n                        paddingBottom: sp2,\n                        paddingLeft: sp3,\n                        paddingRight: sp3,\n                        alignItems: 'center'\n                      }}\n                    >\n                      <Avatar\n                        style={{\n                          width: theme.spacing(8),\n                          height: theme.spacing(8)\n                        }}\n                        alt={currentUser.name}\n                        src={currentUser.avatar ? currentUser.avatar : gravatarUrl}\n                      >\n                        {currentUser.name\n                          .split(' ', 2)\n                          .map(n => n[0].toUpperCase())\n                          .join('')}\n                      </Avatar>\n                      <div style={{ paddingLeft: sp2 }}>\n                        <Typography variant=\"body1\" noWrap>\n                          <b>{currentUser.name}</b>\n                        </Typography>\n                        <Typography variant=\"caption\" noWrap>\n                          {currentUser.email}\n                        </Typography>\n                      </div>\n                    </div>\n                  </ListItem>\n                </List>\n                {renderMenu('usermenu', layoutProps.topnav.userMenu, layoutProps.topnav.userMenuTitle)}\n                {currentUser.is_admin &&\n                  renderMenu('adminmenu', layoutProps.topnav.adminMenu, layoutProps.topnav.adminMenuTitle)}\n                {renderThemeSelection(layoutProps.topnav.themeSelectionUnder === 'profile')}\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  );\n};\n\nexport default UserProfile;\n","import { AppBar, makeStyles, Slide, Toolbar, useMediaQuery, useTheme } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\nimport { APPBAR_READY_EVENT } from 'commons/components/hooks/useAppBarHeight';\nimport useAppContext from 'commons/components/hooks/useAppContext';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport Breadcrumbs from 'commons/components/layout/breadcrumbs/Breadcrumbs';\nimport AppSwitcher from 'commons/components/layout/topnav/AppSwitcher';\nimport QuickSearch from 'commons/components/layout/topnav/QuickSearch';\nimport ThemeSelectionIcon from 'commons/components/layout/topnav/ThemeSelectionIcon';\nimport UserProfile from 'commons/components/layout/topnav/UserProfile';\nimport React, { useLayoutEffect } from 'react';\nimport AppTitle from './AppTitle';\n\nconst useStyles = makeStyles(theme => ({\n  appBarTopLayout: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  appBar: {\n    '@media print': {\n      display: 'none !important'\n    },\n    [theme.breakpoints.only('xs')]: {\n      zIndex: theme.zIndex.drawer - 1\n    }\n  },\n  toolbar: {\n    [theme.breakpoints.only('xs')]: {}\n  },\n  menuButton: {\n    display: 'none',\n    [theme.breakpoints.down('xs')]: {\n      display: 'inline-block'\n    }\n  },\n  topBarLeft: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  leftSpacer: {\n    marginLeft: theme.spacing(3)\n  }\n}));\n\ntype AppBarProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst TopBar: React.FC<AppBarProps> = ({ width }) => {\n  const {\n    currentLayout,\n    layoutProps,\n    showQuickSearch,\n    autoHideAppbar,\n    breadcrumbsEnabled,\n    appbarState\n  } = useAppLayout();\n  const theme = useTheme();\n  const { getAppbarStyles } = useAppContext();\n  const classes = useStyles(currentLayout);\n  const isTopLayout = currentLayout === 'top';\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const isSm = useMediaQuery(theme.breakpoints.down('sm'));\n  const { elevation, ...appbarStyles } = getAppbarStyles(currentLayout as 'side' | 'top');\n  const { left, leftAfterBreadcrumbs } = layoutProps.topnav;\n\n  // Once the dom is mounted, dispatch event to let listeners know\n  //  that the apppbar/topbar dom is available.\n  // Primary usecase if to initialize the 'useAppBarHeight' hook\n  //  which didn't initialize properly because it will typically be\n  //  call before the appbar is ready, because the appbar/top bar\n  //  is conditionally rendered on app/user ready state.\n  useLayoutEffect(() => {\n    window.dispatchEvent(new CustomEvent(APPBAR_READY_EVENT));\n  }, []);\n\n  const renderLeft = () => {\n    return (\n      <div className={classes.topBarLeft}>\n        <AppTitle disabled={!isTopLayout && !isXs} noTitle={isXs} />\n        <div className={isTopLayout ? classes.leftSpacer : null} />\n        {left}\n        {breadcrumbsEnabled && !isSm && <Breadcrumbs />}\n        {leftAfterBreadcrumbs}\n      </div>\n    );\n  };\n\n  const autoHide = !isTopLayout && autoHideAppbar;\n\n  return (\n    <SlideIn show={appbarState}>\n      <AppBar\n        elevation={elevation}\n        position={autoHide && !isTopLayout ? 'relative' : 'sticky'}\n        id=\"appbar\"\n        className={`${classes.appBar} ${isTopLayout && classes.appBarTopLayout}`}\n        style={appbarStyles}\n      >\n        <Toolbar\n          disableGutters\n          className={classes.toolbar}\n          style={{ paddingLeft: !isXs && !isTopLayout ? theme.spacing(2) : null, paddingRight: theme.spacing(1) }}\n        >\n          {renderLeft()}\n          {(isXs ||\n            left ||\n            leftAfterBreadcrumbs ||\n            (breadcrumbsEnabled && !isSm) ||\n            (!showQuickSearch && !breadcrumbsEnabled) ||\n            (!showQuickSearch && breadcrumbsEnabled && isSm)) && <div style={{ flexGrow: 1 }} />}\n          {showQuickSearch && isWidthUp('sm', width) && <QuickSearch />}\n          {layoutProps.topnav.themeSelectionUnder === 'icon' && <ThemeSelectionIcon />}\n          {layoutProps.topnav.right}\n          <AppSwitcher />\n          <UserProfile />\n        </Toolbar>\n      </AppBar>\n    </SlideIn>\n  );\n};\n\nfunction SlideIn({ children, show }) {\n  return (\n    <Slide appear={false} direction=\"down\" in={show} mountOnEnter unmountOnExit>\n      {children}\n    </Slide>\n  );\n}\n\nexport default withWidth()(TopBar);\n","import { CssBaseline, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport useAppUser from 'commons/components/hooks/useAppUser';\nimport LeftNavDrawer, { LeftNavElement } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport { AppElement } from 'commons/components/layout/topnav/AppSwitcher';\nimport TopBar from 'commons/components/layout/topnav/TopBar';\nimport { UserMenuElement } from 'commons/components/layout/topnav/UserProfile';\nimport React, { useState } from 'react';\n\nconst useNewStyles = makeStyles(theme => ({\n  appVertical: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    position: 'relative'\n  },\n  appVerticalLeft: {\n    height: '100%',\n    [theme.breakpoints.down('sm')]: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0\n    }\n  },\n  appVerticalRight: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    flex: 1,\n    height: '100%'\n  },\n  appVerticalRightContent: {\n    height: 'auto',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1\n  },\n  appHorizontal: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}));\n\nexport type AppLayoutContextProps = {\n  autoHideAppbar: boolean;\n  appbarState: boolean;\n  currentLayout: string;\n  drawerState: boolean;\n  breadcrumbsEnabled: boolean;\n  breadcrumbsState: boolean;\n  hideNestedIcons: boolean;\n  layoutProps: AppLayoutProps;\n  showQuickSearch: boolean;\n  getBanner: (theme) => React.ReactElement<any>;\n  getLogo: (theme) => React.ReactElement<any>;\n  hideMenus: () => void;\n  toggleLayout: () => void;\n  toggleDrawer: () => void;\n  toggleQuickSearch: () => void;\n  toggleAutoHideAppbar: () => void;\n  toggleShowBreadcrumbs: () => void;\n  toggleBreadcrumbsState: () => void;\n  isReady: () => boolean;\n  setReady: (isReady: boolean) => void;\n  setAppbarState: (show: boolean) => void;\n};\n\nexport interface AppLayoutProps {\n  appName: string;\n  allowAutoHideTopbar?: boolean;\n  allowBreadcrumbs?: boolean;\n  allowBreadcrumbsMinimize?: boolean;\n  allowGravatar?: boolean;\n  allowQuickSearch?: boolean;\n  allowReset?: boolean;\n  allowTopbarModeSelection?: boolean;\n  allowThemeSelection?: boolean;\n  allowTranslate?: boolean;\n  appIconDark: React.ReactElement<any>;\n  appIconLight: React.ReactElement<any>;\n  bannerDark: React.ReactElement<any>;\n  bannerLight: React.ReactElement<any>;\n  defaultLayout: 'top' | 'side';\n  defaultDrawerOpen?: boolean;\n  defaultShowQuickSearch?: boolean;\n  defaultAutoHideAppbar?: boolean;\n  defaultShowBreadcrumbs?: boolean;\n  defaultBreadcrumbsOpen?: boolean;\n  topnav: {\n    apps?: AppElement[];\n    userMenu?: UserMenuElement[];\n    userMenuTitle?: string;\n    adminMenu?: UserMenuElement[];\n    adminMenuTitle?: string;\n    quickSearchURI?: string;\n    quickSearchParam?: string;\n    themeSelectionUnder: 'profile' | 'icon';\n    left?: React.ReactNode;\n    leftAfterBreadcrumbs?: React.ReactNode;\n    right?: React.ReactNode;\n  };\n  leftnav: {\n    elements: LeftNavElement[];\n    hideNestedIcons?: boolean;\n  };\n}\n\ninterface LayoutProviderProps extends AppLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AppLayoutContext = React.createContext<AppLayoutContextProps>(null);\n\nfunction AppLayoutProvider(props: LayoutProviderProps) {\n  const { children, ...layoutProps } = props;\n  const { isReady: isUserReady } = useAppUser();\n\n  // Load Initial Layout Default\n  let initialLayout;\n  const storedNavLayout = localStorage.getItem('navLayout');\n  if (storedNavLayout && storedNavLayout === 'top') {\n    initialLayout = 'top' as 'top';\n  } else if (storedNavLayout && storedNavLayout === 'side') {\n    initialLayout = 'side' as 'side';\n  } else {\n    initialLayout = layoutProps.defaultLayout;\n  }\n\n  // Load Nav Drawer Default State\n  const storedDrawer = localStorage.getItem('drawerOpen');\n  const initialDrawer = storedDrawer ? !!JSON.parse(storedDrawer) : layoutProps.defaultDrawerOpen;\n\n  // Load Quick Search Default State\n  const storedQuickSearch = localStorage.getItem('showQuickSearch');\n  const initialQuickSearch = storedQuickSearch ? !!JSON.parse(storedQuickSearch) : layoutProps.defaultShowQuickSearch;\n\n  // Load Auto hide Topbar default state\n  const storedAutoHideAppbar = localStorage.getItem('autoHideAppbar');\n  const initialAutoHideAppbar = storedAutoHideAppbar\n    ? !!JSON.parse(storedAutoHideAppbar)\n    : layoutProps.defaultAutoHideAppbar;\n\n  // Load Breadcrumbs Default State\n  const storedShowBreadcrumbs = localStorage.getItem('breadcrumbsEnabled');\n  const initialBreadcrumbsEnabled = storedShowBreadcrumbs\n    ? !!JSON.parse(storedShowBreadcrumbs)\n    : layoutProps.defaultShowBreadcrumbs;\n\n  // Load Breadcrumbs Default Expanded/Minimize State\n  const storedBreadcrumbs = localStorage.getItem('breadcrumbsState');\n  const initialBreadcrumbsState = storedBreadcrumbs\n    ? !!JSON.parse(storedBreadcrumbs)\n    : layoutProps.defaultBreadcrumbsOpen;\n\n  // Hooks...\n  const [appReady, setAppReady] = useState<boolean>(false);\n  const [showMenus, setShowMenus] = useState<boolean>(true);\n  const [drawer, setDrawer] = useState<boolean>(initialDrawer);\n  const [appbarState, setAppbarState] = useState<boolean>(true);\n  const [breadcrumbsEnabled, setBreadcrumbsEnabled] = useState<boolean>(initialBreadcrumbsEnabled);\n  const [breadcrumbsState, setBreadcrumbsState] = useState<boolean>(initialBreadcrumbsState);\n  const [quickSearch, setQuickSearch] = useState<boolean>(initialQuickSearch);\n  const [autoHideAppbar, setAutoHideAppbar] = useState<boolean>(initialAutoHideAppbar);\n  const [layout, setLayout] = useState<'top' | 'side'>(initialLayout);\n  const theme = useTheme();\n  const isSM = useMediaQuery(theme.breakpoints.only('sm'));\n  const isPrinting = useMediaQuery('print');\n\n  const onToggleLayout = () => {\n    const newLayout = layout === 'top' ? 'side' : 'top';\n    localStorage.setItem('navLayout', newLayout);\n    setLayout(newLayout);\n  };\n\n  const onToggleDrawer = () => {\n    localStorage.setItem('drawerOpen', JSON.stringify(!drawer));\n    setDrawer(!drawer);\n  };\n\n  const onToggleQuickSearch = () => {\n    localStorage.setItem('showQuickSearch', JSON.stringify(!quickSearch));\n    setQuickSearch(!quickSearch);\n  };\n\n  const onToggleAutoHideAppbar = () => {\n    localStorage.setItem('autoHideAppbar', JSON.stringify(!autoHideAppbar));\n    setAutoHideAppbar(!autoHideAppbar);\n  };\n\n  const onToggleShowBreadcrumbs = () => {\n    localStorage.setItem('breadcrumbsEnabled', JSON.stringify(!breadcrumbsEnabled));\n    setBreadcrumbsEnabled(!breadcrumbsEnabled);\n  };\n\n  const onToggleBreadcrumbsState = () => {\n    localStorage.setItem('breadcrumbsState', JSON.stringify(!breadcrumbsState));\n    setBreadcrumbsState(!breadcrumbsState);\n  };\n\n  const newClasses = useNewStyles();\n\n  return (\n    <AppLayoutContext.Provider\n      value={{\n        autoHideAppbar,\n        appbarState,\n        currentLayout: layout,\n        drawerState: drawer,\n        breadcrumbsEnabled,\n        breadcrumbsState,\n        hideNestedIcons: !!layoutProps.leftnav.hideNestedIcons,\n        layoutProps: {\n          allowAutoHideTopbar: true,\n          allowBreadcrumbs: true,\n          allowBreadcrumbsMinimize: true,\n          allowQuickSearch: true,\n          allowReset: true,\n          allowTopbarModeSelection: true,\n          allowThemeSelection: true,\n          allowTranslate: true,\n          ...layoutProps\n        },\n        showQuickSearch: quickSearch,\n        getBanner: curTheme => {\n          return curTheme.palette.type === 'dark' ? layoutProps.bannerDark : layoutProps.bannerLight;\n        },\n        getLogo: curTheme => {\n          return curTheme.palette.type === 'dark' ? layoutProps.appIconDark : layoutProps.appIconLight;\n        },\n        hideMenus: () => setShowMenus(false),\n        toggleLayout: onToggleLayout,\n        toggleDrawer: onToggleDrawer,\n        toggleQuickSearch: onToggleQuickSearch,\n        toggleAutoHideAppbar: onToggleAutoHideAppbar,\n        toggleShowBreadcrumbs: onToggleShowBreadcrumbs,\n        toggleBreadcrumbsState: onToggleBreadcrumbsState,\n        isReady: () => appReady,\n        setReady: (isReady: boolean) => setAppReady(isReady),\n        setAppbarState\n      }}\n    >\n      <>\n        <CssBaseline />\n        {layout === 'side' ? (\n          <div className={newClasses.appVertical}>\n            <div className={newClasses.appVerticalLeft}>\n              {isUserReady() && appReady && showMenus && <LeftNavDrawer />}\n            </div>\n            <div\n              id=\"app-scrollct\"\n              className={newClasses.appVerticalRight}\n              style={{ overflow: 'auto', paddingLeft: showMenus && isSM && !isPrinting ? theme.spacing(7) : 0 }}\n            >\n              {isUserReady() && appReady && showMenus && <TopBar />}\n              {children}\n            </div>\n          </div>\n        ) : (\n          <div id=\"app-scrollct\" className={newClasses.appHorizontal} style={{ overflow: 'auto' }}>\n            {isUserReady() && appReady && showMenus && <TopBar />}\n            <div className={newClasses.appVertical}>\n              <div className={newClasses.appVerticalLeft}>\n                {isUserReady() && appReady && showMenus && <LeftNavDrawer />}\n              </div>\n              <div\n                className={newClasses.appVerticalRight}\n                style={{ paddingLeft: showMenus && isSM && !isPrinting ? theme.spacing(7) : 0 }}\n              >\n                {children}\n              </div>\n            </div>\n          </div>\n        )}\n      </>\n    </AppLayoutContext.Provider>\n  );\n}\n\nexport default AppLayoutProvider;\n","import { AppLayoutContext, AppLayoutContextProps } from 'commons/components/layout/LayoutProvider';\nimport { useContext } from 'react';\n\nexport default function useAppLayout(): AppLayoutContextProps {\n  return useContext(AppLayoutContext);\n}\n","import { UserContext } from 'commons/components/user/UserProvider';\nimport { CustomUserContextProps } from 'components/hooks/useMyUser';\nimport { useContext } from 'react';\n\nexport default function useALContext(): CustomUserContextProps {\n  return useContext(UserContext) as CustomUserContextProps;\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport BuildOutlinedIcon from '@material-ui/icons/BuildOutlined';\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\nimport CodeOutlinedIcon from '@material-ui/icons/CodeOutlined';\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport PublishOutlinedIcon from '@material-ui/icons/PublishOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsApplicationsOutlinedIcon from '@material-ui/icons/SettingsApplicationsOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport SimCardOutlinedIcon from '@material-ui/icons/SimCardOutlined';\nimport SupervisorAccountOutlinedIcon from '@material-ui/icons/SupervisorAccountOutlined';\nimport { AppLayoutProps } from 'commons/components/layout/LayoutProvider';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\n\nconst useMyLayout = (): AppLayoutProps => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isXS = useMediaQuery(theme.breakpoints.only('xs'));\n  const MENU_ITEMS = [\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'submit',\n        text: t('drawer.submit'),\n        icon: <PublishOutlinedIcon />,\n        route: '/submit',\n        nested: false\n      }\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'submissions',\n        text: t('drawer.submissions'),\n        icon: <AmpStoriesOutlinedIcon />,\n        route: '/submissions',\n        nested: false\n      }\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'alerts',\n        text: t('drawer.alerts'),\n        icon: <NotificationImportantOutlinedIcon />,\n        route: '/alerts',\n        nested: false\n      }\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'search',\n        title: t('drawer.search'),\n        icon: <SearchIcon />,\n        items: [\n          {\n            id: 'search.all',\n            text: t('drawer.search.all'),\n            route: '/search',\n            nested: true\n          },\n          {\n            id: 'search.alert',\n            text: t('drawer.search.alert'),\n            route: '/search/alert',\n            nested: true\n          },\n          {\n            id: 'search.file',\n            text: t('drawer.search.file'),\n            route: '/search/file',\n            nested: true\n          },\n          {\n            id: 'search.result',\n            text: t('drawer.search.result'),\n            route: '/search/result',\n            nested: true\n          },\n          {\n            id: 'search.signature',\n            text: t('drawer.search.signature'),\n            route: '/search/signature',\n            nested: true\n          },\n          {\n            id: 'search.submission',\n            text: t('drawer.search.submission'),\n            route: '/search/submission',\n            nested: true\n          }\n        ]\n      }\n    },\n    {\n      type: 'divider' as 'divider',\n      element: null\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'dashboard',\n        text: t('drawer.dashboard'),\n        icon: <DashboardOutlinedIcon />,\n        route: '/dashboard',\n        nested: false\n      }\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'manage',\n        title: t('drawer.manage'),\n        icon: <BuildOutlinedIcon />,\n        items: [\n          {\n            id: 'manage.heuristics',\n            text: t('drawer.manage.heuristics'),\n            icon: <SimCardOutlinedIcon />,\n            route: '/manage/heuristics',\n            nested: true\n          },\n          {\n            id: 'manage.signatures',\n            text: t('drawer.manage.signatures'),\n            icon: <FingerprintOutlinedIcon />,\n            route: '/manage/signatures',\n            nested: true\n          },\n          {\n            id: 'manage.source',\n            text: t('drawer.manage.source'),\n            userPropValidators: [\n              { prop: 'user.is_admin', value: true },\n              { prop: 'user.roles', value: 'signature_manager' }\n            ],\n            icon: <CodeOutlinedIcon />,\n            route: '/manage/sources',\n            nested: true\n          },\n          {\n            id: 'manage.workflow',\n            text: t('drawer.manage.workflow'),\n            icon: <BiNetworkChart />,\n            route: '/manage/workflows',\n            nested: true\n          }\n        ]\n      }\n    },\n    {\n      type: 'divider' as 'divider',\n      element: null\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'help',\n        title: t('drawer.help'),\n        icon: <HelpOutlineOutlinedIcon />,\n        items: [\n          {\n            id: 'help.api',\n            text: t('drawer.help.api'),\n            icon: <AssignmentOutlinedIcon />,\n            route: '/help/api',\n            nested: true\n          },\n          {\n            id: 'help.classification',\n            text: t('drawer.help.classification'),\n            userPropValidators: [{ prop: 'c12nDef.enforce', value: true }],\n            icon: <LabelOutlinedIcon />,\n            route: '/help/classification',\n            nested: true\n          },\n          {\n            id: 'help.configuration',\n            text: t('drawer.help.configuration'),\n            icon: <SettingsApplicationsOutlinedIcon />,\n            route: '/help/configuration',\n            nested: true\n          },\n          {\n            id: 'help.search',\n            text: t('drawer.help.search'),\n            icon: <SearchIcon />,\n            route: '/help/search',\n            nested: true\n          },\n          {\n            id: 'help.services',\n            text: t('drawer.help.services'),\n            icon: <AccountTreeOutlinedIcon />,\n            route: '/help/services',\n            nested: true\n          }\n        ]\n      }\n    }\n  ];\n\n  const APP_SWITCHER_ITEMS = [\n    //  {\n    //    alt: \"AL\",\n    //    name: \"Assemblyline\",\n    //    img_d: \"/images/al_dark.svg\",\n    //    img_l: \"/images/al.svg\",\n    //    route: \"https://localhost\"\n    //  },\n  ];\n\n  const USER_MENU_ITEMS = [\n    {\n      name: t('usermenu.account'),\n      route: '/account',\n      icon: <AccountCircleOutlinedIcon />\n    },\n    {\n      name: t('usermenu.settings'),\n      route: '/settings',\n      icon: <SettingsOutlinedIcon />\n    },\n    {\n      name: t('usermenu.optout'),\n      route: '/optout',\n      icon: <CancelPresentationIcon />\n    },\n    {\n      name: t('usermenu.logout'),\n      route: '/logout',\n      icon: <ExitToAppIcon />\n    }\n  ];\n\n  const ADMIN_MENU_ITEMS = [\n    {\n      name: t('adminmenu.errors'),\n      route: '/admin/errors',\n      icon: <ErrorOutlineOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.services'),\n      route: '/admin/services',\n      icon: <AccountTreeOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.sitemap'),\n      route: '/admin/sitemap',\n      icon: <MapOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.users'),\n      route: '/admin/users',\n      icon: <SupervisorAccountOutlinedIcon />\n    }\n  ];\n\n  const darkLogo = (\n    <img\n      alt={t('logo.alt')}\n      src={`${process.env.PUBLIC_URL}/images/al_dark.svg`}\n      width=\"40\"\n      height=\"32\"\n      style={{ marginLeft: '-5px' }}\n    />\n  );\n  const lightLogo = (\n    <img\n      alt={t('logo.alt')}\n      src={`${process.env.PUBLIC_URL}/images/al.svg`}\n      width=\"40\"\n      height=\"32\"\n      style={{ marginLeft: '-5px' }}\n    />\n  );\n  const darkBanner = (\n    <img\n      style={{ display: 'inline-block', width: '100%', margin: `${isXS ? 2 : 3}rem 0` }}\n      src={`${process.env.PUBLIC_URL}/images/banner_dark.svg`}\n      alt={t('banner.alt')}\n    />\n  );\n  const lightBanner = (\n    <img\n      style={{ display: 'inline-block', width: '100%', margin: `${isXS ? 2 : 3}rem 0` }}\n      src={`${process.env.PUBLIC_URL}/images/banner.svg`}\n      alt={t('banner.alt')}\n    />\n  );\n\n  return {\n    appName: 'Assemblyline',\n    allowBreadcrumbsMinimize: false,\n    allowReset: false,\n    appIconDark: darkLogo,\n    appIconLight: lightLogo,\n    bannerLight: lightBanner,\n    bannerDark: darkBanner,\n    defaultLayout: 'side' as 'side',\n    defaultDrawerOpen: false,\n    defaultShowQuickSearch: true,\n    defaultAutoHideAppbar: true,\n    defaultShowBreadcrumbs: true,\n    defaultBreadcrumbsOpen: true,\n    leftnav: {\n      elements: MENU_ITEMS,\n      hideNestedIcons: true\n    },\n    topnav: {\n      adminMenu: ADMIN_MENU_ITEMS,\n      adminMenuTitle: t('adminmenu'),\n      apps: APP_SWITCHER_ITEMS,\n      quickSearchURI: '/search',\n      quickSearchParam: 'query',\n      themeSelectionUnder: 'icon' as 'icon',\n      userMenu: USER_MENU_ITEMS,\n      userMenuTitle: t('usermenu')\n    }\n  };\n};\n\nexport default useMyLayout;\n","import { OptionsObject, useSnackbar } from 'notistack';\n\nexport default function useMySnackbar() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const snackBarOptions: OptionsObject = {\n    preventDuplicate: true,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    onClick: snack => {\n      closeSnackbar();\n    }\n  };\n\n  function showErrorMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'error', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showWarningMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'warning', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showSuccessMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'success', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showInfoMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'info', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  return {\n    showErrorMessage,\n    showWarningMessage,\n    showSuccessMessage,\n    showInfoMessage,\n    closeSnackbar\n  };\n}\n","import { UserContextProps, UserProfileProps, ValidatedProp } from 'commons/components/user/UserProvider';\nimport { ClassificationDefinition } from 'helpers/classificationParser';\nimport { useState } from 'react';\n\nexport type ALField = {\n  name: string;\n  indexed: boolean;\n  stored: boolean;\n  type: string;\n  default: boolean;\n  list: boolean;\n};\n\ntype IndexDefinition = {\n  [propName: string]: ALField;\n};\n\ntype IndexDefinitionMap = {\n  alert: IndexDefinition;\n  file: IndexDefinition;\n  heuristic: IndexDefinition;\n  result: IndexDefinition;\n  signature: IndexDefinition;\n  submission: IndexDefinition;\n  workflow: IndexDefinition;\n};\n\ntype SettingsDefinition = {\n  classification: string;\n  deep_scan: boolean;\n  description: string;\n  download_encoding: string;\n  expand_min_score: number;\n  ignore_cache: boolean;\n  ignore_dynamic_recursion_prevention: boolean;\n  ignore_filtering: boolean;\n  priority: number;\n  profile: boolean;\n  service_spec: any[];\n  services: any[];\n  submission_view: string;\n  ttl: number;\n};\n\nexport type ConfigurationDefinition = {\n  auth: {\n    allow_2fa: boolean;\n    allow_apikeys: boolean;\n    allow_security_tokens: boolean;\n  };\n  system: {\n    organisation: string;\n    type: string;\n    version: string;\n  };\n  ui: {\n    allow_url_submissions: boolean;\n    banner: {\n      [lang: string]: string;\n    };\n    banner_level: 'info' | 'warning' | 'error' | 'success';\n    read_only: boolean;\n    tos: boolean;\n    tos_lockout: boolean;\n    tos_lockout_notify: boolean;\n  };\n};\n\nexport interface CustomUser extends UserProfileProps {\n  // Al specific props\n  agrees_with_tos: boolean;\n  classification: string;\n  default_view?: string;\n  groups: string[];\n  is_active: boolean;\n  roles: string[];\n}\n\nexport interface CustomUserContextProps extends UserContextProps<CustomUser> {\n  c12nDef: ClassificationDefinition;\n  configuration: ConfigurationDefinition;\n  indexes: IndexDefinitionMap;\n  settings: SettingsDefinition;\n  setConfiguration: (cfg: ConfigurationDefinition) => void;\n}\n\ninterface WhoAmIProps extends CustomUser {\n  c12nDef: ClassificationDefinition;\n  configuration: ConfigurationDefinition;\n  indexes: IndexDefinitionMap;\n  settings: SettingsDefinition;\n}\n\n// Application specific hook that will provide configuration to commons [useUser] hook.\nexport default function useMyUser(): CustomUserContextProps {\n  const [user, setState] = useState<CustomUser>(null);\n  const [c12nDef, setC12nDef] = useState<ClassificationDefinition>(null);\n  const [configuration, setConfiguration] = useState<ConfigurationDefinition>(null);\n  const [indexes, setIndexes] = useState<IndexDefinitionMap>(null);\n  const [settings, setSettings] = useState<SettingsDefinition>(null);\n  const [flattenedProps, setFlattenedProps] = useState(null);\n\n  function flatten(ob) {\n    const toReturn = {};\n\n    for (const i in ob) {\n      if ({}.hasOwnProperty.call(ob, i)) {\n        if (typeof ob[i] == 'object') {\n          const flatObject = flatten(ob[i]);\n          for (const x in flatObject) {\n            if ({}.hasOwnProperty.call(flatObject, x)) {\n              toReturn[`${i}.${x}`] = flatObject[x];\n            }\n          }\n        } else {\n          toReturn[i] = ob[i];\n        }\n      }\n    }\n    return toReturn;\n  }\n\n  const setUser = (whoAmIData: WhoAmIProps) => {\n    const { configuration: cfg, c12nDef: c12n, indexes: idx, settings: userSettings, ...curUser } = whoAmIData;\n    setC12nDef(c12n);\n    setConfiguration(cfg);\n    setIndexes(idx);\n    setState(curUser);\n    setSettings(userSettings);\n    setFlattenedProps(\n      flatten({ user: curUser, c12nDef: c12n, configuration: cfg, indexes: idx, settings: userSettings })\n    );\n  };\n\n  const validateProp = (propDef: ValidatedProp) => {\n    const obj = flattenedProps[propDef.prop];\n    if (Array.isArray(obj)) {\n      return obj.indexOf(propDef.value) !== -1;\n    }\n    return obj === propDef.value;\n  };\n\n  const validateProps = (props: ValidatedProp[]) => {\n    if (props === undefined) return true;\n    return props.some(validateProp);\n  };\n\n  const isReady = () => {\n    if (user === null || (!user.agrees_with_tos && configuration.ui.tos) || !user.is_active) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return {\n    c12nDef,\n    configuration,\n    indexes,\n    settings,\n    user,\n    setUser,\n    setConfiguration,\n    isReady,\n    validateProps\n  };\n}\n","import { CircularProgress, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\n\nfunction LoadingScreen() {\n  const theme = useTheme();\n  const { getBanner } = useAppLayout();\n\n  return (\n    <div\n      style={{\n        textAlign: 'center',\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      }}\n    >\n      {getBanner(theme)}\n      <CircularProgress variant=\"indeterminate\" />\n    </div>\n  );\n}\n\nexport default LoadingScreen;\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = (w, mxw) => {\n  return makeStyles(theme => ({\n    page: {\n      textAlign: 'center',\n      margin: '0 auto auto auto',\n      width: w,\n      maxWidth: mxw,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: '100%'\n      }\n    }\n  }))();\n};\n\ntype PageCenterProps = {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n  maxWidth?: string;\n  width?: string;\n};\n\nconst PageCenter: React.FC<PageCenterProps> = ({\n  children,\n  margin = null,\n  maxWidth = '1200px',\n  mb = 2,\n  ml = 2,\n  mr = 2,\n  mt = 2,\n  width = '95%'\n}) => {\n  const classes = useStyles(width, maxWidth);\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  return (\n    <div className={classes.page}>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageCenter;\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype ForbiddenPageProps = {\n  disabled?: boolean;\n};\n\nconst ForbiddenPage: React.FC<ForbiddenPageProps> = ({ disabled = false }) => {\n  const { t } = useTranslation(['error403']);\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n        <BlockIcon\n          style={{ color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark }}\n          fontSize=\"inherit\"\n        />\n      </div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h3\">{t('title')}</Typography>\n      </div>\n      {disabled ? (\n        <div>\n          <Typography variant=\"h6\">{t('disabled')}</Typography>\n        </div>\n      ) : (\n        <div>\n          <Typography variant=\"h6\">{t('not_allowed')}</Typography>\n        </div>\n      )}\n    </PageCenter>\n  );\n};\n\nexport default ForbiddenPage;\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport HourglassEmptyOutlinedIcon from '@material-ui/icons/HourglassEmptyOutlined';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport ForbiddenPage from 'components/routes/403';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst LockedPage = () => {\n  const { t } = useTranslation(['locked']);\n  const { configuration } = useALContext();\n  const theme = useTheme();\n\n  return (\n    <>\n      {configuration.ui.tos ? (\n        <PageCenter width=\"65%\" margin={4}>\n          <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n            <HourglassEmptyOutlinedIcon color=\"secondary\" fontSize=\"inherit\" />\n          </div>\n          <div style={{ paddingBottom: theme.spacing(2) }}>\n            <Typography variant=\"h3\">{t('title')}</Typography>\n          </div>\n          {configuration.ui.tos_lockout_notify ? (\n            <div>\n              <Typography variant=\"h6\">{t('auto_notify')}</Typography>\n            </div>\n          ) : (\n            <div>\n              <Typography variant=\"h6\">{t('contact_admin')}</Typography>\n            </div>\n          )}\n        </PageCenter>\n      ) : (\n        <ForbiddenPage disabled />\n      )}\n    </>\n  );\n};\n\nexport default LockedPage;\n","import { Card, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    left: '50%', // X\n    top: '50%', // Y\n    transform: 'translate(-50%, -50%)',\n    maxWidth: '22rem',\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: '4px',\n    [theme.breakpoints.down('xs')]: {\n      backgroundColor: theme.palette.background.default,\n      width: '100%',\n      maxWidth: '22rem',\n      padding: '0rem 1rem 3rem'\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '22rem',\n      padding: '0 2rem 3rem'\n    }\n  }\n}));\n\nfunction CardCentered({ children }) {\n  const theme = useTheme();\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const classes = useStyles();\n\n  return (\n    <Card elevation={isXs ? 0 : 4} className={classes.card}>\n      {children}\n    </Card>\n  );\n}\n\nexport default CardCentered;\n","export default function getXSRFCookie() {\n  let xsrfToken = null;\n  if (document.cookie !== undefined) {\n    try {\n      // eslint-disable-next-line prefer-destructuring\n      xsrfToken = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('XSRF-TOKEN'))\n        .split('=')[1];\n    } catch (ex) {\n      // Ignore... we will return null\n    }\n  }\n  return xsrfToken;\n}\n","import getXSRFCookie from 'helpers/xsrf';\nimport { useTranslation } from 'react-i18next';\nimport useMySnackbar from './useMySnackbar';\n\nexport type APIResponseProps = {\n  api_error_message: string;\n  api_response: any;\n  api_server_version: string;\n  api_status_code: number;\n};\n\nexport default function useMyAPI() {\n  const { t } = useTranslation();\n  const { showErrorMessage } = useMySnackbar();\n\n  type APICallProps = {\n    url: string;\n    contentType?: string;\n    method?: string;\n    body?: any;\n    reloadOnUnauthorize?: boolean;\n    onSuccess?: (api_data: APIResponseProps) => void;\n    onFailure?: (api_data: APIResponseProps) => void;\n    onEnter?: () => void;\n    onExit?: () => void;\n    onFinalize?: (api_data: APIResponseProps) => void;\n  };\n\n  function apiCall({\n    url,\n    contentType = 'application/json',\n    method = 'GET',\n    body = null,\n    reloadOnUnauthorize = true,\n    onSuccess,\n    onFailure,\n    onEnter,\n    onExit,\n    onFinalize\n  }: APICallProps) {\n    const requestOptions: RequestInit = {\n      method,\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': contentType,\n        'X-XSRF-TOKEN': getXSRFCookie()\n      },\n      body: body !== null ? (contentType === 'application/json' ? JSON.stringify(body) : body) : null\n    };\n\n    // Run enter callback\n    if (onEnter) onEnter();\n\n    // Fetch the URL\n    fetch(url, requestOptions)\n      .then(res => {\n        if (res.status === 401 && reloadOnUnauthorize) {\n          // Trigger a page reload, we're not logged in anymore\n          window.location.reload(false);\n        }\n        return res.json();\n      })\n      .catch(err => {\n        // eslint-disable-next-line no-console\n        console.error(err);\n        return {\n          api_error_message: t('api.unreachable'),\n          api_response: '',\n          api_server_version: '4.0.0',\n          api_status_code: 400\n        };\n      })\n      .then(api_data => {\n        // Run finished Callback\n        if (onExit) onExit();\n\n        // Check Api response validity\n        // eslint-disable-next-line no-prototype-builtins\n        if (api_data === undefined || !api_data.hasOwnProperty('api_status_code')) {\n          showErrorMessage(t('api.invalid'));\n        } else if (api_data.api_status_code === 401 && reloadOnUnauthorize) {\n          // Detect login request\n          // Do nothing... we are reloading the page\n          return;\n        } else if (api_data.api_status_code !== 200) {\n          // Handle errors\n          // Run failure callback\n          if (onFailure) {\n            onFailure(api_data);\n          } else {\n            // Default failure handler, show toast error\n            showErrorMessage(api_data.api_error_message);\n          }\n        } else if (onSuccess) {\n          // Handle success\n          // Run success callback\n          onSuccess(api_data);\n        }\n        if (onFinalize) onFinalize(api_data);\n      });\n  }\n\n  return apiCall;\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport {\n  Avatar,\n  Button,\n  CircularProgress,\n  createStyles,\n  Link,\n  makeStyles,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype OAuthProps = {\n  avatar: string;\n  username: string;\n  email: string;\n  oAuthToken: string;\n  buttonLoading: boolean;\n  onSubmit: (event) => void;\n  reset: (event) => void;\n};\n\nexport function OAuthLogin({ avatar, username, email, oAuthToken, buttonLoading, onSubmit, reset }: OAuthProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center', justifyContent: 'center' }}>\n        {!oAuthToken ? (\n          <Skeleton variant=\"circle\" style={{ alignSelf: 'center' }} width={144} height={144} />\n        ) : (\n          <Avatar style={{ alignSelf: 'center', width: theme.spacing(18), height: theme.spacing(18) }} src={avatar} />\n        )}\n        <Typography color=\"textPrimary\">{!oAuthToken ? <Skeleton /> : username}</Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n          {!oAuthToken ? <Skeleton /> : email}\n        </Typography>\n        {!oAuthToken ? (\n          <Skeleton variant=\"rect\" style={{ height: '36px', marginTop: '1.5rem', marginBottom: '1.5rem' }} />\n        ) : (\n          <Button\n            type=\"submit\"\n            style={{ marginTop: '1.5rem', marginBottom: '1.5rem' }}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={buttonLoading}\n          >\n            {t('button')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        )}\n        {!oAuthToken ? (\n          <Skeleton />\n        ) : (\n          <Link variant=\"body2\" href=\"#\" onClick={reset}>\n            {t('other')}\n          </Link>\n        )}\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype OTPProps = {\n  onSubmit: (event) => void;\n  buttonLoading: boolean;\n  setOneTimePass: (value: string) => void;\n};\n\nexport function OneTimePassLogin({ onSubmit, buttonLoading, setOneTimePass }: OTPProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <TextField\n          inputProps={{ maxLength: 6 }}\n          autoFocus\n          variant=\"outlined\"\n          size=\"small\"\n          label={t('otp')}\n          onChange={event => setOneTimePass(event.target.value)}\n        />\n        <Button\n          type=\"submit\"\n          style={{ marginTop: '1.5rem' }}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={buttonLoading}\n        >\n          {t('button')}\n          {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField, Typography } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype ResetPasswordNowProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function ResetPasswordNow({ buttonLoading, setButtonLoading }: ResetPasswordNowProps) {\n  const location = useLocation();\n  const history = useHistory();\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const params = new URLSearchParams(location.search);\n  const [resetID, setResetID] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/reset_pwd/',\n      method: 'POST',\n      body: {\n        reset_id: resetID,\n        password,\n        password_confirm: passwordConfirm\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => {\n        setDone(true);\n        setTimeout(() => window.location.reload(false), 7000);\n      }\n    });\n    event.preventDefault();\n  }\n\n  useEffect(() => {\n    setResetID(params.get('reset_id'));\n\n    if (params.get('reset_id')) {\n      history.push('/');\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <>\n            <Typography align=\"center\" variant=\"h6\" gutterBottom>\n              {t('reset_now.done')}\n            </Typography>\n            <Typography align=\"center\" variant=\"caption\">\n              {t('reset_now.redirect')}\n            </Typography>\n          </>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset_now.password')}\n              onChange={event => setPassword(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset_now.password_confirm')}\n              onChange={event => setPasswordConfirm(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('reset_now.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n\ntype ResetPasswordProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function ResetPassword({ buttonLoading, setButtonLoading }: ResetPasswordProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [email, setEmail] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/get_reset_link/',\n      method: 'POST',\n      body: { email },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => setDone(true)\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <Typography align=\"center\">{t('reset.done')}</Typography>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              type=\"email\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset.email')}\n              onChange={event => setEmail(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('reset.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n","export default function toArrayBuffer(data) {\n  const uint8Array = new Uint8Array(data.length);\n  for (let i = 0; i < uint8Array.length; i++) {\n    uint8Array[i] = data[i];\n  }\n\n  return uint8Array;\n}\n","import { Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport toArrayBuffer from 'helpers/toArrayBuffer';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst CBOR = require('helpers/cbor.js');\n\ntype SecTokenProps = {\n  setShownControls: (value: string) => void;\n  setWebAuthNResponse: (value) => void;\n  username: string;\n};\n\nexport function SecurityTokenLogin({ username, setShownControls, setWebAuthNResponse }: SecTokenProps) {\n  const { t } = useTranslation(['login']);\n  const apiCall = useMyAPI();\n  const { showErrorMessage } = useMySnackbar();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/webauthn/authenticate/begin/${username}/`,\n      onSuccess: api_data => {\n        const arrayData = toArrayBuffer(api_data.api_response);\n        const options = CBOR.decode(arrayData.buffer);\n        const credentialHelper = navigator.credentials;\n        if (credentialHelper !== undefined) {\n          credentialHelper\n            .get(options)\n            .then((assertion: PublicKeyCredential) => {\n              const response = assertion.response as AuthenticatorAssertionResponse;\n              const assertionData = CBOR.encode({\n                credentialId: new Uint8Array(assertion.rawId),\n                authenticatorData: new Uint8Array(response.authenticatorData),\n                clientDataJSON: new Uint8Array(response.clientDataJSON),\n                signature: new Uint8Array(response.signature)\n              });\n\n              setWebAuthNResponse(Array.from(new Uint8Array(assertionData)));\n            })\n            .catch(ex => {\n              // eslint-disable-next-line no-console\n              console.log(`${ex.name}: ${ex.message}`);\n              setShownControls('otp');\n              showErrorMessage(t('securitytoken.error'));\n            });\n        } else {\n          setShownControls('otp');\n          showErrorMessage(t('securitytoken.unavailable'));\n        }\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center' }}>\n      <div>\n        <LockOutlinedIcon style={{ fontSize: '108pt' }} color=\"action\" />\n      </div>\n      <Typography variant=\"h6\" color=\"textSecondary\">\n        {t('securitytoken')}\n      </Typography>\n    </div>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField, Typography } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype SignUpProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function SignUp({ buttonLoading, setButtonLoading }: SignUpProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/signup/',\n      method: 'POST',\n      body: {\n        user: username,\n        password,\n        password_confirm: passwordConfirm,\n        email\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => setDone(true)\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <>\n            <Typography align=\"center\">{t('signup.done')}</Typography>\n          </>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.username')}\n              onChange={event => setUsername(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.password')}\n              onChange={event => setPassword(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.password_confirm')}\n              onChange={event => setPasswordConfirm(event.target.value)}\n            />\n            <TextField\n              inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n              style={{ marginTop: '.5rem' }}\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.email')}\n              onChange={event => setEmail(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('signup.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype UserPassLoginProps = {\n  onSubmit: (event) => void;\n  buttonLoading: boolean;\n  setPassword: (value: string) => void;\n  setUsername: (value: string) => void;\n};\n\nexport function UserPassLogin({ onSubmit, buttonLoading, setPassword, setUsername }: UserPassLoginProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <TextField\n          autoFocus\n          inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n          variant=\"outlined\"\n          size=\"small\"\n          label={t('username')}\n          onChange={event => setUsername(event.target.value)}\n        />\n        <TextField\n          style={{ marginTop: '.5rem' }}\n          variant=\"outlined\"\n          size=\"small\"\n          type=\"password\"\n          label={t('password')}\n          onChange={event => setPassword(event.target.value)}\n        />\n        <Button\n          type=\"submit\"\n          style={{ marginTop: '1.5rem' }}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={buttonLoading}\n        >\n          {t('button')}\n          {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface TextDividerProps {\n  forcePaper?: boolean;\n}\n\nconst TextDivider: React.FC<TextDividerProps> = ({ forcePaper = false }) => {\n  const { t } = useTranslation();\n  const useStyles = makeStyles(theme => ({\n    divider: {\n      display: 'inline-block',\n      textAlign: 'center',\n      width: '100%',\n      margin: '30px 0',\n      position: 'relative',\n      borderTop: `1px solid ${theme.palette.divider}`\n    },\n    inner: {\n      backgroundColor: theme.palette.background.paper,\n      left: '50%',\n      marginLeft: '-30px',\n      position: 'absolute',\n      top: '-10px',\n      width: '60px',\n      [theme.breakpoints.down('xs')]: {\n        backgroundColor: forcePaper ? theme.palette.background.paper : theme.palette.background.default\n      }\n    }\n  }));\n  const classes = useStyles();\n  return (\n    <div>\n      <div className={classes.divider}>\n        <div className={classes.inner}>{t('divider')}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default TextDivider;\n","export function bytesToSize(bytes: number | null) {\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n  if (bytes === 0 || bytes === null) return '0 B';\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n  return `${Math.round(bytes / Math.pow(1024, i))} ${sizes[i]}`;\n}\n\nexport function scoreToVerdict(score: number | null) {\n  // More then 1000 => Malicious\n  if (score >= 1000) {\n    return 'malicious';\n  }\n\n  // Between 500 - 999 => highly suspicious\n  if (score >= 500) {\n    return 'highly_suspicious';\n  }\n\n  // Between 100 - 999 => suspicious\n  if (score >= 100) {\n    return 'suspicious';\n  }\n\n  // Smaller then 0 => Safe\n  if (score < 0) {\n    return 'safe';\n  }\n\n  // Between 0 and 99 => Unknown\n  return 'info';\n}\n\nexport function getValueFromPath(obj: object, path: string) {\n  const paths = path.split('.');\n  let current = obj;\n  let i;\n\n  for (i = 0; i < paths.length; ++i) {\n    if (current[paths[i]] === undefined) {\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\n\nexport function getProvider() {\n  if (window.location.pathname.indexOf(`${process.env.PUBLIC_URL}/oauth/`) !== -1) {\n    return window.location.pathname.split(`${process.env.PUBLIC_URL}/oauth/`).pop().slice(0, -1);\n  }\n  const params = new URLSearchParams(window.location.search);\n  return params.get('provider');\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  createStyles,\n  Link,\n  makeStyles,\n  Theme,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { OAuthLogin } from 'components/routes/login/oauth';\nimport { OneTimePassLogin } from 'components/routes/login/otp';\nimport { ResetPassword, ResetPasswordNow } from 'components/routes/login/reset';\nimport { SecurityTokenLogin } from 'components/routes/login/sectoken';\nimport { SignUp } from 'components/routes/login/signup';\nimport { UserPassLogin } from 'components/routes/login/userpass';\nimport TextDivider from 'components/visual/TextDivider';\nimport { getProvider } from 'helpers/utils';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype LoginScreenProps = {\n  allowUserPass: boolean;\n  allowSignup: boolean;\n  allowPWReset: boolean;\n  oAuthProviders: string[];\n};\n\nexport default function LoginScreen({ allowUserPass, allowSignup, allowPWReset, oAuthProviders }: LoginScreenProps) {\n  const location = useLocation();\n  const history = useHistory();\n  const params = new URLSearchParams(location.search);\n  const { t } = useTranslation(['login']);\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const { getBanner } = useAppLayout();\n  const provider = getProvider();\n  const [shownControls, setShownControls] = useState(\n    provider ? 'oauth' : params.get('reset_id') ? 'reset_now' : 'login'\n  );\n  const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [avatar, setAvatar] = useState('');\n  const [oAuthToken, setOAuthToken] = useState('');\n  const [oneTimePass, setOneTimePass] = useState('');\n  const [webAuthNResponse, setWebAuthNResponse] = useState(null);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const pwPadding = allowSignup ? 1 : 2;\n\n  function onSubmit(event) {\n    login(event.target[0]);\n    event.preventDefault();\n  }\n\n  function reset(event) {\n    if ((shownControls === 'oauth' && oAuthToken) || shownControls !== 'oauth') {\n      setWebAuthNResponse(null);\n      setShownControls('login');\n      setUsername('');\n      setEmail('');\n      setPassword('');\n      setAvatar('');\n      setOAuthToken('');\n      setOneTimePass('');\n    }\n    if (event) {\n      event.preventDefault();\n    }\n  }\n\n  function resetPW(event) {\n    setShownControls('reset');\n    event.preventDefault();\n  }\n\n  function signup(event) {\n    setShownControls('signup');\n    event.preventDefault();\n  }\n\n  function login(focusTarget) {\n    if (buttonLoading) {\n      return;\n    }\n\n    const data = {\n      user: username,\n      password,\n      otp: oneTimePass,\n      webauthn_auth_resp: webAuthNResponse,\n      oauth_token: oAuthToken\n    };\n\n    apiCall({\n      url: '/api/v4/auth/login/',\n      method: 'POST',\n      body: data,\n      reloadOnUnauthorize: false,\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onFailure: api_data => {\n        if (api_data.api_error_message === 'Wrong OTP token' && shownControls !== 'otp') {\n          setShownControls('otp');\n        } else if (api_data.api_error_message === 'Wrong Security Token' && shownControls === 'sectoken') {\n          setShownControls('otp');\n          showErrorMessage(t('securitytoken.error'));\n        } else if (api_data.api_error_message === 'Wrong Security Token' && shownControls !== 'sectoken') {\n          setShownControls('sectoken');\n        } else if (shownControls === 'oauth') {\n          showErrorMessage(api_data.api_error_message);\n          reset(null);\n        } else {\n          showErrorMessage(api_data.api_error_message);\n          if (focusTarget !== null) {\n            // eslint-disable-next-line no-prototype-builtins\n            if (focusTarget.hasOwnProperty('select')) {\n              focusTarget.select();\n              focusTarget.focus();\n            }\n          }\n        }\n      },\n      onSuccess: () => {\n        window.location.reload(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (webAuthNResponse !== null) {\n      login(null);\n    } else if (shownControls === 'oauth') {\n      apiCall({\n        url: `/api/v4/auth/oauth/${\n          provider && location.search.indexOf('provider=') === -1\n            ? `${location.search}&provider=${provider}`\n            : location.search\n        }`,\n        reloadOnUnauthorize: false,\n        onSuccess: api_data => {\n          setAvatar(api_data.api_response.avatar);\n          setUsername(api_data.api_response.username);\n          setEmail(api_data.api_response.email_adr || '');\n          setOAuthToken(api_data.api_response.oauth_token);\n        },\n        onFailure: api_data => {\n          showErrorMessage(api_data.api_error_message);\n          setShownControls('login');\n        },\n        onFinalize: () => {\n          if (provider) {\n            history.push(localStorage.getItem('nextLocation') || '/');\n          }\n        }\n      });\n    } else if (params.get('registration_key')) {\n      apiCall({\n        url: '/api/v4/auth/signup_validate/',\n        method: 'POST',\n        body: { registration_key: params.get('registration_key') },\n        onSuccess: () => showSuccessMessage(t('signup.completed'), 10000),\n        onFinalize: () => history.push('/')\n      });\n    }\n    // eslint-disable-next-line\n  }, [webAuthNResponse, shownControls]);\n\n  return (\n    <CardCentered>\n      <Box style={{ cursor: 'pointer' }} onClick={reset}>\n        {getBanner(theme)}\n      </Box>\n      {\n        {\n          login: (\n            <>\n              {allowUserPass ? (\n                <UserPassLogin\n                  onSubmit={onSubmit}\n                  buttonLoading={buttonLoading}\n                  setPassword={setPassword}\n                  setUsername={setUsername}\n                />\n              ) : null}\n              {allowSignup ? (\n                <Typography align=\"center\" variant=\"caption\" style={{ marginTop: theme.spacing(2) }}>\n                  {t('signup')}&nbsp;&nbsp;\n                  <Link href=\"#\" onClick={signup}>\n                    {t('signup.link')}\n                  </Link>\n                </Typography>\n              ) : null}\n              {allowPWReset ? (\n                <Typography align=\"center\" variant=\"caption\" style={{ marginTop: theme.spacing(pwPadding) }}>\n                  {t('reset.desc')}&nbsp;&nbsp;\n                  <Link href=\"#\" onClick={resetPW}>\n                    {t('reset.link')}\n                  </Link>\n                </Typography>\n              ) : null}\n              {oAuthProviders !== undefined && oAuthProviders.length !== 0 ? (\n                <>\n                  {allowUserPass ? <TextDivider /> : null}\n                  <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n                    {oAuthProviders.map((item, idx) => (\n                      <Button\n                        key={idx}\n                        style={idx !== 0 ? { marginTop: '1.5rem' } : null}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={buttonLoading}\n                        onClick={() => {\n                          const date = new Date();\n                          date.setTime(date.getTime() + 5 * 60 * 1000);\n                          document.cookie = `ui4_path=${process.env.PUBLIC_URL}; expires=${date.toUTCString()}; path=/`;\n                          localStorage.setItem(\n                            'nextLocation',\n                            `${location.pathname}${location.search}${location.hash}`\n                          );\n                        }}\n                        href={`/api/v4/auth/login/?oauth_provider=${item}`}\n                      >\n                        {`${t('button_oauth')} ${item.replace(/_/g, ' ')}`}\n                        {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                      </Button>\n                    ))}\n                  </div>\n                </>\n              ) : null}\n            </>\n          ),\n          signup: <SignUp setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          reset: <ResetPassword setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          reset_now: <ResetPasswordNow setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          oauth: (\n            <OAuthLogin\n              reset={reset}\n              oAuthToken={oAuthToken}\n              avatar={avatar}\n              username={username}\n              email={email}\n              onSubmit={onSubmit}\n              buttonLoading={buttonLoading}\n            />\n          ),\n          otp: <OneTimePassLogin onSubmit={onSubmit} buttonLoading={buttonLoading} setOneTimePass={setOneTimePass} />,\n          sectoken: (\n            <SecurityTokenLogin\n              setShownControls={setShownControls}\n              setWebAuthNResponse={setWebAuthNResponse}\n              username={username}\n            />\n          )\n        }[shownControls]\n      }\n    </CardCentered>\n  );\n}\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst NotFoundPage = () => {\n  const { t } = useTranslation(['error404']);\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), paddingBottom: theme.spacing(6) }}>\n        <img\n          alt={t('dl.alt')}\n          src={`${process.env.PUBLIC_URL}/images/dead_link.png`}\n          style={{ maxHeight: '300px', maxWidth: '90%' }}\n        />\n      </div>\n      <div>\n        <Typography variant=\"h6\">{t('dl.description')}</Typography>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  Button,\n  Card,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype APIKeysProps = {\n  user: any;\n  toggleAPIKey: (apiKey: string) => void;\n};\n\nexport default function APIKeys({ user, toggleAPIKey }: APIKeysProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedAPIKey, setSelectedAPIKey] = useState(null);\n  const [tempAPIKey, setTempAPIKey] = useState(null);\n  const [tempKeyName, setTempKeyName] = useState('');\n  const [tempKeyPriv, setTempKeyPriv] = useState('READ');\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showSuccessMessage } = useMySnackbar();\n  const regex = RegExp('^[a-zA-Z][a-zA-Z0-9_]*$');\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/auth/apikey/${selectedAPIKey}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        toggleAPIKey(selectedAPIKey);\n        setSelectedAPIKey(null);\n        showSuccessMessage(t('apikeys.removed'));\n      }\n    });\n  }\n\n  function handleCreate() {\n    apiCall({\n      url: `/api/v4/auth/apikey/${tempKeyName}/${tempKeyPriv}/`,\n      onSuccess: api_data => {\n        setTempAPIKey(api_data.api_response.apikey);\n        toggleAPIKey(tempKeyName);\n      }\n    });\n  }\n\n  function handleKeyNameChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempKeyName(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleSelectChange(event) {\n    setTempKeyPriv(event.target.value);\n  }\n\n  function handleNew() {\n    setTempAPIKey(null);\n    setTempKeyName('');\n    setTempKeyPriv('READ');\n  }\n\n  function askForDelete(securityToken) {\n    setSelectedAPIKey(securityToken);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('apikeys.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('apikeys.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {t('apikeys.list')}\n        </Typography>\n        {user.apikeys.length !== 0 ? (\n          user.apikeys.map((e, i) => (\n            <Chip key={i} label={e} onDelete={() => askForDelete(e)} style={{ marginRight: sp1, marginBottom: sp1 }} />\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('apikeys.none')}\n          </Typography>\n        )}\n      </div>\n\n      <div style={{ paddingTop: sp4 }}>\n        <TextField\n          style={{ width: '100%' }}\n          size=\"small\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('apikeys.temp_token')}\n          onChange={handleKeyNameChange}\n          value={tempKeyName}\n        />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row', width: '100%' }}>\n        <div style={{ alignSelf: 'center', flexGrow: 2 }}>\n          <Select id=\"priv\" value={tempKeyPriv} onChange={handleSelectChange} variant=\"outlined\" margin=\"dense\">\n            <MenuItem value=\"READ\">{t('apikeys.r_token')}</MenuItem>\n            <MenuItem value=\"READ_WRITE\">{t('apikeys.rw_token')}</MenuItem>\n            <MenuItem value=\"WRITE\">{t('apikeys.w_token')}</MenuItem>\n          </Select>\n        </div>\n        <div style={{ alignSelf: 'flex-end', paddingLeft: sp1 }}>\n          <Button disabled={tempKeyName === ''} onClick={() => handleCreate()} color=\"primary\" variant=\"contained\">\n            {t('apikeys.add')}\n          </Button>\n        </div>\n      </div>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={tempAPIKey !== null}\n        onClose={() => handleNew()}\n        aria-labelledby=\"new-dialog-title\"\n        aria-describedby=\"new-dialog-description\"\n      >\n        <DialogTitle id=\"new-dialog-title\">{t('apikeys.new_title')}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"new-dialog-description\" component=\"div\">\n            <div style={{ paddingTop: sp2, paddingBottom: sp4 }}>\n              <Card variant=\"outlined\" style={{ backgroundColor: theme.palette.background.default }}>\n                <div style={{ padding: sp2 }}>\n                  <Typography style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{tempAPIKey}</Typography>\n                </div>\n              </Card>\n            </div>\n          </DialogContentText>\n          <DialogContentText id=\"new-dialog-notice-title\" component=\"div\">\n            <Typography variant=\"subtitle2\" color=\"textPrimary\">\n              {t('apikeys.new_notice_title')}\n            </Typography>\n          </DialogContentText>\n          <DialogContentText id=\"new-dialog-notice-texte\" component=\"div\">\n            <Typography variant=\"body2\">{t('apikeys.new_notice_text')}</Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleNew()} color=\"primary\" autoFocus>\n            {t('done')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={selectedAPIKey !== null}\n        onClose={() => setSelectedAPIKey(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {t('apikeys.remove_title')}: {selectedAPIKey}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('apikeys.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedAPIKey(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('apikeys.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Button, Typography, useTheme } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype DisableOTPProps = {\n  setDrawerOpen: (value: boolean) => void;\n  set2FAEnabled: (value: boolean) => void;\n};\n\nexport default function DisableOTP({ setDrawerOpen, set2FAEnabled }: DisableOTPProps) {\n  const apiCall = useMyAPI();\n  const { t } = useTranslation(['user']);\n  const theme = useTheme();\n\n  function disableOTP() {\n    apiCall({\n      url: '/api/v4/auth/disable_otp/',\n      onSuccess: api_data => {\n        setDrawerOpen(false);\n        set2FAEnabled(false);\n      }\n    });\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('2fa_disable_title')}\n      </Typography>\n      <Typography>{t('2fa_disable_desc')}</Typography>\n      <div style={{ textAlign: 'end', paddingTop: theme.spacing(6) }}>\n        <Button style={{ marginRight: '8px' }} variant=\"contained\" onClick={() => setDrawerOpen(false)}>\n          {t('cancel')}\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={() => disableOTP()}>\n          {t('2fa_disable')}\n        </Button>\n      </div>\n    </>\n  );\n}\n","import { Button, TextField, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport TextDivider from 'components/visual/TextDivider';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype OTPProps = {\n  setDrawerOpen: (value: boolean) => void;\n  set2FAEnabled: (value: boolean) => void;\n};\n\nexport default function OTP({ setDrawerOpen, set2FAEnabled }: OTPProps) {\n  const apiCall = useMyAPI();\n  const [response, setResponse] = useState(null);\n  const [tempOTP, setTempOTP] = useState('');\n  const { t } = useTranslation(['user']);\n  const regex = RegExp('^[0-9]{1,6}$');\n  const theme = useTheme();\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  function handleOTPChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempOTP(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function validateOTP() {\n    apiCall({\n      url: `/api/v4/auth/validate_otp/${tempOTP}/`,\n      onSuccess: () => {\n        setDrawerOpen(false);\n        set2FAEnabled(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Load OTP setup on start\n    apiCall({\n      url: '/api/v4/auth/setup_otp/',\n      onSuccess: api_data => {\n        setResponse(api_data.api_response);\n      },\n      onFailure: () => {\n        set2FAEnabled(true);\n        setTimeout(() => {\n          setDrawerOpen(false);\n        }, 1000);\n      }\n    });\n\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('2fa_setup_title')}\n      </Typography>\n      <div style={{ textAlign: 'center' }}>\n        <Typography>{t('2fa_scan')}</Typography>\n        <div\n          style={{\n            paddingTop: sp4,\n            paddingBottom: sp4,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'center'\n          }}\n        >\n          {response ? (\n            <div\n              style={{ backgroundColor: 'white' }}\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{\n                __html: response.qrcode\n              }}\n            />\n          ) : (\n            <Skeleton variant=\"rect\" style={{ width: '195px', height: '195px' }} />\n          )}\n        </div>\n        <TextDivider forcePaper />\n        <Typography gutterBottom>{t('2fa_manual')}</Typography>\n        <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n          <Typography variant=\"caption\">{response ? response.secret_key : <Skeleton />}</Typography>\n        </div>\n        <TextField\n          disabled={response === null}\n          style={{ width: '100%' }}\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('2fa_temp_otp')}\n          onChange={handleOTPChange}\n          value={tempOTP}\n        />\n\n        <div style={{ paddingTop: sp6, textAlign: 'end' }}>\n          <Button style={{ marginRight: '8px' }} variant=\"contained\" onClick={() => setDrawerOpen(false)}>\n            {t('cancel')}\n          </Button>\n          <Button\n            disabled={response === null || tempOTP === ''}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => validateOTP()}\n          >\n            {t('validate')}\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport toArrayBuffer from 'helpers/toArrayBuffer';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst CBOR = require('helpers/cbor.js');\n\ntype SecurityTokenProps = {\n  user: any;\n  toggleToken: (token: string) => void;\n};\n\nexport default function SecurityToken({ user, toggleToken }: SecurityTokenProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedToken, setSelectedToken] = useState(null);\n  const [tempToken, setTempToken] = useState('');\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const regex = RegExp('^[a-zA-Z][a-zA-Z0-9_ ]*$');\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n\n  function handleTokenChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempToken(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/webauthn/remove/${selectedToken}/`,\n      onSuccess: () => {\n        toggleToken(selectedToken);\n        setSelectedToken(null);\n        showSuccessMessage(t('token.removed'));\n      }\n    });\n  }\n\n  function handleNew() {\n    apiCall({\n      url: '/api/v4/webauthn/register/begin/',\n      method: 'POST',\n      onSuccess: api_data => {\n        const arrayData = toArrayBuffer(api_data.api_response);\n        const options = CBOR.decode(arrayData.buffer);\n        const credentialHelper = navigator.credentials;\n        if (credentialHelper !== undefined) {\n          credentialHelper\n            .create(options)\n            .then((assertion: PublicKeyCredential) => {\n              const response = assertion.response as AuthenticatorAttestationResponse;\n              const attestationData = CBOR.encode({\n                attestationObject: new Uint8Array(response.attestationObject),\n                clientDataJSON: new Uint8Array(response.clientDataJSON)\n              });\n              apiCall({\n                url: `/api/v4/webauthn/register/complete/${tempToken}/`,\n                method: 'POST',\n                body: Array.from(new Uint8Array(attestationData)),\n                onSuccess: () => {\n                  toggleToken(tempToken);\n                  setTempToken('');\n                  showSuccessMessage(t('token.added'));\n                }\n              });\n            })\n            .catch(ex => {\n              // eslint-disable-next-line no-console\n              setTempToken('');\n              showErrorMessage(`${ex.name}: ${ex.message}`);\n            });\n        }\n      }\n    });\n  }\n\n  function askForDelete(securityToken) {\n    setSelectedToken(securityToken);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('token.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('token.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {t('token.list')}\n        </Typography>\n        {user.security_tokens.length !== 0 ? (\n          user.security_tokens.map((e, i) => (\n            <Chip key={i} label={e} onDelete={() => askForDelete(e)} style={{ marginRight: sp1, marginBottom: sp1 }} />\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('token.none')}\n          </Typography>\n        )}\n      </div>\n\n      <div style={{ width: '100%' }}>\n        <TextField\n          style={{ width: '100%' }}\n          size=\"small\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('token.temp_token')}\n          onChange={handleTokenChange}\n          value={tempToken}\n        />\n      </div>\n      <div style={{ alignSelf: 'flex-end' }}>\n        <Button disabled={tempToken === ''} onClick={() => handleNew()} color=\"primary\" variant=\"contained\">\n          {t('token.add')}\n        </Button>\n      </div>\n\n      <Dialog\n        open={selectedToken !== null}\n        onClose={() => setSelectedToken(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {t('token.remove_title')}: {selectedToken}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('token.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedToken(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('token.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Tooltip } from '@material-ui/core';\nimport Chip from '@material-ui/core/Chip';\nimport { darken, makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React, { ReactNode } from 'react';\n\nexport const ColorMap = {\n  'label-default': 'default' as 'default',\n  'label-primary': 'primary' as 'primary',\n  'label-secondary': 'secondary' as 'secondary',\n  'label-info': 'info' as 'info',\n  'label-success': 'success' as 'success',\n  'label-warning': 'warning' as 'warning',\n  'label-error': 'error' as 'error',\n  default: 'default' as 'default',\n  primary: 'primary' as 'primary',\n  secondary: 'secondary' as 'secondary',\n  info: 'info' as 'info',\n  success: 'success' as 'success',\n  warning: 'warning' as 'warning',\n  error: 'error' as 'error'\n};\nexport type PossibleColors = 'default' | 'primary' | 'secondary' | 'info' | 'success' | 'warning' | 'error';\n\nexport interface CustomChipProps {\n  className?: string;\n  type?: 'round' | 'square' | 'rounded';\n  size?: 'tiny' | 'small' | 'medium';\n  color?: PossibleColors;\n  variant?: 'default' | 'outlined';\n  mono?: boolean;\n  wrap?: boolean;\n  tooltip?: string;\n  fullWidth?: boolean;\n  children?: ReactNode;\n  [propName: string]: any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  auto_height: {\n    height: 'auto'\n  },\n  wrap: {\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word',\n    paddingTop: '2px',\n    paddingBottom: '2px'\n  },\n  square: {\n    borderRadius: '0px',\n    margin: '2px 4px 2px 0'\n  },\n  rounded: {\n    borderRadius: '3px',\n    margin: '2px 4px 2px 0'\n  },\n  fullWidth: {\n    width: '100%'\n  },\n  tiny: {\n    height: '20px',\n    fontSize: '0.725rem'\n  },\n  label_tiny: {\n    paddingLeft: '6px',\n    paddingRight: '6px'\n  },\n  mono: {\n    fontFamily: 'monospace',\n    fontSize: '1.15rem'\n  },\n  tiny_mono: {\n    fontFamily: 'monospace',\n    fontSize: '1rem'\n  },\n  // Filled\n  default: {\n    backgroundColor: theme.palette.type === 'dark' ? '#616161' : '#999',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#616161' : '#999', 0.15)\n    }\n  },\n  primary: {\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.primary.main, 0.15)\n    }\n  },\n  secondary: {\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.secondary.main, 0.15)\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.success.main, 0.15)\n    }\n  },\n  info: {\n    backgroundColor: theme.palette.type === 'dark' ? '#28abd2' : '#00baf1',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#28abd2' : '#00baf1', 0.15)\n    }\n  },\n  warning: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ed8b00' : '#ff9d12',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#ed8b00' : '#ff9d12', 0.15)\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.error.dark, 0.15)\n    }\n  },\n  // Outlined\n  success_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n  },\n  info_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light\n  },\n  warning_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n  },\n  error_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n  },\n  icon: { color: theme.palette.common.white }\n}));\n\nconst WrappedCustomChip: React.FC<CustomChipProps> = ({\n  className = null,\n  type = 'round',\n  size = 'medium',\n  color = 'default',\n  variant = 'default',\n  mono = false,\n  wrap = false,\n  tooltip = null,\n  fullWidth = false,\n  children,\n  ...otherProps\n}) => {\n  const classes = useStyles();\n\n  // Define classnames maps\n  const typeClassMap = {\n    square: classes.square,\n    rounded: classes.rounded,\n    round: null\n  };\n  const sizeLabelClassMap = {\n    tiny: classes.label_tiny,\n    small: null,\n    medium: null\n  };\n  const sizeClassMap = {\n    tiny: classes.tiny,\n    small: null,\n    medium: null\n  };\n  const colorClassMap = {\n    success: classes.success,\n    warning: classes.warning,\n    error: classes.error,\n    info: classes.info,\n    success_outlined: classes.success_outlined,\n    warning_outlined: classes.warning_outlined,\n    error_outlined: classes.error_outlined,\n    info_outlined: classes.info_outlined,\n    default: classes.default,\n    primary: classes.primary,\n    secondary: classes.secondary\n  };\n  const colorMap = {\n    primary: 'primary',\n    secondary: 'secondary'\n  };\n  const sizeMap = {\n    small: 'small',\n    medium: 'medium'\n  };\n\n  // Compute values applied to the original chip component\n  const appliedClassName = clsx(\n    mono ? (size === 'tiny' ? classes.tiny_mono : classes.mono) : null,\n    wrap ? classes.auto_height : null,\n    fullWidth ? classes.fullWidth : null,\n    typeClassMap[type],\n    sizeClassMap[size],\n    variant === 'outlined' ? colorClassMap[`${color}_outlined`] : colorClassMap[color],\n    className\n  );\n  const labelClassName = clsx(sizeLabelClassMap[size], wrap ? classes.wrap : null);\n\n  // Build chip based on computed values\n  const chip = (\n    <Chip\n      classes={{ label: labelClassName, icon: variant !== 'outlined' ? classes.icon : null }}\n      className={appliedClassName}\n      size={sizeMap[size]}\n      color={colorMap[color]}\n      variant={variant}\n      {...otherProps}\n    />\n  );\n\n  // Do we have a tooltip?\n  return tooltip ? <Tooltip title={tooltip}>{chip}</Tooltip> : chip;\n};\n\nconst CustomChip = React.memo(WrappedCustomChip);\nexport default CustomChip;\n","export type FormatProp = 'long' | 'short';\n\ntype LevelStylesheet = {\n  banner: string;\n  label: string;\n  text: string;\n  color?: string;\n};\n\ntype ClassificationLevel = {\n  aliases: string[];\n  css: LevelStylesheet;\n  description: string;\n  lvl: number;\n  name: string;\n  short_name: string;\n};\n\ntype ClassificationRequired = {\n  aliases: string[];\n  description: string;\n  name: string;\n  is_required_group?: boolean;\n  require_lvl?: number;\n  short_name: string;\n};\n\ntype ClassificationGroup = {\n  aliases: string[];\n  auto_select?: boolean;\n  description: string;\n  name: string;\n  short_name: string;\n  solitary_display_name?: string;\n};\n\ntype ClassificationSubGroup = {\n  aliases: string[];\n  auto_select?: boolean;\n  description: string;\n  limited_to_group?: string;\n  name: string;\n  require_group?: string;\n  short_name: string;\n  solitary_display_name?: string;\n};\n\ntype ClassificationYAMLDefinition = {\n  enforce: boolean;\n  groups: ClassificationGroup[];\n  levels: ClassificationLevel[];\n  required: ClassificationRequired[];\n  restricted: string;\n  subgroups: ClassificationSubGroup[];\n  unrestricted: string;\n};\n\ntype StringMap = {\n  [propName: string]: string;\n};\n\ntype StringMapArray = {\n  [propName: string]: string[];\n};\n\ntype StylesheetMap = {\n  [propName: string]: LevelStylesheet;\n};\n\ntype ParamsMap = {\n  is_required_group?: boolean;\n  solitary_display_name?: string;\n  require_group?: string;\n  limited_to_group?: string;\n};\n\nexport type ClassificationDefinition = {\n  RESTRICTED: string;\n  UNRESTRICTED: string;\n  access_req_aliases: StringMapArray;\n  access_req_map_lts: StringMap;\n  access_req_map_stl: StringMap;\n  description: StringMap;\n  enforce: boolean;\n  groups_aliases: StringMapArray;\n  groups_auto_select: string[];\n  groups_auto_select_short: string[];\n  groups_map_lts: StringMap;\n  groups_map_stl: StringMap;\n  invalid_mode: boolean;\n  levels_aliases: StringMap;\n  levels_map: StringMap;\n  levels_map_lts: StringMap;\n  levels_map_stl: StringMap;\n  levels_styles_map: StylesheetMap;\n  original_definition: ClassificationYAMLDefinition;\n  params_map: ParamsMap;\n  subgroups_aliases: StringMapArray;\n  subgroups_auto_select: string[];\n  subgroups_auto_select_short: string[];\n  subgroups_map_lts: StringMap;\n  subgroups_map_stl: StringMap;\n};\n\nexport type ClassificationParts = {\n  lvlIdx: number;\n  lvl: string;\n  req: string[];\n  groups: string[];\n  subgroups: string[];\n};\n\ntype ClassificationGroups = {\n  groups: string[];\n  subgroups: string[];\n};\n\nexport const defaultParts: ClassificationParts = {\n  lvlIdx: 0,\n  lvl: '',\n  req: [],\n  groups: [],\n  subgroups: []\n};\n\ntype DisabledControls = {\n  levels: string[];\n  groups: string[];\n};\n\nexport const defaultDisabled: DisabledControls = {\n  groups: [],\n  levels: []\n};\n\nexport function getLevelText(\n  lvl: number,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): string {\n  let text = null;\n  if (c12nDef != null) {\n    text = c12nDef.levels_map[lvl.toString()];\n  }\n\n  if (text === undefined || text == null) {\n    text = '';\n  }\n\n  if (format === 'long' && !isMobile) {\n    return c12nDef.levels_map_stl[text];\n  }\n\n  return text;\n}\n\nfunction getLevelIndex(c12n: string, c12nDef: ClassificationDefinition): number {\n  let retIndex = null;\n  const splitIdx = c12n.indexOf('//');\n  let c12nLvl = c12n;\n  if (splitIdx !== -1) {\n    c12nLvl = c12n.slice(0, splitIdx);\n  }\n\n  if (c12nDef.levels_map[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nLvl];\n  } else if (c12nDef.levels_map_lts[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nDef.levels_map_lts[c12nLvl]];\n  } else if (c12nDef.levels_aliases[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nDef.levels_aliases[c12nLvl]];\n  }\n\n  return retIndex;\n}\n\nfunction getRequired(c12n: string, c12nDef: ClassificationDefinition, format: FormatProp, isMobile: boolean): string[] {\n  const returnSet = [];\n  const partSet = c12n.split('/');\n  for (const p of partSet) {\n    if (p in c12nDef.access_req_map_lts) {\n      returnSet.push(c12nDef.access_req_map_lts[p]);\n    } else if (p in c12nDef.access_req_map_stl) {\n      returnSet.push(p);\n    } else if (p in c12nDef.access_req_aliases) {\n      for (const a of c12nDef.access_req_aliases[p]) {\n        returnSet.push(a);\n      }\n    }\n  }\n\n  if (format === 'long' && !isMobile) {\n    const out = [];\n    for (const r of returnSet) {\n      out.push(c12nDef.access_req_map_stl[r]);\n    }\n\n    return out.sort();\n  }\n\n  return returnSet.sort();\n}\n\nfunction getGroups(\n  c12n: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): ClassificationGroups {\n  const g1 = [];\n  const g2 = [];\n\n  const groupParts = c12n.split('//');\n  let groups = [];\n  for (let grpPart of groupParts) {\n    grpPart = grpPart.replace('REL TO ', '');\n    const tempGroup = grpPart.split(',');\n    for (const tg of tempGroup) {\n      groups = groups.concat(tg.trim().split('/'));\n    }\n  }\n\n  for (const g of groups) {\n    if (g in c12nDef.groups_map_lts) {\n      g1.push(c12nDef.groups_map_lts[g]);\n    } else if (g in c12nDef.groups_map_stl) {\n      g1.push(g);\n    } else if (g in c12nDef.groups_aliases) {\n      for (const a of c12nDef.groups_aliases[g]) {\n        g1.push(a);\n      }\n    } else if (g in c12nDef.subgroups_map_lts) {\n      g2.push(c12nDef.subgroups_map_lts[g]);\n    } else if (g in c12nDef.subgroups_map_stl) {\n      g2.push(g);\n    } else if (g in c12nDef.subgroups_aliases) {\n      for (const sa of c12nDef.subgroups_aliases[g]) {\n        g2.push(sa);\n      }\n    }\n  }\n\n  if (format === 'long' && !isMobile) {\n    const g1Out = [];\n    for (const gr of g1) {\n      g1Out.push(c12nDef.groups_map_stl[gr]);\n    }\n\n    const g2Out = [];\n    for (const sgr of g2) {\n      g2Out.push(c12nDef.subgroups_map_stl[sgr]);\n    }\n\n    return { groups: g1Out.sort(), subgroups: g2Out.sort() };\n  }\n\n  return { groups: g1.sort(), subgroups: g2.sort() };\n}\n\nexport function getParts(\n  c12n: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): ClassificationParts {\n  const grps = getGroups(c12n, c12nDef, format, isMobile);\n  const lvlIdx = getLevelIndex(c12n, c12nDef);\n  return {\n    lvlIdx,\n    lvl: getLevelText(lvlIdx, c12nDef, format, isMobile),\n    req: getRequired(c12n, c12nDef, format, isMobile),\n    groups: grps.groups,\n    subgroups: grps.subgroups\n  };\n}\n\nexport function normalizedClassification(\n  parts: ClassificationParts,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): string {\n  const { lvl, req, subgroups } = parts;\n  let { groups } = parts;\n\n  let out = lvl;\n\n  const reqGrp = [];\n  for (const r of req) {\n    if (c12nDef.params_map[r] !== undefined) {\n      if (c12nDef.params_map[r].is_required_group !== undefined) {\n        if (c12nDef.params_map[r].is_required_group) {\n          reqGrp.push(r);\n        }\n      }\n    }\n  }\n\n  for (const rg of reqGrp) {\n    req.splice(req.indexOf(rg), 1);\n  }\n\n  if (req.length > 0) {\n    out += `//${req.join('/')}`;\n  }\n  if (reqGrp.length > 0) {\n    out += `//${reqGrp.join('/')}`;\n  }\n\n  if (groups.length > 0) {\n    if (reqGrp.length > 0) {\n      out += '/';\n    } else {\n      out += '//';\n    }\n\n    if (groups.length === 1) {\n      const group = groups[0];\n      if (c12nDef.params_map[group] !== undefined) {\n        if (c12nDef.params_map[group].solitary_display_name !== undefined) {\n          out += c12nDef.params_map[group].solitary_display_name;\n        } else {\n          out += `REL TO ${group}`;\n        }\n      } else {\n        out += `REL TO ${group}`;\n      }\n    } else {\n      if (format === 'short' || isMobile) {\n        for (const alias in c12nDef.groups_aliases) {\n          if ({}.hasOwnProperty.call(c12nDef.groups_aliases, alias)) {\n            const values = c12nDef.groups_aliases[alias];\n            if (values.length > 1) {\n              if (JSON.stringify(values.sort()) === JSON.stringify(groups)) {\n                groups = [alias];\n              }\n            }\n          }\n        }\n      }\n      out += `REL TO ${groups.join(', ')}`;\n    }\n  }\n\n  if (subgroups.length > 0) {\n    if (groups.length > 0 || reqGrp.length > 0) {\n      out += '/';\n    } else {\n      out += '//';\n    }\n    out += subgroups.join('/');\n  }\n\n  return out;\n}\n\nfunction levelList(c12nDef: ClassificationDefinition) {\n  const out = [];\n  for (const i in c12nDef.levels_map) {\n    if (!isNaN(parseInt(i))) {\n      out.push(c12nDef.levels_map[i]);\n    }\n  }\n  return out;\n}\n\ntype ClassificationValidator = {\n  disabled: DisabledControls;\n  parts: ClassificationParts;\n};\n\nexport const defaultClassificationValidator: ClassificationValidator = {\n  disabled: defaultDisabled,\n  parts: defaultParts\n};\n\nexport function applyClassificationRules(\n  parts: ClassificationParts,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean,\n  userClassification: boolean = false\n): ClassificationValidator {\n  const requireLvl = {};\n  const limitedToGroup = {};\n  const requireGroup = {};\n  const partsToCheck = ['req', 'groups', 'subgroups'];\n  const retParts = { ...parts };\n  const disabledList = {\n    levels: [],\n    groups: []\n  };\n\n  for (const item in c12nDef.params_map) {\n    if ({}.hasOwnProperty.call(c12nDef.params_map, item)) {\n      const data = c12nDef.params_map[item];\n      if ('require_lvl' in data) {\n        requireLvl[item] = data.require_lvl;\n      }\n      if ('limited_to_group' in data) {\n        limitedToGroup[item] = data.limited_to_group;\n      }\n      if ('require_group' in data) {\n        requireGroup[item] = data.require_group;\n      }\n    }\n  }\n\n  for (const partName in partsToCheck) {\n    if ({}.hasOwnProperty.call(partsToCheck, partName)) {\n      const part = retParts[partsToCheck[partName]];\n      for (const value of part) {\n        let triggerAutoSelect = false;\n        if (value) {\n          if (value in requireLvl) {\n            if (retParts.lvlIdx < requireLvl[value]) {\n              retParts.lvlIdx = requireLvl[value];\n              retParts.lvl = getLevelText(requireLvl[value], c12nDef, format, isMobile);\n            }\n            const levels = levelList(c12nDef);\n            for (const l of levels) {\n              if (c12nDef.levels_map[l] < requireLvl[value]) {\n                disabledList.levels.push(l);\n              }\n            }\n          }\n          if (value in requireGroup) {\n            if (!retParts.groups.includes(requireGroup[value])) {\n              retParts.groups.push(requireGroup[value]);\n              for (const group of c12nDef.groups_auto_select) {\n                if (!retParts.groups.includes(group)) retParts.groups.push(group);\n              }\n            }\n          }\n          if (value in limitedToGroup) {\n            for (const g in c12nDef.groups_map_stl) {\n              if (g !== limitedToGroup[value]) {\n                disabledList.groups.push(g);\n                if (retParts.groups.includes(g)) {\n                  retParts.groups.splice(retParts.groups.indexOf(g), 1);\n                }\n              }\n            }\n          }\n          if (!userClassification && partsToCheck[partName] === 'groups') {\n            triggerAutoSelect = true;\n          }\n        }\n        if (triggerAutoSelect) {\n          for (const group of c12nDef.groups_auto_select) {\n            if (!retParts.groups.includes(group)) retParts.groups.push(group);\n          }\n        }\n      }\n    }\n  }\n\n  // Sort all lists\n  retParts.req = retParts.req.sort();\n  retParts.groups = retParts.groups.sort();\n  retParts.subgroups = retParts.subgroups.sort();\n\n  return {\n    disabled: disabledList,\n    parts: retParts\n  };\n}\n\nexport function getMaxClassification(\n  c12n_1: string,\n  c12n_2: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n) {\n  const lvlIdx = Math.max(getLevelIndex(c12n_1, c12nDef), getLevelIndex(c12n_2, c12nDef));\n  const out = {\n    lvlIdx,\n    lvl: getLevelText(lvlIdx, c12nDef, format, isMobile),\n    req: [\n      ...Array.from(\n        new Set(getRequired(c12n_1, c12nDef, format, isMobile).concat(getRequired(c12n_1, c12nDef, format, isMobile)))\n      )\n    ],\n    groups: null,\n    subgroups: null\n  };\n\n  const grps1 = getGroups(c12n_1, c12nDef, format, isMobile);\n  const grps2 = getGroups(c12n_2, c12nDef, format, isMobile);\n  if (grps1.groups.length > 0 && grps2.groups.length > 0) {\n    out.groups = grps1.groups.filter(value => grps2.groups.includes(value));\n  } else {\n    out.groups = [...Array.from(new Set(grps1.groups.concat(grps2.groups)))];\n  }\n  if (grps1.subgroups.length > 0 && grps2.subgroups.length > 0) {\n    out.subgroups = grps1.subgroups.filter(value => grps2.subgroups.includes(value));\n  } else {\n    out.subgroups = [...Array.from(new Set(grps1.subgroups.concat(grps2.subgroups)))];\n  }\n\n  return normalizedClassification(out, c12nDef, format, isMobile);\n}\n","import {\n  Button,\n  Card,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemText,\n  useMediaQuery\n} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useALContext from 'components/hooks/useALContext';\nimport CustomChip, { ColorMap, PossibleColors } from 'components/visual/CustomChip';\nimport {\n  applyClassificationRules,\n  defaultClassificationValidator,\n  defaultDisabled,\n  defaultParts,\n  FormatProp,\n  getLevelText,\n  getParts,\n  normalizedClassification\n} from 'helpers/classificationParser';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface ClassificationProps {\n  c12n: string;\n  setClassification?: (classification: string) => void;\n  size?: 'medium' | 'small' | 'tiny';\n  type?: 'picker' | 'pill' | 'outlined' | 'text';\n  format?: FormatProp;\n  inline: boolean;\n  isUser: boolean;\n  fullWidth?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  classification: {\n    fontWeight: 500\n  },\n  inlineSkel: {\n    display: 'inline-block',\n    width: '8rem',\n    verticalAlign: 'bottom'\n  },\n  // Text Color\n  default: {\n    fontWeight: 500,\n    color: theme.palette.type === 'dark' ? '#AAA' : '#888'\n  },\n  primary: {\n    fontWeight: 500,\n    color: theme.palette.primary.main\n  },\n  secondary: {\n    fontWeight: 500,\n    color: theme.palette.secondary.main\n  },\n  success: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n  },\n  info: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light\n  },\n  warning: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n  },\n  error: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n  }\n}));\n\nfunction WrappedClassification({\n  c12n,\n  format,\n  inline,\n  setClassification,\n  size,\n  type,\n  isUser,\n  fullWidth\n}: ClassificationProps) {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const { user: currentUser, c12nDef } = useALContext();\n  const isPhone = useMediaQuery(theme.breakpoints.down('xs'));\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [showPicker, setShowPicker] = useState(false);\n  const [uParts, setUserParts] = useState(defaultParts);\n  const [validated, setValidated] = useState(defaultClassificationValidator);\n  const sp2 = theme.spacing(2);\n\n  useEffect(() => {\n    if (c12nDef && c12nDef.enforce && c12n) {\n      const parts = getParts(c12n, c12nDef, format, isMobile);\n      if (type === 'picker') {\n        setUserParts(getParts(currentUser.classification, c12nDef, format, isMobile));\n        setValidated(applyClassificationRules(parts, c12nDef, format, isMobile, isUser));\n      } else {\n        setValidated({\n          disabled: defaultDisabled,\n          parts\n        });\n      }\n    }\n    // eslint-disable-next-line\n  }, [c12n, currentUser, isMobile]);\n\n  function toggleGroups(grp) {\n    const newGrp = validated.parts.groups;\n\n    if (newGrp.indexOf(grp.name) === -1 && newGrp.indexOf(grp.short_name) === -1) {\n      newGrp.push(format === 'long' && !isMobile ? grp.name : grp.short_name);\n    } else if (newGrp.indexOf(grp.name) !== -1) {\n      newGrp.splice(newGrp.indexOf(grp.name), 1);\n    } else {\n      newGrp.splice(newGrp.indexOf(grp.short_name), 1);\n    }\n\n    setValidated(applyClassificationRules({ ...validated.parts, groups: newGrp }, c12nDef, format, isMobile, isUser));\n  }\n\n  function toggleSubGroups(sgrp) {\n    const newSGrp = validated.parts.subgroups;\n\n    if (newSGrp.indexOf(sgrp.name) === -1 && newSGrp.indexOf(sgrp.short_name) === -1) {\n      newSGrp.push(format === 'long' && !isMobile ? sgrp.name : sgrp.short_name);\n    } else if (newSGrp.indexOf(sgrp.name) !== -1) {\n      newSGrp.splice(newSGrp.indexOf(sgrp.name), 1);\n    } else {\n      newSGrp.splice(newSGrp.indexOf(sgrp.short_name), 1);\n    }\n\n    setValidated(\n      applyClassificationRules({ ...validated.parts, subgroups: newSGrp }, c12nDef, format, isMobile, isUser)\n    );\n  }\n\n  function toggleRequired(req) {\n    const newReq = validated.parts.req;\n\n    if (newReq.indexOf(req.name) === -1 && newReq.indexOf(req.short_name) === -1) {\n      newReq.push(format === 'long' && !isMobile ? req.name : req.short_name);\n    } else if (newReq.indexOf(req.name) !== -1) {\n      newReq.splice(newReq.indexOf(req.name), 1);\n    } else {\n      newReq.splice(newReq.indexOf(req.short_name), 1);\n    }\n\n    setValidated(applyClassificationRules({ ...validated.parts, req: newReq }, c12nDef, format, isMobile, isUser));\n  }\n\n  function selectLevel(lvlIdx) {\n    setValidated(\n      applyClassificationRules(\n        { ...validated.parts, lvlIdx, lvl: getLevelText(lvlIdx, c12nDef, format, isMobile) },\n        c12nDef,\n        format,\n        isMobile,\n        isUser\n      )\n    );\n  }\n\n  const computeColor = (): PossibleColors => {\n    const levelStyles = c12nDef.levels_styles_map[validated.parts.lvl];\n    if (!levelStyles) {\n      return 'default' as 'default';\n    }\n    return ColorMap[levelStyles.color || levelStyles.label.replace('label-', '')] || ('default' as 'default');\n  };\n\n  const skelheight = {\n    medium: theme.spacing(4),\n    small: theme.spacing(3.5),\n    tiny: theme.spacing(3)\n  };\n\n  const useClassification = () => {\n    const newC12n = normalizedClassification(validated.parts, c12nDef, format, isMobile);\n    const originalParts = getParts(c12n, c12nDef, format, isMobile);\n    const originalC12n = normalizedClassification(originalParts, c12nDef, format, isMobile);\n    if (setClassification && newC12n !== originalC12n) {\n      setClassification(newC12n);\n    }\n    setShowPicker(false);\n  };\n  // Build chip based on computed values\n  return (\n    c12nDef &&\n    c12nDef.enforce &&\n    (c12n ? (\n      <>\n        {type === 'text' ? (\n          <span className={classes[computeColor()]}>\n            {normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n          </span>\n        ) : (\n          <div style={{ display: inline ? 'inline-block' : null }}>\n            <CustomChip\n              type=\"rounded\"\n              variant={type === 'outlined' ? 'outlined' : 'default'}\n              size={size}\n              color={computeColor()}\n              className={classes.classification}\n              label={normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n              onClick={type === 'picker' ? () => setShowPicker(true) : null}\n              fullWidth={fullWidth}\n            />\n          </div>\n        )}\n        {type === 'picker' ? (\n          <Dialog\n            fullScreen={isPhone}\n            fullWidth\n            maxWidth={isMobile ? 'xs' : 'md'}\n            open={showPicker}\n            onClose={useClassification}\n          >\n            <DialogTitle>\n              <CustomChip\n                type=\"rounded\"\n                variant=\"outlined\"\n                size={size}\n                color={computeColor()}\n                className={classes.classification}\n                label={normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n                fullWidth={fullWidth}\n              />\n            </DialogTitle>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={12} md>\n                  <Card variant=\"outlined\">\n                    <List disablePadding style={{ borderRadius: '6px' }}>\n                      {c12nDef.original_definition.levels.map((lvl, idx) => {\n                        return (\n                          (isUser || lvl.lvl <= uParts.lvlIdx) && (\n                            <ListItem\n                              key={idx}\n                              button\n                              disabled={\n                                validated.disabled.levels.includes(lvl.name) ||\n                                validated.disabled.levels.includes(lvl.short_name)\n                              }\n                              selected={validated.parts.lvlIdx === lvl.lvl}\n                              onClick={() => selectLevel(lvl.lvl)}\n                            >\n                              <ListItemText style={{ textAlign: 'center' }} primary={lvl.name} />\n                            </ListItem>\n                          )\n                        );\n                      })}\n                    </List>\n                  </Card>\n                </Grid>\n                {(isUser || uParts.req.length !== 0) && (\n                  <Grid item xs={12} md>\n                    <Card variant=\"outlined\">\n                      <List disablePadding>\n                        {c12nDef.original_definition.required.map((req, idx) => {\n                          return (\n                            (isUser || [req.name, req.short_name].some(r => uParts.req.includes(r))) && (\n                              <ListItem\n                                key={idx}\n                                button\n                                selected={\n                                  validated.parts.req.includes(req.name) || validated.parts.req.includes(req.short_name)\n                                }\n                                onClick={() => toggleRequired(req)}\n                              >\n                                <ListItemText style={{ textAlign: 'center' }} primary={req.name} />\n                              </ListItem>\n                            )\n                          );\n                        })}\n                      </List>\n                    </Card>\n                  </Grid>\n                )}\n                {(isUser || uParts.groups.length !== 0 || uParts.subgroups.length !== 0) && (\n                  <Grid item xs={12} md>\n                    {(isUser || uParts.groups.length !== 0) && (\n                      <div style={{ paddingBottom: sp2 }}>\n                        <Card variant=\"outlined\">\n                          <List disablePadding>\n                            {c12nDef.original_definition.groups.map((grp, idx) => {\n                              return (\n                                (isUser || [grp.name, grp.short_name].some(g => uParts.groups.includes(g))) && (\n                                  <ListItem\n                                    key={idx}\n                                    button\n                                    disabled={\n                                      validated.disabled.groups.includes(grp.name) ||\n                                      validated.disabled.groups.includes(grp.short_name)\n                                    }\n                                    selected={\n                                      validated.parts.groups.includes(grp.name) ||\n                                      validated.parts.groups.includes(grp.short_name)\n                                    }\n                                    onClick={() => toggleGroups(grp)}\n                                  >\n                                    <ListItemText style={{ textAlign: 'center' }} primary={grp.name} />\n                                  </ListItem>\n                                )\n                              );\n                            })}\n                          </List>\n                        </Card>\n                      </div>\n                    )}\n                    {(isUser || uParts.subgroups.length !== 0) && (\n                      <Card variant=\"outlined\">\n                        <List disablePadding>\n                          {c12nDef.original_definition.subgroups.map((sgrp, idx) => {\n                            return (\n                              (isUser || [sgrp.name, sgrp.short_name].some(sg => uParts.subgroups.includes(sg))) && (\n                                <ListItem\n                                  key={idx}\n                                  button\n                                  selected={\n                                    validated.parts.subgroups.includes(sgrp.name) ||\n                                    validated.parts.subgroups.includes(sgrp.short_name)\n                                  }\n                                  onClick={() => toggleSubGroups(sgrp)}\n                                >\n                                  <ListItemText style={{ textAlign: 'center' }} primary={sgrp.name} />\n                                </ListItem>\n                              )\n                            );\n                          })}\n                        </List>\n                      </Card>\n                    )}\n                  </Grid>\n                )}\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={useClassification} color=\"primary\" autoFocus>\n                {t('classification.done')}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        ) : null}\n      </>\n    ) : (\n      <Skeleton\n        variant={type === 'text' ? 'text' : 'rect'}\n        className={inline ? classes.inlineSkel : null}\n        height={type !== 'text' ? skelheight[size] : null}\n        style={{ borderRadius: theme.spacing(0.5) }}\n      />\n    ))\n  );\n}\n\nWrappedClassification.defaultProps = {\n  setClassification: null,\n  size: 'medium' as 'medium',\n  type: 'pill' as 'pill',\n  format: 'short' as 'short',\n  inline: false,\n  isUser: false,\n  fullWidth: true\n};\n\nconst Classification = React.memo(WrappedClassification);\nexport default Classification;\n","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport React from 'react';\n\nconst ConfirmationDialog = ({ open, handleClose, handleAccept, title, cancelText, acceptText, text = null }) => {\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      {text && (\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{text}</DialogContentText>\n        </DialogContent>\n      )}\n      <DialogActions>\n        <Button onClick={handleClose} color=\"secondary\">\n          {cancelText}\n        </Button>\n        <Button onClick={handleAccept} color=\"primary\" autoFocus>\n          {acceptText}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ConfirmationDialog;\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype APIKeysProps = {\n  user: any;\n  toggleApp: (apiKey: string) => void;\n};\n\nexport default function Apps({ user, toggleApp }: APIKeysProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedApp, setSelectedApp] = useState(null);\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/auth/obo_token/${selectedApp}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        toggleApp(selectedApp);\n        setSelectedApp(null);\n        showSuccessMessage(t('apps.removed'));\n      },\n      onFailure: api_data => {\n        setSelectedApp(null);\n        showErrorMessage(api_data.api_error_message);\n      }\n    });\n  }\n\n  function askForDelete(app) {\n    setSelectedApp(app);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('apps.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('apps.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        {user.apps && Object.keys(user.apps).length !== 0 ? (\n          Object.keys(user.apps).map(e => (\n            <Tooltip key={e} title={user.apps[e].netloc}>\n              <Chip\n                label={`${user.apps[e].server} [${user.apps[e].scope.toUpperCase()}]`}\n                onDelete={() => askForDelete(e)}\n                style={{ marginRight: sp1, marginBottom: sp1 }}\n              />\n            </Tooltip>\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('apps.none')}\n          </Typography>\n        )}\n      </div>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={selectedApp !== null}\n        onClose={() => setSelectedApp(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {`${t('apps.remove_title')}: ${\n            selectedApp &&\n            user.apps[selectedApp] &&\n            `${user.apps[selectedApp].server} [${user.apps[selectedApp].scope.toUpperCase()}]`\n          }`}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('apps.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedApp(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('apps.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import {\n  Avatar,\n  Button,\n  CircularProgress,\n  Drawer,\n  Grid,\n  IconButton,\n  isWidthDown,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n  withStyles,\n  withWidth\n} from '@material-ui/core';\nimport { red } from '@material-ui/core/colors';\nimport ChevronRightOutlinedIcon from '@material-ui/icons/ChevronRightOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport APIKeys from 'components/routes/user/api_keys';\nimport DisableOTP from 'components/routes/user/disable_otp';\nimport OTP from 'components/routes/user/otp';\nimport SecurityToken from 'components/routes/user/token';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport CustomChip from 'components/visual/CustomChip';\nimport ChipInput from 'material-ui-chip-input';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useLocation, useParams } from 'react-router-dom';\nimport Apps from './user/apps';\n\ntype UserProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n  username?: string | null;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\nconst DeleteButton = withStyles((theme: Theme) => ({\n  root: {\n    color: theme.palette.getContrastText(red[500]),\n    backgroundColor: red[500],\n    '&:hover': {\n      backgroundColor: red[700]\n    },\n    minWidth: theme.spacing(16)\n  }\n}))(Button);\n\nfunction User({ width, username }: UserProps) {\n  const { id } = useParams<ParamProps>();\n  const location = useLocation();\n  const inputRef = useRef(null);\n  const { t } = useTranslation(['user']);\n  const theme = useTheme();\n  const history = useHistory();\n  const [drawerType, setDrawerType] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [user, setUser] = useState(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, configuration } = useALContext();\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showErrorMessage, showSuccessMessage, showWarningMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    drawer: {\n      width: '500px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100vw'\n      }\n    },\n    row: {\n      height: '62px'\n    },\n    group: {\n      marginTop: '1rem'\n    },\n    skelItem: {\n      display: 'inline-block'\n    },\n    skelButton: {\n      display: 'inline-block',\n      width: '9rem',\n      height: '4rem'\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n\n  const doDeleteUser = () => {\n    apiCall({\n      url: `/api/v4/user/${username || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        history.push('/admin/users');\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const handleDeleteUser = () => {\n    setDeleteDialog(true);\n  };\n\n  function saveUser() {\n    apiCall({\n      url: `/api/v4/user/${username || id}/`,\n      method: 'POST',\n      body: user,\n      onSuccess: () => {\n        setModified(false);\n        showSuccessMessage(t('success_save'));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  function toggleToken(token) {\n    const newTokens = user.security_tokens;\n    if (newTokens.indexOf(token) === -1) {\n      newTokens.push(token);\n    } else {\n      newTokens.splice(newTokens.indexOf(token), 1);\n    }\n    setUser({ ...user, security_tokens: newTokens });\n  }\n\n  function toggleApp(app) {\n    const newApps = user.apps;\n    delete newApps[app];\n    setUser({ ...user, apps: newApps });\n  }\n\n  function toggleAPIKey(apiKey) {\n    const newKeys = user.apikeys;\n    if (newKeys.indexOf(apiKey) === -1) {\n      newKeys.push(apiKey);\n    } else {\n      newKeys.splice(newKeys.indexOf(apiKey), 1);\n    }\n    setUser({ ...user, apikeys: newKeys });\n  }\n\n  function setName(value) {\n    setModified(true);\n    setUser({ ...user, name: value });\n  }\n\n  function setGroups(value) {\n    setModified(true);\n    setUser({ ...user, groups: value });\n  }\n\n  function set2FAEnabled(value) {\n    if (value && user['2fa_enabled']) {\n      showErrorMessage(t('2fa_already_enabled'));\n    } else if (value) {\n      showSuccessMessage(t('2fa_enabled'));\n    } else {\n      showWarningMessage(t('2fa_disabled'));\n    }\n    setUser({ ...user, '2fa_enabled': value });\n  }\n\n  function setClassification(value) {\n    setModified(true);\n    setUser({ ...user, classification: value });\n  }\n\n  function setConfirmPassword(value) {\n    setModified(true);\n    setUser({ ...user, new_pass_confirm: value });\n  }\n\n  function setNewPassword(value) {\n    setModified(true);\n    setUser({ ...user, new_pass: value });\n  }\n\n  function setAPIQuota(value) {\n    setModified(true);\n    setUser({ ...user, api_quota: value });\n  }\n\n  function setSubmissionQuota(value) {\n    setModified(true);\n    setUser({ ...user, submission_quota: value });\n  }\n\n  function toggleAccountEnabled() {\n    setModified(true);\n    setUser({ ...user, is_active: !user.is_active });\n  }\n\n  function toggleDrawer(type) {\n    if (user) {\n      setDrawerType(type);\n      setDrawerOpen(true);\n    }\n  }\n\n  function toggleRole(role) {\n    const newTypes = user.type;\n    if (newTypes.indexOf(role) === -1) {\n      newTypes.push(role);\n    } else {\n      newTypes.splice(newTypes.indexOf(role), 1);\n    }\n    setModified(true);\n    setUser({ ...user, type: newTypes });\n  }\n\n  function handleAvatar(e) {\n    const reader = new FileReader();\n    const file = e.target.files[0];\n\n    if (!file) return;\n\n    reader.onload = img => {\n      setModified(true);\n      setUser({ ...user, avatar: img.target.result.toString() });\n    };\n    reader.readAsDataURL(file);\n  }\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin || !location.pathname.includes('/admin/')) {\n      apiCall({\n        url: `/api/v4/user/${username || id}/?load_avatar`,\n        onSuccess: api_data => {\n          setUser(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return !currentUser.is_admin && location.pathname.includes('/admin/') ? (\n    <Redirect to=\"/forbidden\" />\n  ) : (\n    <PageCenter margin={4} width=\"100%\">\n      <React.Fragment key=\"right\">\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n          <div style={{ alignSelf: 'flex-end' }}>\n            <IconButton onClick={() => setDrawerOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n          <div\n            style={{\n              paddingTop: sp4,\n              paddingBottom: sp6,\n              paddingLeft: sp4,\n              paddingRight: sp4,\n              display: 'flex',\n              flexDirection: 'column'\n            }}\n            className={classes.drawer}\n          >\n            {drawerType && user\n              ? {\n                  api_quota: (\n                    <>\n                      <Typography variant=\"h4\">{t('api_quota')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('api_quota_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"number\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setAPIQuota(event.target.value)}\n                        value={user.api_quota}\n                      />\n                    </>\n                  ),\n                  change_password: (\n                    <>\n                      <Typography variant=\"h4\" gutterBottom>\n                        {t('change_password')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        label={t('new_password')}\n                        onChange={event => setNewPassword(event.target.value)}\n                      />\n                      <TextField\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        label={t('confirm_password')}\n                        onChange={event => setConfirmPassword(event.target.value)}\n                      />\n                    </>\n                  ),\n                  groups: (\n                    <>\n                      <Typography variant=\"h4\">{t('groups')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('groups_edit_title')}\n                      </Typography>\n                      <ChipInput\n                        margin=\"normal\"\n                        defaultValue={user.groups}\n                        onChange={chips => setGroups(chips)}\n                        variant=\"outlined\"\n                      />\n                    </>\n                  ),\n                  name: (\n                    <>\n                      <Typography variant=\"h4\">{t('name')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('name_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setName(event.target.value)}\n                        value={user.name}\n                      />\n                    </>\n                  ),\n                  submission_quota: (\n                    <>\n                      <Typography variant=\"h4\">{t('submission_quota')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('submission_quota_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"number\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setSubmissionQuota(event.target.value)}\n                        value={user.submission_quota}\n                      />\n                    </>\n                  ),\n                  otp: <OTP setDrawerOpen={setDrawerOpen} set2FAEnabled={set2FAEnabled} />,\n                  disable_otp: <DisableOTP setDrawerOpen={setDrawerOpen} set2FAEnabled={set2FAEnabled} />,\n                  token: <SecurityToken user={user} toggleToken={toggleToken} />,\n                  api_key: <APIKeys user={user} toggleAPIKey={toggleAPIKey} />,\n                  apps: <Apps user={user} toggleApp={toggleApp} />\n                }[drawerType]\n              : null}\n          </div>\n        </Drawer>\n      </React.Fragment>\n\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={doDeleteUser}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      <Grid container spacing={2} justify=\"center\">\n        <Grid item xs={12} sm={12} md={3}>\n          <Grid container className={classes.group}>\n            {id && (\n              <Grid item xs={12}>\n                <div style={{ paddingBottom: sp4 }}>\n                  {user ? (\n                    <DeleteButton\n                      fullWidth={downSM}\n                      disabled={buttonLoading}\n                      variant=\"contained\"\n                      onClick={handleDeleteUser}\n                    >\n                      {t('remove')}\n                      {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                    </DeleteButton>\n                  ) : (\n                    <Skeleton\n                      className={classes.skelButton}\n                      style={{ minWidth: theme.spacing(16), width: downSM ? '100%' : null }}\n                    />\n                  )}\n                </div>\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              {user ? (\n                <>\n                  <input\n                    ref={inputRef}\n                    accept=\"image/*\"\n                    id=\"contained-button-file\"\n                    type=\"file\"\n                    style={{ display: 'none' }}\n                    onChange={handleAvatar}\n                  />\n                  <label htmlFor=\"contained-button-file\">\n                    <IconButton\n                      onClick={e => {\n                        inputRef.current.click();\n                      }}\n                    >\n                      <Avatar\n                        style={{\n                          width: downSM ? theme.spacing(24) : theme.spacing(16),\n                          height: downSM ? theme.spacing(24) : theme.spacing(16)\n                        }}\n                        alt={user.name}\n                        src={user.avatar}\n                      >\n                        {user.name\n                          .split(' ', 2)\n                          .map(n => (n ? n[0].toUpperCase() : ''))\n                          .join('')}\n                      </Avatar>\n                    </IconButton>\n                  </label>\n                </>\n              ) : (\n                <Skeleton\n                  className={classes.skelItem}\n                  variant=\"circle\"\n                  width={downSM ? theme.spacing(24) : theme.spacing(16)}\n                  height={downSM ? theme.spacing(24) : theme.spacing(16)}\n                />\n              )}\n              <Typography gutterBottom>{user ? user.uname : <Skeleton />}</Typography>\n            </Grid>\n            <Grid item style={{ marginTop: '2rem' }} xs={12}>\n              <div style={{ paddingBottom: id ? 0 : sp4 }}>\n                {user ? (\n                  <CustomChip\n                    fullWidth={downSM}\n                    color={user.is_active ? 'primary' : 'default'}\n                    onClick={currentUser.username !== user.uname ? toggleAccountEnabled : null}\n                    label={user.is_active ? t('enabled') : t('disabled')}\n                    type=\"rounded\"\n                    style={{ minWidth: theme.spacing(16) }}\n                  />\n                ) : (\n                  <Skeleton\n                    className={classes.skelButton}\n                    style={{ minWidth: theme.spacing(16), width: downSM ? '100%' : null }}\n                  />\n                )}\n              </div>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item sm={12} md={9} style={{ width: '100%' }}>\n          <Classification\n            type={currentUser.is_admin ? 'picker' : 'pill'}\n            size=\"medium\"\n            format=\"long\"\n            c12n={user && user.classification}\n            setClassification={setClassification}\n            isUser\n          />\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('profile')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={isWidthDown('xs', width) ? 2 : 3}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('profile')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow className={classes.row}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('uname')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('uname')}</Typography>}\n                    {user ? <div>{user.uname}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('name')}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('name')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('name')}</Typography>}\n                    {user ? <div>{user.name}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('groups')}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('groups')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('groups')}</Typography>}\n                    {user ? <div>{user.groups.join(' | ')}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                <TableRow className={classes.row}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('email')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('email')}</Typography>}\n                    {user ? <div>{user.email}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('options')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={3}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('options')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('roles')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('roles')}</Typography>}\n                    {user ? (\n                      <div>\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('user') ? 'primary' : 'default'}\n                          onClick={\n                            currentUser.username !== user.uname && currentUser.is_admin\n                              ? () => toggleRole('user')\n                              : null\n                          }\n                          label={t('normal_user')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('admin') ? 'primary' : 'default'}\n                          onClick={\n                            currentUser.username !== user.uname && currentUser.is_admin\n                              ? () => toggleRole('admin')\n                              : null\n                          }\n                          label={t('admin')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('signature_manager') ? 'primary' : 'default'}\n                          onClick={currentUser.is_admin ? () => toggleRole('signature_manager') : null}\n                          label={t('signature_manager')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('signature_importer') ? 'primary' : 'default'}\n                          onClick={currentUser.is_admin ? () => toggleRole('signature_importer') : null}\n                          label={t('signature_importer')}\n                        />\n                      </div>\n                    ) : (\n                      <Skeleton />\n                    )}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n                <TableRow\n                  hover={currentUser.is_admin}\n                  style={{ cursor: currentUser.is_admin ? 'pointer' : 'default' }}\n                  onClick={currentUser.is_admin ? event => toggleDrawer('api_quota') : null}\n                >\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('api_quota')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('api_quota')}</Typography>}\n                    {user ? <div>{user.api_quota}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">{currentUser.is_admin ? <ChevronRightOutlinedIcon /> : null}</TableCell>\n                </TableRow>\n                <TableRow\n                  hover={currentUser.is_admin}\n                  style={{ cursor: currentUser.is_admin ? 'pointer' : 'default' }}\n                  onClick={currentUser.is_admin ? event => toggleDrawer('submission_quota') : null}\n                >\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('submission_quota')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : (\n                      <Typography variant=\"caption\">{t('submission_quota')}</Typography>\n                    )}\n                    {user ? <div>{user.submission_quota}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">{currentUser.is_admin ? <ChevronRightOutlinedIcon /> : null}</TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('security')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('security')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('change_password')}>\n                  <TableCell width=\"100%\">{user ? t('change_password') : <Skeleton />}</TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                {user && currentUser.username === user.uname && configuration.auth.allow_2fa && (\n                  <TableRow\n                    hover\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => toggleDrawer(user && user['2fa_enabled'] ? 'disable_otp' : 'otp')}\n                  >\n                    <TableCell width=\"100%\">\n                      {user ? user['2fa_enabled'] ? t('2fa_off') : t('2fa_on') : <Skeleton />}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n                {user &&\n                  currentUser.username === user.uname &&\n                  user['2fa_enabled'] &&\n                  configuration.auth.allow_security_tokens && (\n                    <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('token')}>\n                      <TableCell width=\"100%\">{t('token')}</TableCell>\n                      <TableCell align=\"right\">\n                        <ChevronRightOutlinedIcon />\n                      </TableCell>\n                    </TableRow>\n                  )}\n                {user && currentUser.username === user.uname && configuration.auth.allow_apikeys && (\n                  <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('api_key')}>\n                    <TableCell width=\"100%\">{t('apikeys')}</TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n                {user && currentUser.username === user.uname && (\n                  <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('apps')}>\n                    <TableCell width=\"100%\">{t('apps')}</TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          {user && modified ? (\n            <div\n              style={{\n                paddingTop: sp1,\n                paddingBottom: sp1,\n                position: 'fixed',\n                bottom: 0,\n                left: 0,\n                width: '100%',\n                zIndex: theme.zIndex.drawer - 1,\n                backgroundColor: theme.palette.background.default,\n                boxShadow: theme.shadows[4]\n              }}\n            >\n              <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveUser}>\n                {t('save')}\n                {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n              </Button>\n            </div>\n          ) : null}\n        </Grid>\n      </Grid>\n    </PageCenter>\n  );\n}\n\nUser.defaultProps = {\n  username: null\n};\n\nexport default withWidth()(User);\n","import useUser from 'commons/components/hooks/useAppUser';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport User from 'components/routes/user';\nimport React from 'react';\n\nexport default function Account() {\n  const { user: currentUser } = useUser<CustomUser>();\n  return <User username={currentUser.username} />;\n}\n","import { Button, useTheme } from '@material-ui/core';\nimport LinkIcon from '@material-ui/icons/Link';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\ntype LinkGridProps = {\n  items: {\n    route: string;\n    icon?: React.ReactElement<any>;\n    name?: string;\n    text?: string;\n  }[];\n};\n\nexport default function LinkGrid({ items }: LinkGridProps) {\n  const theme = useTheme();\n  const color = theme.palette.action.active;\n  const padding = theme.spacing(10);\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n      {items.map((e, i) => {\n        return (\n          <Button key={i} component={Link} to={e.route}>\n            <div style={{ height: '300px', width: '300px', padding, textAlign: 'center', color }}>\n              {e.icon ? (\n                React.cloneElement(e.icon, { style: { fontSize: '8rem' } }, null)\n              ) : (\n                <LinkIcon style={{ fontSize: '8rem' }} />\n              )}\n              <span style={{ fontSize: 'medium' }}>{e.name || e.text}</span>\n            </div>\n          </Button>\n        );\n      })}\n    </div>\n  );\n}\n","import useUser from 'commons/components/hooks/useAppUser';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Admin() {\n  const layout = useMyLayout();\n  const { user: currentUser } = useUser<CustomUser>();\n\n  return currentUser.is_admin ? (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={layout.topnav.adminMenu} />\n    </PageCenter>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import { OptionsObject, useSnackbar } from 'notistack';\n\nexport default function useClipboard() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const snackBarOptions: OptionsObject = {\n    preventDuplicate: true,\n    autoHideDuration: 5000,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    onClick: _snack => {\n      closeSnackbar();\n    }\n  };\n\n  const copy = (text: string, targetId = 'root') => {\n    const el = document.createElement('textarea');\n    const target = document.getElementById(targetId) || document.body;\n    el.value = text;\n    target.appendChild(el);\n    el.focus();\n    el.select();\n    const copySuccess = document.execCommand('copy');\n    target.removeChild(el);\n    if (copySuccess) {\n      enqueueSnackbar(text, { variant: 'success', ...snackBarOptions });\n    } else {\n      enqueueSnackbar(text, { variant: 'error', ...snackBarOptions });\n    }\n  };\n \n  return { copy };\n}","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  page: {\n    width: '100%'\n  }\n}));\n\ntype PageFullWidthProps = {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n};\n\nconst PageFullWidth: React.FC<PageFullWidthProps> = ({ children, margin = null, mb = 2, ml = 2, mr = 2, mt = 2 }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  return (\n    <div className={classes.page}>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageFullWidth;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  AppBar,\n  Button,\n  ButtonProps,\n  IconButton,\n  IconButtonProps,\n  Toolbar,\n  Tooltip,\n  useTheme\n} from '@material-ui/core';\nimport useAppBarHeight from 'commons/components/hooks/useAppBarHeight';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\n\nexport type PageHeaderAction = {\n  key?: string;\n  title?: string;\n  tooltip?: string;\n  icon?: React.ReactNode;\n  color?: 'primary' | 'secondary';\n  action?: () => void;\n  btnProp?: ButtonProps | IconButtonProps;\n};\n\ntype PageHeaderProps = {\n  children?: React.ReactNode;\n  left?: React.ReactNode;\n  right?: React.ReactNode;\n  actions?: PageHeaderAction[];\n  isSticky?: boolean;\n  top?: number;\n  elevation?: number;\n  backgroundColor?: string;\n};\n\nconst PageHeader: React.FC<PageHeaderProps> = ({\n  children,\n  left,\n  right,\n  actions,\n  isSticky = false,\n  top,\n  backgroundColor = null,\n  elevation = 0\n}) => {\n  const theme = useTheme();\n  const { currentLayout, autoHideAppbar } = useAppLayout();\n  const appBarHeight = useAppBarHeight();\n\n  const barWillHide = currentLayout !== 'top' && autoHideAppbar;\n\n  return (\n    <AppBar\n      id=\"header1\"\n      position={isSticky ? 'sticky' : 'relative'}\n      style={{\n        top: top !== undefined ? top : isSticky ? (barWillHide ? 0 : appBarHeight) : null,\n        backgroundColor: backgroundColor || theme.palette.background.default,\n        zIndex: !isSticky ? theme.zIndex.appBar - 100 : null\n      }}\n      elevation={elevation}\n      color=\"inherit\"\n    >\n      {children}\n      {(left || right || actions) && (\n        <Toolbar style={{ minHeight: 0 }} disableGutters>\n          <div style={{ flexGrow: 1 }}>{left}</div>\n          <div>\n            {actions &&\n              actions.map((a, i) => {\n                let act = null;\n                if (a.title) {\n                  act = (\n                    <Button\n                      key={a.tooltip ? null : a.key ? a.key : `ph-action-${i}`}\n                      startIcon={a.icon}\n                      color={a.color}\n                      onClick={a.action}\n                      {...(a.btnProp as ButtonProps)}\n                      style={{ marginRight: theme.spacing(1) }}\n                    >\n                      {a.title}\n                    </Button>\n                  );\n                } else {\n                  act = (\n                    <IconButton\n                      key={a.tooltip ? null : a.key ? a.key : `ph-action-${i}`}\n                      color={a.color}\n                      onClick={a.action}\n                      {...(a.btnProp as IconButtonProps)}\n                      style={{ marginRight: theme.spacing(1) }}\n                    >\n                      {a.icon}\n                    </IconButton>\n                  );\n                }\n                return a.tooltip ? (\n                  <Tooltip key={a.key ? a.key : `ph-action-${i}`} title={a.tooltip}>\n                    {act}\n                  </Tooltip>\n                ) : (\n                  act\n                );\n              })}\n          </div>\n          <div>{right}</div>\n        </Toolbar>\n      )}\n    </AppBar>\n  );\n};\n\nexport default PageHeader;\n","import { Drawer, IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport React, { useMemo, useState } from 'react';\n\nconst XLWidth = '45vw';\nconst LGWidth = '85%';\nconst MDWidth = '85%';\nconst SMWidth = '100%';\n\nconst useStyles = makeStyles(theme => ({\n  appMain: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    position: 'relative',\n    overflowX: 'hidden'\n  },\n  appContent: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    flex: 1,\n    height: '100%',\n    overflowX: 'hidden'\n  },\n  appRightDrawer: {\n    '@media print': {\n      display: 'none'\n    },\n    transition: 'width 225ms cubic-bezier(0, 0, 0.2, 1) 0ms'\n  },\n  paper: {\n    [theme.breakpoints.only('xl')]: {\n      width: XLWidth\n    },\n    [theme.breakpoints.only('lg')]: {\n      width: LGWidth\n    },\n    [theme.breakpoints.only('md')]: {\n      width: MDWidth\n    },\n    [theme.breakpoints.down('sm')]: {\n      width: SMWidth\n    }\n  }\n}));\n\nexport type DrawerContextProps = {\n  closeGlobalDrawer: () => void;\n  setGlobalDrawer: (elements: React.ReactElement<any>) => void;\n  globalDrawer: React.ReactElement<any>;\n};\n\nexport interface DrawerProviderProps {\n  children: React.ReactNode;\n}\n\nexport const DrawerContext = React.createContext<DrawerContextProps>(null);\n\nfunction DrawerProvider(props: DrawerProviderProps) {\n  const { children } = props;\n  const [globalDrawer, setGlobalDrawer] = useState(null);\n  const theme = useTheme();\n  const classes = useStyles();\n  const isMD = useMediaQuery(theme.breakpoints.only('md'));\n  const isLG = useMediaQuery(theme.breakpoints.only('lg'));\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n\n  const drawerWidth = isXL ? XLWidth : isLG ? LGWidth : isMD ? MDWidth : SMWidth;\n  const closeGlobalDrawer = () => {\n    setGlobalDrawer(null);\n  };\n\n  return (\n    <DrawerContext.Provider\n      value={{\n        closeGlobalDrawer,\n        setGlobalDrawer,\n        globalDrawer\n      }}\n    >\n      <div className={classes.appMain}>\n        {useMemo(\n          () => (\n            <div className={classes.appContent}>{children}</div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [children]\n        )}\n        <Drawer\n          open={globalDrawer !== null}\n          className={classes.appRightDrawer}\n          style={{\n            width: globalDrawer ? drawerWidth : 0,\n            zIndex: theme.zIndex.drawer + 100\n          }}\n          classes={{ paper: classes.paper }}\n          anchor=\"right\"\n          variant={isXL ? 'persistent' : 'temporary'}\n          onClose={closeGlobalDrawer}\n        >\n          {useMemo(\n            () => (\n              <>\n                <div\n                  id=\"drawerTop\"\n                  style={{\n                    backgroundColor: theme.palette.background.paper,\n                    padding: theme.spacing(1),\n                    position: 'sticky',\n                    top: 0,\n                    zIndex: 1\n                  }}\n                >\n                  <IconButton onClick={closeGlobalDrawer}>\n                    <CloseOutlinedIcon />\n                  </IconButton>\n                </div>\n                <div\n                  style={{\n                    paddingLeft: theme.spacing(2),\n                    paddingRight: theme.spacing(2)\n                  }}\n                >\n                  {globalDrawer}\n                </div>\n              </>\n            ),\n            [globalDrawer, theme]\n          )}\n        </Drawer>\n      </div>\n    </DrawerContext.Provider>\n  );\n}\n\nexport default DrawerProvider;\n","import { DrawerContext, DrawerContextProps } from 'components/visual/DrawerProvider';\nimport { useContext } from 'react';\n\nexport default function useDrawer(): DrawerContextProps {\n  return useContext(DrawerContext) as DrawerContextProps;\n}\n","/* eslint-disable no-param-reassign */\nimport browser from 'browser-detect';\n\nexport function insertText(input, from, to, text) {\n  const browserName = browser().name;\n  // execCommand doesn't work in FF.\n  input.focus();\n  if (browserName === 'firefox') {\n    _insertTextFF(input, from, to, text);\n  } else {\n    _insertText(input, from, to, text);\n  }\n}\n\nfunction _insertText(input, from, to, text) {\n  // const thisCursor = input.selectionStart;\n  // const nextCursor = thisCursor + text.length;\n  input.setSelectionRange(from, to);\n  document.execCommand('insertText', false, text);\n}\n\nfunction _insertTextFF(input, from, to, text) {\n  // UNDO is broken in FF.\n  const oldText = input.value;\n  const prefix = oldText.substring(0, from);\n  const suffix = oldText.substring(to);\n  const newText = `${prefix}${text}${suffix}`;\n  input.value = newText;\n}\n","export const ENTER = 'Enter';\nexport const ESCAPE = 'Escape';\nexport const ARROW_LEFT = 'ArrowLeft';\nexport const ARROW_UP = 'ArrowUp';\nexport const ARROW_RIGHT = 'ArrowRight';\nexport const ARROW_DOWN = 'ArrowDown';\n\nexport function is(key: string, check: string) {\n  return key === check;\n}\n\nexport function isArrowUp(key: string) {\n  return is(key, ARROW_UP);\n}\n\nexport function isArrowDown(key: string) {\n  return is(key, ARROW_DOWN);\n}\n\nexport function isArrowLeft(key: string) {\n  return is(key, ARROW_LEFT);\n}\n\nexport function isArrowRight(key: string) {\n  return is(key, ARROW_RIGHT);\n}\n\nexport function isEscape(key: string) {\n  return is(key, ESCAPE);\n}\n\nexport function isEnter(key: string) {\n  return is(key, ENTER);\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { Box, makeStyles, TextField, useMediaQuery, useTheme } from '@material-ui/core';\nimport { insertText } from 'commons/addons/elements/utils/browser';\nimport {\n  isArrowDown,\n  isArrowLeft,\n  isArrowRight,\n  isArrowUp,\n  isEnter,\n  isEscape\n} from 'commons/addons/elements/utils/keyboard';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const DEFAULT_SUGGESTION = ['OR', 'AND', 'NOT', 'TO', 'now', 'd', 'M', 'y', 'h', 'm'];\n\nconst useStyles = makeStyles(theme => ({\n  searchTextFieldOptionsCt: {\n    textAlign: 'left',\n    position: 'relative',\n    height: 0,\n    outline: 'none',\n    borderRadius: '0 0 4px 4px'\n  },\n  searchTextFieldOptionsInner: {\n    display: 'inline-block',\n    position: 'absolute',\n    overflow: 'auto',\n    zIndex: 1,\n    top: theme.spacing(1),\n    minWidth: '100%',\n    maxHeight: 250,\n    backgroundColor: theme.palette.background.default,\n    boxShadow: theme.shadows[4],\n    borderRadius: '0 0 4px 4px'\n  },\n  searchTextFieldItem: {\n    padding: theme.spacing(1),\n    '&:hover': {\n      cursor: 'pointer',\n      backgroundColor: theme.palette.action.hover\n    },\n    '&[data-searchtextfieldoption-selected=\"true\"]': {\n      backgroundColor: theme.palette.action.selected\n    }\n  }\n}));\n\ninterface SearchTextFieldProps {\n  value: string;\n  options: string[];\n  placeholder?: string;\n  disabled?: boolean;\n  onChange: (value: string) => void;\n  onClear: () => void;\n  onSearch: (query: string) => void;\n  onSelection?: (selected: string) => void;\n}\n\nconst SearchTextField: React.FC<SearchTextFieldProps> = ({\n  value,\n  options,\n  placeholder = null,\n  disabled = false,\n  onSearch,\n  onChange,\n  onSelection,\n  onClear\n}) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [cursor, setCursor] = useState<number>(-1);\n  const [filteredOptions, setFilteredOptions] = useState<{ start: number; end: number; items: string[] }>({\n    start: 0,\n    end: 0,\n    items: options\n  });\n  const { t } = useTranslation();\n  const [open, setOpen] = useState<boolean>(false);\n  const element = useRef<HTMLDivElement>();\n  const optionsElement = useRef<HTMLDivElement>();\n  const isLTEMedium = useMediaQuery(theme.breakpoints.up('md'));\n\n  // Ensure we update options if a new list is provided.\n  useEffect(() => setFilteredOptions({ start: 0, end: 0, items: options }), [options]);\n\n  // Get the the text input element.\n  const getInputEl = () => {\n    return element.current.querySelector('input');\n  };\n\n  // Automatically close the options box with losing focus.\n  const _onBlur = () => {\n    // setOpen(false);\n  };\n\n  // Handler for when the value of the text input changes.\n  const _onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value: _value } = event.currentTarget;\n    onChange(_value);\n    filterOptions(_value);\n  };\n\n  // Handler for KeyDown event on either the text input of the options menu.\n  const _onKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n    const { key: keyCode } = event;\n\n    if (isEnter(keyCode)) {\n      // key[ENTER ]: handler\n      if (open && cursor !== -1) {\n        onOptionSelection(filteredOptions.start, filteredOptions.end, filteredOptions.items[cursor]);\n      } else {\n        onSearch(value);\n        if (open) onOptionsClose();\n      }\n    } else if (isEscape(keyCode)) {\n      // key[ESCAPE]: handler\n      if (open) {\n        onOptionsClose();\n      } else {\n        onClear();\n      }\n    } else if (isArrowUp(keyCode)) {\n      // key[ARROW_UP]: handler\n      event.preventDefault();\n      if (open) {\n        const nextIndex = cursor - 1 > -1 ? cursor - 1 : filteredOptions.items.length - 1;\n        setCursor(nextIndex);\n        scrollTo(nextIndex);\n      }\n    } else if (isArrowDown(keyCode)) {\n      // key[ARROW_DOWN]: handler\n      event.preventDefault();\n      if (open) {\n        const nextIndex = cursor + 1 < filteredOptions.items.length ? cursor + 1 : 0;\n        setCursor(nextIndex);\n        scrollTo(nextIndex);\n      } else {\n        onOptionsOpen();\n      }\n    } else if (isArrowLeft(keyCode)) {\n      // key[ARROW_LEFT]: handler\n      filterOptions(value, -1);\n    } else if (isArrowRight(keyCode)) {\n      // key[ARROW_RIGHT]: handler\n      filterOptions(value, 1);\n    } else if (!open) {\n      onOptionsOpen();\n    }\n  };\n\n  // Handler for when the options box opens.\n  const onOptionsOpen = () => {\n    setOpen(true);\n  };\n\n  // Handler for when the options box closes.\n  const onOptionsClose = () => {\n    setOpen(false);\n    setCursor(-1);\n    getInputEl().focus();\n  };\n\n  // Handler for when an option is selected.\n  const onOptionSelection = (startIndex: number, endIndex: number, option: string) => {\n    if (option) {\n      const inputEl = getInputEl();\n      insertText(inputEl, startIndex, endIndex + 1, `${option}${DEFAULT_SUGGESTION.indexOf(option) === -1 ? ':' : ''}`);\n      onOptionsClose();\n      onChange(inputEl.value);\n      if (onSelection) {\n        onSelection(option);\n      }\n    }\n  };\n\n  // Scroll options element to the element at specified position.\n  const scrollTo = (position: number) => {\n    const _target = optionsElement.current.querySelector(`[data-searchtextfieldoption-position=\"${position}\"`);\n    if (_target) {\n      _target.scrollIntoView({ block: 'nearest' });\n    }\n  };\n\n  // Filter the options.\n  // Split filter value by single space.\n  // Grab nearest group to the left of cursor.\n  // Filter entire list with that value if not empty.\n  const filterOptions = (inputValue: string, selectionOffset = 0) => {\n    //\n    const {\n      value: filterValue,\n      cursor: thisCursor,\n      startIndex: insertStartIndex,\n      endIndex: insertEndIndex\n    } = parseFilter(inputValue, selectionOffset);\n\n    // Filter options.\n    const _options =\n      filterValue.length > 0\n        ? options.filter(option => option.toLowerCase().includes(filterValue.toLowerCase()))\n        : options;\n\n    // If filtered options is empty, then we return all options..\n    setFilteredOptions({\n      start: insertStartIndex > -1 ? insertStartIndex : thisCursor,\n      end: insertEndIndex > -1 ? insertEndIndex : thisCursor,\n      items: _options\n    });\n\n    // Update state of content assist opptions if no options are avaiable.\n    if (_options.length === 0) {\n      setOpen(false);\n    }\n  };\n\n  const parseFilter = (\n    inputValue: string,\n    offset = 0\n  ): { value: string; cursor: number; startIndex: number; endIndex: number } => {\n    // With left/right arrow keys, the cursor isn't yet updated to new position\n    //  when the event is received, therefore we use offset.\n    //  +1 for right arrow, -1 for left arrow.\n    const thisCursor = getInputEl().selectionStart + offset;\n\n    // We'll split the inptu text in two parts, before and after cursor.\n    const _precursor = inputValue.substr(0, thisCursor);\n    const _postcursor = inputValue.substr(thisCursor);\n\n    // Intialize the start and end indexes of filter value.\n    let filterStartIndex = -1;\n    let filterEndIndex = -1;\n\n    // Grab the last substring of text from precursor.\n    const _preParts = _precursor.split(' ');\n    const _prePartsLast = _preParts[_preParts.length - 1];\n\n    // Grab the first substring of text from postcursor.\n    const _postParts = _postcursor.split(' ');\n    const _postPartsFirst = _postParts[0];\n\n    // If what preceeds the cursor isn't an empty string, we compute the new start position of filterValue.\n    if (_prePartsLast !== '') {\n      filterStartIndex = thisCursor - _prePartsLast.length;\n    }\n\n    // If what fallows the cursor isn't an empty string, we compute the new end position of filterValue.\n    if (_postPartsFirst !== '') {\n      filterEndIndex = thisCursor + _postPartsFirst.length - 1;\n    } else {\n      // Ensure that if we have a what preceed cursor isn't empty, to set end position to cursor.\n      filterEndIndex = filterStartIndex > -1 ? thisCursor - 1 : -1;\n    }\n\n    // If the preceeding part of cursor is empty but not the folowing part, then set start position to cursor.\n    if (filterStartIndex === -1 && filterEndIndex > -1) {\n      filterStartIndex = thisCursor;\n    }\n\n    // Give it back.\n    return {\n      value: _prePartsLast,\n      cursor: thisCursor,\n      startIndex: filterStartIndex,\n      endIndex: filterEndIndex\n    };\n  };\n\n  return (\n    <div ref={element}>\n      <TextField\n        placeholder={placeholder || t('filter')}\n        value={value}\n        color=\"secondary\"\n        InputProps={{ disableUnderline: true }}\n        disabled={disabled}\n        onChange={_onChange}\n        onKeyDown={_onKeyDown}\n        onBlur={_onBlur}\n        autoFocus\n        fullWidth\n      />\n      {open && isLTEMedium ? (\n        <div ref={optionsElement} className={classes.searchTextFieldOptionsCt}>\n          <div className={classes.searchTextFieldOptionsInner}>\n            {filteredOptions.items.map((item, index) => (\n              <SearchTextOption\n                key={`SearchTextField-item-${index}`}\n                text={item}\n                position={index}\n                onSelection={() => onOptionSelection(filteredOptions.start, filteredOptions.end, item)}\n                selected={index === cursor}\n              />\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nconst SearchTextOption: React.FC<{\n  text: string;\n  position: number;\n  selected: boolean;\n  onSelection: () => void;\n}> = ({ text, position, selected = false, onSelection }) => {\n  const classes = useStyles();\n  return (\n    <Box\n      className={classes.searchTextFieldItem}\n      data-searchtextfieldoption-position={position}\n      data-searchtextfieldoption-selected={selected}\n      onClick={() => onSelection()}\n    >\n      {text}\n    </Box>\n  );\n};\n\nexport default SearchTextField;\n","import {\n  Box,\n  Divider,\n  fade,\n  IconButton,\n  IconButtonProps,\n  LinearProgress,\n  makeStyles,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport BackspaceIcon from '@material-ui/icons/Backspace';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport SearchTextField from './search-textfield';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& button': {\n      marginRight: theme.spacing(1)\n    }\n  },\n  searchbar: {\n    borderRadius: '4px',\n    paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(0.5),\n    backgroundColor: fade(theme.palette.text.primary, 0.04),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.text.primary, 0.06)\n    },\n    '& input': {\n      color: theme.palette.text.secondary\n    }\n  },\n  searchresult: {\n    color: theme.palette.primary.light,\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  }\n}));\n\nexport interface SearchBarButton {\n  icon: React.ReactNode;\n  props: IconButtonProps;\n  tooltip?: string;\n}\n\ninterface SearchBarProps {\n  initValue: string;\n  placeholder?: string;\n  searching?: boolean;\n  buttons?: SearchBarButton[];\n  extras?: React.ReactNode;\n  suggestions?: string[];\n  onValueChange?: (filterValue: string) => void;\n  onSearch: (filterValue: string, inputElement: HTMLInputElement) => void;\n  onClear: (inputElement: HTMLInputElement) => void;\n}\n\nconst SearchBar: React.FC<SearchBarProps> = ({\n  initValue,\n  children,\n  placeholder,\n  searching = false,\n  suggestions = [],\n  buttons = [],\n  extras,\n  onValueChange,\n  onSearch,\n  onClear\n}) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const classes = useStyles();\n  const element = useRef<HTMLInputElement>();\n  const [value, setValue] = useState<string>(initValue);\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n\n  //\n  const getInputEl = () => {\n    return element.current.querySelector('input');\n  };\n\n  // handler[onchange]: textfield change handler.\n  // track value of filter..\n  const _onValueChange = (_value: string) => {\n    setValue(_value);\n    onValueChange(_value);\n  };\n\n  // When clearing the filter value.\n  const _onValueClear = () => {\n    // textFieldEl.current.querySelector('input').focus();\n    setValue('');\n    onClear(getInputEl());\n  };\n\n  // When requesting a search.\n  const _onSearch = () => {\n    onSearch(value, getInputEl());\n  };\n\n  //\n  useEffect(() => {\n    setValue(initValue);\n  }, [initValue]);\n\n  return (\n    <div ref={element} className={classes.root}>\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        className={classes.searchbar}\n        alignItems=\"center\"\n        style={{ paddingRight: !extras ? theme.spacing(0.5) : null }}\n      >\n        <Box flex={1} display=\"relative\">\n          <SearchTextField\n            value={value}\n            placeholder={placeholder}\n            options={suggestions}\n            disabled={searching}\n            onChange={_onValueChange}\n            onSearch={_onSearch}\n            onClear={_onValueClear}\n          />\n        </Box>\n        <IconButton\n          onClick={_onValueClear}\n          edge=\"end\"\n          size={!upMD ? 'small' : null}\n          style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n        >\n          <Tooltip title={t('clear_filter')}>\n            <BackspaceIcon fontSize={!upMD ? 'small' : 'default'} />\n          </Tooltip>\n        </IconButton>\n        {buttons.length !== 0 && (\n          <Divider\n            orientation=\"vertical\"\n            flexItem\n            style={{ marginLeft: theme.spacing(upMD ? 0 : 0.5), marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n          />\n        )}\n        {buttons.map((b, i) => {\n          return b.tooltip ? (\n            <Tooltip key={`searchbar-button-${i}`} title={b.tooltip}>\n              <IconButton\n                {...b.props}\n                edge=\"end\"\n                size={!upMD ? 'small' : null}\n                style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n              >\n                {b.icon}\n              </IconButton>\n            </Tooltip>\n          ) : (\n            <IconButton\n              key={`searchbar-button-${i}`}\n              {...b.props}\n              edge=\"end\"\n              size={!upMD ? 'small' : null}\n              style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n            >\n              {b.icon}\n            </IconButton>\n          );\n        })}\n        {extras}\n      </Box>\n      {searching && (\n        <LinearProgress\n          style={{\n            position: 'absolute',\n            height: theme.spacing(upMD ? 0.5 : 0.25),\n            marginTop: theme.spacing(upMD ? -0.5 : -0.25),\n            width: '100%',\n            borderRadius: '0 0 4px 4px'\n          }}\n        />\n      )}\n      <div className={classes.searchresult}>{children}</div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","export default class SimpleSearchQuery {\n  private params: URLSearchParams = null;\n\n  private defaultParams: URLSearchParams = null;\n\n  constructor(baseSearch: string, defaults: string = 'rows=25&offset=0') {\n    this.params = new URLSearchParams(baseSearch);\n    this.defaultParams = new URLSearchParams(defaults);\n  }\n\n  public getDefaultString() {\n    return this.defaultParams.toString();\n  }\n\n  public getDeltaString() {\n    const deltaParams = new URLSearchParams();\n    this.params.forEach((value, key) => {\n      if (this.defaultParams.get(key) !== value) {\n        deltaParams.append(key, value);\n      }\n    });\n    return deltaParams.toString();\n  }\n\n  public getParams() {\n    const output = {};\n    this.defaultParams.forEach((value, key) => {\n      if (!(key in output) && !this.params.has(key)) {\n        if (key !== 'fq') {\n          output[key] = value;\n        } else {\n          output[key] = [value];\n        }\n      } else if (key === 'fq') {\n        output[key].push(value);\n      }\n    });\n\n    this.params.forEach((value, key) => {\n      if (!(key in output)) {\n        if (key !== 'fq') {\n          output[key] = value;\n        } else {\n          output[key] = [value];\n        }\n      } else if (key === 'fq') {\n        output[key].push(value);\n      }\n    });\n    return output;\n  }\n\n  public get(key: string, defaultVal = null) {\n    return this.params.get(key) || defaultVal;\n  }\n\n  public set(key: string, value) {\n    this.params.set(key, value);\n  }\n\n  public getAll(key: string, defaultVal = null) {\n    return this.params.getAll(key) || defaultVal;\n  }\n\n  public delete(key: string) {\n    this.params.delete(key);\n  }\n\n  public has(key: string): boolean {\n    return this.params.has(key);\n  }\n\n  public toString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('group_by');\n    return params.toString();\n  }\n}\n","import { Pagination } from '@material-ui/lab';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport React from 'react';\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport interface SearchPagerProps {\n  total: number;\n  pageSize: number;\n  index: string;\n  method?: 'POST' | 'GET';\n  query: SimpleSearchQuery;\n  setResults: (data: SearchResults) => void;\n  scrollToTop?: boolean;\n  size?: 'small' | 'large' | null;\n  setSearching?: (value: boolean) => void | null;\n  url?: string;\n  [propName: string]: any;\n}\n\nconst WrappedSearchPager: React.FC<SearchPagerProps> = ({\n  total,\n  pageSize,\n  index,\n  method = 'POST',\n  query,\n  setResults,\n  scrollToTop = true,\n  size = 'small',\n  setSearching = null,\n  url = null,\n  children,\n  ...otherProps\n}) => {\n  const apiCall = useMyAPI();\n  const count = Math.ceil(total / pageSize);\n\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\n    if (setSearching) {\n      setSearching(true);\n    }\n    const pageQuery = new SimpleSearchQuery(query.toString(), query.getDefaultString());\n    pageQuery.set('rows', pageSize);\n    pageQuery.set('offset', (value - 1) * pageSize);\n\n    apiCall({\n      method,\n      url: `${url || `/api/v4/search/${index}/`}${method === 'GET' ? `?${pageQuery.toString()}` : ''}`,\n      body: method === 'POST' ? pageQuery.getParams() : null,\n      onSuccess: api_data => {\n        setResults(api_data.api_response);\n        if (scrollToTop) {\n          window.scrollTo(0, 0);\n        }\n      },\n      onFinalize: () => {\n        if (setSearching) {\n          setSearching(false);\n        }\n      }\n    });\n  };\n\n  return count > 1 ? (\n    <Pagination {...otherProps} count={count} onChange={handleChange} shape=\"rounded\" size={size} />\n  ) : null;\n};\n\nconst SearchPager = React.memo(WrappedSearchPager);\nexport default SearchPager;\n","import {\n  createStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Theme,\n  withStyles\n} from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: '8px',\n      paddingLeft: '8px'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\ntype CellProps = {\n  children?: React.ReactNode;\n  [key: string]: any;\n};\n\nexport const DivTableCell = ({ children, ...other }: CellProps) => {\n  return (\n    <StyledTableCell {...other} component=\"div\">\n      {children}\n    </StyledTableCell>\n  );\n};\n\nDivTableCell.defaultProps = {\n  children: null\n};\n\nexport const SortableHeaderCell = ({ children, sortField, allowSort = true, ...other }) => {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const curSort = searchParams.get('sort');\n  const history = useHistory();\n  const active = curSort && curSort.indexOf(sortField) !== -1;\n  const dir = active && curSort.indexOf('asc') !== -1 ? 'asc' : 'desc';\n\n  const triggerSort = () => {\n    if (curSort && curSort.indexOf(sortField) !== -1 && curSort.indexOf('asc') === -1) {\n      searchParams.set('sort', `${sortField} asc`);\n    } else {\n      searchParams.set('sort', `${sortField} desc`);\n    }\n    history.push(`${location.pathname}?${searchParams.toString()}`);\n  };\n  return (\n    <StyledTableCell {...other} component=\"div\">\n      {allowSort ? (\n        <TableSortLabel active={active} direction={dir} onClick={triggerSort}>\n          {children}\n        </TableSortLabel>\n      ) : (\n        children\n      )}\n    </StyledTableCell>\n  );\n};\n\nexport const LinkRow = ({ children, to, ...other }) => {\n  return (\n    <TableRow component={Link} {...other} to={to} style={{ cursor: 'pointer', textDecoration: 'none' }}>\n      {children}\n    </TableRow>\n  );\n};\n\nexport const DivTableRow = ({ children, ...other }) => {\n  return (\n    <TableRow {...other} component=\"div\">\n      {children}\n    </TableRow>\n  );\n};\n\nexport const DivTableHead = ({ children, ...other }) => {\n  return (\n    <TableHead {...other} component=\"div\">\n      {children}\n    </TableHead>\n  );\n};\n\nexport const DivTableBody = ({ children, ...other }) => {\n  return (\n    <TableBody {...other} component=\"div\">\n      {children}\n    </TableBody>\n  );\n};\n\nexport const DivTable = ({ children, size = 'small' as 'small', ...other }) => {\n  return (\n    <Table size={size} {...other} component=\"div\">\n      {children}\n    </Table>\n  );\n};\n","import { createStyles, fade, Theme, withStyles } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React from 'react';\n\nconst StyledAlert = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginbottom: theme.spacing(2),\n      marginTop: theme.spacing(4),\n      color: theme.palette.text.secondary,\n      backgroundColor: fade(theme.palette.text.primary, 0.04)\n    },\n    icon: {\n      color: `${theme.palette.text.secondary} !important`\n    },\n    message: {\n      width: '100%',\n      textAlign: 'left'\n    }\n  })\n)(Alert);\n\nconst InformativeAlert = ({ children, ...props }) => {\n  return (\n    <StyledAlert {...props} severity=\"info\">\n      {children}\n    </StyledAlert>\n  );\n};\n\nexport default InformativeAlert;\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport PanToolOutlinedIcon from '@material-ui/icons/PanToolOutlined';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  SortableHeaderCell\n} from 'components/visual/DivTable';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ErrorResult = {\n  created: string;\n  id: string;\n  response: {\n    message: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    status: string;\n  };\n  sha256: string;\n  type: string;\n};\n\ntype SearchResults = {\n  items: ErrorResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype ErrorsTableProps = {\n  errorResults: SearchResults;\n  onClick: (error: ErrorResult) => void;\n};\n\nconst WrappedErrorsTable: React.FC<ErrorsTableProps> = ({ errorResults, onClick }) => {\n  const { t, i18n } = useTranslation(['adminErrorViewer']);\n  const theme = useTheme();\n\n  const errorMap = {\n    'MAX DEPTH REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX RETRY REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    EXCEPTION: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'TASK PRE-EMPTED': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE DOWN': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE BUSY': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX FILES REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    UNKNOWN: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />\n  };\n\n  return errorResults ? (\n    errorResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable size=\"small\">\n          <DivTableHead>\n            <DivTableRow style={{ whiteSpace: 'nowrap' }}>\n              <SortableHeaderCell sortField=\"created\">{t('header.time')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"response.service_name\">{t('header.service')}</SortableHeaderCell>\n              <DivTableCell>{t('header.message')}</DivTableCell>\n              <SortableHeaderCell sortField=\"type\">{t('header.type')}</SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {errorResults.items.map(error => (\n              <DivTableRow key={error.id} hover onClick={() => onClick(error)} style={{ cursor: 'pointer' }}>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  <Tooltip title={error.created}>\n                    <Moment fromNow locale={i18n.language}>\n                      {error.created}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{error.response.service_name}</DivTableCell>\n                <DivTableCell>{error.response.message}</DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  <Tooltip title={t(`type.${error.type}`)}>\n                    <span>{errorMap[error.type]}</span>\n                  </Tooltip>\n                </DivTableCell>\n              </DivTableRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_errors_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ErrorsTable = React.memo(WrappedErrorsTable);\nexport default ErrorsTable;\n","import { Card, Grid, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport PanToolOutlinedIcon from '@material-ui/icons/PanToolOutlined';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport useClipboard from 'commons/components/hooks/useClipboard';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport ErrorsTable from 'components/visual/SearchResult/errors';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BsClipboard } from 'react-icons/bs';\nimport Moment from 'react-moment';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  clipboardIcon: {\n    marginLeft: theme.spacing(1),\n    '&:hover': {\n      cursor: 'pointer',\n      transform: 'scale(1.1)'\n    }\n  }\n}));\n\nfunction ErrorDetail({ error }) {\n  const { t, i18n } = useTranslation(['adminErrorViewer']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const { copy } = useClipboard();\n\n  const errorMap = {\n    'MAX DEPTH REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX RETRY REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    EXCEPTION: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'TASK PRE-EMPTED': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE DOWN': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE BUSY': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX FILES REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    UNKNOWN: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />\n  };\n\n  return (\n    <div style={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n      <Grid container spacing={1} style={{ paddingBottom: theme.spacing(1) }}>\n        <Grid item xs={6} sm={8}>\n          <Typography variant=\"h5\">{error.response.service_name}</Typography>\n          <Typography variant=\"caption\">\n            {`${error.response.service_version}${\n              error.response.service_tool_version && ` (${error.response.service_tool_version})`\n            }`}\n          </Typography>\n        </Grid>\n        <Grid item xs={6} sm={4}>\n          <div style={{ display: 'inline-block', textAlign: 'start' }}>\n            <Typography component=\"div\" variant=\"body1\">\n              <Moment fromNow locale={i18n.language}>\n                {error.created}\n              </Moment>\n            </Typography>\n            <Typography component=\"div\" variant=\"caption\">\n              <Moment format=\"YYYY-MM-DD HH:mm:ss\">{error.created}</Moment>\n            </Typography>\n          </div>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={1} style={{ paddingBottom: theme.spacing(1) }}>\n        <Grid item xs={6} sm={8}>\n          <span style={{ verticalAlign: 'middle' }}>{errorMap[error.type]}&nbsp;</span>\n          <span style={{ verticalAlign: 'middle' }}>{t(`type.${error.type}`)}</span>\n        </Grid>\n        <Grid item xs={6} sm={4} style={{ alignSelf: 'center' }}>\n          <span style={{ verticalAlign: 'middle' }}>{t(`fail.${error.response.status}`)}</span>\n        </Grid>\n      </Grid>\n\n      <div style={{ marginBottom: theme.spacing(1) }}>\n        <label>{t('message')}</label>\n        <Card variant=\"outlined\">\n          <pre\n            style={{\n              paddingLeft: theme.spacing(1),\n              paddingRight: theme.spacing(1),\n              whiteSpace: 'pre-wrap',\n              minHeight: '10rem'\n            }}\n          >\n            {error.response.message}\n          </pre>\n        </Card>\n      </div>\n\n      {error.response.service_debug_info && (\n        <div style={{ marginBottom: theme.spacing(1) }}>\n          <label>{t('debug_info')}</label>\n          <Card variant=\"outlined\">\n            <pre\n              style={{\n                paddingLeft: theme.spacing(1),\n                paddingRight: theme.spacing(1),\n                whiteSpace: 'pre-wrap'\n              }}\n            >\n              {error.response.service_debug_info}\n            </pre>\n          </Card>\n        </div>\n      )}\n\n      <div style={{ marginBottom: theme.spacing(1) }}>\n        <label>{t('file_info')}</label>\n        <div style={{ wordBreak: 'break-all' }}>\n          {error.sha256}\n          <BsClipboard className={classes.clipboardIcon} onClick={() => copy(error.sha256, 'drawerTop')} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ErrorViewer() {\n  const { t } = useTranslation(['adminErrorViewer']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const [errorResults, setErrorResults] = useState(null);\n  const classes = useStyles();\n  const history = useHistory();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n  const [suggestions, setSuggestions] = useState(DEFAULT_SUGGESTION);\n  const location = useLocation();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const filterValue = useRef<string>('');\n  const { setGlobalDrawer } = useDrawer();\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query && currentUser.is_admin) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        url: `/api/v4/error/list/?${query.toString()}`,\n        onSuccess: api_data => {\n          setErrorResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    apiCall({\n      url: '/api/v4/search/fields/error/',\n      onSuccess: api_data => {\n        setSuggestions([\n          ...Object.keys(api_data.api_response).filter(name => {\n            return api_data.api_response[name].indexed;\n          }),\n          ...DEFAULT_SUGGESTION\n        ]);\n      }\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setError = useCallback(\n    error => {\n      setGlobalDrawer(<ErrorDetail error={error} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <ReportProblemOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('exception'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:EXCEPTION OR type:UNKNOWN');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <CancelOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('canceled'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:SERVICE* OR type:TASK*');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <PanToolOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('maxed'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:MAX*');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {errorResults !== null && (\n              <div className={classes.searchresult}>\n                {errorResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {errorResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${errorResults.total === 1 ? '' : 's'}`)\n                          : t(`total${errorResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  method=\"GET\"\n                  url=\"/api/v4/error/list/\"\n                  total={errorResults.total}\n                  setResults={setErrorResults}\n                  pageSize={pageSize}\n                  index=\"user\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <ErrorsTable errorResults={errorResults} onClick={setError} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import React from 'react';\n\ntype EmptyProps = {\n  [string: string]: any;\n};\n\nfunction Empty(props: EmptyProps) {\n  return <div />;\n}\n\nexport default Empty;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  Radio,\n  RadioGroup,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Container, Volume } from '../service_detail';\n\ntype EnvironmentVar = {\n  name: string;\n  value: string;\n};\n\ntype EnvironmentProps = {\n  envVar?: EnvironmentVar;\n  onAdd?: (envVar: EnvironmentVar) => void;\n  onUpdate?: (envVar: EnvironmentVar) => void;\n  onDelete?: (envVar: EnvironmentVar) => void;\n};\n\nconst DEFAULT_ENV = { name: '', value: '' };\n\nconst WrappedEnvironment = ({ envVar, onAdd, onUpdate, onDelete }: EnvironmentProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempEnvVar, setTempEnvVar] = useState(DEFAULT_ENV);\n  const theme = useTheme();\n\n  const handleValueUpdate = event => {\n    onUpdate({ ...envVar, value: event.target.value });\n  };\n\n  const addEnvironment = () => {\n    onAdd(tempEnvVar);\n    setTempEnvVar(DEFAULT_ENV);\n  };\n\n  const handleNameChange = event => {\n    setTempEnvVar({ ...tempEnvVar, name: event.target.value });\n  };\n\n  const handleValueChange = event => {\n    setTempEnvVar({ ...tempEnvVar, value: event.target.value });\n  };\n\n  return envVar ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${envVar.name} :`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={envVar.value}\n          onChange={handleValueUpdate}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(envVar)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.environment.name')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleNameChange}\n          value={tempEnvVar.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.environment.value')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempEnvVar.value}\n          onChange={handleValueChange}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempEnvVar.name !== '' && tempEnvVar.value !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addEnvironment}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedEnvironment.defaultProps = {\n  envVar: null,\n  // eslint-disable-next-line no-console\n  onAdd: envVar => console.log('ADD', envVar),\n  // eslint-disable-next-line no-console\n  onUpdate: envVar => console.log('UPDATE', envVar),\n  // eslint-disable-next-line no-console\n  onDelete: envVar => console.log('DELETE', envVar)\n};\n\nconst Environment = React.memo(WrappedEnvironment);\n\ntype VolumeControlProps = {\n  name?: string;\n  vol?: Volume;\n  onAdd?: (name: string, vol: Volume) => void;\n  onDelete?: (name: string) => void;\n};\n\nconst DEFAULT_VOL = {\n  capacity: '',\n  mount_path: '',\n  storage_class: ''\n};\n\nconst WrappedVolumeControl = ({ name, vol, onAdd, onDelete }: VolumeControlProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempVol, setTempVol] = useState(DEFAULT_VOL);\n  const [tempName, setTempName] = useState('');\n  const theme = useTheme();\n\n  const addVolume = () => {\n    onAdd(tempName, tempVol);\n    setTempVol(DEFAULT_VOL);\n    setTempName('');\n  };\n\n  const handleNameChange = event => {\n    setTempName(event.target.value);\n  };\n\n  const handleValueChange = (field, value) => {\n    setTempVol({ ...tempVol, [field]: value });\n  };\n\n  return name && vol ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${name} :`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        {`${vol.mount_path} (${vol.capacity})`}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(name)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.name')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleNameChange}\n          value={tempName}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.mount_path')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.mount_path}\n          onChange={event => handleValueChange('mount_path', event.target.value)}\n          style={{ margin: 0 }}\n        />\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.capacity')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.capacity}\n          onChange={event => handleValueChange('capacity', event.target.value)}\n          style={{ margin: 0 }}\n        />\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.storage_class')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.storage_class}\n          onChange={event => handleValueChange('storage_class', event.target.value)}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempName !== '' && tempVol.capacity !== '' && tempVol.mount_path !== '' && tempVol.storage_class !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addVolume}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedVolumeControl.defaultProps = {\n  name: null,\n  vol: null,\n  // eslint-disable-next-line no-console\n  onAdd: (name, vol) => console.log('ADD', name, vol),\n  // eslint-disable-next-line no-console\n  onDelete: name => console.log('DELETE', name)\n};\n\nconst VolumeControl = React.memo(WrappedVolumeControl);\n\nconst DEFAULT_CONTAINER: Container = {\n  allow_internet_access: false,\n  command: null,\n  cpu_cores: 1,\n  environment: [],\n  image: '',\n  ports: [],\n  ram_mb: 512,\n  ram_mb_min: 128,\n  registry_password: '',\n  registry_username: ''\n};\n\ntype ContainerDialogProps = {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n  container?: Container;\n  name?: string;\n  volumes?: { [name: string]: Volume };\n  onSave: (newContainer: Container, name?: string, newVolumes?: { [name: string]: Volume }) => void;\n};\n\nconst WrappedContainerDialog = ({ open, setOpen, container, name, volumes, onSave }: ContainerDialogProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [modified, setModified] = useState(false);\n  const [tempContainer, setTempContainer] = useState(container || DEFAULT_CONTAINER);\n  const [tempName, setTempName] = useState(name);\n  const [tempVolumes, setTempVolumes] = useState(volumes);\n  const theme = useTheme();\n\n  const handleSave = () => {\n    setModified(false);\n    setOpen(false);\n    onSave(tempContainer, tempName, tempVolumes);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setModified(false);\n    setTempContainer(container || DEFAULT_CONTAINER);\n    setTempName(name);\n    setTempVolumes(volumes);\n  };\n\n  const handleInternetToggle = () => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, allow_internet_access: !tempContainer.allow_internet_access });\n  };\n\n  const handleContainerValueChange = (field, value) => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, [field]: value });\n  };\n\n  const handleContainerCommandChange = event => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, command: event.target.value.split(' ') });\n  };\n\n  const handleEnvAddUpdate = newEnv => {\n    const newEnvironment = [...tempContainer.environment];\n    let index = -1;\n    newEnvironment.forEach((element, i) => {\n      if (element.name === newEnv.name) {\n        index = i;\n      }\n    });\n\n    if (index === -1) {\n      newEnvironment.push(newEnv);\n    } else {\n      newEnvironment[index] = newEnv;\n    }\n\n    setModified(true);\n    setTempContainer({ ...tempContainer, environment: newEnvironment });\n  };\n\n  const handleEnvDelete = delEnv => {\n    const newEnvironment = [...tempContainer.environment];\n    let index = -1;\n    newEnvironment.forEach((element, i) => {\n      if (element.name === delEnv.name) {\n        index = i;\n      }\n    });\n    if (index !== -1) {\n      newEnvironment.splice(index, 1);\n      setModified(true);\n      setTempContainer({ ...tempContainer, environment: newEnvironment });\n    }\n  };\n\n  const handleVolAdd = (vol_name, vol) => {\n    setModified(true);\n    setTempVolumes({ ...tempVolumes, [vol_name]: vol });\n  };\n  const handleVolDelete = vol_name => {\n    const newVolumes = { ...tempVolumes };\n    delete newVolumes[vol_name];\n\n    setModified(true);\n    setTempVolumes(newVolumes);\n  };\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n        <DialogTitle id=\"form-dialog-title\">\n          {t(`container.dialog.title.${name === null ? 'container' : 'dependency'}`)}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2}>\n            {name !== null && (\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle2\">{t('container.dialog.name')}</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  onChange={event => setTempName(event.target.value)}\n                  value={tempName}\n                />\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.image')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('image', event.target.value)}\n                value={tempContainer.image}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.cpu')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('cpu_cores', event.target.value)}\n                value={tempContainer.cpu_cores}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.ram')}</Typography>\n              <Grid container spacing={1}>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    size=\"small\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={event => handleContainerValueChange('ram_mb_min', event.target.value)}\n                    value={tempContainer.ram_mb_min}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    size=\"small\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={event => handleContainerValueChange('ram_mb', event.target.value)}\n                    value={tempContainer.ram_mb}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.registry_username')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('registry_username', event.target.value)}\n                value={tempContainer.registry_username}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.registry_password')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('registry_password', event.target.value)}\n                value={tempContainer.registry_password}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.command')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleContainerCommandChange}\n                value={tempContainer.command ? tempContainer.command.join(' ') : ''}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.allow_internet')}</Typography>\n              <RadioGroup value={tempContainer.allow_internet_access} onChange={handleInternetToggle}>\n                <FormControlLabel value control={<Radio />} label={t('container.dialog.allow_internet.yes')} />\n                <FormControlLabel value={false} control={<Radio />} label={t('container.dialog.allow_internet.no')} />\n              </RadioGroup>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.environment')}</Typography>\n              {tempContainer.environment.map((env, i) => {\n                return <Environment key={i} envVar={env} onUpdate={handleEnvAddUpdate} onDelete={handleEnvDelete} />;\n              })}\n            </Grid>\n            <Grid item xs={12}>\n              <Environment onAdd={handleEnvAddUpdate} />\n            </Grid>\n            {name !== null && (\n              <>\n                <Grid item xs={12}>\n                  <Typography variant=\"subtitle2\">{t('container.dialog.volumes')}</Typography>\n                  {Object.keys(tempVolumes).map(vol_name => {\n                    return (\n                      <VolumeControl\n                        key={vol_name}\n                        name={vol_name}\n                        vol={tempVolumes[vol_name]}\n                        onDelete={handleVolDelete}\n                      />\n                    );\n                  })}\n                </Grid>\n\n                <Grid item xs={12}>\n                  <VolumeControl onAdd={handleVolAdd} />\n                </Grid>\n              </>\n            )}\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"secondary\">\n            {t('container.dialog.cancelText')}\n          </Button>\n          <Button onClick={handleSave} color=\"primary\" disabled={!modified || tempContainer.image === ''}>\n            {t('container.dialog.acceptText')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nWrappedContainerDialog.defaultProps = {\n  container: null,\n  name: null,\n  volumes: null\n};\n\nconst ContainerDialog = React.memo(WrappedContainerDialog);\nexport default ContainerDialog;\n","import { Card, Grid, makeStyles, Tooltip, useTheme } from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CgSmartphoneChip, CgSmartphoneRam } from 'react-icons/cg';\nimport { Container, Volume } from '../service_detail';\nimport ContainerDialog from './container_dialog';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    padding: '8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#ffffff10' : '#00000005',\n      cursor: 'pointer'\n    }\n  },\n  card_title: {\n    fontSize: 'large',\n    fontFamily: 'monospace'\n  },\n  label: {\n    fontWeight: 500\n  },\n  mono: {\n    fontSize: 'larger',\n    fontFamily: 'monospace'\n  }\n}));\n\ntype ContainerCardProps = {\n  container: Container;\n  name?: string;\n  volumes?: { [name: string]: Volume };\n  onChange: (newContainer: Container, name?: string, newVolumes?: { [name: string]: Volume }) => void;\n};\n\nconst WrappedContainerCard = ({ container, name, volumes, onChange }: ContainerCardProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const theme = useTheme();\n  const classes = useStyles();\n  const yesColor = theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark;\n  const noColor = theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark;\n\n  const handleContainerChange = (tempContainer, tempName, tempVolumes) => {\n    onChange(tempContainer, tempName, tempVolumes);\n  };\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <ContainerDialog\n        open={dialog}\n        setOpen={setDialog}\n        name={name}\n        container={container}\n        volumes={volumes}\n        onSave={handleContainerChange}\n      />\n      <Card className={classes.card} onClick={() => setDialog(true)}>\n        <Grid container>\n          {name && (\n            <Grid item xs={12} className={classes.card_title} style={{ fontWeight: 700 }}>\n              {name}\n            </Grid>\n          )}\n          <Grid item xs={12} className={classes.card_title}>\n            {container.image}\n          </Grid>\n          {container.registry_password && container.registry_username && (\n            <Grid item xs={12}>\n              <i>{t('container.card.creds')}</i>\n            </Grid>\n          )}\n          <Grid item xs={12} style={{ paddingTop: theme.spacing(1), paddingBottom: theme.spacing(1) }}>\n            <Tooltip title={t('container.card.cpu')}>\n              <div style={{ display: 'inline-block', paddingRight: theme.spacing(4) }}>\n                <CgSmartphoneChip size={24} style={{ verticalAlign: 'middle' }} />\n                <span style={{ paddingLeft: theme.spacing(1), verticalAlign: 'middle' }}>{container.cpu_cores}</span>\n              </div>\n            </Tooltip>\n            <Tooltip title={t('container.card.ram')}>\n              <div style={{ display: 'inline-block' }}>\n                <CgSmartphoneRam size={24} style={{ verticalAlign: 'middle' }} />\n                <span style={{ paddingLeft: theme.spacing(1), verticalAlign: 'middle' }}>{container.ram_mb}</span>\n              </div>\n            </Tooltip>\n          </Grid>\n          {container.command && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('container.card.command')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {container.command.join(' ')}\n              </Grid>\n            </>\n          )}\n          <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('container.card.internet')}:`}</Grid>\n          <Grid\n            item\n            xs={7}\n            sm={8}\n            md={10}\n            className={classes.mono}\n            style={{ color: container.allow_internet_access ? yesColor : noColor }}\n          >\n            {container.allow_internet_access ? t('container.card.yes') : t('container.card.no')}\n          </Grid>\n          {container.environment && container.environment.length !== 0 && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{`${t('container.card.env')}:`}&nbsp;</div>\n              {container.environment.map((env, id) => {\n                return (\n                  <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                    {`${env.name} = ${env.value}`}\n                  </div>\n                );\n              })}\n            </Grid>\n          )}\n          {volumes && Object.keys(volumes).length !== 0 && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{`${t('container.card.volumes')}:`}&nbsp;</div>\n              {Object.keys(volumes).map((vol, id) => {\n                return (\n                  <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                    {`${vol} = ${volumes[vol].mount_path} (${volumes[vol].capacity})`}\n                  </div>\n                );\n              })}\n            </Grid>\n          )}\n        </Grid>\n      </Card>\n    </div>\n  );\n};\n\nWrappedContainerCard.defaultProps = {\n  name: null,\n  volumes: null\n};\n\nconst ContainerCard = React.memo(WrappedContainerCard);\nexport default ContainerCard;\n","import { Button, Grid, IconButton, MenuItem, Select, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport ContainerCard from './container_card';\nimport ContainerDialog from './container_dialog';\n\ntype ServiceContainerProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceContainer = ({ service, setService, setModified }: ServiceContainerProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const theme = useTheme();\n\n  const handleChannelChange = event => {\n    setModified(true);\n    setService({ ...service, update_channel: event.target.value });\n  };\n\n  const onDependencyDelete = name => {\n    const depList = { ...service.dependencies };\n    delete depList[name];\n    setModified(true);\n    setService({ ...service, dependencies: depList });\n  };\n\n  const handleContainerImageChange = newContainer => {\n    setModified(true);\n    setService({ ...service, docker_config: newContainer });\n  };\n\n  const handleDependencyChange = (newDep, name, newVolumes) => {\n    const depList = { ...service.dependencies };\n    depList[name] = { container: newDep, volumes: newVolumes };\n    setModified(true);\n    setService({ ...service, dependencies: depList });\n  };\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('container')}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.channel')}</Typography>\n        {service ? (\n          <Select\n            id=\"channel\"\n            fullWidth\n            value={service.update_channel}\n            onChange={handleChannelChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n            style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n          >\n            <MenuItem value=\"stable\">{t('container.channel.stable')}</MenuItem>\n            {/* <MenuItem value=\"rc\">{t('container.channel.rc')}</MenuItem> */}\n            {/* <MenuItem value=\"beta\">{t('container.channel.beta')}</MenuItem> */}\n            <MenuItem value=\"dev\">{t('container.channel.dev')}</MenuItem>\n          </Select>\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.image')}</Typography>\n        {service ? (\n          <ContainerCard container={service.docker_config} onChange={handleContainerImageChange} />\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.dependencies')}</Typography>\n        {service ? (\n          Object.keys(service.dependencies).length !== 0 ? (\n            Object.keys(service.dependencies).map(name => {\n              return (\n                <div key={name} style={{ display: 'flex', alignItems: 'center' }}>\n                  <div style={{ paddingRight: theme.spacing(1), flexGrow: 1 }}>\n                    <ContainerCard\n                      name={name}\n                      container={service.dependencies[name].container}\n                      volumes={service.dependencies[name].volumes}\n                      onChange={handleDependencyChange}\n                    />\n                  </div>\n                  <div>\n                    <Tooltip title={t('container.dependencies.remove')}>\n                      <IconButton\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                        onClick={() => onDependencyDelete(name)}\n                      >\n                        <RemoveCircleOutlineOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </div>\n                </div>\n              );\n            })\n          ) : (\n            <Typography color=\"textSecondary\" variant=\"caption\" component=\"div\">\n              {t('container.dependencies.none')}\n            </Typography>\n          )\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <ContainerDialog open={dialog} setOpen={setDialog} name=\"\" volumes={{}} onSave={handleDependencyChange} />\n        <Button variant=\"contained\" color=\"primary\" onClick={() => setDialog(true)}>\n          {t('container.dependencies.add')}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ServiceContainer;\n","import {\n  FormControlLabel,\n  Grid,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceConstants, ServiceDetail } from '../service_detail';\n\ntype ServiceGeneralProps = {\n  service: ServiceDetail;\n  constants: ServiceConstants;\n  versions: string[];\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceGeneral = ({ service, constants, versions, setService, setModified }: ServiceGeneralProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n\n  const handleDescriptionChange = event => {\n    setModified(true);\n    setService({ ...service, description: event.target.value });\n  };\n\n  const handleVersionChange = event => {\n    setModified(true);\n    setService({ ...service, version: event.target.value });\n  };\n\n  const handleStageChange = event => {\n    setModified(true);\n    setService({ ...service, stage: event.target.value });\n  };\n\n  const handleCategoryChange = event => {\n    setModified(true);\n    setService({ ...service, category: event.target.value });\n  };\n\n  const handleAcceptChange = event => {\n    setModified(true);\n    setService({ ...service, accepts: event.target.value });\n  };\n\n  const handleRejectChange = event => {\n    setModified(true);\n    setService({ ...service, rejects: event.target.value });\n  };\n\n  const handleTimeoutChange = event => {\n    setModified(true);\n    setService({ ...service, timeout: event.target.value });\n  };\n\n  const handleLicenceChange = event => {\n    setModified(true);\n    setService({ ...service, licence_count: event.target.value });\n  };\n\n  const handleExternalToggle = () => {\n    setModified(true);\n    setService({ ...service, is_external: !service.is_external });\n  };\n\n  const handleCacheToggle = () => {\n    setModified(true);\n    setService({ ...service, disable_cache: !service.disable_cache });\n  };\n\n  const setClassification = default_result_classification => {\n    setModified(true);\n    setService({ ...service, default_result_classification });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.name')}</Typography>\n          {service ? (\n            <TextField fullWidth size=\"small\" margin=\"dense\" variant=\"outlined\" disabled value={service.name} />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.version')}</Typography>\n          {service ? (\n            <Select\n              id=\"version\"\n              fullWidth\n              value={service.version}\n              onChange={handleVersionChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {versions ? (\n                versions.map((v, i) => {\n                  return (\n                    <MenuItem key={i} value={v}>\n                      {v}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.version}>{service.version}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        {c12nDef.enforce && (\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('general.classification')}</Typography>\n            <Classification\n              type=\"picker\"\n              c12n={service ? service.default_result_classification : null}\n              setClassification={setClassification}\n            />\n          </Grid>\n        )}\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('general.description')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              multiline\n              rows={6}\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleDescriptionChange}\n              value={service.description}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.stage')}</Typography>\n          {service ? (\n            <Select\n              id=\"stage\"\n              fullWidth\n              value={service.stage}\n              onChange={handleStageChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {constants ? (\n                constants.stages.map((s, i) => {\n                  return (\n                    <MenuItem key={i} value={s}>\n                      {s}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.stage}>{service.stage}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.category')}</Typography>\n          {service ? (\n            <Select\n              id=\"category\"\n              fullWidth\n              value={service.category}\n              onChange={handleCategoryChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {constants ? (\n                constants.categories.map((c, i) => {\n                  return (\n                    <MenuItem key={i} value={c}>\n                      {c}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.category}>{service.category}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.accept')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleAcceptChange}\n              value={service.accepts}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.reject')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleRejectChange}\n              value={service.rejects}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.timeout')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleTimeoutChange}\n              value={service.timeout}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.licence')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleLicenceChange}\n              value={service.licence_count}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.location')}</Typography>\n          {service ? (\n            <RadioGroup value={service.is_external} onChange={handleExternalToggle}>\n              <FormControlLabel value control={<Radio />} label={t('general.location.external')} />\n              <FormControlLabel value={false} control={<Radio />} label={t('general.location.internal')} />\n            </RadioGroup>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.caching')}</Typography>\n          {service ? (\n            <RadioGroup value={service.disable_cache} onChange={handleCacheToggle}>\n              <FormControlLabel value={false} control={<Radio />} label={t('general.caching.enabled')} />\n              <FormControlLabel value control={<Radio />} label={t('general.caching.disabled')} />\n            </RadioGroup>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ServiceGeneral;\n","import { Grid, IconButton, MenuItem, Select, TextField, Tooltip, useTheme } from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactJson from 'react-json-view';\n\ntype ServiceConfig = {\n  name: string;\n  value: any;\n};\n\ntype ExtendedServiceConfig = {\n  name: string;\n  type: 'bool' | 'int' | 'list' | 'str' | 'json';\n  value: any;\n};\n\ntype MultiTypeConfigProps = {\n  config?: ServiceConfig;\n  onAdd?: (config: ServiceConfig) => void;\n  onUpdate?: (config: ServiceConfig) => void;\n  onDelete?: (config: ServiceConfig) => void;\n};\n\nconst DEFAULT_CONFIG: ExtendedServiceConfig = {\n  name: '',\n  type: 'bool',\n  value: 'false'\n};\n\nconst WrappedMultiTypeConfig = ({ config, onAdd, onUpdate, onDelete }: MultiTypeConfigProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempConfig, setTempConfig] = useState(DEFAULT_CONFIG);\n  const theme = useTheme();\n\n  const jsonTheme = {\n    base00: 'transparent', // Background\n    base01: '#f1f1f1', // Edit key text\n    base02: theme.palette.type === 'dark' ? theme.palette.text.hint : theme.palette.divider, // Borders and DataType Background\n    base03: '#444', // Unused\n    base04: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 400], // Object size and Add key border\n    base05: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 700], // Undefined and Add key background\n    base06: '#444', // Unused\n    base07: theme.palette.text.primary, // Brace, Key and Borders\n    base08: theme.palette.text.secondary, // NaN\n    base09: theme.palette.type === 'dark' ? theme.palette.warning.light : theme.palette.warning.dark, // Strings and Icons\n    base0A: '#333', // Null, Regex and edit color\n    base0B: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark, // Float\n    base0C: theme.palette.type === 'dark' ? theme.palette.secondary.light : theme.palette.secondary.dark, // Array Key\n    base0D: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Date, function, expand icon\n    base0E: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Boolean\n    base0F: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark // Integer\n  };\n\n  const detectConfigType = (cfg: ServiceConfig): ExtendedServiceConfig => {\n    if (typeof cfg.value === 'number') {\n      return { ...cfg, type: 'int' };\n    }\n\n    if (typeof cfg.value === 'object') {\n      if (Array.isArray(cfg.value)) {\n        return { ...cfg, type: 'list', value: cfg.value.toString() };\n      }\n      return { ...cfg, type: 'json' };\n    }\n\n    if (typeof cfg.value === 'boolean') {\n      return { ...cfg, type: 'bool' };\n    }\n    return { ...cfg, type: 'str' };\n  };\n\n  const parsedConfig = config ? detectConfigType(config) : null;\n\n  const handleConfigUpdate = event => {\n    const { value } = event.target;\n    if (parsedConfig.type === 'bool') {\n      onUpdate({ ...parsedConfig, value: value === 'true' });\n    } else if (parsedConfig.type === 'list') {\n      onUpdate({ ...parsedConfig, value: value.split(',') });\n    } else if (parsedConfig.type === 'str') {\n      onUpdate({ ...parsedConfig, value });\n    } else if (parsedConfig.type === 'int') {\n      onUpdate({ ...parsedConfig, value: parseInt(value) || 0 });\n    }\n  };\n\n  const handleConfigUpdateJSON = data => {\n    const { updated_src: value } = data;\n    onUpdate({ ...parsedConfig, value });\n  };\n\n  const addConfig = () => {\n    if (tempConfig.type === 'bool') {\n      onAdd({ ...tempConfig, value: tempConfig.value === 'true' });\n    } else if (tempConfig.type === 'list') {\n      onAdd({ ...tempConfig, value: tempConfig.value.split(',') });\n    } else if (tempConfig.type === 'str') {\n      onAdd({ ...tempConfig, value: tempConfig.value });\n    } else if (tempConfig.type === 'int') {\n      onAdd({ ...tempConfig, value: parseInt(tempConfig.value) || 0 });\n    } else {\n      onAdd({ ...tempConfig, value: tempConfig.value });\n    }\n    setTempConfig(DEFAULT_CONFIG);\n  };\n\n  const handleConfigNameChange = event => {\n    setTempConfig({ ...tempConfig, name: event.target.value });\n  };\n\n  const handleConfigTypeChange = event => {\n    const type = event.target.value;\n    setTempConfig({\n      ...tempConfig,\n      type,\n      value: type === 'int' ? '1' : type === 'bool' ? 'false' : type === 'json' ? {} : ''\n    });\n  };\n\n  const handleConfigChange = event => {\n    setTempConfig({ ...tempConfig, value: event.target.value });\n  };\n\n  const handleConfigChangeJSON = data => {\n    const { updated_src: value } = data;\n    setTempConfig({ ...tempConfig, value });\n  };\n\n  return config ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${parsedConfig.name} [${parsedConfig.type}]:`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        {parsedConfig.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={parsedConfig.value}\n            onChange={handleConfigUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : parsedConfig.type === 'json' ? (\n          <ReactJson\n            name={false}\n            src={parsedConfig.value}\n            theme={jsonTheme}\n            enableClipboard={false}\n            groupArraysAfterLength={10}\n            displayDataTypes={false}\n            displayObjectSize={false}\n            onAdd={handleConfigUpdateJSON}\n            onDelete={handleConfigUpdateJSON}\n            onEdit={handleConfigUpdateJSON}\n            style={{\n              border: `1px solid ${theme.palette.divider}`,\n              borderRadius: '4px',\n              fontSize: '1rem',\n              minHeight: theme.spacing(5),\n              padding: '4px'\n            }}\n          />\n        ) : (\n          <TextField\n            fullWidth\n            type={parsedConfig.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={parsedConfig.value}\n            onChange={handleConfigUpdate}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(parsedConfig)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleConfigNameChange}\n          value={tempConfig.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={2}>\n        <Select\n          id=\"user_spec_params\"\n          fullWidth\n          value={tempConfig.type}\n          onChange={handleConfigTypeChange}\n          variant=\"outlined\"\n          margin=\"dense\"\n        >\n          <MenuItem value=\"bool\">bool</MenuItem>\n          <MenuItem value=\"int\">int</MenuItem>\n          <MenuItem value=\"json\">json</MenuItem>\n          <MenuItem value=\"list\">list ({t('params.comma')})</MenuItem>\n          <MenuItem value=\"str\">str</MenuItem>\n        </Select>\n      </Grid>\n      <Grid item xs={10} sm={6}>\n        {tempConfig.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempConfig.value}\n            onChange={handleConfigChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : tempConfig.type === 'json' ? (\n          <ReactJson\n            name={false}\n            src={tempConfig.value}\n            theme={jsonTheme}\n            enableClipboard={false}\n            groupArraysAfterLength={10}\n            displayDataTypes={false}\n            displayObjectSize={false}\n            onAdd={handleConfigChangeJSON}\n            onDelete={handleConfigUpdateJSON}\n            onEdit={handleConfigChangeJSON}\n            style={{\n              border: `1px solid ${theme.palette.divider}`,\n              borderRadius: '4px',\n              fontSize: '1rem',\n              minHeight: theme.spacing(5),\n              padding: '4px'\n            }}\n          />\n        ) : (\n          <TextField\n            fullWidth\n            type={tempConfig.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempConfig.value}\n            onChange={handleConfigChange}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempConfig.name !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addConfig}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedMultiTypeConfig.defaultProps = {\n  config: null,\n  // eslint-disable-next-line no-console\n  onAdd: config => console.log('ADD', config),\n  // eslint-disable-next-line no-console\n  onUpdate: config => console.log('UPDATE', config),\n  // eslint-disable-next-line no-console\n  onDelete: config => console.log('DELETE', config)\n};\n\nconst MultiTypeConfig = React.memo(WrappedMultiTypeConfig);\nexport default MultiTypeConfig;\n","import { Grid, IconButton, MenuItem, Select, TextField, Tooltip, useTheme } from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { SubmissionParams } from '../service_detail';\n\ntype SimpleSubmissionParams = {\n  name: string;\n  type: 'int' | 'bool' | 'str' | 'list';\n  default: string;\n  value: string;\n  list: string[];\n};\n\ntype MultiTypeParamProps = {\n  param?: SubmissionParams;\n  id?: number;\n  onAdd?: (param: SubmissionParams) => void;\n  onUpdate?: (param: SubmissionParams, id: number) => void;\n  onDelete?: (id: number) => void;\n};\n\nconst DEFAULT_USER_PARAM: SimpleSubmissionParams = {\n  name: '',\n  type: 'bool',\n  default: 'false',\n  value: 'false',\n  list: []\n};\n\nconst WrappedMultiTypeParam = ({ param, id, onAdd, onUpdate, onDelete }: MultiTypeParamProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempUserParams, setTempUserParams] = useState(DEFAULT_USER_PARAM);\n  const theme = useTheme();\n\n  const handleSubmissionParamUpdate = event => {\n    const { value } = event.target;\n    if (param.type === 'bool') {\n      onUpdate({ ...param, default: value === 'true', value: value === 'true' }, id);\n    } else if (param.type === 'list' || param.type === 'str') {\n      onUpdate({ ...param, default: value, value }, id);\n    } else {\n      onUpdate({ ...param, default: parseInt(value) || 0, value: parseInt(value) || 0 }, id);\n    }\n  };\n\n  const handleSubmissionParamListUpdate = event => {\n    const { value } = event.target;\n    const newList = value.split(',');\n    let newDefault = newList[0];\n    if (newList.indexOf(param.default) !== -1) {\n      newDefault = param.default;\n    }\n    onUpdate({ ...param, list: newList, default: newDefault, value: newDefault }, id);\n  };\n\n  const addUserSubmissionParam = () => {\n    if (tempUserParams.type === 'bool') {\n      onAdd({\n        ...tempUserParams,\n        default: tempUserParams.default === 'true',\n        value: tempUserParams.default === 'true'\n      });\n    } else if (tempUserParams.type === 'list' || tempUserParams.type === 'str') {\n      onAdd({ ...tempUserParams, default: tempUserParams.default, value: tempUserParams.default });\n    } else {\n      onAdd({\n        ...tempUserParams,\n        default: parseInt(tempUserParams.default) || 0,\n        value: parseInt(tempUserParams.default) || 0\n      });\n    }\n\n    setTempUserParams(DEFAULT_USER_PARAM);\n  };\n\n  const handleSPNameChange = event => {\n    setTempUserParams({ ...tempUserParams, name: event.target.value });\n  };\n\n  const handleSPTypeChange = event => {\n    const type = event.target.value;\n    setTempUserParams({\n      ...tempUserParams,\n      type,\n      list: [],\n      default: type === 'int' ? '1' : type === 'bool' ? 'false' : '',\n      value: type === 'int' ? '1' : type === 'bool' ? 'false' : ''\n    });\n  };\n\n  const handleSPDefaultChange = event => {\n    setTempUserParams({ ...tempUserParams, default: event.target.value, value: event.target.value });\n  };\n\n  const handleSPListChange = event => {\n    const newList = event.target.value.split(',');\n    let newDefault = newList[0];\n    if (newList.indexOf(tempUserParams.default) !== -1) {\n      newDefault = tempUserParams.default;\n    }\n    setTempUserParams({ ...tempUserParams, list: newList, default: newDefault, value: newDefault });\n  };\n\n  return param ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${param.name} [${param.type}]:`}\n      </Grid>\n      {param.type === 'list' && (\n        <Grid item xs={10} sm={5}>\n          <TextField\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            onChange={handleSubmissionParamListUpdate}\n            value={param.list}\n            style={{ margin: 0 }}\n          />\n        </Grid>\n      )}\n      <Grid item xs={10} sm={param.type === 'list' ? 3 : 8}>\n        {param.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : param.type === 'list' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            {param.list.map((value, x) => {\n              return (\n                <MenuItem key={x} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        ) : (\n          <TextField\n            fullWidth\n            type={param.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(id)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleSPNameChange}\n          value={tempUserParams.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={2}>\n        <Select\n          id=\"user_spec_params\"\n          fullWidth\n          value={tempUserParams.type}\n          onChange={handleSPTypeChange}\n          variant=\"outlined\"\n          margin=\"dense\"\n        >\n          <MenuItem value=\"bool\">bool</MenuItem>\n          <MenuItem value=\"int\">int</MenuItem>\n          <MenuItem value=\"list\">list ({t('params.comma')})</MenuItem>\n          <MenuItem value=\"str\">str</MenuItem>\n        </Select>\n      </Grid>\n      {tempUserParams.type === 'list' && (\n        <Grid item xs={10} sm={4}>\n          <TextField\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempUserParams.list}\n            onChange={handleSPListChange}\n            style={{ margin: 0 }}\n          />\n        </Grid>\n      )}\n      <Grid item xs={10} sm={tempUserParams.type === 'list' ? 2 : 6}>\n        {tempUserParams.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : tempUserParams.type === 'list' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            {tempUserParams.list.map((value, x) => {\n              return (\n                <MenuItem key={x} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        ) : (\n          <TextField\n            fullWidth\n            type={tempUserParams.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempUserParams.name !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addUserSubmissionParam}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedMultiTypeParam.defaultProps = {\n  param: null,\n  id: null,\n  onAdd: () => null,\n  onUpdate: () => null,\n  onDelete: () => null\n};\n\nconst MultiTypeParam = React.memo(WrappedMultiTypeParam);\nexport default MultiTypeParam;\n","import { Grid, Typography, useTheme } from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport MultiTypeConfig from './multi_type_config';\nimport MultiTypeParam from './multi_type_param';\n\ntype ServiceParamsProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceParams = ({ service, setService, setModified }: ServiceParamsProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const theme = useTheme();\n\n  const onParamAdd = useCallback(param => {\n    window.dispatchEvent(new CustomEvent('paramAdd', { detail: param }));\n  }, []);\n\n  const onParamUpdate = useCallback((param, id) => {\n    window.dispatchEvent(new CustomEvent('paramUpdate', { detail: { param, id } }));\n  }, []);\n\n  const onParamDelete = useCallback(id => {\n    window.dispatchEvent(new CustomEvent('paramDelete', { detail: id }));\n  }, []);\n\n  const onConfigAddUpdate = useCallback(config => {\n    window.dispatchEvent(new CustomEvent('configAddUpdate', { detail: config }));\n  }, []);\n\n  const onConfigDelete = useCallback(config => {\n    window.dispatchEvent(new CustomEvent('configDelete', { detail: config }));\n  }, []);\n\n  useEffect(() => {\n    function handleSPAdd(event: CustomEvent) {\n      const { detail: param } = event;\n      const newSP = [...service.submission_params, { ...param }];\n\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleSPUpdate(event: CustomEvent) {\n      const {\n        detail: { param, id }\n      } = event;\n\n      const newSP = [...service.submission_params];\n      newSP[id] = { ...param };\n\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleSPDelete(event: CustomEvent) {\n      const { detail: id } = event;\n      const newSP = [...service.submission_params];\n      newSP.splice(id, 1);\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleConfigAddUpdate(event: CustomEvent) {\n      const { detail: config } = event;\n      setModified(true);\n      setService({ ...service, config: { ...service.config, [config.name]: config.value } });\n    }\n\n    function handleConfigDelete(event: CustomEvent) {\n      const { detail: config } = event;\n      const newConfig = { ...service.config };\n      delete newConfig[config.name];\n      setModified(true);\n      setService({ ...service, config: newConfig });\n    }\n\n    window.addEventListener('paramAdd', handleSPAdd);\n    window.addEventListener('paramUpdate', handleSPUpdate);\n    window.addEventListener('paramDelete', handleSPDelete);\n    window.addEventListener('configAddUpdate', handleConfigAddUpdate);\n    window.addEventListener('configDelete', handleConfigDelete);\n\n    return () => {\n      window.removeEventListener('paramAdd', handleSPAdd);\n      window.removeEventListener('paramUpdate', handleSPUpdate);\n      window.removeEventListener('paramDelete', handleSPDelete);\n      window.removeEventListener('configAddUpdate', handleConfigAddUpdate);\n      window.removeEventListener('configDelete', handleConfigDelete);\n    };\n  }, [service, setModified, setService]);\n\n  return (\n    <div>\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">{t('params.user')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('params.user.current')}</Typography>\n        </Grid>\n        {service.submission_params.length !== 0 ? (\n          service.submission_params.map((param, i) => {\n            return (\n              <Grid item key={i} xs={12}>\n                <MultiTypeParam param={param} id={i} onUpdate={onParamUpdate} onDelete={onParamDelete} />\n              </Grid>\n            );\n          })\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {t('params.user.none')}\n            </Typography>\n          </Grid>\n        )}\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('params.user.new')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <MultiTypeParam onAdd={onParamAdd} />\n        </Grid>\n\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"h6\">{t('params.config')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('params.config.current')}</Typography>\n        </Grid>\n        {Object.keys(service.config).length !== 0 ? (\n          Object.keys(service.config).map((name, i) => {\n            return (\n              <Grid item key={i} xs={12}>\n                <MultiTypeConfig\n                  config={{ name, value: service.config[name] }}\n                  onUpdate={onConfigAddUpdate}\n                  onDelete={onConfigDelete}\n                />\n              </Grid>\n            );\n          })\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {t('params.config.none')}\n            </Typography>\n          </Grid>\n        )}\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('params.config.new')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <MultiTypeConfig onAdd={onConfigAddUpdate} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ServiceParams;\n","import {\n  Button,\n  Card,\n  Checkbox,\n  CircularProgress,\n  Collapse,\n  Divider,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport CardMembershipOutlinedIcon from '@material-ui/icons/CardMembershipOutlined';\nimport DnsOutlinedIcon from '@material-ui/icons/DnsOutlined';\nimport NoEncryptionOutlinedIcon from '@material-ui/icons/NoEncryptionOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport VpnKeyOutlinedIcon from '@material-ui/icons/VpnKeyOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    padding: '8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#ffffff10' : '#00000005',\n      cursor: 'pointer'\n    }\n  },\n  checkbox: {\n    marginLeft: 0,\n    width: '100%',\n    '&:hover': {\n      background: theme.palette.action.hover\n    }\n  },\n  card_title: {\n    fontSize: 'large',\n    fontFamily: 'monospace'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  label: {\n    fontWeight: 500\n  },\n  mono: {\n    fontSize: 'larger',\n    fontFamily: 'monospace'\n  },\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\nconst DEFAULT_HEADER = {\n  name: '',\n  value: ''\n};\n\nconst DEFAULT_SOURCE = {\n  ca_cert: '',\n  default_classification: '',\n  headers: [],\n  name: '',\n  password: '',\n  pattern: '',\n  private_key: '',\n  ssl_ignore_errors: false,\n  uri: '',\n  username: ''\n};\n\nconst WrappedSourceDetail = ({ service, base, close, reload }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n  const [modified, setModified] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const apiCall = useMyAPI();\n  const { showSuccessMessage } = useMySnackbar();\n  const [tempHeader, setTempHeader] = useState({ ...DEFAULT_HEADER });\n  const [source, setSource] = useState(null);\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (base) {\n      setSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED, ...base });\n    } else {\n      setSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [base]);\n\n  const handleURIChange = event => {\n    setSource({ ...source, uri: event.target.value });\n    setModified(true);\n  };\n\n  const handleProxyChange = event => {\n    setSource({ ...source, proxy: event.target.value });\n    setModified(true);\n  };\n\n  const handleNameChange = event => {\n    setSource({ ...source, name: event.target.value });\n    setModified(true);\n  };\n\n  const handlePasswordChange = event => {\n    setSource({ ...source, password: event.target.value });\n    setModified(true);\n  };\n\n  const handlePatternChange = event => {\n    setSource({ ...source, pattern: event.target.value });\n    setModified(true);\n  };\n\n  const handleCAChange = event => {\n    setSource({ ...source, ca_cert: event.target.value });\n    setModified(true);\n  };\n\n  const handlePrivateKeyChange = event => {\n    setSource({ ...source, private_key: event.target.value });\n    setModified(true);\n  };\n\n  const handleUsernameChange = event => {\n    setSource({ ...source, username: event.target.value });\n    setModified(true);\n  };\n\n  const handleSSLChange = event => {\n    setSource({ ...source, ssl_ignore_errors: event.target.checked });\n    setModified(true);\n  };\n\n  const handleClassificationChange = c12n => {\n    setSource({ ...source, default_classification: c12n });\n    setModified(true);\n  };\n\n  const handleTempHeaderName = event => {\n    setTempHeader({ ...tempHeader, name: event.target.value });\n  };\n  const handleTempHeaderValue = event => {\n    setTempHeader({ ...tempHeader, value: event.target.value });\n  };\n\n  const addHeader = () => {\n    const newHeaders = [...source.headers];\n    newHeaders.push(tempHeader);\n    setSource({ ...source, headers: newHeaders });\n    setTempHeader({ ...DEFAULT_HEADER });\n    setModified(true);\n  };\n  const removeHeader = id => {\n    const newHeaders = [...source.headers];\n    newHeaders.splice(id, 1);\n    setSource({ ...source, headers: newHeaders });\n    setModified(true);\n  };\n\n  const saveChanges = () => {\n    apiCall({\n      method: base ? 'POST' : 'PUT',\n      url: base ? `/api/v4/signature/sources/${service}/${source.name}/` : `/api/v4/signature/sources/${service}/`,\n      body: source,\n      onSuccess: () => {\n        showSuccessMessage(t(base ? 'change.success' : 'add.success'));\n        setModified(false);\n        if (!base || !isXL) close();\n        reload();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const deleteSource = () => setDeleteDialog(true);\n\n  const executeDeleteSource = () => {\n    close();\n    apiCall({\n      url: `/api/v4/signature/sources/${service}/${source.name}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        reload();\n      }\n    });\n  };\n\n  return (\n    source && (\n      <div style={{ paddingTop: theme.spacing(2) }}>\n        <ConfirmationDialog\n          open={deleteDialog}\n          handleClose={() => setDeleteDialog(false)}\n          handleAccept={executeDeleteSource}\n          title={t('delete.title')}\n          cancelText={t('delete.cancelText')}\n          acceptText={t('delete.acceptText')}\n          text={t('delete.text')}\n        />\n\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{service}</Typography>\n              <Typography variant=\"caption\">\n                {`${t(base ? 'editing_source' : 'adding_source')}${base ? ` (${base.name})` : ''}`}\n              </Typography>\n            </Grid>\n            {base && (\n              <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n                <Tooltip title={t('delete')}>\n                  <IconButton\n                    style={{\n                      color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                    }}\n                    onClick={deleteSource}\n                  >\n                    <RemoveCircleOutlineOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('uri')}</div>\n            <TextField size=\"small\" value={source.uri} fullWidth variant=\"outlined\" onChange={handleURIChange} />\n          </Grid>\n          {c12nDef.enforce && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{t('classification')}</div>\n              <Classification\n                c12n={source.default_classification}\n                type=\"picker\"\n                setClassification={handleClassificationChange}\n              />\n            </Grid>\n          )}\n          <Grid item xs={12} md={6}>\n            <div>\n              <div className={classes.label}>{t('name')}</div>\n              <TextField\n                disabled={!!base}\n                size=\"small\"\n                value={source.name}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handleNameChange}\n              />\n            </div>\n            <div style={{ paddingTop: theme.spacing(1) }}>\n              <div className={classes.label}>{t('pattern')}</div>\n              <TextField\n                size=\"small\"\n                value={source.pattern}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handlePatternChange}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <div>\n              <div className={classes.label}>{t('username')}</div>\n              <TextField\n                size=\"small\"\n                value={source.username}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handleUsernameChange}\n              />\n            </div>\n            <div style={{ paddingTop: theme.spacing(1) }}>\n              <div className={classes.label}>{t('password')}</div>\n              <TextField\n                size=\"small\"\n                value={source.password}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handlePasswordChange}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('private_key')}</div>\n            <TextField\n              size=\"small\"\n              value={source.private_key}\n              multiline\n              rows={6}\n              fullWidth\n              variant=\"outlined\"\n              InputProps={{ style: { fontFamily: 'monospace' } }}\n              onChange={handlePrivateKeyChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('headers')}</div>\n          </Grid>\n          {source.headers.map((header, id) => {\n            return (\n              <Grid key={id} item xs={12}>\n                <Grid container spacing={1} alignItems=\"center\">\n                  <Grid item xs={10} md={3}>\n                    <div className={classes.label}>{header.name}</div>\n                  </Grid>\n                  <Grid item xs={10} md={8}>\n                    <TextField size=\"small\" value={header.value} fullWidth variant=\"outlined\" />\n                  </Grid>\n                  <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n                        margin: '-4px 0'\n                      }}\n                      onClick={() => {\n                        removeHeader(id);\n                      }}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n          <Grid item xs={12}>\n            <Grid container spacing={1}>\n              <Grid item xs={10} md={3}>\n                <TextField\n                  size=\"small\"\n                  value={tempHeader.name}\n                  fullWidth\n                  placeholder={t('headers.name')}\n                  variant=\"outlined\"\n                  onChange={handleTempHeaderName}\n                />\n              </Grid>\n              <Grid item xs={10} md={8}>\n                <TextField\n                  size=\"small\"\n                  value={tempHeader.value}\n                  fullWidth\n                  placeholder={t('headers.value')}\n                  variant=\"outlined\"\n                  onChange={handleTempHeaderValue}\n                />\n              </Grid>\n              <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                <IconButton\n                  style={{\n                    color:\n                      !tempHeader.name || !tempHeader.value\n                        ? theme.palette.action.disabled\n                        : theme.palette.type === 'dark'\n                        ? theme.palette.success.light\n                        : theme.palette.success.dark,\n                    margin: '-4px 0'\n                  }}\n                  disabled={!tempHeader.name || !tempHeader.value}\n                  onClick={() => {\n                    addHeader();\n                  }}\n                >\n                  <AddCircleOutlineOutlinedIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('proxy')}</div>\n            <TextField\n              size=\"small\"\n              value={source.proxy}\n              placeholder={t('proxy.placeholder')}\n              fullWidth\n              variant=\"outlined\"\n              onChange={handleProxyChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('ca')}</div>\n            <TextField\n              size=\"small\"\n              value={source.ca_cert}\n              multiline\n              rows={6}\n              fullWidth\n              variant=\"outlined\"\n              InputProps={{ style: { fontFamily: 'monospace' } }}\n              onChange={handleCAChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <FormControlLabel\n              control={\n                <Checkbox size=\"small\" checked={source.ssl_ignore_errors} name=\"label\" onChange={handleSSLChange} />\n              }\n              label={<Typography variant=\"body2\">{t('ignore_ssl')}</Typography>}\n              className={classes.checkbox}\n            />\n          </Grid>\n        </Grid>\n        <div style={{ paddingTop: theme.spacing(2), paddingBottom: theme.spacing(2), textAlign: 'right' }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!source.name || !source.uri || !modified || buttonLoading}\n            onClick={saveChanges}\n          >\n            {t(base ? 'change.save' : 'add.save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport const SourceDetail = React.memo(WrappedSourceDetail);\n\nexport const SourceCard = ({ source, onClick }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n  const classes = useStyles();\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <Card className={classes.card} onClick={onClick}>\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <div style={{ float: 'right' }}>\n            {source.private_key && (\n              <Tooltip title={t('private_key_used')}>\n                <VpnKeyOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.ca_cert && (\n              <Tooltip title={t('ca_used')}>\n                <CardMembershipOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.proxy && (\n              <Tooltip title={t('proxy_used')}>\n                <DnsOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.ssl_ignore_errors && (\n              <Tooltip title={t('ignore_ssl_used')}>\n                <NoEncryptionOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n          </div>\n          <span className={classes.card_title}>{source.name}&nbsp;</span>\n          <span className={classes.mono}>({source.uri})</span>\n        </div>\n        <Grid container>\n          {source.pattern && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('pattern')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {source.pattern}\n              </Grid>\n            </>\n          )}\n          {source.username && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('username')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {source.username}\n              </Grid>\n            </>\n          )}\n          {source.password && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('password')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                ******\n              </Grid>\n            </>\n          )}\n          {c12nDef.enforce && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('classification')}:`}</Grid>\n\n              <Grid item xs={7} sm={8} md={10}>\n                <Classification type=\"text\" c12n={source.default_classification || c12nDef.UNRESTRICTED} />\n              </Grid>\n            </>\n          )}\n        </Grid>\n        {source.headers && source.headers.length !== 0 && (\n          <div>\n            <div className={classes.label}>{`${t('headers')}:`}&nbsp;</div>\n            {source.headers.map((item, id) => {\n              return (\n                <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                  {`${item.name} = ${item.value}`}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nconst ServiceDetail = ({ service, sources, reload }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const classes = useStyles();\n\n  const openDrawer = useCallback((currentService: string, source) => {\n    setGlobalDrawer(<SourceDetail service={currentService} base={source} close={closeGlobalDrawer} reload={reload} />);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return useMemo(() => {\n    return (\n      <div style={{ paddingTop: theme.spacing(2) }}>\n        <Grid container>\n          <Grid item xs={10} style={{ alignSelf: 'center' }}>\n            <Typography\n              variant=\"h6\"\n              className={classes.title}\n              onClick={() => {\n                setOpen(!open);\n              }}\n            >\n              {service}\n            </Typography>\n          </Grid>\n          <Grid item xs={2} style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_source')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark,\n                  margin: '-4px 0'\n                }}\n                onClick={() => openDrawer(service, null)}\n              >\n                <AddCircleOutlineOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n        <Divider />\n        <Collapse in={open} timeout=\"auto\">\n          <div>\n            {sources.length !== 0 ? (\n              sources.map((source, id) => {\n                return <SourceCard key={id} source={source} onClick={() => openDrawer(service, source)} />;\n              })\n            ) : (\n              <Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ marginTop: theme.spacing(1) }}>\n                {t('no_sources')}\n              </Typography>\n            )}\n          </div>\n        </Collapse>\n      </div>\n    );\n  }, [classes.title, open, openDrawer, service, sources, t, theme]);\n};\n\nexport default function SignatureSources() {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { user: currentUser } = useALContext();\n  const [sources, setSources] = useState(null);\n  const apiCall = useMyAPI();\n\n  const reload = useCallback(() => {\n    if (currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1) {\n      apiCall({\n        url: '/api/v4/signature/sources/',\n        onSuccess: api_data => {\n          setSources(api_data.api_response);\n        }\n      });\n    }\n  }, [apiCall, currentUser.is_admin, currentUser.roles]);\n\n  useEffect(() => {\n    reload();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1 ? (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          <Typography variant=\"caption\">\n            {sources ? `${Object.keys(sources).length} ${t('caption')}` : <Skeleton />}\n          </Typography>\n        </div>\n\n        {sources\n          ? Object.keys(sources).map((key, id) => {\n              return <ServiceDetail key={id} service={key} sources={sources[key]} reload={reload} />;\n            })\n          : [...Array(2)].map((item, i) => {\n              return (\n                <div key={i} style={{ marginTop: theme.spacing(2) }}>\n                  <Typography variant=\"h6\" style={{ marginTop: theme.spacing(0.5), marginBottom: theme.spacing(0.5) }}>\n                    <Skeleton />\n                  </Typography>\n                  <Divider />\n                  <Skeleton variant=\"rect\" height=\"6rem\" style={{ marginTop: theme.spacing(2), borderRadius: '4px' }} />\n                </div>\n              );\n            })}\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Source } from '../service_detail';\n\nconst useStyles = makeStyles(theme => ({\n  checkbox: {\n    marginLeft: 0,\n    width: '100%',\n    '&:hover': {\n      background: theme.palette.action.hover\n    }\n  },\n  label: {\n    fontWeight: 500\n  }\n}));\n\nconst DEFAULT_HEADER = {\n  name: '',\n  value: ''\n};\n\nconst DEFAULT_SOURCE: Source = {\n  ca_cert: '',\n  default_classification: '',\n  headers: [],\n  name: '',\n  password: '',\n  pattern: '',\n  private_key: '',\n  proxy: '',\n  ssl_ignore_errors: false,\n  uri: '',\n  username: ''\n};\n\ntype SourceDialogProps = {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n  source?: Source;\n  onSave: (newSource: Source) => void;\n};\n\nconst WrappedSourceDialog = ({ open, setOpen, source, onSave }: SourceDialogProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [modified, setModified] = useState(false);\n  const { c12nDef } = useALContext();\n  const [tempSource, setTempSource] = useState(null);\n  const [tempHeader, setTempHeader] = useState({ ...DEFAULT_HEADER });\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const handleSave = () => {\n    setModified(false);\n    setOpen(false);\n    onSave(tempSource);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setModified(false);\n    setTempSource(source || DEFAULT_SOURCE);\n  };\n\n  const handleValueChange = (field, value) => {\n    setModified(true);\n    setTempSource({ ...tempSource, [field]: value });\n  };\n\n  const toggleSSLChange = () => {\n    setModified(true);\n    setTempSource({ ...tempSource, ssl_ignore_errors: !tempSource.ssl_ignore_errors });\n  };\n\n  const handleTempHeaderName = event => {\n    setTempHeader({ ...tempHeader, name: event.target.value });\n  };\n  const handleTempHeaderValue = event => {\n    setTempHeader({ ...tempHeader, value: event.target.value });\n  };\n\n  const addHeader = () => {\n    const newHeaders = [...tempSource.headers];\n    newHeaders.push(tempHeader);\n    setTempSource({ ...tempSource, headers: newHeaders });\n    setTempHeader({ ...DEFAULT_HEADER });\n    setModified(true);\n  };\n  const removeHeader = id => {\n    const newHeaders = [...tempSource.headers];\n    newHeaders.splice(id, 1);\n    setTempSource({ ...tempSource, headers: newHeaders });\n    setModified(true);\n  };\n\n  useEffect(() => {\n    if (source) {\n      setTempSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED, ...source });\n    } else {\n      setTempSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [source]);\n\n  return (\n    tempSource && (\n      <div style={{ paddingTop: theme.spacing(1) }}>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n          <DialogTitle id=\"form-dialog-title\">{t('updater.dialog.title')}</DialogTitle>\n          <DialogContent>\n            <Grid container spacing={1}>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.uri')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.uri}\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={event => handleValueChange('uri', event.target.value)}\n                />\n              </Grid>\n              {c12nDef.enforce && (\n                <Grid item xs={12}>\n                  <div className={classes.label}>{t('updater.dialog.classification')}</div>\n                  <Classification\n                    c12n={tempSource.default_classification}\n                    type=\"picker\"\n                    setClassification={value => handleValueChange('classification', value)}\n                  />\n                </Grid>\n              )}\n              <Grid item xs={12} md={6}>\n                <div>\n                  <div className={classes.label}>{t('updater.dialog.name')}</div>\n                  <TextField\n                    disabled={!!source}\n                    size=\"small\"\n                    value={tempSource.name}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('name', event.target.value)}\n                  />\n                </div>\n                <div style={{ paddingTop: theme.spacing(1) }}>\n                  <div className={classes.label}>{t('updater.dialog.pattern')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.pattern}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('pattern', event.target.value)}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <div>\n                  <div className={classes.label}>{t('updater.dialog.username')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.username}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('username', event.target.value)}\n                  />\n                </div>\n                <div style={{ paddingTop: theme.spacing(1) }}>\n                  <div className={classes.label}>{t('updater.dialog.password')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.password}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('password', event.target.value)}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.private_key')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.private_key}\n                  multiline\n                  rows={6}\n                  fullWidth\n                  variant=\"outlined\"\n                  InputProps={{ style: { fontFamily: 'monospace' } }}\n                  onChange={event => handleValueChange('private_key', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.headers')}</div>\n              </Grid>\n              {tempSource.headers.map((header, id) => {\n                return (\n                  <Grid key={id} item xs={12}>\n                    <Grid container spacing={1} alignItems=\"center\">\n                      <Grid item xs={10} md={3}>\n                        <div className={classes.label}>{header.name}</div>\n                      </Grid>\n                      <Grid item xs={10} md={8}>\n                        <TextField size=\"small\" value={header.value} fullWidth variant=\"outlined\" />\n                      </Grid>\n                      <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                        <IconButton\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n                            margin: '-4px 0'\n                          }}\n                          onClick={() => {\n                            removeHeader(id);\n                          }}\n                        >\n                          <RemoveCircleOutlineOutlinedIcon />\n                        </IconButton>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                );\n              })}\n              <Grid item xs={12}>\n                <Grid container spacing={1}>\n                  <Grid item xs={10} md={3}>\n                    <TextField\n                      size=\"small\"\n                      value={tempHeader.name}\n                      fullWidth\n                      placeholder={t('updater.dialog.headers.name')}\n                      variant=\"outlined\"\n                      onChange={handleTempHeaderName}\n                    />\n                  </Grid>\n                  <Grid item xs={10} md={8}>\n                    <TextField\n                      size=\"small\"\n                      value={tempHeader.value}\n                      fullWidth\n                      placeholder={t('updater.dialog.headers.value')}\n                      variant=\"outlined\"\n                      onChange={handleTempHeaderValue}\n                    />\n                  </Grid>\n                  <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                    <IconButton\n                      style={{\n                        color:\n                          !tempHeader.name || !tempHeader.value\n                            ? theme.palette.action.disabled\n                            : theme.palette.type === 'dark'\n                            ? theme.palette.success.light\n                            : theme.palette.success.dark,\n                        margin: '-4px 0'\n                      }}\n                      disabled={!tempHeader.name || !tempHeader.value}\n                      onClick={() => {\n                        addHeader();\n                      }}\n                    >\n                      <AddCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.proxy')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.proxy}\n                  placeholder={t('updater.dialog.proxy.placeholder')}\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={event => handleValueChange('proxy', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.ca')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.ca_cert}\n                  multiline\n                  rows={6}\n                  fullWidth\n                  variant=\"outlined\"\n                  InputProps={{ style: { fontFamily: 'monospace' } }}\n                  onChange={event => handleValueChange('ca_cert', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      size=\"small\"\n                      checked={tempSource.ssl_ignore_errors}\n                      name=\"label\"\n                      onChange={toggleSSLChange}\n                    />\n                  }\n                  label={<Typography variant=\"body2\">{t('updater.dialog.ignore_ssl')}</Typography>}\n                  className={classes.checkbox}\n                />\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              {t('updater.dialog.cancelText')}\n            </Button>\n            <Button\n              onClick={handleSave}\n              color=\"primary\"\n              disabled={!modified || tempSource.name === '' || tempSource.uri === ''}\n            >\n              {t('updater.dialog.acceptText')}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  );\n};\n\nWrappedSourceDialog.defaultProps = {\n  source: null\n};\n\nconst SourceDialog = React.memo(WrappedSourceDialog);\nexport default SourceDialog;\n","import {\n  Button,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport { SourceCard } from 'components/routes/manage/signature_sources';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport ContainerCard from './container_card';\nimport SourceDialog from './source_dialog';\n\ntype ServiceUpdaterProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceUpdater = ({ service, setService, setModified }: ServiceUpdaterProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const [editDialog, setEditDialog] = useState(false);\n  const [editedSourceID, setEditedSourceID] = useState(-1);\n  const theme = useTheme();\n\n  const handleMethodChange = event => {\n    setModified(true);\n    setService({ ...service, update_config: { ...service.update_config, method: event.target.value } });\n  };\n\n  const handleUpdateContainerChange = newContainer => {\n    setModified(true);\n    setService({ ...service, update_config: { ...service.update_config, run_options: newContainer } });\n  };\n\n  const toggleSignatures = () => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, generates_signatures: !service.update_config.generates_signatures }\n    });\n  };\n\n  const toggleWaitForUpdate = () => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, wait_for_update: !service.update_config.wait_for_update }\n    });\n  };\n\n  const handleIntervalChange = event => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, update_interval_seconds: event.target.value }\n    });\n  };\n\n  const handleDeleteSource = source_id => {\n    const newSources = service.update_config.sources;\n    newSources.splice(source_id, 1);\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, sources: newSources }\n    });\n  };\n\n  const handleEditSource = source_id => {\n    setEditDialog(true);\n    setEditedSourceID(source_id);\n  };\n\n  const handleSaveSource = newSource => {\n    const newSources = [...service.update_config.sources];\n\n    if (editedSourceID === -1) {\n      newSources.push(newSource);\n    } else {\n      newSources[editedSourceID] = newSource;\n    }\n\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, sources: newSources }\n    });\n  };\n\n  useEffect(() => {\n    if (!editDialog && editedSourceID !== -1) {\n      setEditedSourceID(-1);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editDialog]);\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('updater')}</Typography>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.method')}</Typography>\n        {service ? (\n          <Select\n            id=\"channel\"\n            fullWidth\n            value={service.update_config.method}\n            onChange={handleMethodChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n            style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n          >\n            <MenuItem value=\"run\">{t('updater.method.run')}</MenuItem>\n            {/* <MenuItem value=\"build\">{t('updater.method.build')}</MenuItem> */}\n          </Select>\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.interval')}</Typography>\n        {service ? (\n          <TextField\n            fullWidth\n            type=\"number\"\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={service.update_config.update_interval_seconds}\n            onChange={handleIntervalChange}\n          />\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('updater.run.options')}</Typography>\n        {service ? (\n          service.update_config.method === 'run' && (\n            <ContainerCard container={service.update_config.run_options} onChange={handleUpdateContainerChange} />\n          )\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.signatures')}</Typography>\n        <RadioGroup value={service.update_config.generates_signatures} onChange={toggleSignatures}>\n          <FormControlLabel value control={<Radio />} label={t('updater.signatures.yes')} />\n          <FormControlLabel value={false} control={<Radio />} label={t('updater.signatures.no')} />\n        </RadioGroup>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.wait')}</Typography>\n        <RadioGroup value={service.update_config.wait_for_update} onChange={toggleWaitForUpdate}>\n          <FormControlLabel value control={<Radio />} label={t('updater.wait.yes')} />\n          <FormControlLabel value={false} control={<Radio />} label={t('updater.wait.no')} />\n        </RadioGroup>\n      </Grid>\n\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('updater.sources')}</Typography>\n        <SourceDialog\n          open={editDialog}\n          source={editedSourceID !== -1 ? service.update_config.sources[editedSourceID] : null}\n          setOpen={setEditDialog}\n          onSave={handleSaveSource}\n        />\n        {service.update_config.sources.length !== 0 ? (\n          service.update_config.sources.map((source, i) => {\n            return (\n              <div key={i} style={{ display: 'flex', alignItems: 'center' }}>\n                <div style={{ paddingRight: theme.spacing(1), flexGrow: 1 }}>\n                  <SourceCard key={i} source={source} onClick={() => handleEditSource(i)} />\n                </div>\n                <div>\n                  <Tooltip title={t('updater.sources.remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={() => handleDeleteSource(i)}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            {t('updater.sources.none')}\n          </Typography>\n        )}\n      </Grid>\n\n      <Grid item xs={12}>\n        <SourceDialog open={dialog} setOpen={setDialog} onSave={handleSaveSource} />\n        <Button variant=\"contained\" color=\"primary\" onClick={() => setDialog(true)}>\n          {t('updater.sources.add')}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ServiceUpdater;\n","import {\n  Button,\n  CircularProgress,\n  Grid,\n  IconButton,\n  makeStyles,\n  Paper,\n  Tab,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport CustomChip from 'components/visual/CustomChip';\nimport Empty from 'components/visual/Empty';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\nimport ServiceContainer from './service_detail/container';\nimport ServiceGeneral from './service_detail/general';\nimport ServiceParams from './service_detail/parameters';\nimport ServiceUpdater from './service_detail/updater';\n\ntype ServiceProps = {\n  name?: string | null;\n  onDeleted?: () => void;\n};\n\ntype ParamProps = {\n  svc: string;\n};\n\nexport type Volume = {\n  capacity: string;\n  mount_path: string;\n  storage_class: string;\n};\n\ntype Environment = {\n  name: string;\n  value: string;\n};\n\nexport type Container = {\n  allow_internet_access: boolean;\n  command: string[];\n  cpu_cores: number;\n  environment: Environment[];\n  image: string;\n  ports: string[];\n  ram_mb: number;\n  ram_mb_min: number;\n  registry_password: string;\n  registry_username: string;\n};\n\nexport type SubmissionParams = {\n  default: string | boolean | number;\n  name: string;\n  type: 'int' | 'bool' | 'str' | 'list';\n  value: string | boolean | number;\n  list?: string[];\n};\n\nexport type Source = {\n  ca_cert: string;\n  default_classification: string;\n  headers: Environment[];\n  name: string;\n  password: string;\n  pattern: string;\n  private_key: string;\n  proxy: string;\n  ssl_ignore_errors: boolean;\n  uri: string;\n  username: string;\n};\n\ntype UpdateConfig = {\n  generates_signatures: boolean;\n  method: 'run' | 'build';\n  run_options: Container;\n  sources: Source[];\n  update_interval_seconds: number;\n  wait_for_update: boolean;\n};\n\nexport type ServiceDetail = {\n  accepts: string;\n  category: string;\n  config: {\n    [name: string]: string;\n  };\n  default_result_classification: string;\n  dependencies: {\n    [name: string]: {\n      container: Container;\n      volumes: {\n        [name: string]: Volume;\n      };\n    };\n  };\n  description: string;\n  disable_cache: boolean;\n  docker_config: Container;\n  enabled: boolean;\n  is_external: boolean;\n  licence_count: number;\n  name: string;\n  rejects: string;\n  stage: string;\n  submission_params: SubmissionParams[];\n  timeout: number;\n  update_channel: 'dev' | 'beta' | 'rc' | 'stable';\n  update_config: UpdateConfig;\n  version: string;\n};\n\nexport type ServiceConstants = {\n  categories: string[];\n  stages: string[];\n};\n\nconst useStyles = makeStyles(() => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nfunction Service({ name, onDeleted }: ServiceProps) {\n  const { svc } = useParams<ParamProps>();\n  const { t } = useTranslation(['adminServices']);\n  const [service, setService] = useState<ServiceDetail>(null);\n  const [constants, setConstants] = useState<ServiceConstants>(null);\n  const [versions, setVersions] = useState<string[]>(null);\n  const [tab, setTab] = useState('general');\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const theme = useTheme();\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const { user: currentUser } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const apiCall = useMyAPI();\n\n  function saveService() {\n    apiCall({\n      url: `/api/v4/service/${name || svc}/`,\n      method: 'POST',\n      body: service,\n      onSuccess: () => {\n        setModified(false);\n        showSuccessMessage(t('save.success'));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  const onChangeTab = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const closeDialog = () => {\n    setDeleteDialog(false);\n  };\n\n  const handleExecuteDeleteButtonClick = () => {\n    closeDialog();\n    apiCall({\n      url: `/api/v4/service/${name || svc}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        if (svc) setTimeout(() => history.push('/admin/services'), 1000);\n        onDeleted();\n      }\n    });\n  };\n\n  const handleDeleteButtonClick = () => {\n    setDeleteDialog(true);\n  };\n\n  const handleToggleEnabled = () => {\n    setModified(true);\n    setService({ ...service, enabled: !service.enabled });\n  };\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin) {\n      apiCall({\n        url: `/api/v4/service/${name || svc}/`,\n        onSuccess: api_data => {\n          setService(api_data.api_response);\n        }\n      });\n      apiCall({\n        url: '/api/v4/service/constants/',\n        onSuccess: api_data => {\n          setConstants(api_data.api_response);\n        }\n      });\n      apiCall({\n        url: `/api/v4/service/versions/${name || svc}/`,\n        onSuccess: api_data => {\n          setVersions(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return !currentUser.is_admin ? (\n    <Redirect to=\"/forbidden\" />\n  ) : (\n    <PageCenter margin={!svc ? 2 : 4} width=\"100%\">\n      <div style={{ textAlign: 'left' }}>\n        <ConfirmationDialog\n          open={deleteDialog}\n          handleClose={() => setDeleteDialog(false)}\n          handleAccept={handleExecuteDeleteButtonClick}\n          title={t('delete.title')}\n          cancelText={t('delete.cancelText')}\n          acceptText={t('delete.acceptText')}\n          text={t('delete.text')}\n        />\n        <Grid container alignItems=\"center\" spacing={3} style={{ paddingBottom: theme.spacing(2) }}>\n          <Grid item xs>\n            <Typography variant=\"h4\">{service ? service.name : <Skeleton style={{ width: '20rem' }} />}</Typography>\n            <Typography variant=\"caption\">{t('title.detail')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n            {service ? (\n              <>\n                <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n                  <Tooltip title={t('remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={handleDeleteButtonClick}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              </>\n            ) : (\n              <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n            )}\n          </Grid>\n        </Grid>\n\n        {service ? (\n          <CustomChip\n            type=\"rounded\"\n            color={service.enabled ? 'primary' : 'default'}\n            onClick={handleToggleEnabled}\n            label={service.enabled ? t('enabled') : t('disabled')}\n            fullWidth\n            style={{ marginBottom: theme.spacing(2) }}\n          />\n        ) : (\n          <Skeleton variant=\"rect\" height=\"2.5rem\" style={{ marginBottom: theme.spacing(1) }} />\n        )}\n\n        {service ? (\n          <TabContext value={tab}>\n            <Paper\n              square\n              style={{ backgroundColor: name ? theme.palette.background.default : theme.palette.background.paper }}\n            >\n              <TabList onChange={onChangeTab} indicatorColor=\"primary\" textColor=\"primary\">\n                <Tab label={t('tab.general')} value=\"general\" />\n                <Tab label={t('tab.docker')} value=\"docker\" />\n                {service.update_config ? <Tab label={t('tab.updater')} value=\"updater\" /> : <Empty />}\n                <Tab label={t('tab.params')} value=\"params\" />\n              </TabList>\n            </Paper>\n            <TabPanel value=\"general\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceGeneral\n                service={service}\n                setService={setService}\n                setModified={setModified}\n                constants={constants}\n                versions={versions}\n              />\n            </TabPanel>\n            <TabPanel value=\"docker\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceContainer service={service} setService={setService} setModified={setModified} />\n            </TabPanel>\n            <TabPanel value=\"updater\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceUpdater service={service} setService={setService} setModified={setModified} />\n            </TabPanel>\n            <TabPanel value=\"params\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n              <ServiceParams service={service} setService={setService} setModified={setModified} />\n            </TabPanel>\n          </TabContext>\n        ) : (\n          <Skeleton variant=\"rect\" height=\"10rem\" />\n        )}\n      </div>\n\n      {service && modified ? (\n        <div\n          style={{\n            paddingTop: theme.spacing(1),\n            paddingBottom: theme.spacing(1),\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            width: '100%',\n            zIndex: theme.zIndex.drawer - 1,\n            backgroundColor: theme.palette.background.default,\n            boxShadow: theme.shadows[4]\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveService}>\n            {t('save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      ) : null}\n    </PageCenter>\n  );\n}\n\nService.defaultProps = {\n  name: null,\n  onDeleted: () => null\n};\n\nexport default Service;\n","import { Button, Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { DivTable, DivTableBody, DivTableCell, DivTableHead, DivTableRow, LinkRow } from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ServiceResult = {\n  accepts: string;\n  category: string;\n  description: string;\n  enabled: boolean;\n  name: string;\n  rejects: string;\n  stage: string;\n  version: string;\n};\n\ntype UpdateData = {\n  auth: string;\n  image: string;\n  latest_tag: string;\n  update_available: boolean;\n  updating: boolean;\n};\n\ntype Updates = {\n  [name: string]: UpdateData;\n};\n\ntype ServiceTableProps = {\n  serviceResults: ServiceResult[];\n  updates: Updates;\n  setService: (svc: string) => void;\n  onUpdate: (svc: string, updateData: UpdateData) => void;\n};\n\nconst WrappedServiceTable: React.FC<ServiceTableProps> = ({ serviceResults, updates, setService, onUpdate }) => {\n  const { t } = useTranslation(['search']);\n\n  return serviceResults && updates ? (\n    serviceResults.length !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <DivTableCell>{t('header.name')}</DivTableCell>\n              <DivTableCell>{t('header.version')}</DivTableCell>\n              <DivTableCell>{t('header.category')}</DivTableCell>\n              <DivTableCell>{t('header.stage')}</DivTableCell>\n              <DivTableCell>{t('header.accepts')}</DivTableCell>\n              <DivTableCell>{t('header.enabled')}</DivTableCell>\n              <DivTableCell />\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {serviceResults.map(result => (\n              <LinkRow\n                key={result.name}\n                component={Link}\n                to={`/admin/services/${result.name}`}\n                hover\n                style={{ textDecoration: 'none' }}\n                onClick={event => {\n                  if (setService) {\n                    event.preventDefault();\n                    setService(result.name);\n                  }\n                }}\n              >\n                <DivTableCell>{result.name}</DivTableCell>\n                <DivTableCell>{result.version}</DivTableCell>\n                <DivTableCell>{result.category}</DivTableCell>\n                <DivTableCell>{result.stage}</DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-all' }}>{result.accepts}</DivTableCell>\n                <DivTableCell>\n                  {result.enabled ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  {updates[result.name] && updates[result.name].update_available && !updates[result.name].updating && (\n                    <Tooltip title={`${result.name} ${updates[result.name].latest_tag} ${t('available')}!`}>\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={event => {\n                          event.preventDefault();\n                          event.stopPropagation();\n                          onUpdate(result.name, updates[result.name]);\n                        }}\n                      >\n                        {t('update')}\n                      </Button>\n                    </Tooltip>\n                  )}\n                  {updates[result.name] && updates[result.name].updating && t('updating')}\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_results_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ServiceTable = React.memo(WrappedServiceTable);\nexport default ServiceTable;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Skeleton } from '@material-ui/lab';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport Service from 'components/routes/admin/service_detail';\nimport ServiceTable from 'components/visual/SearchResult/service';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Services() {\n  const { t } = useTranslation(['adminServices']);\n  const [serviceResults, setServiceResults] = useState(null);\n  const [updates, setUpdates] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [manifest, setManifest] = useState('');\n  const { showSuccessMessage } = useMySnackbar();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n  const { setGlobalDrawer } = useDrawer();\n\n  const handleAddService = () => {\n    apiCall({\n      method: 'PUT',\n      contentType: 'text/plain',\n      url: '/api/v4/service/',\n      body: manifest,\n      onSuccess: api_data => {\n        showSuccessMessage(t('add.success'));\n        setOpen(false);\n        setTimeout(() => reload(), 1000);\n      }\n    });\n  };\n\n  function handleManifestChange(event) {\n    setManifest(event.target.value);\n  }\n\n  const reload = () => {\n    apiCall({\n      url: '/api/v4/service/all/',\n      onSuccess: api_data => {\n        setServiceResults(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: '/api/v4/service/updates/',\n      onSuccess: api_data => {\n        setUpdates(api_data.api_response);\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser.is_admin) {\n      reload();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onUpdate = useCallback(\n    (svc, updateData) => {\n      apiCall({\n        method: 'PUT',\n        url: '/api/v4/service/update/',\n        body: {\n          name: svc,\n          update_data: updateData\n        },\n        onSuccess: () => {\n          const newUpdates = { ...updates };\n          newUpdates[svc] = { ...newUpdates[svc], updating: true };\n          setUpdates(newUpdates);\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [updates]\n  );\n\n  const onDeleted = () => {\n    setGlobalDrawer(null);\n    setTimeout(() => reload(), 1000);\n  };\n\n  const setService = useCallback(\n    service_name => {\n      setGlobalDrawer(<Service name={service_name} onDeleted={onDeleted} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n        <DialogTitle id=\"form-dialog-title\">{t('add.title')}</DialogTitle>\n        <DialogContent>\n          <TextField\n            label={t('add.paste')}\n            multiline\n            rows={24}\n            variant=\"outlined\"\n            fullWidth\n            InputProps={{\n              style: { fontFamily: 'monospace' }\n            }}\n            onChange={handleManifestChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)} color=\"secondary\">\n            {t('add.cancelText')}\n          </Button>\n          <Button onClick={handleAddService} color=\"primary\" disabled={!manifest}>\n            {t('add.acceptText')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Grid container alignItems=\"center\" spacing={3} style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid item xs>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          {serviceResults ? (\n            <Typography variant=\"caption\">{`${serviceResults.length} ${t('count')}`}</Typography>\n          ) : (\n            <Skeleton width=\"8rem\" />\n          )}\n        </Grid>\n        <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n          <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n            <Tooltip title={t('add')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => setOpen(true)}\n              >\n                <AddCircleOutlineIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <ServiceTable serviceResults={serviceResults} updates={updates} setService={setService} onUpdate={onUpdate} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import {\n  createStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport HttpsOutlinedIcon from '@material-ui/icons/HttpsOutlined';\nimport NoEncryptionOutlinedIcon from '@material-ui/icons/NoEncryptionOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: theme.spacing(1),\n      paddingLeft: theme.spacing(1),\n      wordBreak: 'break-all'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\nexport default function SiteMap() {\n  const { t } = useTranslation(['adminSiteMap']);\n  const theme = useTheme();\n  const [siteMap, setSiteMap] = useState(null);\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n\n  const privMap = {\n    R: 'success',\n    W: 'warning',\n    E: 'error'\n  };\n\n  const reqMapColor = {\n    user: 'default',\n    signature_importer: 'warning',\n    signature_manager: 'info',\n    admin: 'error'\n  };\n\n  useEffect(() => {\n    apiCall({\n      method: 'GET',\n      url: '/api/site_map/',\n      onSuccess: api_data => {\n        setSiteMap(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <div style={{ marginBottom: theme.spacing(2), textAlign: 'left' }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n        {siteMap ? (\n          <Typography variant=\"caption\">{`${siteMap.length} ${t('caption')}`}</Typography>\n        ) : (\n          <Skeleton width=\"10rem\" />\n        )}\n      </div>\n      {siteMap ? (\n        <TableContainer component={Paper}>\n          <Table size=\"small\" stickyHeader>\n            <TableHead>\n              <TableRow>\n                <StyledTableCell>{t('header.url')}</StyledTableCell>\n                <StyledTableCell>{t('header.function')}</StyledTableCell>\n                <StyledTableCell>{t('header.methods')}</StyledTableCell>\n                <StyledTableCell>{t('header.protected')}</StyledTableCell>\n                <StyledTableCell colSpan={2}>{t('header.permissions')}</StyledTableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {siteMap.map((path, id) => (\n                <TableRow key={id} hover>\n                  <StyledTableCell>{path.url}</StyledTableCell>\n                  <StyledTableCell>{path.function}</StyledTableCell>\n                  <StyledTableCell>\n                    {path.methods &&\n                      path.methods.map((method, mid) => {\n                        return <div key={mid}>{method}</div>;\n                      })}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.protected ? (\n                      <HttpsOutlinedIcon color=\"primary\" />\n                    ) : (\n                      <NoEncryptionOutlinedIcon color=\"error\" />\n                    )}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.req_priv &&\n                      path.req_priv.map((priv, pid) => {\n                        return (\n                          <CustomChip\n                            key={pid}\n                            mono\n                            type=\"rounded\"\n                            color={privMap[priv]}\n                            size=\"tiny\"\n                            label={priv}\n                            tooltip={t(`${priv}`)}\n                          />\n                        );\n                      })}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.required_type &&\n                      path.required_type.map((req, rid) => {\n                        return (\n                          <CustomChip\n                            key={rid}\n                            mono\n                            type=\"rounded\"\n                            color={reqMapColor[req]}\n                            size=\"tiny\"\n                            label={t(req)}\n                            tooltip={t(`${req}_label`)}\n                          />\n                        );\n                      })}\n                  </StyledTableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <Skeleton variant=\"rect\" height=\"10rem\" style={{ borderRadius: '4px' }} />\n      )}\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from 'components/visual/DivTable';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type UserResult = {\n  classification: string;\n  email: string;\n  groups: string[];\n  id: string;\n  is_active: boolean;\n  name: string;\n  type: string[];\n  uname: string;\n};\n\ntype SearchResults = {\n  items: UserResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype UsersTableProps = {\n  userResults: SearchResults;\n};\n\nconst WrappedUsersTable: React.FC<UsersTableProps> = ({ userResults }) => {\n  const { t } = useTranslation(['adminUsers']);\n  const { c12nDef } = useALContext();\n\n  return userResults ? (\n    userResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable size=\"small\">\n          <DivTableHead>\n            <DivTableRow style={{ whiteSpace: 'nowrap' }}>\n              <SortableHeaderCell sortField=\"uname\">{t('header.uid')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\">{t('header.fullname')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"groups\">{t('header.groups')}</SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\">{t('header.classification')}</SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"is_active\">{t('header.active')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\">{t('header.admin')}</SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {userResults.items.map(user => (\n              <LinkRow key={user.id} to={`/admin/users/${user.uname}`} hover style={{ textDecoration: 'none' }}>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{user.uname}</DivTableCell>\n                <DivTableCell>{user.name}</DivTableCell>\n                <DivTableCell>{user.groups.join(' | ')}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                    <Classification type=\"text\" size=\"tiny\" c12n={user.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell>\n                  {user.is_active ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n                <DivTableCell>\n                  {user.type.indexOf('admin') !== -1 ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_users_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst UsersTable = React.memo(WrappedUsersTable);\nexport default UsersTable;\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  Drawer,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport UsersTable from 'components/visual/SearchResult/users';\nimport ChipInput from 'material-ui-chip-input';\nimport 'moment/locale/fr';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\nconst DEFAULT_USER = {\n  avatar: null,\n  groups: ['USERS'],\n  is_active: true,\n  type: ['user'],\n  classification: null,\n  email: '',\n  name: '',\n  new_pass: '',\n  uname: '',\n  api_quota: 10,\n  submission_quota: 5\n};\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\ntype User = {\n  avatar: string;\n  email: string;\n  groups: string[];\n  is_active: boolean;\n  type: string[];\n  classification: string;\n  name: string;\n  new_pass: string;\n  uname: string;\n  api_quota: number;\n  submission_quota: number;\n};\n\nexport default function Users() {\n  const { t } = useTranslation(['adminUsers']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const [drawer, setDrawer] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, c12nDef } = useALContext();\n  const [userResults, setUserResults] = useState(null);\n  const [newUser, setNewUser] = useState<User>(DEFAULT_USER);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const { showSuccessMessage } = useMySnackbar();\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const [suggestions, setSuggestions] = useState(DEFAULT_SUGGESTION);\n  const filterValue = useRef<string>('');\n\n  const closeDrawer = () => {\n    setDrawer(false);\n  };\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query && currentUser.is_admin) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        url: `/api/v4/user/list/?${query.toString()}`,\n        onSuccess: api_data => {\n          setUserResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    setClassification(c12nDef.UNRESTRICTED);\n    apiCall({\n      url: '/api/v4/search/fields/user/',\n      onSuccess: api_data => {\n        setSuggestions([\n          ...Object.keys(api_data.api_response).filter(name => {\n            return api_data.api_response[name].indexed;\n          }),\n          ...DEFAULT_SUGGESTION\n        ]);\n      }\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onClear = () => {\n    history.push(location.pathname);\n  };\n\n  const onSearch = () => {\n    if (filterValue.current !== '') {\n      query.set('query', filterValue.current);\n      history.push(`${location.pathname}?${query.toString()}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const updateNewUser = (key, value) => {\n    setNewUser({ ...newUser, [key]: value });\n  };\n\n  function setClassification(value) {\n    setNewUser({ ...newUser, classification: value });\n  }\n\n  function toggleRole(role) {\n    const newTypes = newUser.type;\n    if (newTypes.indexOf(role) === -1) {\n      newTypes.push(role);\n    } else {\n      newTypes.splice(newTypes.indexOf(role), 1);\n    }\n    setNewUser({ ...newUser, type: newTypes });\n  }\n\n  const handleAddUser = () => {\n    apiCall({\n      method: 'PUT',\n      url: `/api/v4/user/${newUser.uname}/`,\n      body: newUser,\n      onSuccess: api_data => {\n        showSuccessMessage(t('newuser.success'));\n        setDrawer(false);\n        setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <Drawer anchor=\"right\" classes={{ paper: classes.drawerPaper }} open={drawer} onClose={closeDrawer}>\n        <div id=\"drawerTop\" style={{ padding: theme.spacing(1) }}>\n          <IconButton onClick={closeDrawer}>\n            <CloseOutlinedIcon />\n          </IconButton>\n        </div>\n        <div style={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n          <Box mb={3}>\n            <Typography variant=\"h5\">{t('newuser.title')}</Typography>\n          </Box>\n          {c12nDef.enforce && (\n            <Box mb={1}>\n              <Classification\n                type=\"picker\"\n                size=\"medium\"\n                format=\"long\"\n                c12n={newUser.classification}\n                setClassification={setClassification}\n                isUser\n              />\n            </Box>\n          )}\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.uname')}</Typography>\n              <TextField\n                autoFocus\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('uname', event.target.value)}\n                value={newUser.uname}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.name')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('name', event.target.value)}\n                value={newUser.name}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"caption\">{t('newuser.groups')}</Typography>\n              <ChipInput\n                style={{ display: 'block' }}\n                margin=\"dense\"\n                defaultValue={newUser.groups}\n                onChange={chips => updateNewUser('groups', chips)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.new_pass')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('new_pass', event.target.value)}\n                value={newUser.new_pass}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.email')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('email', event.target.value)}\n                value={newUser.email}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"caption\">{t('newuser.roles')}</Typography>\n              <div>\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('user') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('user')}\n                  label={t('role.normal_user')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('admin') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('admin')}\n                  label={t('role.admin')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('signature_manager') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('signature_manager')}\n                  label={t('role.signature_manager')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('signature_importer') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('signature_importer')}\n                  label={t('role.signature_importer')}\n                />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.api_quota')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('api_quota', event.target.value)}\n                value={newUser.api_quota}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.submission_quota')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('submission_quota', event.target.value)}\n                value={newUser.submission_quota}\n              />\n            </Grid>\n          </Grid>\n          <Box my={2} textAlign=\"right\">\n            <Button\n              disabled={buttonLoading || !newUser.uname}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleAddUser}\n            >\n              {t('newuser.save')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </Box>\n        </div>\n      </Drawer>\n\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_user')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => {\n                  setDrawer(true);\n                }}\n              >\n                <PersonAddIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <SupervisorAccountIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('admins'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:admin');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <BlockIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('disabled'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'is_active:false');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {userResults !== null && (\n              <div className={classes.searchresult}>\n                {userResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {userResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${userResults.total === 1 ? '' : 's'}`)\n                          : t(`total${userResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  method=\"GET\"\n                  url=\"/api/v4/user/list/\"\n                  total={userResults.total}\n                  setResults={setUserResults}\n                  pageSize={pageSize}\n                  index=\"user\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <UsersTable userResults={userResults} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import { makeStyles, Theme, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport CustomChip, { CustomChipProps } from 'components/visual/CustomChip';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  chiplist: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    listStyle: 'none',\n    padding: 0,\n    boxShadow: 'inherit',\n    margin: 0\n  },\n  chip: {\n    marginBottom: theme.spacing(0.5),\n    marginRight: theme.spacing(1)\n  }\n}));\n\ntype ChipListProps = {\n  items: CustomChipProps[];\n};\n\nconst ChipSkeleton = () => {\n  return <Skeleton variant=\"rect\" height=\"24px\" width=\"4rem\" style={{ borderRadius: '16px', marginRight: '4px' }} />;\n};\n\nconst ChipSkeletonInline = () => {\n  return (\n    <Skeleton\n      variant=\"rect\"\n      height=\"24px\"\n      width=\"4rem\"\n      style={{ borderRadius: '16px', marginRight: '4px', display: 'inline-block', verticalAlign: 'middle' }}\n    />\n  );\n};\n\nconst ChipList: React.FC<ChipListProps> = ({ items }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  return (\n    <ul className={classes.chiplist}>\n      {items\n        ? items.map((cp, i) => {\n            return (\n              <li key={`chiplist-${i}`}>\n                <CustomChip size=\"small\" className={classes.chip} wrap {...cp} />\n              </li>\n            );\n          })\n        : [...Array(3)].map((k, i) => {\n            return (\n              <Skeleton\n                key={`chiplist-${i}`}\n                variant=\"rect\"\n                height={theme.spacing(3)}\n                width=\"4rem\"\n                style={{\n                  verticalAlign: 'middle',\n                  display: 'inline-block',\n                  borderRadius: theme.spacing(2),\n                  marginRight: theme.spacing(0.5)\n                }}\n              />\n            );\n          })}\n    </ul>\n  );\n};\n\nexport { ChipList, ChipSkeleton, ChipSkeletonInline };\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport CustomChip from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype VerdictProps = {\n  score: number;\n  short?: boolean;\n  variant?: 'outlined' | 'default';\n  size?: 'tiny' | 'small' | 'medium';\n  type?: 'rounded' | 'text';\n  mono?: boolean;\n  fullWidth?: boolean;\n  wrap?: boolean;\n};\n\nconst WrappedVerdict: React.FC<VerdictProps> = ({\n  score,\n  type = 'rounded',\n  variant = 'default',\n  size = 'tiny',\n  short = false,\n  mono = false,\n  fullWidth = false,\n  wrap = false\n}) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const VERDICT_SCORE_MAP = {\n    info: {\n      shortText: t('verdict.info.short'),\n      text: t('verdict.info'),\n      color: 'default' as 'default',\n      textColor: theme.palette.type === 'dark' ? '#AAA' : '#888'\n    },\n    safe: {\n      shortText: t('verdict.safe.short'),\n      text: t('verdict.safe'),\n      color: 'success' as 'success',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n    },\n    suspicious: {\n      shortText: t('verdict.suspicious.short'),\n      text: t('verdict.suspicious'),\n      color: 'warning' as 'warning',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    highly_suspicious: {\n      shortText: t('verdict.highly_suspicious.short'),\n      text: t('verdict.highly_suspicious'),\n      color: 'warning' as 'warning',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    malicious: {\n      shortText: t('verdict.malicious.short'),\n      text: t('verdict.malicious'),\n      color: 'error' as 'error',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n    }\n  };\n\n  const { text, color, shortText, textColor } = VERDICT_SCORE_MAP[scoreToVerdict(score)];\n\n  return (\n    <Tooltip title={`${text} [Score: ${score}]`}>\n      <span>\n        {type === 'text' ? (\n          <span style={{ fontWeight: 500, color: textColor }}>{text}</span>\n        ) : (\n          <CustomChip\n            type={type}\n            variant={variant}\n            size={size}\n            label={short ? shortText : text}\n            color={color}\n            mono={mono}\n            fullWidth={fullWidth}\n            wrap={wrap}\n          />\n        )}\n      </span>\n    </Tooltip>\n  );\n};\n\nconst Verdict = React.memo(WrappedVerdict);\nexport default Verdict;\n","import { Box, makeStyles, Typography } from '@material-ui/core';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport RemoveOutlinedIcon from '@material-ui/icons/RemoveOutlined';\nimport CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles({\n  priority: {\n    '& > svg': {\n      verticalAlign: 'bottom'\n    }\n  }\n});\n\nconst COLOR_MAP = {\n  CRITICAL: {\n    color: 'hsl(0, 100%, 40%)',\n    chip_color: 'error',\n    arrow: <ArrowUpwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  HIGH: {\n    color: 'hsl(39, 100%, 40%)',\n    chip_color: 'warning',\n    arrow: <ArrowUpwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  MEDIUM: {\n    color: 'hsl(39, 100%, 40%)',\n    chip_color: 'warning',\n    arrow: <ArrowDownwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  LOW: {\n    color: 'hsl(120, 100%, 30%)',\n    chip_color: 'success',\n    arrow: <ArrowDownwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  undefined: {\n    color: 'inherit',\n    chip_color: 'default',\n    arrow: <RemoveOutlinedIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  null: { color: 'inherit', chip_color: 'default', arrow: <RemoveOutlinedIcon fontSize=\"small\" color=\"inherit\" /> }\n};\n\ntype AlertPriorityProps = {\n  name: string;\n  withText?: boolean;\n  withChip?: boolean;\n  size?: 'tiny' | 'small' | 'medium';\n};\n\nconst AlertPriority: React.FC<AlertPriorityProps> = ({ name, withText = false, withChip = false, size = 'small' }) => {\n  const { t } = useTranslation('alerts');\n  const classes = useStyles();\n  return withChip ? (\n    <CustomChip\n      wrap\n      size={size}\n      variant=\"outlined\"\n      color={COLOR_MAP[name].chip_color}\n      label={name ? t(`priority_${name}`) : t('priority_unset')}\n      icon={COLOR_MAP[name].arrow}\n    />\n  ) : (\n    <Box style={{ color: COLOR_MAP[name].color }} display=\"inline-block\" className={classes.priority}>\n      {COLOR_MAP[name].arrow}{' '}\n      {withText ? <Typography>{name ? t(`priority_${name}`) : t('priority_unset')}</Typography> : ''}\n    </Box>\n  );\n};\n\nexport default AlertPriority;\n","import CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst COLOR_MAP = {\n  TRIAGE: 'default',\n  MALICIOUS: 'error',\n  'NON-MALICIOUS': 'success',\n  ASSESS: 'primary'\n};\n\ntype AlertStatusProps = {\n  name: string;\n  size?: 'tiny' | 'small' | 'medium';\n};\n\nconst AlertStatus: React.FC<AlertStatusProps> = ({ name, size = 'small' as 'small' }) => {\n  const { t } = useTranslation('alerts');\n  return <CustomChip size={size} variant=\"outlined\" color={COLOR_MAP[name]} label={t(`status_${name}`)} />;\n};\n\nexport default AlertStatus;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Box, Divider, Grid, IconButton, makeStyles, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport Alert from '@material-ui/lab/Alert';\nimport useClipboard from 'commons/components/hooks/useClipboard';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport { ChipList, ChipSkeleton, ChipSkeletonInline } from 'components/visual/ChipList';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BsClipboard } from 'react-icons/bs';\nimport { Link, useParams } from 'react-router-dom';\nimport AlertPriority from './alert-priority';\nimport AlertStatus from './alert-status';\n\nconst useStyles = makeStyles(theme => ({\n  section: {\n    marginBottom: theme.spacing(2),\n    '& > hr': {\n      marginBottom: theme.spacing(1)\n    }\n  },\n  sectionTitle: {\n    fontWeight: 'bold'\n  },\n  sectionContent: {},\n  clipboardIcon: {\n    '&:hover': {\n      cursor: 'pointer',\n      transform: 'scale(1.1)'\n    }\n  }\n}));\n\ntype AlertDetailsProps = {\n  id?: string;\n  alert?: AlertItem;\n};\n\nconst SkeletonInline = () => {\n  return <Skeleton style={{ display: 'inline-block', width: '10rem' }} />;\n};\n\nconst AlertDetails: React.FC<AlertDetailsProps> = ({ id, alert }) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const { c12nDef } = useALContext();\n  const { copy } = useClipboard();\n  const [item, setItem] = useState<AlertItem>(null);\n  const { id: paramId } = useParams<{ id: string }>();\n\n  useEffect(() => {\n    const alertId = id || paramId;\n    if (alertId) {\n      apiCall({\n        url: `/api/v4/alert/${alertId}/`,\n        onSuccess: api_data => {\n          setItem(api_data.api_response);\n        }\n      });\n    }\n  }, [id, paramId]);\n\n  useEffect(() => {\n    if (alert) setItem(alert);\n  }, [alert]);\n\n  useEffect(() => {\n    function handleAlertUpdate(event: CustomEvent) {\n      const { detail } = event;\n      if (detail.id === item.id) {\n        setItem({ ...item, ...detail.changes });\n      }\n    }\n    window.addEventListener('alertUpdate', handleAlertUpdate);\n    return () => {\n      window.removeEventListener('alertUpdate', handleAlertUpdate);\n    };\n  }, [item]);\n\n  return (\n    <PageCenter margin={!alert ? 4 : 1} width=\"100%\">\n      {c12nDef.enforce && (\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: theme.spacing(2) }}>\n          <div style={{ flex: 1 }}>\n            <Classification c12n={item ? item.classification : null} type=\"outlined\" />\n          </div>\n        </div>\n      )}\n      {!alert && (\n        <div style={{ paddingBottom: theme.spacing(3), textAlign: 'left' }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t('detail.title')}</Typography>\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n              {item ? (\n                <Tooltip title={t('submission')}>\n                  <IconButton\n                    component={Link}\n                    style={{ color: theme.palette.action.active }}\n                    to={`/submission/\"${item.sid}\"`}\n                  >\n                    <AmpStoriesOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        {item && item.filtered && (\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <Alert severity=\"warning\">{t('data_filtered_msg')}</Alert>\n          </div>\n        )}\n        <Grid container spacing={1}>\n          <Grid item xs={12} md={6}>\n            {/* Alert ID Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('alert_id')}</Typography>\n              <Divider />\n              {item ? item.alert_id : <Skeleton />}\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Score Section. */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('score')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {item ? <Verdict size=\"tiny\" score={item.al.score} /> : <Skeleton />}\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* User Verdict Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('user_verdict')}</Typography>\n              <Divider />\n              {item ? (\n                <div style={{ display: 'flex' }}>\n                  <div style={{ flexGrow: 1 }}>\n                    <div>{`${item.verdict.malicious.length}x ${t('verdict.malicious')}`}</div>\n                    <div>{`${item.verdict.non_malicious.length}x ${t('verdict.non_malicious')}`}</div>\n                  </div>\n                  <div\n                    style={{\n                      flexGrow: 0,\n                      alignSelf: 'center',\n                      paddingLeft: theme.spacing(2),\n                      paddingRight: theme.spacing(2)\n                    }}\n                  >\n                    {item.verdict.malicious.length > item.verdict.non_malicious.length && <BugReportOutlinedIcon />}\n                    {item.verdict.non_malicious.length > item.verdict.malicious.length && <VerifiedUserOutlinedIcon />}\n                  </div>\n                </div>\n              ) : (\n                <>\n                  <Skeleton />\n                  <Skeleton />\n                </>\n              )}\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Priority Section. */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('priority')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <Box display=\"flex\">\n                  {item ? <AlertPriority name={item ? item.priority : null} withText withChip /> : <ChipSkeleton />}\n                </Box>\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Status Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('status')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {item ? <AlertStatus name={item.status} /> : <ChipSkeleton />}\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            {/* Labels Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('label')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <ChipList items={item ? item.label.map(label => ({ label, variant: 'outlined' })) : null} />\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n\n        {/*  Reporting Date, Type and Owner */}\n        <Grid container spacing={2}>\n          {/* Reporting Type Section */}\n          <Grid item xs={12} md={6}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('dates')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <Grid container>\n                  <Grid item xs={3} sm={2} md={4}>\n                    {t('received_date')}\n                  </Grid>\n                  <Grid item xs={9} sm={10} md={8}>\n                    {item ? `${item.ts.replace('T', ' ').replace('Z', '')} (UTC)` : <Skeleton />}\n                  </Grid>\n                  <Grid item xs={3} sm={2} md={4}>\n                    {t('alerted_date')}\n                  </Grid>\n                  <Grid item xs={9} sm={10} md={8}>\n                    {item ? `${item.reporting_ts.replace('T', ' ').replace('Z', '')} (UTC)` : <Skeleton />}\n                  </Grid>\n                </Grid>\n              </div>\n            </div>\n          </Grid>\n          {/* Type Section. */}\n          <Grid item xs={6} md={3}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('type')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>{item ? item.type : <Skeleton />}</div>\n            </div>\n          </Grid>\n          {/* Owner Section. */}\n          <Grid item xs={6} md={3}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('ownership')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {/* TODO: don't display user when none. */}\n                {item ? item.owner ? item.owner : item.hint_owner ? 'assigned' : null : <Skeleton />}\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n\n        {/* File Info */}\n        <div className={classes.section}>\n          <Typography className={classes.sectionTitle}>{t('file_info')}</Typography>\n          <Divider />\n          <div className={classes.sectionContent}>\n            <Grid container>\n              <Grid item xs={12} style={{ marginBottom: theme.spacing(1) }}>\n                <span>{item ? item.file.name : <SkeletonInline />}</span>\n                <span style={{ marginLeft: theme.spacing(1), marginRight: theme.spacing(1), wordBreak: 'break-all' }}>\n                  {item ? (\n                    <CustomChip label={item.file.type} variant=\"outlined\" size=\"small\" />\n                  ) : (\n                    <ChipSkeletonInline />\n                  )}\n                </span>\n                <Typography variant=\"caption\">\n                  {item ? `${item.file.size} (${(item.file.size / 1024).toFixed(2)} Kb)` : <SkeletonInline />}\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.md5, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  MD5:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.md5 : <SkeletonInline />}\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.sha1, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  SHA1:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.sha1 : <SkeletonInline />}\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.sha256, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  SHA256:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.sha256 : <SkeletonInline />}\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        {/* Metadata Section */}\n        {!item || (item.metadata && Object.keys(item.metadata).length > 0) ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('metadata')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <pre style={{ margin: 0, fontSize: 'larger', whiteSpace: 'pre-wrap', wordBreak: 'break-all' }}>\n                {item ? (\n                  Object.keys(item.metadata).map(k => (\n                    <Grid container spacing={1} key={`alert-metadata-${k}`}>\n                      <Grid item xs={3} sm={2}>\n                        {k}\n                      </Grid>\n                      <Grid item xs={9} sm={10}>\n                        {item.metadata[k]}\n                      </Grid>\n                    </Grid>\n                  ))\n                ) : (\n                  <>\n                    <Skeleton />\n                    <Skeleton />\n                    <Skeleton />\n                  </>\n                )}\n              </pre>\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL Attributions Section */}\n        {!item || item.al.attrib.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('attributions')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList\n                items={item ? item.al.attrib.map(label => ({ label, variant: 'outlined', color: 'error' })) : null}\n              />\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL AV Hits */}\n        {!item || item.al.av.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('avhits')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList\n                items={item ? item.al.av.map(label => ({ label, variant: 'outlined', color: 'warning' })) : null}\n              />\n            </div>\n          </div>\n        ) : null}\n\n        {/* IPs sections */}\n        {!item || item.al.ip.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('ip')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('ip_dynamic')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.ip_dynamic.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'primary'\n                          }))\n                        : null\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('ip_static')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.ip_static.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'primary'\n                          }))\n                        : null\n                    }\n                  />{' '}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Domains sections */}\n        {!item || item.al.domain.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('domain')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('domain_dynamic')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.domain_dynamic.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'success'\n                          }))\n                        : null\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('domain_static')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.domain_static.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'success'\n                          }))\n                        : null\n                    }\n                  />{' '}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Attack Section */}\n        {!item || item.attack.category.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('attack')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\" style={{ marginRight: theme.spacing(1) }}>\n                    <i>{t('attack_category')}</i>\n                  </Typography>\n                  <div style={{ verticalAlign: 'middle', display: 'inline-block' }}>\n                    <ChipList\n                      items={item ? item.attack.category.map(label => ({ label, variant: 'outlined' })) : null}\n                    />\n                  </div>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\" style={{ marginRight: theme.spacing(1) }}>\n                    <i>{t('attack_pattern')}</i>\n                  </Typography>\n                  <div style={{ verticalAlign: 'middle', display: 'inline-block' }}>\n                    <ChipList\n                      items={item ? item.attack.pattern.map(label => ({ label, variant: 'outlined' })) : null}\n                    />\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Heuristics Section */}\n        {!item || (item.heuristic && item.heuristic.name && item.heuristic.name.length !== 0) ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('heuristic')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.heuristic.name.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL Behaviours Section */}\n        {!item || item.al.behavior.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('behaviors')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.al.behavior.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n\n        {/* YARA Hits */}\n        {!item || item.al.yara.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('yara')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.al.yara.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default AlertDetails;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { makeStyles } from '@material-ui/core';\nimport { isArrowDown, isArrowLeft, isArrowRight, isArrowUp } from 'commons/addons/elements/utils/keyboard';\nimport React, { useRef } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    outline: 'none'\n  }\n}));\n\nexport interface CarouselProps {\n  disableArrowUp?: boolean;\n  disableArrowDown?: boolean;\n  disableArrowLeft?: boolean;\n  disableArrowRight?: boolean;\n  enableSwipe?: boolean;\n  children: React.ReactNode;\n  onNext: () => void;\n  onPrevious: () => void;\n}\n\nconst Carousel: React.FC<CarouselProps> = ({\n  enableSwipe,\n  disableArrowUp,\n  disableArrowDown,\n  disableArrowLeft,\n  disableArrowRight,\n  children,\n  onPrevious,\n  onNext\n}) => {\n  const classes = useStyles();\n  const touchX = useRef<number>(-1);\n  const touchY = useRef<number>(-1);\n  const touchStartX = useRef<number>(-1);\n  const touchStartY = useRef<number>(-1);\n  const touchDirection = useRef<'left' | 'right' | 'scroll'>();\n  const touchStale = useRef<boolean>(false);\n\n  const onKeyDown = (event: React.KeyboardEvent) => {\n    const { key } = event;\n    if ((!disableArrowLeft && isArrowLeft(key)) || (!disableArrowUp && isArrowUp(key))) {\n      onPrevious();\n    } else if ((!disableArrowRight && isArrowRight(key)) || (!disableArrowDown && isArrowDown(key))) {\n      onNext();\n    }\n  };\n\n  const onTouchStart = (event: React.TouchEvent) => {\n    touchX.current = event.touches[0].clientX;\n    touchY.current = event.touches[0].clientY;\n    touchStartX.current = event.touches[0].clientX;\n    touchStartY.current = event.touches[0].clientY;\n  };\n\n  const onTouchMove = (event: React.TouchEvent) => {\n    if (!touchStale.current) {\n      // Where it's at.\n      const moveX = event.touches[0].clientX;\n      const moveY = event.touches[0].clientY;\n\n      // Touch direction..\n      let nextDirection = null;\n      const xDistance = Math.abs(moveX - touchStartX.current);\n      const yDistance = Math.abs(moveY - touchStartY.current);\n\n      if (xDistance > yDistance) {\n        if (moveX > touchX.current) {\n          nextDirection = 'right';\n        } else if (moveX < touchX.current) {\n          nextDirection = 'left';\n        } else {\n          nextDirection = 'scroll';\n        }\n      } else {\n        nextDirection = 'scroll';\n      }\n\n      if (\n        touchDirection.current !== 'scroll' &&\n        nextDirection !== 'scroll' &&\n        touchDirection.current &&\n        nextDirection !== touchDirection.current\n      ) {\n        // if there is a change in direction, we mark the touch as stale.\n        // this will let users scroll left-right when there is overflow.\n        touchStale.current = true;\n        touchDirection.current = null;\n      } else {\n        // the direction of the touch motion.\n        touchDirection.current = nextDirection;\n      }\n\n      // Track last touch position to detect direction change next time around.\n      touchX.current = moveX;\n      touchY.current = moveY;\n    }\n  };\n\n  const onTouchEnd = () => {\n    if (touchDirection.current === 'right') {\n      onPrevious();\n    } else if (touchDirection.current === 'left') {\n      onNext();\n    }\n    touchDirection.current = null;\n    touchStale.current = false;\n  };\n\n  return (\n    <div\n      tabIndex={-1}\n      className={classes.container}\n      onKeyDown={onKeyDown}\n      onTouchStart={enableSwipe && onTouchStart}\n      onTouchMove={enableSwipe && onTouchMove}\n      onTouchEnd={enableSwipe && onTouchEnd}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Carousel;\n","export default class Throttler {\n  private throttleId: NodeJS.Timeout = null;\n\n  private delayId: NodeJS.Timeout = null;\n\n  private msec: number = null;\n\n  constructor(msec: number) {\n    this.msec = msec;\n    this.delay = this.delay.bind(this);\n  }\n\n  public throttle(fn: () => void): void {\n    if (!this.throttleId) {\n      this.throttleId = setTimeout(() => {\n        fn();\n        this.throttleId = null;\n      }, this.msec);\n    }\n  }\n\n  public delay(fn: () => void): void {\n    if (this.delayId) {\n      clearTimeout(this.delayId);\n    }\n    this.delayId = setTimeout(fn, this.msec);\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useCallback } from 'react';\nimport Throttler from '../../utils/throttler';\n\nconst THROTTLER = new Throttler(10);\n\nexport const LIST_SELECT_EVENTNAME = 'mui.elements.list.cursor.set';\nexport const LIST_SELECT_NEXT_EVENTNAME = 'mui.elements.list.cursor.next';\nexport const LIST_SELECT_PREVIOUS_EVENTNAME = 'mui.elements.list.cursor.previous';\n\ninterface UsingList {\n  select: (index: number) => void;\n  selectNext: () => void;\n  selectPrevious: () => void;\n  register: (handers: { onSelect; onSelectNext; onSelectPrevious }) => void;\n}\n\nexport default function useList(listId: string): UsingList {\n  const select = (cursor: number) => {\n    THROTTLER.throttle(() =>\n      window.dispatchEvent(new CustomEvent(`${LIST_SELECT_EVENTNAME}.${listId}`, { detail: { cursor } }))\n    );\n  };\n  const selectNext = () => {\n    THROTTLER.throttle(() => window.dispatchEvent(new CustomEvent(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`)));\n  };\n  const selectPrevious = () => {\n    THROTTLER.throttle(() => window.dispatchEvent(new CustomEvent(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`)));\n  };\n\n  const register = handlers => {\n    window.addEventListener(`${LIST_SELECT_EVENTNAME}.${listId}`, handlers.onSelect);\n    window.addEventListener(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`, handlers.onSelectNext);\n    window.addEventListener(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`, handlers.onSelectPrevious);\n    return () => {\n      window.removeEventListener(`${LIST_SELECT_EVENTNAME}.${listId}`, handlers.onSelect);\n      window.removeEventListener(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`, handlers.onSelectNext);\n      window.removeEventListener(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`, handlers.onSelectPrevious);\n    };\n  };\n\n  return {\n    select: useCallback(select, []),\n    selectNext: useCallback(selectNext, []),\n    selectPrevious: useCallback(selectPrevious, []),\n    register: useCallback(register, [])\n  };\n}\n","import Carousel from 'commons/addons/elements/carousel/Carousel';\nimport useListNavigator from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport React from 'react';\n\ninterface ListCarouselProps {\n  id: string;\n  enableSwipe?: boolean;\n  disableArrowUp?: boolean;\n  disableArrowDown?: boolean;\n  disableArrowLeft?: boolean;\n  disableArrowRight?: boolean;\n  children: React.ReactElement;\n}\n\nconst ListCarousel: React.FC<ListCarouselProps> = ({\n  id,\n  enableSwipe,\n  disableArrowUp,\n  disableArrowDown,\n  disableArrowLeft,\n  disableArrowRight,\n  children\n}) => {\n  const { selectNext, selectPrevious } = useListNavigator(id);\n  return (\n    <Carousel\n      enableSwipe={enableSwipe}\n      disableArrowDown={disableArrowDown}\n      disableArrowLeft={disableArrowLeft}\n      disableArrowRight={disableArrowRight}\n      disableArrowUp={disableArrowUp}\n      onNext={selectNext}\n      onPrevious={selectPrevious}\n    >\n      {children}\n    </Carousel>\n  );\n};\n\nexport default ListCarousel;\n","import { Box, IconButton } from '@material-ui/core';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useList from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport React from 'react';\n\nconst ListNavigator = ({ id }) => {\n  const { selectNext, selectPrevious } = useList(id);\n\n  const onNextItem = () => {\n    selectNext();\n  };\n\n  const onPreviousItem = () => {\n    selectPrevious();\n  };\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <IconButton onClick={onPreviousItem}>\n        <ChevronLeftIcon />\n      </IconButton>\n      <IconButton onClick={onNextItem}>\n        <ChevronRightIcon />\n      </IconButton>\n    </Box>\n  );\n};\n\nexport default ListNavigator;\n","import ListScroller from 'commons/addons/elements/lists/scrollers/ListScroller';\nimport { isArrowDown, isArrowUp, isEnter, isEscape } from 'commons/addons/elements/utils/keyboard';\nimport Throttler from 'commons/addons/elements/utils/throttler';\nimport { useState } from 'react';\n\nconst THROTTLER = new Throttler(10);\n\n// Specification interface return by custom hook\ninterface UsingListKeyboard {\n  cursor: number;\n  setCursor: (cursor: number) => void;\n  next: () => void;\n  previous: () => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => void;\n}\n\n// Specification interface to configure custom hook.\ninterface UseListKeyboard {\n  id: string;\n  count: number;\n  infinite?: boolean;\n  scroller: ListScroller;\n  pause?: boolean;\n  onCursorChange?: (cursor: number) => void;\n  onEscape?: (cursor: number) => void;\n  onEnter?: (cursor: number) => void;\n}\n\nexport default function useListKeyboard({\n  id,\n  count,\n  infinite,\n  scroller,\n  pause,\n  onCursorChange,\n  onEscape,\n  onEnter\n}: UseListKeyboard): UsingListKeyboard {\n  // Cursor state.\n  const [cursor, setCursor] = useState<number>(0);\n\n  // Update the cursor state and invoke callback if provided.\n  const updateState = (nextCursor: number) => {\n    setCursor(nextCursor);\n    scroller.scrollTo(nextCursor);\n    if (onCursorChange) {\n      onCursorChange(nextCursor);\n    }\n  };\n\n  // decrement cursor by one.\n  const next = () => {\n    const nextCursor = cursor + 1 < count || infinite ? cursor + 1 : 0;\n    updateState(nextCursor);\n  };\n\n  // increment cursor by one.\n  const previous = () => {\n    const nextCursor = cursor - 1 > -1 ? cursor - 1 : infinite ? 0 : count - 1;\n    updateState(nextCursor);\n  };\n\n  // hander:keydown\n  const onKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (!pause) {\n      // What key was hit?\n      const { key } = event;\n\n      // Check to see if we should schedule throttled event.\n      const accepts = isEnter(key) || isEscape(key) || isArrowUp(key) || isArrowDown(key);\n\n      // do we care?\n      if (accepts) {\n        // Prevent default behaviors.\n        event.preventDefault();\n        // Only run events after 10ms after receiving last one.\n        THROTTLER.throttle(() => {\n          // Handle each keys.\n          if (isEnter(key)) {\n            // key[ENTER ]: handler\n            if (onEnter) {\n              onEnter(cursor);\n            }\n          } else if (isEscape(key)) {\n            // key[ESCAPE]: handler\n            if (onEscape) {\n              onEscape(cursor);\n            }\n          } else if (isArrowUp(key)) {\n            // key[ARROW_UP]: handler\n            previous();\n          } else if (isArrowDown(key)) {\n            // key[ARROW_DOWN]: handler\n            next();\n          }\n        });\n      }\n    }\n  };\n\n  return { cursor, setCursor, next, previous, onKeyDown };\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useMetaListStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    overflow: 'auto',\n    width: '100%',\n    height: '100%',\n    outline: 'none'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%',\n    overflow: 'hidden'\n  },\n  frame: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useBooklistStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  inner: {\n    position: 'relative',\n    overflow: 'auto',\n    outline: 'none'\n  },\n  pager: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    padding: theme.spacing(1)\n  },\n  pagerSpacer: {\n    flex: 1\n  },\n  pagerItems: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  pagerItem: {\n    marginLeft: theme.spacing(1),\n    display: 'inline-block'\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useSimpleListStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'auto',\n    minHeight: 300,\n    height: '100%',\n    width: '100%',\n    outline: 'none'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%'\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useListItemStyles = makeStyles(theme => ({\n  itemCt: {\n    position: 'relative',\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    '&:hover $itemActions': {\n      display: 'inherit'\n    }\n  },\n  itemDefaultBackgrounds: {\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 17%)' : 'hsl(0, 0%, 95%)'\n    },\n    '&[data-listitem-focus=\"true\"]': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 17%)' : 'hsl(0, 0%, 95%)'\n    },\n    '&[data-listitem-selected=\"true\"]': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 15%)' : 'hsl(0, 0%, 92%)'\n    }\n  },\n  itemOuter: {\n    position: 'relative',\n    // height: '100%',  ...\n    overflow: 'auto'\n  },\n  itemInner: {\n    // height: '100%'\n  },\n  itemDivider: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0\n  },\n  itemActions: {\n    position: 'absolute',\n    top: theme.spacing(1),\n    right: theme.spacing(1),\n    display: 'none',\n    backgroundColor: 'transparent',\n    '& button': {\n      marginRight: theme.spacing(1),\n      boxShadow: theme.shadows[2]\n    }\n  }\n}));\n\nexport default function useListStyles() {\n  return {\n    listItemClasses: useListItemStyles(),\n    metaListClasses: useMetaListStyles(),\n    booklistClasses: useBooklistStyles(),\n    simpleListStyles: useSimpleListStyles()\n  };\n}\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nimport { Divider, IconButtonProps } from '@material-ui/core';\nimport useListStyles from 'commons/addons/elements/lists/hooks/useListStyles';\nimport React, { useCallback } from 'react';\n\nexport interface LineItem {\n  id: number | string;\n}\n\nexport interface LineItemAction {\n  icon: React.ReactNode;\n  props: IconButtonProps;\n}\n\nexport interface ListItemBaseProps {\n  index: number;\n  item: LineItem;\n  height?: string | number;\n  selected: boolean;\n  noDivider?: boolean;\n  disableBackgrounds?: boolean;\n  children: (item: LineItem) => React.ReactNode;\n  onClick: (item: LineItem, index: number) => void;\n  onRenderActions?: (item: LineItem, index?: number) => React.ReactNode;\n}\n\nconst ListItemBase: React.FC<ListItemBaseProps> = React.memo(\n  ({ selected, item, index, height, noDivider, disableBackgrounds, children, onRenderActions, onClick }) => {\n    const { listItemClasses: classes } = useListStyles();\n\n    const _onClick = useCallback(() => {\n      if (onClick) {\n        onClick(item, index);\n      }\n    }, [onClick, item, index]);\n\n    // console.log(`rendering: ${index}`);\n\n    const onItemActionsClick = useCallback(event => event.stopPropagation(), []);\n\n    return (\n      <div\n        className={`${classes.itemCt} ${!disableBackgrounds && classes.itemDefaultBackgrounds}`}\n        data-listitem-position={index}\n        data-listitem-selected={selected}\n        data-listitem-focus=\"false\"\n        onClick={_onClick}\n        style={{ height }}\n      >\n        {children(item)}\n        <div className={classes.itemDivider} style={{ display: noDivider ? 'none' : null }}>\n          <Divider />\n        </div>\n        <div className={classes.itemActions} onClick={onItemActionsClick}>\n          {onRenderActions && onRenderActions(item, index)}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ListItemBase;\n","import ListScroller from './ListScroller';\n\nexport default class SimpleListScroller implements ListScroller {\n  constructor(private scrollTarget: HTMLElement, private listElement: HTMLElement, private rowHeight?: number) {}\n\n  public scrollTo(position: number) {\n    const scrollElement = this.scrollElement(position);\n    if (scrollElement === null) return;\n    const offset = this.offset();\n    if (offset > 0) {\n      const block = this.getScrollBlock(scrollElement, offset);\n      if (block) scrollElement.scrollIntoView({ block });\n    } else {\n      scrollElement.scrollIntoView({ block: 'nearest' });\n    }\n  }\n\n  private getScrollBlock(el: HTMLElement, offset: number) {\n    const top = el.offsetTop;\n    const height = el.offsetHeight;\n    const listElementRect = this.listElement.getBoundingClientRect();\n    const stElementRect = this.scrollTarget.getBoundingClientRect();\n\n    if (offset - listElementRect.top !== 0 && top < -listElementRect.top + stElementRect.height / 2) {\n      return 'center';\n    }\n\n    if (top + height > -listElementRect.top + stElementRect.height) {\n      return 'end';\n    }\n\n    return null;\n  }\n\n  private scrollElement(position: number): HTMLElement {\n    return this.scrollTarget.querySelector(`[data-listitem-position=\"${position}\"]`);\n  }\n\n  private offset() {\n    if (this.scrollTarget === this.listElement) {\n      return 0;\n    }\n    const { scrollTop } = this.scrollTarget;\n    const cTop = this.listElement.getBoundingClientRect().top;\n    return scrollTop + cTop;\n  }\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport { CircularProgress } from '@material-ui/core';\nimport useListKeyboard from 'commons/addons/elements/lists/hooks/useListKeyboard';\nimport useListNavigator from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport useListStyles from 'commons/addons/elements/lists/hooks/useListStyles';\nimport ListItemBase, { LineItem } from 'commons/addons/elements/lists/item/ListItemBase';\nimport React, { useCallback, useEffect, useLayoutEffect, useRef } from 'react';\nimport ListScroller from '../scrollers/ListScroller';\nimport SimpleListScroller from '../scrollers/SimpleListScroller';\n\ninterface SimpleListProps {\n  id: string;\n  loading: boolean;\n  disableProgress?: boolean;\n  disableBackgrounds?: boolean;\n  scrollInfinite?: boolean;\n  scrollReset?: boolean;\n  scrollLoadNextThreshold?: number;\n  scrollTargetId?: string;\n  noDivider?: boolean;\n  emptyValue?: React.ReactNode;\n  items: LineItem[];\n  children: (item: LineItem) => React.ReactNode;\n  onCursorChange?: (item: LineItem, cursor?: number) => void;\n  onItemSelected?: (item: LineItem, index?: number) => void;\n  onRenderActions?: (item: LineItem, index?: number) => React.ReactNode;\n  onLoadNext?: () => void;\n}\n\nconst SimpleList: React.FC<SimpleListProps> = ({\n  id,\n  loading,\n  items,\n  disableProgress,\n  scrollTargetId,\n  scrollInfinite,\n  scrollLoadNextThreshold = 75,\n  scrollReset,\n  disableBackgrounds,\n  noDivider,\n  children,\n  emptyValue,\n  onCursorChange,\n  onItemSelected,\n  onRenderActions,\n  onLoadNext\n}) => {\n  // Hooks.\n  const { simpleListStyles: classes } = useListStyles();\n\n  // List Navigator hook to register event handling.\n  const { register } = useListNavigator(id);\n\n  // Some refs.\n  const outerEL = useRef<HTMLDivElement>();\n  const scrollEL = useRef<HTMLElement>();\n  const innerEL = useRef<HTMLDivElement>();\n  const scroller = useRef<ListScroller>();\n  const nextScrollThreshold = useRef<number>(scrollLoadNextThreshold);\n\n  // Configure the list keyboard custom hook.\n  const { cursor, next, previous, setCursor, onKeyDown } = useListKeyboard({\n    id,\n    // scrollTargetId,\n    scroller: scroller.current,\n    infinite: scrollInfinite,\n    count: items.length,\n    pause: loading,\n    onEscape: () => {\n      if (onItemSelected) {\n        onItemSelected(null, -1);\n      }\n    },\n    onEnter: (_cursor: number) => {\n      if (onItemSelected) {\n        onItemSelected(items[_cursor], _cursor);\n      }\n    },\n    onCursorChange: (_cursor: number) => {\n      const item = items[_cursor];\n      if (onCursorChange) {\n        onCursorChange(item, _cursor);\n      }\n    }\n  });\n\n  // Enable scroll event handler?\n  const onScrollEnabled = !loading && onLoadNext && scrollInfinite;\n\n  // Memoized callback for when clicking on an item.\n  const _onRowClick = useCallback(\n    (_item: LineItem, index: number) => {\n      setCursor(index);\n      if (onItemSelected) {\n        onItemSelected(_item, index);\n      }\n    },\n    [setCursor, onItemSelected]\n  );\n\n  useLayoutEffect(() => {\n    if (scrollReset) {\n      nextScrollThreshold.current = scrollLoadNextThreshold;\n      scrollEL.current.scrollTo({ top: 0 });\n    }\n  }, [scrollReset, scrollLoadNextThreshold]);\n\n  useEffect(() => {\n    // Scroll handler to track scroll position in order check if it has hit the scrollThreshold.\n    const onScroll = () => {\n      const fH = scrollEL.current.getBoundingClientRect().height;\n      const sT = scrollEL.current.scrollTop;\n      const tH = innerEL.current.scrollHeight;\n      const cP = sT + fH;\n      const scrollPerc = Math.ceil((cP / tH) * 100);\n      if (scrollPerc >= nextScrollThreshold.current && !loading) {\n        nextScrollThreshold.current = 100;\n        onLoadNext();\n      }\n    };\n\n    // Register scroll handler on scrolltarget.\n    if (scrollTargetId) {\n      scrollEL.current = document.getElementById(scrollTargetId);\n    } else {\n      scrollEL.current = outerEL.current;\n    }\n    if (scrollEL.current && onScrollEnabled) {\n      scrollEL.current.addEventListener('scroll', onScroll);\n    }\n\n    // Create the scroller computer.\n    scroller.current = new SimpleListScroller(scrollEL.current, outerEL.current);\n\n    // Unregister scroll handler.\n    return () => {\n      scrollEL.current.removeEventListener('scroll', onScroll);\n    };\n  }, [scrollTargetId, outerEL, onScrollEnabled, loading, onLoadNext]);\n\n  useEffect(() => {\n    return register({\n      onSelect: () => null,\n      onSelectNext: () => next(),\n      onSelectPrevious: () => previous()\n    });\n  });\n\n  return (\n    <div\n      id={id}\n      tabIndex={0}\n      ref={outerEL}\n      className={classes.outer}\n      onKeyDown={!loading ? onKeyDown : null}\n      style={{ overflow: !scrollTargetId ? 'auto' : null }}\n    >\n      {loading && !disableProgress && (\n        <div className={classes.progressCt}>\n          <CircularProgress className={classes.progressSpinner} />\n        </div>\n      )}\n      <div ref={innerEL} className={classes.inner}>\n        {items && items.length !== 0\n          ? items.map((item, index) => {\n              return (\n                <ListItemBase\n                  key={`list.rowitem[${index}]`}\n                  index={index}\n                  selected={cursor === index}\n                  item={item}\n                  disableBackgrounds={disableBackgrounds}\n                  noDivider={noDivider}\n                  onRenderActions={onRenderActions}\n                  onClick={_onRowClick}\n                >\n                  {children}\n                </ListItemBase>\n              );\n            })\n          : !loading\n          ? emptyValue\n          : null}\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleList;\n","import { Grid, Tooltip, useTheme } from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport GroupOutlinedIcon from '@material-ui/icons/GroupOutlined';\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport { ChipList } from 'components/visual/ChipList';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport AlertPriority from './alert-priority';\nimport AlertStatus from './alert-status';\n\ntype AlertListItemProps = {\n  item: AlertItem;\n};\nconst AlertListItem: React.FC<AlertListItemProps> = ({ item }) => {\n  const theme = useTheme();\n  const { t, i18n } = useTranslation('alerts');\n  const infoItems = [];\n\n  if (item.al.av.length !== 0) {\n    infoItems.push({ label: `${item.al.av.length}x AV`, color: 'warning', size: 'tiny', variant: 'outlined' });\n  }\n  if (item.al.ip.length !== 0) {\n    infoItems.push({\n      label: `${item.al.ip.length}x IP`,\n      color: 'primary',\n      size: 'tiny',\n      variant: 'outlined'\n    });\n  }\n  if (item.al.domain.length !== 0) {\n    infoItems.push({\n      label: `${item.al.domain.length}x DOM`,\n      color: 'success',\n      size: 'tiny',\n      variant: 'outlined'\n    });\n  }\n\n  return (\n    <div style={{ padding: theme.spacing(2) }}>\n      <Grid container spacing={1}>\n        <Grid item xs={12} md={8}>\n          <AlertPriority name={item.priority} />\n          {item.group_count && <span style={{ marginLeft: theme.spacing(1) }}>{item.group_count}x</span>}\n          <span style={{ marginLeft: theme.spacing(1), wordBreak: 'break-all' }}>{item.file.name}</span>\n        </Grid>\n        <Grid item xs={6} md={2}>\n          {item.verdict.malicious.length > item.verdict.non_malicious.length ? (\n            <Tooltip\n              title={`${item.verdict.malicious.length}/${\n                item.verdict.malicious.length + item.verdict.non_malicious.length\n              } ${t('verdict.user.malicious')}`}\n            >\n              <BugReportOutlinedIcon />\n            </Tooltip>\n          ) : null}\n          {item.verdict.non_malicious.length > item.verdict.malicious.length ? (\n            <Tooltip\n              title={`${item.verdict.non_malicious.length}/${\n                item.verdict.malicious.length + item.verdict.non_malicious.length\n              } ${t('verdict.user.non_malicious')}`}\n            >\n              <VerifiedUserOutlinedIcon />\n            </Tooltip>\n          ) : null}\n          {item.owner ? (\n            <>\n              <Tooltip title={`${t('owned_by')} ${item.owner}`}>\n                <PersonOutlineOutlinedIcon />\n              </Tooltip>\n            </>\n          ) : item.hint_owner ? (\n            <>\n              <Tooltip title={t('hint_owned_by')}>\n                <GroupOutlinedIcon />\n              </Tooltip>\n            </>\n          ) : null}\n        </Grid>\n        <Grid item xs={6} md={2} style={{ textAlign: 'right' }}>\n          <Moment fromNow locale={i18n.language}>\n            {item.reporting_ts}\n          </Moment>\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <AlertStatus name={item.status} size={'tiny' as 'tiny'} />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <ChipList\n            items={item.label\n              .map(label => ({ label, size: 'tiny' as 'tiny', variant: 'outlined' as 'outlined' }))\n              .concat(\n                item.al.attrib.map(label => ({\n                  label,\n                  size: 'tiny' as 'tiny',\n                  color: 'error',\n                  variant: 'outlined' as 'outlined'\n                }))\n              )}\n          />\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <ChipList items={infoItems} />\n        </Grid>\n        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>\n          <Verdict score={item.al.score} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default AlertListItem;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchQuery from 'components/visual/SearchBar/search-query';\nimport { useCallback } from 'react';\nimport { AlertItem } from './useAlerts';\n\n// Specification interface of this hook.\nexport interface UsingPromiseAPI {\n  fetchAlert: (alertId: string) => Promise<AlertItem>;\n  onApplyWorkflowAction: (\n    query: SearchQuery,\n    selectedStatus: string,\n    selectedPriority: string,\n    selectedLabels: string[]\n  ) => Promise<boolean>;\n  onTakeOwnership: (query: SearchQuery) => Promise<boolean>;\n  setVerdict: (alert_id: string, verdict: 'malicious' | 'non_malicious') => Promise<boolean>;\n}\n\n// Stateless hook that returns promise wrappers around AL's rest api.\nexport default function usePromiseAPI(): UsingPromiseAPI {\n  //\n  const apiCall = useMyAPI();\n\n  // Hook API: fetch the alert for the specified alert_id.\n  const fetchAlert = async (alertId: string): Promise<AlertItem> => {\n    return new Promise<AlertItem>((resolve, reject) => {\n      const url = `/api/v4/alert/${alertId}/`;\n      apiCall({\n        url,\n        onSuccess: api_data => {\n          resolve(api_data.api_response);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Hook API: apply workflow actions\n  const onApplyWorkflowAction = async (\n    query: SearchQuery,\n    selectedStatus: string,\n    selectedPriority: string,\n    selectedLabels: string[]\n  ): Promise<boolean> => {\n    const statusPromise = new Promise((resolve, reject) => {\n      if (selectedStatus) {\n        apiCall({\n          url: `/api/v4/alert/status/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedStatus,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(false);\n      }\n    });\n\n    const priorityPromise = new Promise((resolve, reject) => {\n      if (selectedPriority) {\n        apiCall({\n          url: `/api/v4/alert/priority/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedPriority,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(false);\n      }\n    });\n\n    const labelPromise = new Promise((resolve, reject) => {\n      if (selectedLabels && selectedLabels.length > 0) {\n        apiCall({\n          url: `/api/v4/alert/label/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedLabels,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(true);\n      }\n    });\n\n    return Promise.all([statusPromise, priorityPromise, labelPromise]).then(() => true);\n  };\n\n  // Hook API: take ownership of alerts matching specified query.\n  const onTakeOwnership = async (query: SearchQuery): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      apiCall({\n        url: `/api/v4/alert/ownership/batch/?${query.buildAPIQueryString()}`,\n        onSuccess: () => {\n          resolve(true);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Hook API: set the verdict on a selected alert\n  const setVerdict = async (alert_id: string, verdict: 'malicious' | 'non_malicious'): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      apiCall({\n        method: 'PUT',\n        url: `/api/v4/alert/verdict/${alert_id}/${verdict}/`,\n        onSuccess: () => {\n          resolve(true);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Wrap each exposed method in 'useCallback' hook in order to ensure they are memoized and do not\n  //  cause re-renders.\n  return {\n    fetchAlert: useCallback(fetchAlert, []),\n    onApplyWorkflowAction: useCallback(onApplyWorkflowAction, []),\n    onTakeOwnership: useCallback(onTakeOwnership, []),\n    setVerdict: useCallback(setVerdict, [])\n  };\n}\n","import { makeStyles, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport CenterFocusStrongOutlinedIcon from '@material-ui/icons/CenterFocusStrongOutlined';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport SearchQuery from 'components/visual/SearchBar/search-query';\nimport { getValueFromPath } from 'helpers/utils';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\nimport { Link } from 'react-router-dom';\nimport { AlertDrawerState } from './alerts';\nimport { AlertItem } from './hooks/useAlerts';\nimport usePromiseAPI from './hooks/usePromiseAPI';\n\nexport type PossibleVerdict = 'malicious' | 'non_malicious';\n\ninterface AlertListItemActionsProps {\n  item: AlertItem;\n  index: number;\n  currentQuery: SearchQuery;\n  setDrawer: (state: AlertDrawerState) => void;\n  onTakeOwnershipComplete?: () => void;\n  onVerdictComplete?: (verdict: PossibleVerdict) => void;\n  vertical?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  verticalSpeedDial: {\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[0],\n    '&.MuiFab-primary': {\n      backgroundColor: theme.palette.background.paper\n    },\n    '&.MuiFab-primary:hover': {\n      backgroundColor: theme.palette.action.hover\n    },\n    color: theme.palette.text.secondary\n  },\n  actionsClosed: {\n    width: 0\n  }\n}));\n\ninterface OwnerProps {\n  open: boolean;\n  query: SearchQuery;\n}\n\nconst DEFAULT_OWNER = {\n  open: false,\n  query: null\n};\n\nconst SpeedDialActionLink = props => {\n  const { to, ...others } = props;\n\n  return (\n    <Link to={to}>\n      <SpeedDialAction {...others} />\n    </Link>\n  );\n};\n\nconst AlertListItemActions: React.FC<AlertListItemActionsProps> = React.memo(\n  ({ item, index, currentQuery, setDrawer, onTakeOwnershipComplete, onVerdictComplete, vertical = false }) => {\n    const { onTakeOwnership, setVerdict } = usePromiseAPI();\n    const classes = useStyles();\n    const groupBy = currentQuery.getGroupBy();\n    const { t } = useTranslation('alerts');\n    const theme = useTheme();\n    const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n    const [takeOwnershipConfirmation, setTakeOwnershipConfirmation] = useState<OwnerProps>(DEFAULT_OWNER);\n    const [open, setOpen] = useState(false);\n    const { user: currentUser } = useALContext();\n    const hasSetMalicious = item.verdict.malicious.indexOf(currentUser.username) !== -1;\n    const hasSetNonMalicious = item.verdict.non_malicious.indexOf(currentUser.username) !== -1;\n\n    const handleVerdict = async (verdict: PossibleVerdict) => {\n      try {\n        await setVerdict(item.alert_id, verdict);\n        showSuccessMessage(t(`verdict.${verdict}.success`));\n        if (onVerdictComplete) {\n          onVerdictComplete(verdict);\n        }\n      } catch (api_data) {\n        showErrorMessage(t('verdict.failed'));\n      }\n    };\n\n    const onTakeOwnershipOkClick = async () => {\n      try {\n        await onTakeOwnership(takeOwnershipConfirmation.query);\n        setTakeOwnershipConfirmation({ open: false, query: null });\n        if (onTakeOwnershipComplete) {\n          onTakeOwnershipComplete();\n        }\n      } catch (api_data) {\n        setTakeOwnershipConfirmation({ open: false, query: null });\n      }\n    };\n\n    const onTakeOwnershipCancelClick = () => {\n      setTakeOwnershipConfirmation({ open: false, query: null });\n    };\n\n    const buildActionQuery = (): SearchQuery => {\n      const _actionQuery = currentQuery.newBase(name => name === 'tc_start');\n      _actionQuery.setGroupBy('');\n\n      if (groupBy) {\n        _actionQuery.setQuery(`${groupBy}:${getValueFromPath(item, groupBy)}`);\n      } else {\n        _actionQuery.setQuery(`alert_id:${item.alert_id}`);\n      }\n      return _actionQuery;\n    };\n\n    const buildFocusQuery = (): SearchQuery => {\n      const focusQuery = currentQuery.build();\n      focusQuery.setGroupBy('');\n      focusQuery.addFq(`${groupBy}:${getValueFromPath(item, groupBy)}`);\n      return focusQuery;\n    };\n\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleOpen = () => {\n      setOpen(true);\n    };\n\n    return (\n      <div\n        style={{\n          marginTop: vertical ? null : theme.spacing(-1),\n          marginRight: vertical ? null : theme.spacing(-1)\n        }}\n      >\n        <SpeedDial\n          ariaLabel={t('action_menu')}\n          icon={\n            <SpeedDialIcon\n              icon={vertical ? <ExpandMoreIcon /> : <ChevronLeftIcon />}\n              openIcon={vertical ? <ExpandLessIcon /> : <ChevronRightIcon />}\n            />\n          }\n          classes={{ actionsClosed: vertical ? null : classes.actionsClosed }}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          open={open}\n          FabProps={{\n            size: vertical ? 'medium' : 'small',\n            className: vertical ? classes.verticalSpeedDial : null\n          }}\n          direction={vertical ? 'down' : 'left'}\n        >\n          <SpeedDialAction\n            icon={<BugReportOutlinedIcon />}\n            tooltipTitle={t(hasSetMalicious ? 'verdict.malicious.set' : 'verdict.malicious.action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            FabProps={{\n              style: {\n                color: hasSetMalicious\n                  ? theme.palette.type === 'dark'\n                    ? theme.palette.error.light\n                    : theme.palette.error.dark\n                  : null\n              }\n            }}\n            onClick={!hasSetMalicious ? () => handleVerdict('malicious') : null}\n          />\n          <SpeedDialAction\n            icon={<VerifiedUserOutlinedIcon />}\n            tooltipTitle={t(hasSetNonMalicious ? 'verdict.non_malicious.set' : 'verdict.non_malicious.action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            FabProps={{\n              style: {\n                color: hasSetNonMalicious\n                  ? theme.palette.type === 'dark'\n                    ? theme.palette.success.light\n                    : theme.palette.success.dark\n                  : null\n              }\n            }}\n            onClick={!hasSetNonMalicious ? () => handleVerdict('non_malicious') : null}\n          />\n          <SpeedDialAction\n            icon={<BiNetworkChart style={{ height: '1.3rem', width: '1.3rem' }} />}\n            tooltipTitle={t('workflow_action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            onClick={() => {\n              const actionQuery = buildActionQuery();\n              setDrawer({\n                open: true,\n                type: 'actions',\n                actionData: {\n                  query: actionQuery,\n                  alert: {\n                    index,\n                    alert_id: item.alert_id,\n                    priority: item.priority,\n                    status: item.status,\n                    labels: item.label\n                  }\n                }\n              });\n            }}\n          />\n          <SpeedDialActionLink\n            icon={<AmpStoriesOutlinedIcon />}\n            to={`/submission/${item.sid}`}\n            tooltipTitle={t('submission')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n          />\n          {!item.owner && (\n            <SpeedDialAction\n              icon={<AssignmentIndIcon />}\n              tooltipTitle={t('take_ownership')}\n              tooltipPlacement={vertical ? 'left' : 'bottom'}\n              onClick={() => {\n                setTakeOwnershipConfirmation({ open: true, query: buildActionQuery() });\n              }}\n            />\n          )}\n          {item.group_count && (\n            <SpeedDialActionLink\n              icon={<CenterFocusStrongOutlinedIcon />}\n              to={`/alerts/?${buildFocusQuery().buildURLQueryString()}`}\n              tooltipTitle={t('focus')}\n              tooltipPlacement={vertical ? 'left' : 'bottom'}\n            />\n          )}\n        </SpeedDial>\n        {takeOwnershipConfirmation.open && (\n          <ConfirmationDialog\n            open={takeOwnershipConfirmation.open}\n            handleClose={onTakeOwnershipCancelClick}\n            handleAccept={onTakeOwnershipOkClick}\n            title={t('actions.takeownershipdiag.header')}\n            cancelText={t('actions.cancel')}\n            acceptText={t('actions.ok')}\n            text={\n              groupBy ? (\n                <>\n                  <span style={{ display: 'inline-block' }}>{t('actions.takeownershipdiag.content.grouped')}</span>\n                  <span style={{ display: 'inline-block', padding: theme.spacing(1), wordBreak: 'break-all' }}>\n                    <Typography variant=\"caption\">{`${groupBy}: ${getValueFromPath(item, groupBy)}`}</Typography>\n                  </span>\n                </>\n              ) : (\n                t('actions.takeownershipdiag.content.single')\n              )\n            }\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default AlertListItemActions;\n","export enum SearchFilterType {\n  BLANK = 'blank',\n  STATUS = 'status',\n  PRIORITY = 'priority',\n  LABEL = 'label',\n  QUERY = 'query'\n}\n\nexport const EMPTY_SEARCHFILTER = {\n  id: 'emtpy_search_filter',\n  type: SearchFilterType.BLANK,\n  label: '',\n  value: null\n};\n\nexport interface SearchFilter {\n  id: number | string;\n  type: SearchFilterType;\n  label: string;\n  value: any;\n  other?: any;\n}\n\nexport interface SearchQueryFilters {\n  tc: string;\n  groupBy: string;\n  statuses: SearchFilter[];\n  priorities: SearchFilter[];\n  labels: SearchFilter[];\n  queries: SearchFilter[];\n}\n\nexport interface SearchQueryParameter {\n  name: string;\n  value: string;\n}\n\nconst DEFAULT_TC = '4d';\nconst DEFAULT_OFFSET = 0;\nconst DEFAULT_GROUPBY = 'file.sha256';\n\nexport default class SearchQuery {\n  private params: URLSearchParams = null;\n\n  constructor(private path: string, baseSearch: string, private pageSize: number, setDefaults: boolean = true) {\n    this.params = new URLSearchParams(baseSearch);\n    if (setDefaults) {\n      if (!this.hasOffset()) {\n        this.setOffset(`${DEFAULT_OFFSET}`);\n      }\n      if (!this.hasTc()) {\n        this.setTc(DEFAULT_TC);\n      }\n      if (!this.hasRows()) {\n        this.setRows(`${pageSize}`);\n      }\n      if (!this.hasGroupBy()) {\n        this.setGroupBy(DEFAULT_GROUPBY);\n      }\n    }\n  }\n\n  public setRows(rows: string): SearchQuery {\n    this.params.set('rows', rows);\n    return this;\n  }\n\n  public hasRows(): boolean {\n    return this.params.has('rows');\n  }\n\n  public getRows(): string {\n    return this.hasRows() ? this.params.get('rows') : `${this.pageSize}`;\n  }\n\n  public getRowsNumber(): number {\n    return this.hasRows() ? parseInt(this.params.get('rows')) : this.pageSize;\n  }\n\n  public setOffset(offset: string): SearchQuery {\n    this.params.set('offset', offset);\n    return this;\n  }\n\n  public hasOffset(): boolean {\n    return this.params.has('offset');\n  }\n\n  public getOffset(): string {\n    return this.hasOffset() ? this.params.get('offset') : '0';\n  }\n\n  public getOffsetNumber(): number {\n    return this.hasOffset() ? parseInt(this.params.get('offset')) : 0;\n  }\n\n  public tickOffset(): SearchQuery {\n    this.setOffset(`${this.getOffsetNumber() + this.pageSize}`).setRows(this.getRows());\n    return this;\n  }\n\n  public setQuery(query: string): SearchQuery {\n    this.params.set('q', query);\n    return this;\n  }\n\n  public hasQuery(): boolean {\n    return this.params.has('q');\n  }\n\n  public getQuery(): string {\n    return this.params.has('q') ? this.params.get('q') : '';\n  }\n\n  public setTc(tc: string): SearchQuery {\n    this.params.set('tc', tc);\n    return this;\n  }\n\n  public hasTc(): boolean {\n    return this.params.has('tc');\n  }\n\n  public getTc(): string {\n    return this.hasTc() ? this.params.get('tc') : '';\n  }\n\n  public setTcStart(tcStart: string): SearchQuery {\n    this.params.set('tc_start', tcStart);\n    return this;\n  }\n\n  public hasTcStart(): boolean {\n    return this.params.has('tc_start');\n  }\n\n  public getTcStart(): string {\n    return this.hasTcStart() ? this.params.get('tc_start') : '';\n  }\n\n  public addFq(fq: string): SearchQuery {\n    this.params.append('fq', fq);\n    return this;\n  }\n\n  public getFqList(): string[] {\n    return this.params.getAll('fq');\n  }\n\n  public clearFq(): SearchQuery {\n    this.params.delete('fq');\n    return this;\n  }\n\n  public setGroupBy(groupBy: string): SearchQuery {\n    this.params.set('group_by', groupBy);\n    return this;\n  }\n\n  public hasGroupBy(): boolean {\n    return this.params.has('group_by');\n  }\n\n  public getGroupBy(): string {\n    return this.hasGroupBy() ? this.params.get('group_by') : 'file.sha256';\n  }\n\n  public setFilters(filters: SearchQueryFilters): SearchQuery {\n    this.reset(false).setTc(filters.tc).setGroupBy(filters.groupBy);\n    [...filters.statuses, ...filters.priorities, ...filters.labels, ...filters.queries].forEach(filter =>\n      this.addFq(filter.value)\n    );\n    return this;\n  }\n\n  public deleteQuery() {\n    this.params.delete('q');\n    return this;\n  }\n\n  public deleteTCStart() {\n    this.params.delete('tc_start');\n    return this;\n  }\n\n  public reset(clearQuery = true): SearchQuery {\n    this.setOffset('0').setRows(`${this.pageSize}`).setTc('4d').setGroupBy('file.sha256').setTcStart('').clearFq();\n    if (clearQuery) this.setQuery('');\n    return this;\n  }\n\n  public buildURLQueryString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('tc_start');\n    params.delete('offset');\n    params.delete('rows');\n    if (this.getTc() === DEFAULT_TC) params.delete('tc');\n    if (this.getGroupBy() === DEFAULT_GROUPBY) params.delete('group_by');\n    if (this.getQuery() === '') params.delete('q');\n    return params.toString();\n  }\n\n  public buildAPIQueryString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('group_by');\n    if (this.getTc() === '') params.delete('tc');\n    if (this.getQuery() === '') params.delete('q');\n    return params.toString();\n  }\n\n  public newBase(accept?: (name: string) => boolean): SearchQuery {\n    const q = new SearchQuery(this.path, '', this.pageSize);\n    const params = new URLSearchParams();\n    if (accept) {\n      this.params.forEach((value: string, key: string) => {\n        if (accept(key)) {\n          params.set(key, value);\n        }\n      });\n    }\n    q.params = params;\n    return q;\n  }\n\n  public build(): SearchQuery {\n    return new SearchQuery(this.path, this.params.toString(), this.pageSize);\n  }\n\n  public parseFilters(): SearchQueryFilters {\n    let fqs = [];\n    let statuses = [];\n    let priorities = [];\n    let labels = [];\n    let queries = [];\n\n    if (this.getFqList().length) {\n      fqs = this.getFqList().map((fq, i) => SearchQuery.parseFilterValue(i, fq));\n      statuses = fqs.filter(f => f.type === SearchFilterType.STATUS);\n      priorities = fqs.filter(f => f.type === SearchFilterType.PRIORITY);\n      labels = fqs.filter(f => f.type === SearchFilterType.LABEL);\n      queries = fqs.filter(f => f.type === SearchFilterType.QUERY);\n    }\n    return {\n      tc: this.getTc(),\n      groupBy: this.getGroupBy(),\n      statuses,\n      priorities,\n      labels,\n      queries\n    };\n  }\n\n  public static parseFilterValue(id: string | number, filter: string): SearchFilter {\n    const [type] = filter.split(':');\n    const resolveType = (): SearchFilterType => {\n      switch (type) {\n        case 'status':\n          return SearchFilterType.STATUS;\n        case 'priority':\n          return SearchFilterType.PRIORITY;\n        case 'label':\n          return SearchFilterType.LABEL;\n        default:\n          return SearchFilterType.QUERY;\n      }\n    };\n    return {\n      id,\n      type: resolveType(),\n      label: filter,\n      value: filter,\n      other: null\n    };\n  }\n}\n","/* eslint-disable no-param-reassign */\nimport { Button, FormControl, makeStyles, MenuItem, Select, TextField, Typography, useTheme } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport CustomChip from 'components/visual/CustomChip';\nimport SearchQuery, {\n  SearchFilter,\n  SearchFilterType,\n  SearchQueryFilters\n} from 'components/visual/SearchBar/search-query';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Favorite } from './hooks/useFavorites';\n\n// Default TimeConstraint(TC) value..\nconst DEFAULT_TC = '4d';\n\n// Default GroupBy value.\nconst DEFAULT_GROUPBY = 'file.sha256';\n\n//\nconst findOption = (value: string, options: { value: string; label: string }[]) => {\n  return options.find(o => o.value === value);\n};\n\n// Decorate each filter in the specified 'queryFilters' list and indicate whether they are a valueFilter.\nconst decorateQueryFilters = (queryFilters: SearchFilter[], userFavoritesFilters) => {\n  return queryFilters.map(qf => ({\n    filter: qf,\n    isFavorite: userFavoritesFilters ? userFavoritesFilters.some(vf => vf.value === qf.value) : false\n  }));\n};\n\nfunction ensureSearchFilter(selection): SearchFilter {\n  if (typeof selection === 'string') {\n    return { id: `id_${selection}`, type: SearchFilterType.QUERY, label: selection, value: selection };\n  }\n  return selection;\n}\n\n// Some styles.\nconst useStyles = makeStyles(theme => ({\n  option: {\n    backgroundColor: theme.palette.background.default\n  }\n}));\n\n// Specification interface of this component's properties.\ninterface AlertsFiltersProps {\n  searchQuery: SearchQuery;\n  valueFilters: SearchFilter[];\n  statusFilters: SearchFilter[];\n  priorityFilters: SearchFilter[];\n  labelFilters: SearchFilter[];\n  userFavorites: Favorite[];\n  globalFavorites: Favorite[];\n  onApplyBtnClick: (filters: SearchQueryFilters, query?: string) => void;\n}\n\ninterface QueryFilter {\n  filter: SearchFilter;\n  isFavorite: boolean;\n}\n\n// Implementation of th AlertsFilter component.\nconst AlertsFilters: React.FC<AlertsFiltersProps> = ({\n  searchQuery,\n  valueFilters,\n  statusFilters,\n  priorityFilters,\n  labelFilters,\n  userFavorites,\n  globalFavorites,\n  onApplyBtnClick\n}) => {\n  // Hooks...\n  const theme = useTheme();\n  const classes = useStyles();\n  const { t } = useTranslation('alerts');\n\n  const GROUPBY_OPTIONS = [\n    { value: '', label: t('groupBy.none') },\n    { value: 'file.md5', label: t('groupBy.md5') },\n    { value: 'file.name', label: t('groupBy.name') },\n    { value: 'file.sha256', label: t('groupBy.sha256') },\n    { value: 'priority', label: t('groupBy.priority') },\n    { value: 'status', label: t('groupBy.status') }\n  ];\n\n  const TC_OPTIONS = [\n    { value: '', label: t('tc.none') },\n    { value: '24h', label: t('tc.24h') },\n    { value: '4d', label: t('tc.4d') },\n    { value: '1w', label: t('tc.1week') },\n    { value: '1M', label: t('tc.1month') }\n  ];\n\n  const filters = searchQuery.parseFilters();\n  const tcOption = findOption(filters.tc, TC_OPTIONS);\n  const groupByOption = findOption(filters.groupBy, GROUPBY_OPTIONS);\n\n  // Define some states for controlled components..\n  const [selectedTc, setSelectedTc] = useState<{ value: string; label: string }>(\n    tcOption || findOption(filters.tc, TC_OPTIONS)\n  );\n  const [selectedGroupBy, setSelectedGroupBy] = useState<{ value: string; label: string }>(\n    groupByOption || findOption(DEFAULT_GROUPBY, GROUPBY_OPTIONS)\n  );\n  const [userFavoritesFilters] = useState<SearchFilter[]>([\n    ...userFavorites.map((fav, idx) => {\n      return { id: `u_${idx}`, type: SearchFilterType.QUERY, label: fav.name, value: fav.query };\n    }),\n    ...globalFavorites.map((fav, idx) => {\n      return {\n        id: `g_${idx}`,\n        type: SearchFilterType.QUERY,\n        label: `${fav.name} (${fav.created_by})`,\n        value: fav.query\n      };\n    })\n  ]);\n  const [selectedStatusFilters, setSelectedStatusFilters] = useState<SearchFilter[]>(filters.statuses);\n  const [selectedPriorityFilters, setSelectedPriorityFilters] = useState<SearchFilter[]>(filters.priorities);\n  const [selectedLabelFilters, setSelectedLabelFilters] = useState<SearchFilter[]>(filters.labels);\n  const [selectedQueryFilters, setSelectedQueryFilters] = useState<QueryFilter[]>(\n    decorateQueryFilters(filters.queries, userFavoritesFilters)\n  );\n\n  // Handler[onChange]: for the 'TC' Autocomplete component.\n  const onTcFilterChange = (value: string) => {\n    const selectedValue = TC_OPTIONS.find(o => o.value === value);\n    setSelectedTc(selectedValue);\n  };\n\n  // Handler[onChange]: for the 'Group By' Autocomplete component.\n  const onGroupByFilterChange = (value: string) => {\n    const selectedValue = GROUPBY_OPTIONS.find(o => o.value === value);\n    setSelectedGroupBy(selectedValue);\n  };\n\n  // Handler[onChange]: for the 'Status' Autocomplete component.\n  const onStatusFilterChange = (selections: SearchFilter[]) => {\n    setSelectedStatusFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Priority' Autocomplete component.\n  const onPriorityFilterChange = (selections: SearchFilter[]) => {\n    setSelectedPriorityFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Label' Autocomplete component.\n  const onLabelFilterChange = (selections: SearchFilter[]) => {\n    setSelectedLabelFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Value' Autocomplete component.\n  const onValueFilterChange = (selections: SearchFilter[]) => {\n    const _selections = selections.map(filter => ({ filter: ensureSearchFilter(filter), isFavorite: false }));\n    const favoriteFilters = selectedQueryFilters.filter(sf => sf.isFavorite);\n    setSelectedQueryFilters([..._selections, ...favoriteFilters]);\n  };\n\n  // Handler[onChange]: for the 'Favorite' Autocomplete component.\n  const onFavoriteChange = (selections: SearchFilter[]) => {\n    const _selections = selections.map(filter => ({ filter, isFavorite: true }));\n    const _valueFilters = selectedQueryFilters.filter(sf => !sf.isFavorite);\n    setSelectedQueryFilters([..._selections, ..._valueFilters]);\n  };\n\n  //\n  const onClearBtnClick = () => {\n    setSelectedTc(tcOption);\n    setSelectedGroupBy(groupByOption);\n    setSelectedStatusFilters([]);\n    setSelectedPriorityFilters([]);\n    setSelectedLabelFilters([]);\n    setSelectedQueryFilters([]);\n  };\n\n  // Handler: when clicking on 'Apply' button.\n  const _onApplyBtnClick = () => {\n    onApplyBtnClick({\n      ...filters,\n      tc: selectedTc.value,\n      groupBy: selectedGroupBy.value,\n      statuses: selectedStatusFilters,\n      priorities: selectedPriorityFilters,\n      labels: selectedLabelFilters,\n      queries: selectedQueryFilters.map(f => f.filter)\n    });\n  };\n\n  // Indicates if an Autocomplete option is selected.\n  const isSelected = (option, value): boolean => {\n    if (option === null || value === null) {\n      return false;\n    }\n    return option.value === value.value;\n  };\n\n  // Render method of a single Autocomplete component option.\n  const renderOption = (item: SearchFilter) => {\n    return (\n      <div>\n        {item.other && <CustomChip label={item.other.count} size=\"tiny\" />} {item.label}\n      </div>\n    );\n  };\n\n  // Apply updates to selected filters if required.\n  useEffect(() => {\n    const _filters = searchQuery.parseFilters();\n    setSelectedTc(findOption(_filters.tc, TC_OPTIONS) || findOption(DEFAULT_TC, TC_OPTIONS));\n    setSelectedGroupBy(findOption(_filters.groupBy, GROUPBY_OPTIONS) || findOption(DEFAULT_GROUPBY, GROUPBY_OPTIONS));\n    setSelectedStatusFilters(_filters.statuses);\n    setSelectedPriorityFilters(_filters.priorities);\n    setSelectedLabelFilters(_filters.labels);\n    setSelectedQueryFilters(decorateQueryFilters(_filters.queries, userFavoritesFilters));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, userFavoritesFilters, t]);\n\n  return (\n    <div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <div style={{ float: 'right' }}>\n          <Button variant=\"contained\" onClick={onClearBtnClick}>\n            {t('filters.clear')}\n          </Button>\n        </div>\n        <Typography variant=\"h4\">{t('filters')}</Typography>\n      </div>\n      <div style={{ marginBottom: theme.spacing(2), marginTop: theme.spacing(2) }}>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <FormControl fullWidth variant=\"outlined\">\n            <label>{t('tc')}</label>\n            <Select\n              displayEmpty\n              value={selectedTc ? selectedTc.value : DEFAULT_TC}\n              onChange={event => onTcFilterChange(event.target.value as string)}\n            >\n              {TC_OPTIONS.map(o => (\n                <MenuItem key={o.value} className={classes.option} value={o.value}>\n                  {o.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <FormControl fullWidth variant=\"outlined\">\n            <label>{t('groupBy')}</label>\n            <Select\n              displayEmpty\n              value={selectedGroupBy ? selectedGroupBy.value : DEFAULT_GROUPBY}\n              onChange={event => onGroupByFilterChange(event.target.value as string)}\n            >\n              {GROUPBY_OPTIONS.map(o => (\n                <MenuItem key={o.value} className={classes.option} value={o.value}>\n                  {o.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('status')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={statusFilters}\n            value={selectedStatusFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onStatusFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('priority')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={priorityFilters}\n            value={selectedPriorityFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onPriorityFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('labels')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={labelFilters}\n            value={selectedLabelFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onLabelFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('favorites')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={userFavoritesFilters}\n            value={selectedQueryFilters.filter(filter => filter.isFavorite).map(f => f.filter)}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onFavoriteChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('others')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={valueFilters}\n            value={selectedQueryFilters.filter(filter => !filter.isFavorite).map(f => f.filter)}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onValueFilterChange(value as SearchFilter[])}\n          />\n        </div>\n      </div>\n      <div style={{ textAlign: 'right', marginTop: theme.spacing(1) }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={_onApplyBtnClick}>\n          {t('filters.apply')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsFilters;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { useEffect, useState } from 'react';\n\nexport interface Favorite {\n  classification: string;\n  name: string;\n  query: string;\n  created_by: string;\n}\n\ninterface UsingFavorites {\n  onAddUserFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onDeleteUserFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onAddGlobalFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onDeleteGlobalFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  userFavorites: Favorite[];\n  globalFavorites: Favorite[];\n}\n\nexport default function useFavorites(): UsingFavorites {\n  // hooks.\n  const apiCall = useMyAPI();\n  const { user } = useALContext();\n\n  // states.\n  const [userFavorites, setUserFavorites] = useState<Favorite[]>([]);\n  const [globalFavorites, setGlobalFavorites] = useState<Favorite[]>([]);\n\n  // Hook API:\n  const onAddUserFavorite = (\n    favorite: { query: string; name: string },\n    onSuccess: (favorite: { query: string; name: string }) => void\n  ) => {\n    const url = `/api/v4/user/favorites/${user.username}/alert/`;\n    apiCall({\n      url,\n      method: 'put',\n      body: favorite,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadUserFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onDeleteUserFavorite = (favorite: Favorite, onSuccess: (favorite: Favorite) => void) => {\n    const url = `/api/v4/user/favorites/${user.username}/alert/`;\n    apiCall({\n      url,\n      method: 'delete',\n      body: favorite.name,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadUserFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onLoadUserFavorites = () => {\n    const url = `/api/v4/user/favorites/${user.username}/`;\n    apiCall({\n      url,\n      onSuccess: api_data => {\n        setUserFavorites(api_data.api_response.alert);\n      }\n    });\n  };\n\n  // Hook API:\n  const onLoadGlobalFavorites = () => {\n    const url = '/api/v4/user/favorites/__global__/';\n    apiCall({\n      url,\n      onSuccess: api_data => {\n        setGlobalFavorites(api_data.api_response.alert);\n      }\n    });\n  };\n\n  const onAddGlobalFavorite = (\n    favorite: { query: string; name: string },\n    onSuccess: (favorite: { query: string; name: string }) => void\n  ) => {\n    const url = '/api/v4/user/favorites/__global__/alert/';\n    const fav = { ...favorite, created_by: user.username };\n    apiCall({\n      url,\n      method: 'put',\n      body: fav,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadGlobalFavorites();\n          if (onSuccess) {\n            onSuccess(fav);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onDeleteGlobalFavorite = (favorite: Favorite, onSuccess: (favorite: Favorite) => void) => {\n    const url = '/api/v4/user/favorites/__global__/alert/';\n    apiCall({\n      url,\n      method: 'delete',\n      body: favorite.name,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadGlobalFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Load favorites.\n  useEffect(() => {\n    onLoadUserFavorites();\n    onLoadGlobalFavorites();\n  }, []);\n\n  // The Custom Hook API:\n  return {\n    userFavorites,\n    globalFavorites,\n    onAddUserFavorite,\n    onAddGlobalFavorite,\n    onDeleteUserFavorite,\n    onDeleteGlobalFavorite\n  };\n}\n","import { Button, Divider, Switch, TextField, Typography, useTheme } from '@material-ui/core';\nimport useALContext from 'components/hooks/useALContext';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { ChipList } from 'components/visual/ChipList';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport useFavorites, { Favorite } from './hooks/useFavorites';\n\ninterface AlertsFiltersFavoritesProps {\n  initValue?: string;\n  onSaved: (favorite: { name: string; query: string }) => void;\n  onSelected: (favorite: Favorite) => void;\n  onDeleted: (favorite: Favorite) => void;\n}\n\nconst AlertsFiltersFavorites: React.FC<AlertsFiltersFavoritesProps> = ({\n  initValue,\n  onSaved,\n  onSelected,\n  onDeleted\n}) => {\n  const theme = useTheme();\n  const { t } = useTranslation('favorites');\n  const {\n    userFavorites,\n    globalFavorites,\n    onAddUserFavorite,\n    onDeleteUserFavorite,\n    onAddGlobalFavorite,\n    onDeleteGlobalFavorite\n  } = useFavorites();\n  const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n  const { c12nDef, user: currentUser } = useALContext();\n  const [formValid, setFormValid] = useState<boolean>(false);\n  const [classification, setClassification] = useState<string>(c12nDef.UNRESTRICTED);\n  const [queryValue, setQueryValue] = useState<{ valid: boolean; value: string }>({ valid: true, value: initValue });\n  const [nameValue, setNameValue] = useState<{ valid: boolean; value: string }>({ valid: true, value: '' });\n  const [publicSwitch, setPublicSwitch] = useState<boolean>(false);\n  const [confirmation, setConfirmation] = useState<{ open: boolean; favorite: Favorite; isPublic: boolean }>({\n    open: false,\n    favorite: null,\n    isPublic: false\n  });\n\n  const validateForm = (\n    _queryValue: { valid: boolean; value: string },\n    _nameValue: { valid: boolean; value: string }\n  ) => {\n    setFormValid(!!_queryValue.value && !!_nameValue.value);\n  };\n\n  const _onDelete = (favorite: Favorite, isPublic: boolean) => {\n    if (isPublic) {\n      onDeleteGlobalFavorite(favorite, () => {\n        onDeleted(favorite);\n      });\n    } else {\n      onDeleteUserFavorite(favorite, () => {\n        onDeleted(favorite);\n      });\n    }\n  };\n\n  const _onSave = () => {\n    if (queryValue.value && nameValue.value) {\n      const favorite: Favorite = {\n        query: queryValue.value,\n        name: nameValue.value,\n        classification: publicSwitch && c12nDef.enforce ? classification : c12nDef.UNRESTRICTED,\n        created_by: currentUser.username\n      };\n\n      if (publicSwitch) {\n        onAddGlobalFavorite(favorite, () => {\n          showSuccessMessage(t('added.global'));\n          onSaved(favorite);\n        });\n      } else {\n        onAddUserFavorite(favorite, () => {\n          showSuccessMessage(t('added.personal'));\n          onSaved(favorite);\n        });\n      }\n    } else {\n      showErrorMessage(t('form.field.required'));\n    }\n  };\n\n  const _onDeleteClick = (favorite: Favorite, isPublic: boolean) => {\n    setConfirmation({ open: true, favorite, isPublic });\n  };\n\n  const _onConfirmOkClick = () => {\n    const { favorite, isPublic } = confirmation;\n    _onDelete(favorite, isPublic);\n    setConfirmation({ open: false, favorite: null, isPublic: false });\n  };\n\n  const _onConfirmCancelClick = () => {\n    setConfirmation({ open: false, favorite: null, isPublic: false });\n  };\n\n  const _onSelect = (favorite: Favorite) => {\n    onSelected(favorite);\n  };\n\n  const onQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const _queryValue = { valid: !!value, value };\n    setQueryValue(_queryValue);\n    validateForm(_queryValue, nameValue);\n  };\n\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const _nameValue = { valid: !!value, value };\n    setNameValue({ valid: !!value, value });\n    validateForm(queryValue, _nameValue);\n  };\n\n  const onSwitchChange = (isPublic: boolean) => {\n    setPublicSwitch(isPublic);\n  };\n\n  return (\n    <div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('addfavorites')}</Typography>\n      </div>\n      <div style={{ textAlign: 'right' }}>\n        <Button\n          onClick={() => onSwitchChange(!publicSwitch)}\n          size=\"small\"\n          color=\"primary\"\n          disableElevation\n          disableRipple\n        >\n          <div>{t('private')}</div>\n          <div style={{ flex: 1 }}>\n            <Switch checked={publicSwitch} onChange={event => onSwitchChange(event.target.checked)} color=\"primary\" />\n          </div>\n          <div>{t('public')}</div>\n        </Button>\n      </div>\n      {publicSwitch && c12nDef.enforce ? (\n        <Classification type=\"picker\" c12n={classification} setClassification={setClassification} />\n      ) : (\n        <div style={{ padding: theme.spacing(2.25) }} />\n      )}\n      <div style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(2) }}>\n        <div>\n          <Typography variant=\"subtitle2\">{t('query')}</Typography>\n          <TextField\n            error={!queryValue.valid}\n            variant=\"outlined\"\n            value={queryValue.value}\n            onChange={onQueryChange}\n            onBlur={() => setQueryValue({ ...queryValue, valid: !!queryValue.value })}\n            fullWidth\n          />\n        </div>\n        <div style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('name')}</Typography>\n          <TextField\n            error={!nameValue.valid}\n            variant=\"outlined\"\n            value={nameValue.value}\n            onChange={onNameChange}\n            onBlur={() => setNameValue({ ...nameValue, valid: !!nameValue.value })}\n            fullWidth\n          />\n        </div>\n      </div>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingBottom: theme.spacing(4), textAlign: 'right' }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={_onSave} disabled={!formValid}>\n          {t('save')}\n        </Button>\n      </div>\n\n      {/* Your personnal favorites  */}\n      <Typography variant=\"h6\">{t('yourfavorites')}</Typography>\n      <Divider />\n      <div style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(4) }}>\n        <ChipList\n          items={userFavorites.map(f => ({\n            size: 'medium',\n            variant: 'outlined',\n            label: f.name,\n            tooltip: f.query,\n            onClick: () => _onSelect(f),\n            onDelete: () => _onDeleteClick(f, false)\n          }))}\n        />\n      </div>\n\n      {/* The global favorites */}\n      <Typography variant=\"h6\">{t('globalfavorites')}</Typography>\n      <Divider />\n      <div style={{ marginTop: theme.spacing(1) }}>\n        <ChipList\n          items={globalFavorites.map(f => ({\n            size: 'medium',\n            variant: 'outlined',\n            label: f.name,\n            tooltip: f.query,\n            onClick: () => _onSelect(f),\n            onDelete: () => _onDeleteClick(f, true)\n          }))}\n        />\n      </div>\n\n      <ConfirmationDialog\n        open={confirmation.open}\n        handleClose={_onConfirmCancelClick}\n        handleAccept={_onConfirmOkClick}\n        title={t('confirmdiag.header')}\n        cancelText={t('cancel')}\n        acceptText={t('ok')}\n        text={\n          <>\n            <span style={{ display: 'block', paddingBottom: theme.spacing(1) }}>{t('confirmdiag.content')}</span>\n            <span style={{ display: 'block', fontWeight: 500 }}>\n              {confirmation.favorite ? confirmation.favorite.name : null}\n            </span>\n          </>\n        }\n      />\n    </div>\n  );\n};\n\nexport default AlertsFiltersFavorites;\n","import { ChipList } from 'components/visual/ChipList';\nimport SearchQuery, { SearchFilter, SearchQueryFilters } from 'components/visual/SearchBar/search-query';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface AlertFiltersSelectedProps {\n  searchQuery: SearchQuery;\n  hideQuery?: boolean;\n  hideGroupBy?: boolean;\n  disableActions?: boolean;\n  onChange?: (filters: SearchQueryFilters, query?: string) => void;\n}\n\nconst AlertsFiltersSelected: React.FC<AlertFiltersSelectedProps> = ({\n  searchQuery,\n  hideQuery = false,\n  hideGroupBy = false,\n  disableActions = false,\n  onChange = () => null\n}) => {\n  const { t } = useTranslation('alerts');\n\n  const filters = searchQuery.parseFilters();\n  const query = searchQuery.getQuery();\n\n  const onDeleteMainQuery = () => {\n    onChange(filters, '');\n  };\n\n  const onDeleteTC = () => {\n    onChange({ ...filters, tc: '' });\n  };\n\n  const onDeleteGroupBy = () => {\n    onChange({ ...filters, groupBy: '' });\n  };\n\n  const onDeleteStatus = (item: SearchFilter) => {\n    const _statuses = filters.statuses.filter(s => s.value !== item.value);\n    onChange({ ...filters, statuses: _statuses });\n  };\n\n  const onDeletePriority = (item: SearchFilter) => {\n    const _priorities = filters.priorities.filter(s => s.value !== item.value);\n    onChange({ ...filters, priorities: _priorities });\n  };\n\n  const onDeleteLabel = (item: SearchFilter) => {\n    const _labels = filters.labels.filter(s => s.value !== item.value);\n    onChange({ ...filters, labels: _labels });\n  };\n\n  const onDeleteQuery = (item: SearchFilter) => {\n    const _queries = filters.queries.filter(s => s.value !== item.value);\n    onChange({ ...filters, queries: _queries });\n  };\n\n  return (\n    <div>\n      <div>\n        {query && !hideQuery && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[query].map(v => ({\n                variant: 'outlined',\n                label: `${v}`,\n                onDelete: !disableActions ? () => onDeleteMainQuery() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.tc && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[filters.tc].map(v => ({\n                variant: 'outlined',\n                label: `${t('tc')}=${v}`,\n                onDelete: !disableActions ? () => onDeleteTC() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.groupBy && !hideGroupBy && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[filters.groupBy].map(v => ({\n                variant: 'outlined',\n                label: `${t('groupBy')}=${v}`,\n                onDelete: !disableActions ? () => onDeleteGroupBy() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.statuses.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.statuses.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteStatus(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.priorities.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.priorities.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeletePriority(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.labels.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.labels.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteLabel(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.queries.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.queries.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteQuery(v) : null\n              }))}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsFiltersSelected;\n","import { Button, CircularProgress, TextField, Typography, useTheme } from '@material-ui/core';\nimport { Alert, Autocomplete } from '@material-ui/lab';\nimport SearchQuery, { SearchFilter } from 'components/visual/SearchBar/search-query';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AlertsFiltersSelected from './alerts-filters-selected';\n\nconst POSSIBLE_STATUS = ['ASSESS', 'MALICIOUS', 'NON-MALICIOUS'];\nconst POSSIBLE_PRIORITY = ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL'];\nconst DEFAULT_LABELS = [\n  'PHISHING',\n  'CRIME',\n  'ATTRIBUTED',\n  'WHITELISTED',\n  'FALSE_POSITIVE',\n  'REPORTED',\n  'MITIGATED',\n  'PENDING'\n];\n\ninterface AlertsWorkflowActionsProps {\n  searchQuery: SearchQuery;\n  alert: any;\n  labelFilters: SearchFilter[];\n  onApplyBtnClick: (status: string, selectedPriority: string, selectedLabels: string[]) => void;\n}\n\nconst AlertsWorkflowActions: React.FC<AlertsWorkflowActionsProps> = ({\n  searchQuery,\n  alert,\n  labelFilters,\n  onApplyBtnClick\n}) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const [formValid, setFormValid] = useState<boolean>(false);\n  const [applying, setApplying] = useState<boolean>(false);\n  const [possibleLabels] = useState<string[]>([...DEFAULT_LABELS, ...labelFilters.map(val => val.label)]);\n  const [selectedStatus, setSelectedStatus] = useState<string>(null);\n  const [selectedPriority, setSelectedPriority] = useState<string>(null);\n  const [selectedLabels, setSelectedLabels] = useState<string[]>([]);\n\n  const validateForm = (status: string, priority: string, labels: string[]) => {\n    const valid = (status || priority || (labels && labels.length > 0)) as boolean;\n    setFormValid(valid);\n  };\n\n  const onStatusChange = (selection: string) => {\n    validateForm(selection, selectedPriority, selectedLabels);\n    setSelectedStatus(selection);\n  };\n\n  const onPriorityChange = (selection: string) => {\n    validateForm(selectedStatus, selection, selectedLabels);\n    setSelectedPriority(selection);\n  };\n\n  const onLabelChange = (selections: string[]) => {\n    validateForm(selectedStatus, selectedPriority, selections);\n    setSelectedLabels(selections.map(val => val.toUpperCase()));\n  };\n\n  const _onApplyBtnClick = () => {\n    if (formValid) {\n      setApplying(true);\n      onApplyBtnClick(selectedStatus, selectedPriority, selectedLabels);\n    }\n  };\n\n  const query = searchQuery.getQuery();\n\n  return (\n    <div>\n      <div style={{ margin: theme.spacing(1), marginBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('workflow.title')}</Typography>\n      </div>\n      <div style={{ margin: theme.spacing(1) }}>\n        <Alert severity={query && query.startsWith('alert_id') && alert ? 'info' : 'warning'}>\n          {query && query.startsWith('alert_id') && alert ? t('workflow.impact.low') : t('workflow.impact.high')}\n        </Alert>\n      </div>\n\n      <div style={{ margin: theme.spacing(1) }}>\n        <div\n          style={{\n            wordBreak: 'break-all',\n            marginTop: theme.spacing(1),\n            padding: theme.spacing(2),\n            color: theme.palette.primary.light,\n            backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[200]\n          }}\n        >\n          <AlertsFiltersSelected searchQuery={searchQuery} disableActions hideGroupBy />\n        </div>\n      </div>\n\n      <div style={{ margin: theme.spacing(1), marginTop: theme.spacing(2) }}>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            options={POSSIBLE_STATUS}\n            value={selectedStatus}\n            renderInput={params => <TextField {...params} label={t('status')} variant=\"outlined\" />}\n            onChange={(event, value) => onStatusChange(value as string)}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            options={POSSIBLE_PRIORITY}\n            value={selectedPriority}\n            renderInput={params => <TextField {...params} label={t('priority')} variant=\"outlined\" />}\n            onChange={(event, value) => onPriorityChange(value as string)}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            multiple\n            freeSolo\n            options={possibleLabels}\n            value={selectedLabels}\n            renderInput={params => <TextField {...params} label={t('labels')} variant=\"outlined\" />}\n            onChange={(event, value) => onLabelChange(value as string[])}\n          />\n        </div>\n      </div>\n      <div style={{ textAlign: 'right', marginTop: theme.spacing(1) }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={_onApplyBtnClick}\n          startIcon={applying ? <CircularProgress size={20} /> : null}\n          disabled={applying || !formValid}\n        >\n          {t('workflow.apply')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsWorkflowActions;\n","import { LineItem } from 'commons/addons/elements/lists/item/ListItemBase';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { ALField } from 'components/hooks/useMyUser';\nimport SearchQuery, { SearchFilter, SearchFilterType } from 'components/visual/SearchBar/search-query';\nimport { useCallback, useEffect, useReducer, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst DEFAULT_STATE = {\n  loading: true,\n  total: 0,\n  countedTotal: 0,\n  alerts: []\n};\n\nexport interface AlertFile {\n  md5: string;\n  name: string;\n  sha1: string;\n  sha256: string;\n  size: number;\n  type: string;\n}\n\nexport interface AlertUpdateItem {\n  label?: string[];\n  owner?: string;\n  priority?: string;\n  status?: string;\n  verdict?: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n}\n\nexport interface AlertItem extends LineItem {\n  al: {\n    attrib: string[];\n    av: string[];\n    behavior: string[];\n    domain: string[];\n    domain_dynamic: string[];\n    domain_static: string[];\n    ip: string[];\n    ip_dynamic: string[];\n    ip_static: string[];\n    request_end_time: string[];\n    score: number;\n    yara: string[];\n  };\n  alert_id: string;\n  attack: {\n    category: string[];\n    pattern: string[];\n  };\n  extended_scan: string;\n  classification: string;\n  file: AlertFile;\n  filtered: boolean;\n  label: string[];\n  group_count: number;\n  heuristic: { name: string[] };\n  hint_owner: boolean;\n  metadata: {\n    [key: string]: any;\n  }[];\n  owner: string;\n  priority: string;\n  reporting_ts: string;\n  sid: string;\n  status: string;\n  ts: string;\n  type: string;\n  verdict: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n}\n\n// The Custom Hook API.\ninterface UsingAlerts {\n  loading: boolean;\n  fields: ALField[];\n  total: number;\n  countedTotal: number;\n  alerts: AlertItem[];\n  searchQuery: SearchQuery;\n  labelFilters: SearchFilter[];\n  priorityFilters: SearchFilter[];\n  statusFilters: SearchFilter[];\n  valueFilters: SearchFilter[];\n  updateAlert: (alertIndex: number, alertChanges: AlertUpdateItem) => void;\n  updateQuery: (query: SearchQuery) => void;\n  onLoad: (onComplete?: (success: boolean) => void) => void;\n  onLoadMore: (onComplete?: (success: boolean) => void) => void;\n}\n\ninterface AlertState {\n  loading: boolean;\n  total: number;\n  countedTotal: number;\n  alerts: AlertItem[];\n}\n\ninterface AlertMessage {\n  action: 'set' | 'append' | 'update';\n  loading?: boolean;\n  total?: number;\n  countedTotal?: number;\n  alerts?: AlertItem[];\n  updateAlert?: {\n    alertIndex: number;\n    alertChanges: AlertUpdateItem;\n  };\n}\n\nconst alertStateReducer = (state: AlertState, newState: AlertMessage) => {\n  const { action, loading, total, countedTotal, alerts, updateAlert } = newState;\n\n  if (action === 'update') {\n    const newAlertList = [...state.alerts];\n    newAlertList[updateAlert.alertIndex] = { ...newAlertList[updateAlert.alertIndex], ...updateAlert.alertChanges };\n    return {\n      loading: state.loading,\n      total: state.total,\n      countedTotal: state.countedTotal,\n      alerts: newAlertList\n    };\n  }\n\n  if (action === 'set') {\n    return {\n      loading: loading !== undefined ? loading : state.loading,\n      total: total !== undefined ? total : state.total,\n      countedTotal: countedTotal !== undefined ? countedTotal : state.countedTotal,\n      alerts: alerts || state.alerts\n    };\n  }\n\n  return {\n    loading: loading !== undefined ? loading : state.loading,\n    total: total !== undefined ? total : state.total,\n    countedTotal: countedTotal !== undefined ? state.countedTotal + countedTotal : state.countedTotal,\n    alerts: alerts ? state.alerts.concat(alerts) : state.alerts\n  };\n};\n\n// Custom Hook implementation for dealing with alerts.\nexport default function useAlerts(pageSize: number): UsingAlerts {\n  const location = useLocation();\n  const apiCall = useMyAPI();\n  const { indexes: fieldIndexes } = useALContext();\n  const [searchQuery, setSearchQuery] = useState<SearchQuery>(null);\n  const [fields, setFields] = useState<ALField[]>([]);\n  const [statusFilters, setStatusFilters] = useState<SearchFilter[]>([]);\n  const [priorityFilters, setPriorityFilters] = useState<SearchFilter[]>([]);\n  const [labelFilters, setLabelFilters] = useState<SearchFilter[]>([]);\n  const [valueFilters, setValueFilters] = useState<SearchFilter[]>([]);\n  const [state, setState] = useReducer(alertStateReducer, DEFAULT_STATE);\n\n  // parse list of alert result: add an index field.\n  const parseResult = (responseItems, offset) => {\n    const items = responseItems.map((item, index) => ({ ...item, id: item.alert_id, index: index + offset }));\n    return items;\n  };\n\n  // format alert api url using specified indexes.\n  const buildUrl = useCallback(() => {\n    if (searchQuery.getGroupBy()) {\n      return `/api/v4/alert/grouped/${searchQuery.getGroupBy()}/?${searchQuery.buildAPIQueryString()}`;\n    }\n    return `/api/v4/alert/list/?${searchQuery.buildAPIQueryString()}`;\n  }, [searchQuery]);\n\n  // Hook API: update an alert in the list\n  const updateAlert = useCallback((alertIndex: number, alertChanges: AlertUpdateItem) => {\n    setState({ action: 'update', updateAlert: { alertIndex, alertChanges } });\n  }, []);\n\n  // Hook API: load/reload all the alerts from start.\n  // resets the accumulated list.\n  const onLoad = useCallback(\n    (onComplete?: (success: boolean) => void) => {\n      setState({ action: 'set', loading: true });\n      apiCall({\n        url: buildUrl(),\n        onSuccess: api_data => {\n          const { items: _items, tc_start: executionTime, total, counted_total: countedTotal } = api_data.api_response;\n          const items = parseResult(_items, 0);\n\n          // Set time constraint start\n          if (executionTime) {\n            searchQuery.setTcStart(executionTime);\n          } else if (!searchQuery.getTcStart() && items.length > 0) {\n            searchQuery.setTcStart(items[0].reporting_ts);\n          }\n\n          setState({\n            action: 'set',\n            loading: false,\n            total,\n            countedTotal: searchQuery.getGroupBy() ? countedTotal : _items.length,\n            alerts: items\n          });\n          if (onComplete) {\n            onComplete(true);\n          }\n        },\n        onFailure: () => {\n          setState({ action: 'set', loading: false });\n          if (onComplete) {\n            onComplete(false);\n          }\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [searchQuery]\n  );\n\n  // Hook API: get alerts for specified index.\n  const onLoadMore = useCallback(\n    (onComplete?: (success: boolean) => void) => {\n      // Move offset by one increment.\n      searchQuery.tickOffset();\n      // reference the current offset now incase it changes again before callback is executed\n      const _offset = searchQuery.getOffsetNumber();\n      setState({ action: 'set', loading: true });\n      apiCall({\n        url: buildUrl(),\n        onSuccess: api_data => {\n          const { items: _items, total, counted_total: countedTotal } = api_data.api_response;\n          const parsedItems = parseResult(_items, _offset);\n          setState({\n            action: 'append',\n            loading: false,\n            total,\n            countedTotal: searchQuery.getGroupBy() ? countedTotal : _items.length,\n            alerts: parsedItems\n          });\n          if (onComplete) {\n            onComplete(true);\n          }\n        },\n        onFailure: () => {\n          setState({ action: 'set', loading: false });\n          if (onComplete) {\n            onComplete(false);\n          }\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [searchQuery]\n  );\n\n  // Fetch the Status Filters.\n  const onLoadStatuses = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/statuses/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: statuses } = api_data;\n        const msItems: SearchFilter[] = Object.keys(statuses).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.STATUS,\n          label: k,\n          value: `status:${k}`,\n          other: { count: statuses[k] }\n        }));\n        setStatusFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Fetch the Priority Filters.\n  const onLoadPriorities = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/priorities/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: priorities } = api_data;\n        const msItems: SearchFilter[] = Object.keys(priorities).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.PRIORITY,\n          label: k,\n          value: `priority:${k}`,\n          other: { count: priorities[k] }\n        }));\n        setPriorityFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Fetch the Label Filters.\n  const onLoadLabels = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/labels/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: labels } = api_data;\n        const msItems: SearchFilter[] = Object.keys(labels).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.LABEL,\n          label: k,\n          value: `label:${k}`,\n          other: { count: labels[k] }\n        }));\n        setLabelFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  const onLoadStatisics = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/statistics/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: statistics } = api_data;\n        const msItems: SearchFilter[] = [];\n        Object.keys(statistics).forEach((k, ki) => {\n          const value = statistics[k];\n          Object.keys(value).forEach((vk, vki) => {\n            const vkv = value[vk];\n            msItems.push({\n              id: `${ki}.${vki}}`,\n              type: SearchFilterType.QUERY,\n              label: `${k}:${vk}`,\n              value: `${k}:\"${vk}\"`,\n              other: { count: vkv }\n            });\n          });\n        });\n        setValueFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Load it up!\n  useEffect(() => {\n    if (searchQuery) {\n      onLoad();\n      onLoadStatuses();\n      onLoadPriorities();\n      onLoadLabels();\n      onLoadStatisics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  useEffect(() => {\n    setSearchQuery(new SearchQuery(location.pathname, location.search, pageSize));\n  }, [location.pathname, location.search, pageSize]);\n\n  // transform alert fields into array.\n  useEffect(() => {\n    if (fieldIndexes) {\n      const aFields = Object.keys(fieldIndexes.alert).map(name => {\n        const o = fieldIndexes.alert[name];\n        return { ...o, name };\n      });\n      setFields(aFields);\n    }\n  }, [fieldIndexes]);\n\n  // UseAlert Hook API.\n  return {\n    ...state,\n    fields,\n    searchQuery,\n    statusFilters,\n    priorityFilters,\n    labelFilters,\n    valueFilters,\n    updateAlert,\n    updateQuery: setSearchQuery,\n    onLoad,\n    onLoadMore\n  };\n}\n","import { Box, Drawer, IconButton, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport StarIcon from '@material-ui/icons/Star';\nimport { AlertTitle } from '@material-ui/lab';\nimport ListCarousel from 'commons/addons/elements/lists/carousel/ListCarousel';\nimport ListNavigator from 'commons/addons/elements/lists/navigator/ListNavigator';\nimport SimpleList from 'commons/addons/elements/lists/simplelist/SimpleList';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport InformativeAlert from 'components/visual/InformativeAlert';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport SearchQuery, { SearchQueryFilters } from 'components/visual/SearchBar/search-query';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\nimport { FiFilter } from 'react-icons/fi';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport AlertDetails from './alert-details';\nimport AlertListItem from './alert-list-item';\nimport AlertListItemActions, { PossibleVerdict } from './alert-list-item-actions';\nimport AlertsFilters from './alerts-filters';\nimport AlertsFiltersFavorites from './alerts-filters-favorites';\nimport AlertsFiltersSelected from './alerts-filters-selected';\nimport AlertsWorkflowActions from './alerts-workflow-actions';\nimport useAlerts, { AlertItem } from './hooks/useAlerts';\nimport useFavorites from './hooks/useFavorites';\nimport usePromiseAPI from './hooks/usePromiseAPI';\n\n// Default size of a page to be used by the useAlert hook when fetching next load of data\n//  when scrolling has hit threshold.\nconst PAGE_SIZE = 50;\n\nexport interface AlertDrawerState {\n  open: boolean;\n  type: 'filter' | 'favorites' | 'actions';\n  actionData?: {\n    query: SearchQuery;\n    alert?: {\n      index: number;\n      alert_id: string;\n      priority: string;\n      status: string;\n      labels: string[];\n    };\n  };\n}\n\nconst ALERT_SIMPLELIST_ID = 'al.alerts.simplelist';\n\n// Just indicates whether there are any filters currently set..\nconst hasFilters = (filters: SearchQueryFilters): boolean => {\n  const { statuses, priorities, labels, queries } = filters;\n  return statuses.length > 0 || priorities.length > 0 || labels.length > 0 || queries.length > 0;\n};\n\n// Some generated style classes\nconst useStyles = makeStyles(theme => ({\n  pageTitle: {\n    // paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  drawerInner: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(3),\n    width: '600px',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%'\n    }\n  },\n  searchresult: {\n    marginTop: theme.spacing(1),\n    fontStyle: 'italic',\n    minHeight: theme.spacing(3)\n  },\n  modeToggler: {\n    border: 'none',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    marginRight: '0px !important'\n  }\n}));\n\n// The Alerts functional component.\nconst Alerts: React.FC = () => {\n  const { t } = useTranslation('alerts');\n  const classes = useStyles();\n  const theme = useTheme();\n  const { user: currentUser } = useALContext();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const { setGlobalDrawer } = useDrawer();\n\n  // Alerts hook.\n  const {\n    loading,\n    alerts,\n    total,\n    countedTotal,\n    fields,\n    searchQuery,\n    valueFilters,\n    statusFilters,\n    priorityFilters,\n    labelFilters,\n    onLoad,\n    onLoadMore,\n    updateAlert\n  } = useAlerts(PAGE_SIZE);\n\n  // API Promise hook\n  const { onApplyWorkflowAction } = usePromiseAPI();\n\n  // Define required states...\n  const [scrollReset, setScrollReset] = useState<boolean>(false);\n  const [drawer, setDrawer] = useState<AlertDrawerState>({\n    open: false,\n    type: null\n  });\n  const history = useHistory();\n  const location = useLocation();\n  const { userFavorites, globalFavorites } = useFavorites();\n\n  // Define some references.\n  const searchTextValue = useRef<string>('');\n\n  useEffect(() => {\n    if (searchQuery) {\n      setScrollReset(true);\n      searchTextValue.current = searchQuery.getQuery();\n    }\n  }, [searchQuery]);\n\n  // Media quries.\n  const isMDUp = useMediaQuery(theme.breakpoints.up('md'));\n  const isLGDown = useMediaQuery(theme.breakpoints.down('lg'));\n\n  // Handler searchbar onSearch callback\n  const onSearch = (filterValue: string = '', inputEl: HTMLInputElement = null) => {\n    // Update query and url before reloading data.\n    searchQuery.setQuery(filterValue);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    if (inputEl) inputEl.focus();\n  };\n\n  // Handler for when clearing the SearchBar.\n  const onClearSearch = (inputEl: HTMLInputElement = null) => {\n    // Reset the query.\n    searchQuery.deleteQuery();\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Update the search text field reference.\n    searchTextValue.current = '';\n\n    if (inputEl) inputEl.focus();\n  };\n\n  const onVerdictComplete = useCallback(\n    (index: number, item: AlertItem, verdict: PossibleVerdict) => {\n      const changes = { verdict: { ...item.verdict } };\n      if (verdict === 'malicious') {\n        if (changes.verdict.malicious.indexOf(currentUser.username) === -1) {\n          changes.verdict.malicious.push(currentUser.username);\n        }\n        if (changes.verdict.non_malicious.indexOf(currentUser.username) !== -1) {\n          changes.verdict.non_malicious.splice(changes.verdict.non_malicious.indexOf(currentUser.username), 1);\n        }\n      } else {\n        if (changes.verdict.non_malicious.indexOf(currentUser.username) === -1) {\n          changes.verdict.non_malicious.push(currentUser.username);\n        }\n        if (changes.verdict.malicious.indexOf(currentUser.username) !== -1) {\n          changes.verdict.malicious.splice(changes.verdict.malicious.indexOf(currentUser.username), 1);\n        }\n      }\n      updateAlert(index, changes);\n      window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: item.id, changes } }));\n    },\n    [currentUser.username, updateAlert]\n  );\n\n  const onTakeOwnershipComplete = useCallback(\n    (index: number, item: AlertItem) => {\n      const changes = { owner: currentUser.username };\n      updateAlert(index, changes);\n      window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: item.id, changes } }));\n    },\n    [currentUser.username, updateAlert]\n  );\n\n  // Handler for when an item of the InfiniteList is selected\n  const onItemSelected = useCallback(\n    (item: AlertItem, index: number) => {\n      if (item !== null && item !== undefined) {\n        if (isLGDown) {\n          // Unfocus the simple list so the drawer does not try to refocus it when closing...\n          document.getElementById(ALERT_SIMPLELIST_ID).blur();\n        }\n        setGlobalDrawer(\n          <div>\n            <div\n              style={{\n                alignItems: 'start',\n                display: 'flex',\n                float: 'right',\n                height: theme.spacing(8),\n                marginTop: theme.spacing(-8),\n                marginRight: theme.spacing(-1),\n                position: 'sticky',\n                top: theme.spacing(1),\n                zIndex: 1\n              }}\n            >\n              <ListNavigator id={ALERT_SIMPLELIST_ID} />\n              <AlertListItemActions\n                item={item}\n                index={index}\n                currentQuery={searchQuery}\n                setDrawer={setDrawer}\n                onTakeOwnershipComplete={() => onTakeOwnershipComplete(index, item)}\n                onVerdictComplete={verdict => onVerdictComplete(index, item, verdict)}\n                vertical\n              />\n            </div>\n            <ListCarousel id={ALERT_SIMPLELIST_ID} disableArrowUp disableArrowDown enableSwipe>\n              <AlertDetails alert={item} />\n            </ListCarousel>\n          </div>\n        );\n      }\n    },\n    [setGlobalDrawer, isLGDown, theme, searchQuery, onTakeOwnershipComplete, onVerdictComplete]\n  );\n\n  // Handler for when loading more alerts [read bottom of scroll area]\n  const _onLoadMore = useCallback(() => {\n    setScrollReset(false);\n    onLoadMore();\n  }, [setScrollReset, onLoadMore]);\n\n  // Hanlder for when clicking one the AlertsFilters 'Apply' button.\n  const onApplyFilters = (filters: SearchQueryFilters, query?: string) => {\n    // Set the newly selected filters and up location url bar.\n    if (query !== undefined && query !== null) searchQuery.setQuery(query);\n    searchQuery.setFilters(filters);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Close the Filters drawer.\n    if (drawer.open) {\n      setDrawer({ ...drawer, open: false });\n    }\n  };\n\n  // Handler for when the value of the search bar input field changes.\n  // We don't track it in state as that is being done in SearchBar component itself.\n  const onFilterValueChange = (inputValue: string) => {\n    searchTextValue.current = inputValue;\n  };\n\n  // The SearchBar contentassist suggesions.\n  const buildSearchSuggestions = () => {\n    const _fields = fields.map(f => f.name);\n    return [..._fields, ...DEFAULT_SUGGESTION];\n  };\n\n  // Handler/callback for when clicking the 'Add' btn on the AlertsFavorite component.\n  const onFavoriteAdd = (filter: { query: string; name: string }) => {\n    setDrawer({ ...drawer, open: false });\n  };\n\n  // Handler/callback for when deleting a favorite on the AlertsFavorite component.\n  const onFavoriteDelete = (favorite: { name: string; query: string }) => {\n    // console.log(favorite);\n  };\n\n  //\n  const onFavoriteSelected = (favorite: { name: string; query: string }) => {\n    // Update query with selected favorite.\n    searchQuery.addFq(favorite.query);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Close the Filters drawer.\n    if (drawer.open) {\n      setDrawer({ ...drawer, open: false });\n    }\n  };\n\n  // Handler/callback for when clicking the 'Apply' btn on the AlertsWorkflowActions component.\n  const onWorkflowActionsApply = (selectedStatus: string, selectedPriority: string, selectedLabels: string[]) => {\n    onApplyWorkflowAction(drawer.actionData.query, selectedStatus, selectedPriority, selectedLabels).then(() => {\n      setDrawer({ ...drawer, open: false });\n      const { alert } = drawer.actionData;\n      if (alert) {\n        const changes = {\n          status: selectedStatus || alert.status,\n          priority: selectedPriority || alert.priority,\n          label: [...Array.from(new Set([...alert.labels, ...selectedLabels]))]\n        };\n        updateAlert(alert.index, changes);\n        window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: alert.alert_id, changes } }));\n      } else {\n        setScrollReset(true);\n        onLoad();\n      }\n    });\n  };\n\n  // Memoized callback to render one line-item of the list....\n  const onRenderListRow = useCallback((item: AlertItem) => {\n    return <AlertListItem item={item} />;\n  }, []);\n\n  //\n  const onDrawerClose = () => {\n    setDrawer({ ...drawer, open: false, actionData: null });\n  };\n\n  // Handler for when the cursor on the list changes via keybaord event.\n  const onListCursorChanges = (item: AlertItem, index: number) => {\n    onItemSelected(item, index);\n  };\n\n  // Handler to render the action buttons of each list item.\n  const onRenderListActions = useCallback(\n    (item: AlertItem, index: number) => (\n      <AlertListItemActions\n        item={item}\n        index={index}\n        currentQuery={searchQuery}\n        setDrawer={setDrawer}\n        onTakeOwnershipComplete={() => onTakeOwnershipComplete(index, item)}\n        onVerdictComplete={verdict => onVerdictComplete(index, item, verdict)}\n      />\n    ),\n    [onTakeOwnershipComplete, onVerdictComplete, searchQuery]\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      <Drawer open={drawer.open} anchor=\"right\" onClose={onDrawerClose}>\n        <div style={{ padding: theme.spacing(1) }}>\n          <IconButton onClick={onDrawerClose}>\n            <CloseOutlinedIcon />\n          </IconButton>\n        </div>\n        <div className={classes.drawerInner}>\n          {\n            {\n              filter: (\n                <AlertsFilters\n                  searchQuery={searchQuery}\n                  valueFilters={valueFilters}\n                  statusFilters={statusFilters}\n                  priorityFilters={priorityFilters}\n                  labelFilters={labelFilters}\n                  userFavorites={userFavorites}\n                  globalFavorites={globalFavorites}\n                  onApplyBtnClick={onApplyFilters}\n                />\n              ),\n              favorites: (\n                <AlertsFiltersFavorites\n                  initValue={searchTextValue.current}\n                  onSelected={onFavoriteSelected}\n                  onDeleted={onFavoriteDelete}\n                  onSaved={onFavoriteAdd}\n                />\n              ),\n              actions: drawer.actionData && (\n                <AlertsWorkflowActions\n                  searchQuery={drawer.actionData.query}\n                  alert={drawer.actionData.alert}\n                  labelFilters={labelFilters}\n                  onApplyBtnClick={onWorkflowActionsApply}\n                />\n              )\n            }[drawer.type]\n          }\n        </div>\n      </Drawer>\n\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('alerts')}</Typography>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={searchQuery ? searchQuery.getQuery() : ''}\n            searching={loading}\n            suggestions={buildSearchSuggestions()}\n            placeholder=\"Filter alerts...\"\n            onValueChange={onFilterValueChange}\n            onClear={onClearSearch}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <StarIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('favorites'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'favorites' })\n                }\n              },\n              {\n                icon: <FilterListIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('filters'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'filter' })\n                }\n              },\n              {\n                icon: <BiNetworkChart fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('workflows'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'actions', actionData: { query: searchQuery } })\n                }\n              }\n            ]}\n          >\n            <Box className={classes.searchresult}>\n              {isMDUp ? (\n                <SearchResultLarge\n                  searching={loading}\n                  total={total}\n                  query={searchQuery}\n                  onApplyFilters={onApplyFilters}\n                />\n              ) : (\n                <SearchResultSmall searching={loading} total={total} query={searchQuery} />\n              )}\n            </Box>\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <SimpleList\n        id={ALERT_SIMPLELIST_ID}\n        disableProgress\n        scrollInfinite={countedTotal < total}\n        scrollReset={scrollReset}\n        scrollLoadNextThreshold={75}\n        scrollTargetId=\"app-scrollct\"\n        loading={loading}\n        items={alerts}\n        emptyValue={\n          <div style={{ width: '100%' }}>\n            <InformativeAlert>\n              <AlertTitle>{t('no_alerts_title')}</AlertTitle>\n              {t('no_alerts_desc')}\n            </InformativeAlert>\n          </div>\n        }\n        onItemSelected={onItemSelected}\n        onRenderActions={onRenderListActions}\n        onLoadNext={_onLoadMore}\n        onCursorChange={onListCursorChanges}\n      >\n        {onRenderListRow}\n      </SimpleList>\n    </PageFullWidth>\n  );\n};\n\nconst SearchResultLarge = ({ searching, total, query, onApplyFilters }) => {\n  const theme = useTheme();\n  const { t } = useTranslation('alerts');\n  return (\n    <div style={{ position: 'relative' }}>\n      <AlertsFiltersSelected searchQuery={query} onChange={onApplyFilters} hideQuery />\n      <div style={{ position: 'absolute', top: theme.spacing(0.5), right: theme.spacing(1) }}>\n        {searching ? '' : <span>{`${total} ${total > 1 ? t('results') : t('result')}`}</span>}\n      </div>\n    </div>\n  );\n};\n\nconst SearchResultSmall = ({ searching, total, query }) => {\n  const theme = useTheme();\n  const { t } = useTranslation('alerts');\n  const filtered = query ? hasFilters(query.parseFilters()) : false;\n  return (\n    <>\n      <div style={{ marginTop: theme.spacing(2), alignItems: 'center' }}>\n        {!searching && filtered && (\n          <>\n            <FiFilter style={{ marginRight: theme.spacing(1) }} />\n          </>\n        )}\n        {searching ? '' : `${total} ${total > 1 ? t('results') : t('result')}`}\n      </div>\n    </>\n  );\n};\n\nexport default Alerts;\n","import { Tooltip } from '@material-ui/core';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst STATE_ICON_MAP = {\n  incomplete: <ClearIcon color=\"error\" />,\n  completed: <DoneIcon color=\"primary\" />,\n  submitted: <TimerIcon color=\"secondary\" />,\n  skipped: <BlockIcon color=\"action\" />\n};\n\ntype ExtendedScanProps = {\n  state: string;\n  error_count?: number;\n};\n\nconst WrappedExtendedScan: React.FC<ExtendedScanProps> = ({ state }) => {\n  const { t } = useTranslation();\n  const icon = STATE_ICON_MAP[state];\n\n  return <Tooltip title={t(`extended_scan.${state}`)}>{icon}</Tooltip>;\n};\n\nconst ExtendedScan = React.memo(WrappedExtendedScan);\nexport default ExtendedScan;\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype VerdictBarProps = {\n  verdicts: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n  width?: string;\n};\n\nconst WrappedVerdictBar: React.FC<VerdictBarProps> = ({ verdicts, width = '100%' }) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  return (\n    <Tooltip\n      title={`${t('verdict.malicious')}: ${verdicts.malicious.length} / ${t('verdict.non_malicious')}: ${\n        verdicts.non_malicious.length\n      }`}\n    >\n      <svg height=\"15\" width={width}>\n        <rect\n          height=\"15\"\n          width=\"100%\"\n          style={{ fill: theme.palette.background.default, stroke: theme.palette.divider }}\n        />\n        <rect\n          y=\"1\"\n          height=\"13\"\n          fill=\"#d9534f\"\n          x={`${50 - verdicts.malicious.length * 5}%`}\n          width={`${verdicts.malicious.length * 5}%`}\n        />\n        <rect x=\"50%\" y=\"1\" height=\"13\" fill=\"#5cb85c\" width={`${verdicts.non_malicious.length * 5}%`} />\n        <rect x=\"50%\" y=\"1\" height=\"13\" width=\"1%\" fill=\"lightgrey\" />\n      </svg>\n    </Tooltip>\n  );\n};\n\nconst VerdictBar = React.memo(WrappedVerdictBar);\nexport default VerdictBar;\n","import { Button, Grid, Hidden, IconButton, Paper, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport MoodIcon from '@material-ui/icons/Mood';\nimport MoodBadIcon from '@material-ui/icons/MoodBad';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport ExtendedScan from 'components/visual/ExtendedScan';\nimport Verdict from 'components/visual/Verdict';\nimport VerdictBar from 'components/visual/VerdictBar';\nimport { bytesToSize } from 'helpers/utils';\nimport 'moment-timezone';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\n\ntype AlertCardItemProps = {\n  item: AlertItem;\n  setItem?: (item: AlertItem) => null;\n};\n\nconst AlertCardItem: React.FC<AlertCardItemProps> = ({ item, setItem = null }) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const isDownSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const apiCall = useMyAPI();\n  const { showSuccessMessage } = useMySnackbar();\n  const { user: currentUser, c12nDef } = useALContext();\n\n  function setVerdict(verdict) {\n    if (item.verdict[verdict].indexOf(currentUser.username) !== -1) {\n      showSuccessMessage(t(`verdict.success.${verdict}`));\n      return;\n    }\n\n    apiCall({\n      method: 'PUT',\n      url: `/api/v4/alert/verdict/${item.alert_id}/${verdict}/`,\n      onSuccess: api_data => {\n        if (setItem !== null) {\n          const newVerdict = { ...item.verdict };\n          if (verdict === 'malicious') {\n            if (newVerdict.malicious.indexOf(currentUser.username) === -1) {\n              newVerdict.malicious.push(currentUser.username);\n            }\n            if (newVerdict.non_malicious.indexOf(currentUser.username) !== -1) {\n              newVerdict.non_malicious.splice(newVerdict.non_malicious.indexOf(currentUser.username), 1);\n            }\n          } else {\n            if (newVerdict.non_malicious.indexOf(currentUser.username) === -1) {\n              newVerdict.non_malicious.push(currentUser.username);\n            }\n            if (newVerdict.malicious.indexOf(currentUser.username) !== -1) {\n              newVerdict.malicious.splice(newVerdict.malicious.indexOf(currentUser.username), 1);\n            }\n          }\n\n          setItem({ ...item, verdict: newVerdict });\n        }\n        showSuccessMessage(t(`verdict.success.${verdict}`));\n      }\n    });\n  }\n\n  function takeOwnership() {\n    apiCall({\n      url: `/api/v4/alert/ownership/${item.alert_id}/`,\n      onSuccess: api_data => {\n        if (setItem !== null) {\n          setItem({ ...item, owner: currentUser.username });\n        }\n        showSuccessMessage(t('take_ownership.success'));\n      }\n    });\n  }\n\n  return (\n    <Paper\n      style={{\n        marginTop: sp2,\n        marginBottom: sp2,\n        padding: sp2,\n        backgroundColor: item.owner !== null ? '#00f2000f' : item.al.attrib.length !== 0 ? '#f200000f' : null\n      }}\n    >\n      {c12nDef.enforce && (\n        <Hidden mdUp>\n          <Classification c12n={item.classification} size=\"tiny\" type=\"outlined\" />\n        </Hidden>\n      )}\n      <Grid container spacing={2}>\n        <Grid\n          item\n          xs={12}\n          md={2}\n          lg={1}\n          style={{\n            display: isDownSM ? 'flex' : null,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            textAlign: 'center',\n            paddingTop: isDownSM ? sp4 : 0,\n            paddingBottom: isDownSM ? sp2 : 0\n          }}\n        >\n          <div\n            style={{\n              paddingTop: isDownSM ? 0 : sp1\n            }}\n          >\n            <Verdict score={item.al.score} />\n          </div>\n          {!isDownSM && item.group_count && (\n            <div style={{ paddingTop: sp2, color: theme.palette.primary.main }}>\n              <h2>{`${item.group_count}x`}</h2>\n            </div>\n          )}\n          {!isDownSM && item.extended_scan && (\n            <div style={{ paddingTop: sp2 }}>\n              <ExtendedScan state={item.extended_scan} />\n            </div>\n          )}\n          <div style={{ paddingTop: isDownSM ? 0 : sp4, width: '100%', maxWidth: '120px', display: 'inline-block' }}>\n            <VerdictBar verdicts={item.verdict} />\n            <Grid container>\n              <Grid item xs={5} style={{ textAlign: 'left' }}>\n                <IconButton size=\"small\" onClick={() => setVerdict('malicious')}>\n                  <MoodBadIcon />\n                </IconButton>\n              </Grid>\n              <Grid item xs={2} />\n              <Grid item xs={5} style={{ textAlign: 'right' }}>\n                <IconButton size=\"small\" onClick={() => setVerdict('non_malicious')}>\n                  <MoodIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </div>\n        </Grid>\n\n        <Grid item xs={12} md={10} lg={11}>\n          <Grid container spacing={1}>\n            <Grid item xs={3} md={2}>\n              <b>{item.type}</b>\n            </Grid>\n            <Grid item xs={9} md={6}>\n              <Moment format=\"YYYY-MM-DD HH:mm:ss.SSS (zz)\" tz=\"utc\">\n                {item.ts}\n              </Moment>\n            </Grid>\n            {c12nDef.enforce && (\n              <Hidden smDown>\n                <Grid item md={4} style={{ textAlign: 'right' }}>\n                  <Classification c12n={item.classification} size=\"tiny\" type=\"outlined\" inline />\n                </Grid>\n              </Hidden>\n            )}\n\n            {item.filtered && (\n              <>\n                <Grid item xs=\"auto\" md={2} />\n                <Grid item xs={12} md={10}>\n                  <b>{t('data_filtered_msg')}</b>\n                </Grid>\n              </>\n            )}\n          </Grid>\n\n          <Hidden mdUp>\n            <Grid container style={{ paddingTop: sp2 }}>\n              <Grid item xs={3}>\n                <b>{t('group_count')}</b>\n              </Grid>\n              <Grid item xs={9}>\n                {item.group_count}\n              </Grid>\n              <Grid item xs={3}>\n                <b>{t('extended')}</b>\n              </Grid>\n              <Grid item xs={9} style={{ textTransform: 'capitalize' }}>\n                {item.extended_scan}\n              </Grid>\n            </Grid>\n          </Hidden>\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={3} md={2}>\n              <b>{t('label')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              {item.label.map((l, i) => {\n                return <CustomChip key={i} label={l} size=\"tiny\" type=\"rounded\" />;\n              })}\n            </Grid>\n\n            <Grid item xs={3} md={2}>\n              <b>{t('priority')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              <CustomChip label={item.priority} size=\"tiny\" type=\"rounded\" />\n            </Grid>\n\n            <Grid item xs={3} md={2}>\n              <b>{t('status')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              <CustomChip label={item.status} size=\"tiny\" type=\"rounded\" />\n            </Grid>\n          </Grid>\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={12} md={2}>\n              <b>{t('file_info')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.main, fontWeight: 500 }}>{item.file.name}</span>\n            </Grid>\n            <Grid item xs=\"auto\" md={2} />\n            <Grid item xs={12} md={10}>\n              {item.file.type}\n            </Grid>\n            <Grid item xs=\"auto\" md={2} />\n            <Grid item xs={12} md={10}>\n              <b>{item.file.size} </b>\n              <span style={{ fontWeight: 300 }}>({bytesToSize(item.file.size)})</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>MD5</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.md5}</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>SHA1</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.sha1}</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>SHA256</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.sha256}</span>\n            </Grid>\n          </Grid>\n\n          {(item.owner || item.hint_owner) && (\n            <Grid container style={{ paddingTop: sp2 }}>\n              <Grid item xs={12} md={2}>\n                <b>{t('ownership')}</b>\n              </Grid>\n              <Grid item xs={12} md={10}>\n                <b>{item.owner || t('hint_owner')}</b>\n              </Grid>\n            </Grid>\n          )}\n\n          {Object.keys(item.metadata).length !== 0 && (\n            <div style={{ paddingTop: sp2 }}>\n              {Object.keys(item.metadata).map((key, i) => {\n                return (\n                  <Grid container key={i}>\n                    <Grid item xs={12} md={2}>\n                      <span style={{ textTransform: 'capitalize', fontWeight: 600 }}>\n                        {key.replace('.', ' ').replace('_', ' ')}\n                      </span>\n                    </Grid>\n                    <Grid item xs={12} md={10}>\n                      {item.metadata[key]}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </div>\n          )}\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={12} md={2}>\n              <b>{t('category')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 500 }}>\n                {item.attack.category.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('patterns')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 500 }}>\n                {item.attack.pattern.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('heuristic')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 300 }}>\n                {item.heuristic.name.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('behaviors')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 300 }}>\n                {item.al.behavior.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('attributions')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.error.dark, fontWeight: 500 }}>{item.al.attrib.join(' | ')}</span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('avhits')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.secondary.dark, fontWeight: 500 }}>{item.al.av.join(' | ')}</span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('ip')}</b>\n            </Grid>\n            <Grid item xs={12} md={10} style={{ color: theme.palette.success.dark }}>\n              <span style={{ fontWeight: 500 }}>{item.al.ip_dynamic.join(' | ')}</span>\n              <span>\n                {item.al.ip_dynamic.length !== 0 && ' | '}\n                {item.al.ip_static.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('domain')}</b>\n            </Grid>\n            <Grid item xs={12} md={10} style={{ color: theme.palette.success.dark }}>\n              <span style={{ fontWeight: 500 }}>{item.al.domain_dynamic.join(' | ')}</span>\n              <span>\n                {item.al.domain_dynamic.length !== 0 && ' | '}\n                {item.al.domain_static.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('yara')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              {item.al.yara.join(' | ')}\n            </Grid>\n          </Grid>\n          <div style={{ paddingTop: sp2 }}>\n            <Button\n              component={Link}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              to={`/submission/${item.sid}`}\n            >\n              {t('btn.submission')}\n            </Button>\n            <Button\n              component={Link}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              to={`/search/?query=${item.file.sha256}`}\n            >\n              {t('btn.sha256')}\n            </Button>\n            <Button\n              disabled={item.owner !== null}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              onClick={() => takeOwnership()}\n            >\n              {t('btn.ownership')}\n            </Button>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              onClick={() => alert('NOT DONE YET')}\n            >\n              {t('btn.workflow')}\n            </Button>\n          </div>\n        </Grid>\n\n        <Grid item xs={12} style={{ textAlign: 'right' }}>\n          <Typography variant=\"caption\" color=\"secondary\" style={{ fontSize: '80%' }}>\n            {`${item.alert_id} :: `}\n            <Moment fromNow>{item.reporting_ts}</Moment>\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\n//\nexport default AlertCardItem;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect, useState } from 'react';\nimport AlertCardItem from './alert-card';\n\nexport default function AlertsLegacy() {\n  const apiCall = useMyAPI();\n  const [alerts, setAlerts] = useState(null);\n\n  useEffect(() => {\n    apiCall({\n      method: 'GET',\n      url: '/api/v4/alert/grouped/file.sha256/?offset=0&rows=25&q=&tc=4d',\n      onSuccess: api_data => {\n        setAlerts(api_data.api_response.items);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <h1>Alert Legacy Test</h1>\n      <div style={{ textAlign: 'left' }}>\n        {alerts &&\n          alerts.map((a, i) => {\n            return (\n              <div key={i}>\n                <AlertCardItem item={a} />\n              </div>\n            );\n          })}\n      </div>\n    </PageCenter>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { Backdrop, Button, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst VALID_SCOPES = ['r', 'w', 'rw'];\n\nexport default function AppRegistration() {\n  const location = useLocation();\n  const history = useHistory();\n  const { t } = useTranslation(['authorize']);\n  const theme = useTheme();\n  const { getBanner } = useAppLayout();\n\n  const params = new URLSearchParams(location.search);\n  const rUrl = params.get('redirect_url');\n  const clientID = params.get('client_id');\n  const scope = params.get('scope');\n  const server = params.get('server');\n\n  return (\n    <Backdrop open style={{ backgroundColor: theme.palette.background.default, zIndex: 10000 }} transitionDuration={0}>\n      <CardCentered>\n        {getBanner(theme)}\n        <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center', justifyContent: 'center' }}>\n          {!rUrl || !clientID || !scope || !server || VALID_SCOPES.indexOf(scope) === -1 ? (\n            <>\n              <div style={{ marginBottom: '3rem' }}>{t('invalid')}</div>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => history.goBack()}>\n                {t('button.back')}\n              </Button>\n            </>\n          ) : (\n            <>\n              <div style={{ marginBottom: '2rem' }}>\n                <Typography component=\"span\" variant=\"h6\" color=\"primary\">\n                  {server}{' '}\n                </Typography>\n                <Typography component=\"span\" variant=\"h6\">\n                  {t('access')}\n                </Typography>\n              </div>\n              <Typography variant=\"subtitle2\" gutterBottom>\n                {t('scope')}\n              </Typography>\n              <Typography variant=\"caption\" color=\"secondary\" gutterBottom style={{ marginTop: '1rem' }}>\n                {t(`scope.${scope}`)}\n              </Typography>\n              <Typography\n                variant=\"caption\"\n                color=\"textSecondary\"\n                gutterBottom\n                style={{ marginTop: '2rem', textAlign: 'left' }}\n              >\n                {t('warning')}\n              </Typography>\n              <div\n                style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginTop: '3rem' }}\n              >\n                <Button variant=\"text\" href={`${rUrl}${rUrl.indexOf('?') === -1 ? '?' : '&'}error=cancelled`}>\n                  {t('button.cancel')}\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  href={`/api/v4/auth/obo_token/?XSRF_TOKEN=${getXSRFCookie()}&${location.search.substring(1)}`}\n                >\n                  {t('button.allow')}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </CardCentered>\n    </Backdrop>\n  );\n}\n","import React from 'react';\n\nexport default function useFullscreenStatus(elRef) {\n  const [isFullscreen, setIsFullscreen] = React.useState(document[getBrowserFullscreenElementProp()] != null);\n\n  const setFullscreen = () => {\n    if (elRef.current == null) return;\n\n    elRef.current\n      .requestFullscreen()\n      .then(() => {\n        setIsFullscreen(document[getBrowserFullscreenElementProp()] != null);\n      })\n      .catch(() => {\n        setIsFullscreen(false);\n      });\n  };\n\n  React.useLayoutEffect(() => {\n    document.onfullscreenchange = () => setIsFullscreen(document[getBrowserFullscreenElementProp()] != null);\n\n    return () => {\n      document.onfullscreenchange = undefined;\n    };\n  });\n\n  return [isFullscreen, setFullscreen];\n}\n\nfunction getBrowserFullscreenElementProp() {\n  if (typeof document.fullscreenElement !== 'undefined') {\n    return 'fullscreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['mozFullScreenElement'] !== 'undefined') {\n    return 'mozFullScreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['msFullscreenElement'] !== 'undefined') {\n    return 'msFullscreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['webkitFullscreenElement'] !== 'undefined') {\n    return 'webkitFullscreenElement';\n  }\n  throw new Error('fullscreenElement is not supported by this browser');\n}\n","import { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport useAppBarHeight from 'commons/components/hooks/useAppBarHeight';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useFullscreenStatus from 'commons/components/hooks/useFullscreenStatus';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default\n  },\n  toggle: {\n    float: 'right',\n    paddingTop: theme.spacing(2),\n    position: 'sticky',\n    right: theme.spacing(2),\n    zIndex: theme.zIndex.appBar + 1\n  }\n}));\n\ninterface PageFullscreenProps {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n}\nconst PageFullscreen: React.FC<PageFullscreenProps> = ({ children, margin = null, mb = 2, ml = 2, mr = 2, mt = 2 }) => {\n  const maximizableElement = React.useRef(null);\n  const appBarHeight = useAppBarHeight();\n  const { currentLayout, autoHideAppbar } = useAppLayout();\n  let isFullscreen;\n  let setIsFullscreen;\n  let fullscreenSupported;\n\n  const barWillHide = currentLayout !== 'top' && autoHideAppbar;\n\n  try {\n    [isFullscreen, setIsFullscreen] = useFullscreenStatus(maximizableElement);\n  } catch (e) {\n    fullscreenSupported = false;\n    isFullscreen = false;\n    setIsFullscreen = undefined;\n  }\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  const handleEnterFullscreen = () => {\n    setIsFullscreen();\n  };\n\n  const handleExitFullscreen = () => {\n    document.exitFullscreen();\n  };\n\n  return (\n    <div ref={maximizableElement} className={classes.root}>\n      <div className={classes.toggle} style={{ top: barWillHide || isFullscreen ? 0 : appBarHeight }}>\n        {fullscreenSupported ? null : isFullscreen ? (\n          <IconButton onClick={handleExitFullscreen}>\n            <FullscreenExitIcon />\n          </IconButton>\n        ) : (\n          <IconButton onClick={handleEnterFullscreen}>\n            <FullscreenIcon />\n          </IconButton>\n        )}\n      </div>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageFullscreen;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { scaleLinear } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  caption: {\n    color: theme.palette.text.secondary,\n    fontSize: 'x-small',\n    fontWeight: 500,\n    textAlign: 'center',\n    width: '100%'\n  },\n  graph: {\n    gridColumn: '1 / 1',\n    gridRow: '1 / 1'\n  },\n  outer: {\n    display: 'grid',\n    gridTemplate: '1fr / 1fr',\n    placeItems: 'end'\n  },\n  text: {\n    color: theme.palette.text.secondary,\n    fontWeight: 900,\n    gridColumn: '1 / 1',\n    gridRow: '1 / 1',\n    textAlign: 'center',\n    width: '100%'\n  },\n  title: {\n    color: theme.palette.text.secondary,\n    fontWeight: 500,\n    textAlign: 'center',\n    width: '100%'\n  }\n}));\n\ntype ArcGaugeProps = {\n  pctValue: number;\n  caption?: string;\n  colorBack?: string;\n  fontSize?: string;\n  initialized?: boolean;\n  title?: string;\n  width?: string;\n};\n\nconst ArcGauge: React.FC<ArcGaugeProps> = ({\n  pctValue,\n  caption = '',\n  colorBack = '#68686815',\n  fontSize = '22px',\n  initialized = false,\n  title = '',\n  width = '100px'\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const colorFilled = theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark;\n\n  const backgroundArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI / 2)\n    .endAngle(Math.PI / 2)\n    .cornerRadius(0)();\n  const percentScale = scaleLinear().domain([0, 100]).range([0, 1]);\n\n  const angleScale = scaleLinear()\n    .domain([0, 1])\n    .range([-Math.PI / 2, Math.PI / 2])\n    .clamp(true);\n  const filledArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI / 2)\n    .endAngle(angleScale(percentScale(pctValue)))\n    .cornerRadius(0)();\n\n  return (\n    <div>\n      {title && <div className={classes.title}>{title}</div>}\n      <div className={classes.outer} style={{ fontSize, lineHeight: fontSize, width }}>\n        {initialized ? (\n          <span className={classes.text}>{`${Number(pctValue).toFixed(0)}%`}</span>\n        ) : (\n          <span className={classes.text}>\n            <Skeleton variant=\"rect\" width=\"2rem\" style={{ borderRadius: '4px', display: 'inline-block' }} />\n          </span>\n        )}\n        <svg className={classes.graph} viewBox={[-1, -1, 2, 1].join(' ')}>\n          <g>\n            <path d={backgroundArc} fill={colorBack} />\n            <path d={filledArc} fill={colorFilled} />\n          </g>\n        </svg>\n      </div>\n      {caption && <div className={classes.caption}>{caption}</div>}\n    </div>\n  );\n};\n\nexport default ArcGauge;\n","import { Card, Grid, makeStyles, Theme, Tooltip, Typography } from '@material-ui/core';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport SpeedOutlinedIcon from '@material-ui/icons/SpeedOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageFullscreen from 'commons/components/layout/pages/PageFullScreen';\nimport ArcGauge from 'components/visual/ArcGauge';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport io from 'socket.io-client';\n\nconst NAMESPACE = '/status';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  card: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    minHeight: '120px',\n    '&:hover': {\n      boxShadow: theme.shadows[6]\n    }\n  },\n  core_card: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    minHeight: '170px',\n    '&:hover': {\n      boxShadow: theme.shadows[6]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ff000017' : '#FFE4E4',\n    border: `solid 1px ${theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark}`\n  },\n  error_icon: {\n    color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n    float: 'right'\n  },\n  icon: {\n    marginRight: '4px',\n    verticalAlign: 'middle',\n    height: '20px',\n    color: theme.palette.action.active\n  },\n  metric: {\n    display: 'inline-block',\n    marginRight: theme.spacing(1)\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  },\n  ok: {\n    border: `solid 1px ${theme.palette.divider}`\n  },\n  title: {\n    fontWeight: 500,\n    fontSize: '120%'\n  }\n}));\n\nconst WrappedMetricCounter = ({ value, title, tooltip, init = false, margin = '8px' }) => {\n  const classes = useStyles();\n\n  return !init ? (\n    <Skeleton\n      variant=\"rect\"\n      height=\"1.5rem\"\n      width=\"2rem\"\n      style={{ borderRadius: '4px', marginRight: margin, display: 'inline-block', verticalAlign: 'middle' }}\n    />\n  ) : (\n    <Tooltip title={tooltip}>\n      <span className={classes.metric}>\n        <CustomChip size=\"tiny\" type=\"rounded\" mono label={title} />\n        {value}\n      </span>\n    </Tooltip>\n  );\n};\nconst MetricCounter = React.memo(WrappedMetricCounter);\n\nconst WrappedIngestCard = ({ ingester }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const busyness = (ingester.metrics.busy_seconds * ingester.metrics.busy_seconds_count) / ingester.instances / 60;\n\n  useEffect(() => {\n    if (ingester.processing_chance.critical !== 1) {\n      setError(t('ingest.error.chance.critical'));\n    } else if (ingester.processing_chance.high !== 1) {\n      setError(t('ingest.error.chance.high'));\n    } else if (ingester.processing_chance.medium !== 1) {\n      setError(t('ingest.error.chance.medium'));\n    } else if (ingester.processing_chance.low !== 1) {\n      setError(t('ingest.error.chance.low'));\n    } else if (ingester.metrics.bytes_completed === 0 && ingester.metrics.bytes_ingested !== 0) {\n      setError(t('ingest.error.bytes'));\n    } else if (ingester.ingest > 100000) {\n      setError(t('ingest.error.queue'));\n    } else if (busyness >= 0.8) {\n      setError(t('ingest.error.busy'));\n    } else if ((timer !== null && ingester.initialized) || (timer === null && !ingester.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ingester]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || ingester.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || ingester.error) && (\n            <Tooltip title={error || ingester.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('ingester')} :: x${ingester.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('ingest')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.ingest}\n              title=\"Q\"\n              tooltip={t('ingest.queue')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('queued')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.critical}\n              title=\"C\"\n              tooltip={t('ingest.critical')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.high}\n              title=\"H\"\n              tooltip={t('ingest.high')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.medium}\n              title=\"M\"\n              tooltip={t('ingest.medium')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.low}\n              title=\"L\"\n              tooltip={t('ingest.low')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('processing')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.processing.inflight}\n              title=\"I\"\n              tooltip={t('processing.inflight')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={`${Number(busyness * 100).toFixed(2)} %`}\n              title=\"B\"\n              tooltip={t('throughput.busy')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('caching')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.cache_hit}\n              title=\"H\"\n              tooltip={t('caching.hits')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.cache_miss}\n              title=\"M\"\n              tooltip={t('caching.miss')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={9}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.files_completed}\n              title=\"F\"\n              tooltip={t('throughput.files_completed')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.submissions_completed}\n              title=\"C\"\n              tooltip={t('throughput.submissions_completed')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.whitelisted}\n              title=\"W\"\n              tooltip={t('throughput.whitelisted')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.skipped}\n              title=\"S\"\n              tooltip={t('throughput.skipped')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.duplicates}\n              title=\"D\"\n              tooltip={t('throughput.duplicates')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.error}\n              title=\"E\"\n              tooltip={t('throughput.error')}\n              margin=\"16px\"\n            />\n            <Tooltip title={t('throughput.bytes')}>\n              <span style={{ display: 'inline-block' }}>\n                <SpeedOutlinedIcon className={classes.icon} />\n                {ingester.initialized ? (\n                  `${Number(\n                    ((1.0 * ingester.metrics.bytes_completed) / ((1024 * 1024 * 60) / 8)).toFixed(2)\n                  )} / ${Number(((1.0 * ingester.metrics.bytes_ingested) / ((1024 * 1024 * 60) / 8)).toFixed(2))} Mbps`\n                ) : (\n                  <Skeleton height=\"1.5rem\" width=\"3rem\" style={{ display: 'inline-block' }} />\n                )}\n              </span>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedDispatcherCard = ({ dispatcher, up, down }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const busyness = (dispatcher.metrics.cpu_seconds * dispatcher.metrics.cpu_seconds_count) / dispatcher.instances / 60;\n  const startQueue = dispatcher.queues.start.reduce((x, y) => x + y, 0);\n  const resultQueue = dispatcher.queues.result.reduce((x, y) => x + y, 0);\n  const commandQueue = dispatcher.queues.command.reduce((x, y) => x + y, 0);\n\n  useEffect(() => {\n    if (dispatcher.initialized && dispatcher.queues.ingest >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.ingest'));\n    } else if (dispatcher.initialized && dispatcher.queues.files >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.files'));\n    } else if (dispatcher.initialized && startQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.start'));\n    } else if (dispatcher.initialized && resultQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.result'));\n    } else if (dispatcher.initialized && commandQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.command'));\n    } else if (dispatcher.initialized && busyness >= 0.8) {\n      setError(t('dispatcher.error.busy'));\n    } else if (dispatcher.inflight.outstanding / dispatcher.inflight.max > 0.9) {\n      setError(t('dispatcher.error.inflight'));\n    } else if ((timer !== null && dispatcher.initialized) || (timer === null && !dispatcher.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatcher]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || dispatcher.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || dispatcher.error) && (\n            <Tooltip title={error || dispatcher.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('dispatcher')} :: x${dispatcher.instances}`}</div>\n        </Grid>\n        <Grid item xs={12}>\n          <div>\n            <label>{t('services')}</label>\n          </div>\n          {dispatcher.initialized ? (\n            <div>\n              {up.length === 0 && down.length === 0 && <span className={classes.muted}>{t('no_services')}</span>}\n              {up.length !== 0 && <span>{up.join(' | ')}</span>}\n              {up.length !== 0 && down.length !== 0 && <span> :: </span>}\n              {down.length !== 0 && <span>{down.join(' | ')}</span>}\n            </div>\n          ) : (\n            <div>\n              <Skeleton />\n            </div>\n          )}\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <div>\n            <label>{t('submissions')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={\n                <span>\n                  {dispatcher.inflight.outstanding} / {dispatcher.inflight.max}\n                </span>\n              }\n              title=\"O\"\n              tooltip={t('submissions.outstanding')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.queues.ingest}\n              title=\"I\"\n              tooltip={t('queues.ingest')}\n            />\n            {dispatcher.queues.start.length === 0 &&\n              dispatcher.queues.result.length === 0 &&\n              dispatcher.queues.command.length === 0 && (\n                <MetricCounter\n                  init={dispatcher.initialized}\n                  value={dispatcher.queues.files}\n                  title=\"F\"\n                  tooltip={t('queues.file')}\n                />\n              )}\n            {dispatcher.queues.start.length > 0 && (\n              <MetricCounter init={dispatcher.initialized} value={startQueue} title=\"S\" tooltip={t('queues.start')} />\n            )}\n            {dispatcher.queues.result.length > 0 && (\n              <MetricCounter init={dispatcher.initialized} value={resultQueue} title=\"R\" tooltip={t('queues.result')} />\n            )}\n            {dispatcher.queues.command.length > 0 && (\n              <MetricCounter\n                init={dispatcher.initialized}\n                value={commandQueue}\n                title=\"C\"\n                tooltip={t('queues.command')}\n              />\n            )}\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <div>\n            <label>{t('busyness')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={`${Number(busyness * 100).toFixed(2)} %`}\n              title=\"B\"\n              tooltip={t('throughput.busy')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.metrics.files_completed}\n              title=\"F\"\n              tooltip={t('throughput.files_completed')}\n            />\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.metrics.submissions_completed}\n              title=\"S\"\n              tooltip={t('throughput.submissions_completed')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedExpiryCard = ({ expiry }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if ((timer !== null && expiry.initialized) || (timer === null && !expiry.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [expiry]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || expiry.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || expiry.error) && (\n            <Tooltip title={error || expiry.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('expiry')} :: x${expiry.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.alert}\n              title=\"A\"\n              tooltip={t('queues.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.error}\n              title=\"E\"\n              tooltip={t('queues.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.cached_file + expiry.queues.file + expiry.queues.filescore}\n              title=\"F\"\n              tooltip={t('queues.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.result + expiry.queues.emptyresult}\n              title=\"R\"\n              tooltip={t('queues.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.submission + expiry.queues.submission_summary + expiry.queues.submission_tree}\n              title=\"S\"\n              tooltip={t('queues.submission')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('expired')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.alert}\n              title=\"A\"\n              tooltip={t('expired.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.error}\n              title=\"E\"\n              tooltip={t('expired.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.cached_file + expiry.metrics.file + expiry.metrics.filescore}\n              title=\"F\"\n              tooltip={t('expired.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.result + expiry.metrics.emptyresult}\n              title=\"R\"\n              tooltip={t('expired.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.submission + expiry.metrics.submission_summary + expiry.metrics.submission_tree}\n              title=\"S\"\n              tooltip={t('expired.submission')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6} />\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('archived')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.alert}\n              title=\"A\"\n              tooltip={t('archived.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.error}\n              title=\"E\"\n              tooltip={t('archived.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.cached_file + expiry.archive.file + expiry.archive.filescore}\n              title=\"F\"\n              tooltip={t('archived.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.result + expiry.archive.emptyresult}\n              title=\"R\"\n              tooltip={t('archived.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.submission + expiry.archive.submission_summary + expiry.archive.submission_tree}\n              title=\"S\"\n              tooltip={t('archived.submission')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedAlerterCard = ({ alerter }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (alerter.metrics.error > 0) {\n      setError(t('alerter.error'));\n    } else if ((timer !== null && alerter.initialized) || (timer === null && !alerter.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [alerter]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || alerter.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || alerter.error) && (\n            <Tooltip title={error || alerter.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('alerter')} :: x${alerter.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={4}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.queues.alert}\n              title=\"A\"\n              tooltip={t('queues.alert')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={8}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.created}\n              title=\"C\"\n              tooltip={t('throughput.created')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.error}\n              title=\"E\"\n              tooltip={t('throughput.error')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.received}\n              title=\"R\"\n              tooltip={t('throughput.received')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.updated}\n              title=\"U\"\n              tooltip={t('throughput.updated')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedScalerResourcesCard = ({ scaler }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if ((timer !== null && scaler.initialized) || (timer === null && !scaler.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scaler]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || scaler.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || scaler.error) && (\n            <Tooltip title={error || scaler.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{t('resources')}</div>\n        </Grid>\n        <Grid item xs={6} style={{ textAlign: 'center' }}>\n          <div style={{ display: 'inline-block' }}>\n            <ArcGauge\n              initialized={scaler ? scaler.initialized : false}\n              pctValue={\n                scaler.metrics.cpu_total === 0\n                  ? 0\n                  : ((scaler.metrics.cpu_total - scaler.metrics.cpu_free) / scaler.metrics.cpu_total) * 100\n              }\n              title={t('cpu')}\n              caption={`${Number((scaler.metrics.cpu_total - scaler.metrics.cpu_free).toFixed(1))} / ${Number(\n                scaler.metrics.cpu_total.toFixed(1)\n              )} ${t('cores')}`}\n              width=\"120px\"\n            />\n          </div>\n        </Grid>\n        <Grid item xs={6} style={{ textAlign: 'center' }}>\n          <div style={{ display: 'inline-block' }}>\n            <ArcGauge\n              initialized={scaler ? scaler.initialized : false}\n              pctValue={\n                scaler.metrics.memory_total === 0\n                  ? 0\n                  : ((scaler.metrics.memory_total - scaler.metrics.memory_free) / scaler.metrics.memory_total) * 100\n              }\n              title={t('ram')}\n              caption={`${Number(\n                ((scaler.metrics.memory_total - scaler.metrics.memory_free) / 1024).toFixed(1)\n              )} / ${Number((scaler.metrics.memory_total / 1024).toFixed(1))} ${t('gb')}`}\n              width=\"120px\"\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedServiceCard = ({ service, max_inflight }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (service.total !== 0 && service.instances === 0) {\n      setError(t('service.error.none'));\n    } else if (service.metrics.fail_nonrecoverable > 0) {\n      setError(t('service.error.fail_nonrecoverable'));\n    } else if (service.queue > max_inflight / 4) {\n      setError(t('service.error.queue'));\n    } else if (error !== null) {\n      setError(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [service]);\n\n  return (\n    <Card className={`${classes.card} ${error || service.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || service.error) && (\n            <Tooltip title={error || service.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>\n            {`${service.service_name} :: ${service.instances} / ${service.scaler.target || '-'}`}\n          </div>\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.queue} title=\"Q\" tooltip={t('service.queue')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.activity.busy} title=\"B\" tooltip={t('service.busy')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.metrics.execute} title=\"P\" tooltip={t('service.processed')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.metrics.fail_nonrecoverable} title=\"F\" tooltip={t('service.failed')} />\n          <MetricCounter init value={service.metrics.fail_recoverable} title=\"R\" tooltip={t('service.retried')} />\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst IngestCard = React.memo(WrappedIngestCard);\nconst DispatcherCard = React.memo(WrappedDispatcherCard);\nconst ExpiryCard = React.memo(WrappedExpiryCard);\nconst AlerterCard = React.memo(WrappedAlerterCard);\nconst ScalerResourcesCard = React.memo(WrappedScalerResourcesCard);\nconst ServiceCard = React.memo(WrappedServiceCard);\n\nconst basicReducer = (state, newState) => {\n  return { ...state, ...newState };\n};\n\nconst serviceReducer = (state, serviceState) => {\n  const { type: hbType, hb } = serviceState;\n  const current = state[hb.service_name] || {};\n  if (hbType === 'scaler') {\n    const newState = {};\n    newState[hb.service_name] = {\n      ...DEFAULT_SERVICE,\n      ...current,\n      service_name: hb.service_name,\n      scaler: hb.metrics\n    };\n    return { ...state, ...newState };\n  }\n\n  const newState = {};\n  newState[hb.service_name] = {\n    ...DEFAULT_SERVICE,\n    ...current,\n    ...hb\n  };\n  return { ...state, ...newState };\n};\n\nconst serviceListReducer = (state, serviceName) => {\n  const { up, down, timing } = state;\n  const curTime = Math.floor(new Date().getTime() / 1000);\n  timing[serviceName] = curTime;\n  if (up.indexOf(serviceName) === -1) {\n    up.push(serviceName);\n  }\n  if (down.indexOf(serviceName) !== -1) {\n    down.pop(serviceName);\n  }\n\n  return { up, down, timing };\n};\n\nconst DEFAULT_ALERTER = {\n  instances: 0,\n  queues: {\n    alert: 0\n  },\n  metrics: {\n    created: 0,\n    error: 0,\n    received: 0,\n    updated: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_DISPATCHER = {\n  instances: 0,\n  inflight: {\n    outstanding: 0,\n    max: 0,\n    per_instance: []\n  },\n  queues: {\n    ingest: 0,\n    files: 0,\n    start: [],\n    result: [],\n    command: []\n  },\n  metrics: {\n    busy_seconds: 0,\n    busy_seconds_count: 0,\n    cpu_seconds: 0,\n    cpu_seconds_count: 0,\n    files_completed: 0,\n    submissions_completed: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_EXPIRY = {\n  instances: 0,\n  queues: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  metrics: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  archive: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_INGESTER = {\n  instances: 0,\n  metrics: {\n    busy_seconds: 0,\n    busy_seconds_count: 0,\n    cache_miss: 0,\n    cache_expired: 0,\n    cache_stale: 0,\n    cache_hit_local: 0,\n    cache_hit: 0,\n    bytes_completed: 0,\n    bytes_ingested: 0,\n    duplicates: 0,\n    error: 0,\n    files_completed: 0,\n    skipped: 0,\n    submissions_completed: 0,\n    submissions_ingested: 0,\n    timed_out: 0,\n    whitelisted: 0\n  },\n  processing: {\n    inflight: 0\n  },\n  processing_chance: {\n    critical: 1,\n    high: 1,\n    medium: 1,\n    low: 1\n  },\n  queues: {\n    ingest: 0,\n    critical: 0,\n    high: 0,\n    medium: 0,\n    low: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_SCALER = {\n  instances: 0,\n  metrics: {\n    memory_total: 0,\n    memory_free: 0,\n    cpu_total: 0,\n    cpu_free: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_SERVICE = {\n  duty_cycle: 0,\n  instances: 0,\n  last_hb: 0,\n  metrics: {\n    cache_hit: 0,\n    cache_miss: 0,\n    cache_skipped: 0,\n    execute: 0,\n    fail_recoverable: 0,\n    fail_nonrecoverable: 0,\n    scored: 0,\n    not_scored: 0\n  },\n  scaler: {\n    running: 0,\n    target: 0,\n    minimum: 0,\n    maximum: 0,\n    dynamic_maximum: 0,\n    queue: 0,\n    pressure: 0.0,\n    duty_cycle: 0.0\n  },\n  queue: 0,\n  activity: {\n    busy: 0,\n    idle: 0\n  },\n  service_name: null,\n  error: null\n};\n\nconst DEFAULT_SERVICE_LIST = {\n  up: [],\n  down: [],\n  timing: {}\n};\n\nconst Dashboard = () => {\n  const { t } = useTranslation(['dashboard']);\n  const [alerter, setAlerter] = useReducer(basicReducer, DEFAULT_ALERTER);\n  const [dispatcher, setDispatcher] = useReducer(basicReducer, DEFAULT_DISPATCHER);\n  const [expiry, setExpiry] = useReducer(basicReducer, DEFAULT_EXPIRY);\n  const [ingester, setIngester] = useReducer(basicReducer, DEFAULT_INGESTER);\n  const [scaler, setScaler] = useReducer(basicReducer, DEFAULT_SCALER);\n  const [services, setServices] = useReducer(serviceReducer, {});\n  const [servicesList, setServicesList] = useReducer(serviceListReducer, DEFAULT_SERVICE_LIST);\n\n  const handleAlerterHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: AlerterHeartbeat', hb);\n    setAlerter({ ...hb, initialized: true });\n  };\n\n  const handleArchiveHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ArchiveHeartbeat', hb);\n    setExpiry({ archive: hb.metrics, initialized: true });\n  };\n\n  const handleDispatcherHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: DispatcherHeartbeat', hb);\n    setDispatcher({ ...hb, initialized: true });\n  };\n\n  const handleExpiryHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ExpiryHeartbeat', hb);\n    setExpiry({ ...hb, initialized: true });\n  };\n\n  const handleIngestHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: IngestHeartbeat', hb);\n    setIngester({ ...hb, initialized: true });\n  };\n\n  const handleScalerHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ScalerHeartbeat', hb);\n    setScaler({ ...hb, initialized: true });\n  };\n\n  const handleServiceHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug(`Socket-IO :: ServiceHeartbeat ${hb.service_name}`, hb);\n    setServicesList(hb.service_name);\n    setServices({ type: 'service', hb: { ...hb, last_hb: Math.floor(new Date().getTime() / 1000) } });\n  };\n\n  const handleScalerStatusHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug(`Socket-IO :: ScalerStatusHeartbeat ${hb.service_name}`, hb);\n    setServices({ type: 'scaler', hb });\n  };\n\n  useEffect(() => {\n    const socket = io(NAMESPACE);\n\n    socket.on('connect', () => {\n      socket.emit('monitor', { status: 'start' });\n      // eslint-disable-next-line no-console\n      console.debug('Socket-IO :: Connecting to socketIO server...');\n    });\n\n    socket.on('disconnect', () => {\n      // eslint-disable-next-line no-console\n      console.debug('Socket-IO :: Disconnected from socketIO server.');\n    });\n    // eslint-disable-next-line no-console\n    socket.on('monitoring', data => console.debug('Socket-IO :: Connected to socket server', data));\n\n    socket.on('AlerterHeartbeat', handleAlerterHeartbeat);\n    socket.on('ArchiveHeartbeat', handleArchiveHeartbeat);\n    socket.on('DispatcherHeartbeat', handleDispatcherHeartbeat);\n    socket.on('ExpiryHeartbeat', handleExpiryHeartbeat);\n    socket.on('IngestHeartbeat', handleIngestHeartbeat);\n    socket.on('ScalerHeartbeat', handleScalerHeartbeat);\n    socket.on('ScalerStatusHeartbeat', handleScalerStatusHeartbeat);\n    socket.on('ServiceHeartbeat', handleServiceHeartbeat);\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return (\n    <PageFullscreen margin={4}>\n      <Typography gutterBottom color=\"primary\" variant=\"h2\" align=\"center\">\n        {t('title')}\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={12} xl={6}>\n          <IngestCard ingester={ingester} />\n        </Grid>\n        <Grid item xs={12} xl={6}>\n          <DispatcherCard dispatcher={dispatcher} up={servicesList.up} down={servicesList.down} />\n        </Grid>\n        <Grid item xs={12} xl={5}>\n          <ExpiryCard expiry={expiry} />\n        </Grid>\n        <Grid item xs={12} md={8} xl={4}>\n          <AlerterCard alerter={alerter} />\n        </Grid>\n        <Grid item xs={12} md={4} xl={3}>\n          <ScalerResourcesCard scaler={scaler} />\n        </Grid>\n        {Object.keys(services).map(key => (\n          <Grid key={key} item xs={12} md={4} xl={3}>\n            <ServiceCard service={services[key]} max_inflight={dispatcher.inflight.max} />\n          </Grid>\n        ))}\n      </Grid>\n    </PageFullscreen>\n  );\n};\n\nexport default Dashboard;\n","import React, { useCallback, useEffect, useState } from 'react';\n\ntype HighlighMapProps = {\n  [key: string]: string[];\n};\n\ntype EventProps = {\n  key: string;\n};\n\nexport type HighlightContextProps = {\n  getKey: (type: string, value: string) => string;\n  triggerHighlight: (key: string) => void;\n  isHighlighted: (key: string) => boolean;\n  hasHighlightedKeys: (keyList: string[]) => boolean;\n  setHighlightMap: (map: HighlighMapProps) => void;\n};\n\nexport interface HighlightProviderProps {\n  children: React.ReactNode;\n}\n\nexport const HighlightContext = React.createContext<HighlightContextProps>(null);\n\nfunction HighlightProvider(props: HighlightProviderProps) {\n  const { children } = props;\n  const [highlighted, setHighlighted] = useState<Set<any>>(new Set());\n  const [relatedHighlighted, setRelatedHighlighted] = useState<Set<any>>(new Set());\n  const [highlightMap, setHighlightMap] = useState<HighlighMapProps>({});\n\n  const getKey = useCallback((type: string, value: string) => {\n    return `${type}__${value}`;\n  }, []);\n\n  const isHighlighted = useCallback(\n    key => {\n      if (highlightMap) {\n        return highlighted.has(key) || relatedHighlighted.has(key);\n      }\n      return highlighted.has(key);\n    },\n    [highlighted, relatedHighlighted, highlightMap]\n  );\n\n  const hasHighlightedKeys = useCallback(\n    (keyList: string[]) => {\n      return keyList.some(item => isHighlighted(item));\n    },\n    [isHighlighted]\n  );\n\n  const triggerHighlight = useCallback((data: string) => {\n    window.dispatchEvent(new CustomEvent('tiggerHighlight', { detail: data }));\n  }, []);\n\n  useEffect(() => {\n    function handleTrigger(event: CustomEvent) {\n      const { detail: key } = event;\n      const newHighlighted = new Set(highlighted);\n      if (!newHighlighted.has(key)) {\n        newHighlighted.add(key);\n      } else {\n        newHighlighted.delete(key);\n      }\n\n      if (highlightMap) {\n        const newRelatedHighlighted = new Set();\n        newHighlighted.forEach(item => {\n          const items = highlightMap[item];\n          if (items) {\n            for (const val of items) {\n              newRelatedHighlighted.add(val);\n            }\n          }\n        });\n        setRelatedHighlighted(newRelatedHighlighted);\n      }\n      setHighlighted(newHighlighted);\n    }\n\n    window.addEventListener('tiggerHighlight', handleTrigger);\n\n    return () => {\n      window.removeEventListener('tiggerHighlight', handleTrigger);\n    };\n  }, [highlightMap, highlighted]);\n\n  return (\n    <HighlightContext.Provider\n      value={{\n        getKey,\n        triggerHighlight,\n        isHighlighted,\n        hasHighlightedKeys,\n        setHighlightMap\n      }}\n    >\n      {children}\n    </HighlightContext.Provider>\n  );\n}\n\nexport default HighlightProvider;\n","import { HighlightContext, HighlightContextProps } from 'components/visual/HighlightProvider';\nimport { useContext } from 'react';\n\nexport default function useHighlighter(): HighlightContextProps {\n  return useContext(HighlightContext) as HighlightContextProps;\n}\n","import { Link, makeStyles, Tooltip } from '@material-ui/core';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport type ExtractedFiles = {\n  classification: string;\n  description: string;\n  name: string;\n  sha256: string;\n};\n\ntype ExtractedFileProps = {\n  file: ExtractedFiles;\n  download?: boolean;\n  sid?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst WrappedExtractedFile: React.FC<ExtractedFileProps> = ({ file, download = false, sid = null }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const classes = useStyles();\n  return (\n    <div>\n      {download ? (\n        <Link href={`/api/v4/file/download/${file.sha256}/?name=${encodeURI(file.name)}`}>{file.name}</Link>\n      ) : (\n        <Link\n          component={RouterLink}\n          to={\n            sid\n              ? `/submission/detail/${sid}/${file.sha256}?name=${encodeURI(file.name)}`\n              : `/file/detail/${file.sha256}?name=${encodeURI(file.name)}`\n          }\n        >\n          {file.name}\n        </Link>\n      )}\n      <small className={classes.muted}>{` :: ${file.description}`}</small>\n      <Tooltip title={t('view_file')}>\n        <Link component={RouterLink} to={`/file/viewer/${file.sha256}`}>\n          <PageviewOutlinedIcon style={{ fontSize: '1.4em', marginLeft: '0.5rem', verticalAlign: 'bottom' }} />\n        </Link>\n      </Tooltip>\n    </div>\n  );\n};\n\nconst ExtractedFile = React.memo(WrappedExtractedFile);\nexport default ExtractedFile;\n","import { Box, Collapse, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ExtractedFile, { ExtractedFiles } from './extracted_file';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ExtractedSectionProps = {\n  extracted: ExtractedFiles[];\n  sid: string;\n};\n\nconst WrappedExtractedSection: React.FC<ExtractedSectionProps> = ({ extracted, sid }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box\n        className={classes.title}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <h3>{t('extracted')}</h3>\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            extracted.map((file, id) => {\n              return <ExtractedFile key={id} file={file} sid={sid} />;\n            }),\n          [extracted, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ExtractedSection = React.memo(WrappedExtractedSection);\nexport default ExtractedSection;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype AttackProps = {\n  text: string;\n  lvl?: string | null;\n  score?: number | null;\n  show_type?: boolean;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Attack: React.FC<AttackProps> = ({\n  text,\n  lvl = null,\n  score = null,\n  show_type = false,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.heuristic.attack.pattern:\"${text}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [text]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={show_type ? `[ATT&CK] ${text}` : text}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Attack;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype HeuristicProps = {\n  text: string;\n  lvl?: string | null;\n  score?: number | null;\n  signature?: boolean;\n  show_type?: boolean;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Heuristic: React.FC<HeuristicProps> = ({\n  text,\n  lvl = null,\n  score = null,\n  signature = false,\n  show_type = false,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.heuristic${signature ? '.signature' : ''}.name:\"${text}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [signature, text]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={show_type ? (signature ? `[SIGNATURE] ${text}` : `[HEURISTIC] ${text}`) : text}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Heuristic;\n","import { useTheme } from '@material-ui/core';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React from 'react';\n\ntype SectionHighlightProps = {\n  score: number;\n  indent: number;\n  depth?: number;\n  highlighted?: boolean;\n};\n\nconst SectionHighlight: React.FC<SectionHighlightProps> = ({ score, indent, depth = 1, highlighted = false }) => {\n  const theme = useTheme();\n\n  const VERDICT_SCORE_MAP = {\n    // suspicious: theme.palette.type === 'dark' ? '#1f5c6e' : '#a8ebff',\n    info: theme.palette.type === 'dark' ? '#393939' : '#f0f0f0',\n    safe: theme.palette.type === 'dark' ? '#2a492b' : '#9ae99d',\n    suspicious: theme.palette.type === 'dark' ? '#654312' : '#ffd395',\n    highly_suspicious: theme.palette.type === 'dark' ? '#654312' : '#ffd395',\n    malicious: theme.palette.type === 'dark' ? '#6e2b2b' : '#ffa1a1'\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: highlighted\n          ? theme.palette.type === 'dark'\n            ? '#343a44'\n            : '#d8e3ea'\n          : VERDICT_SCORE_MAP[scoreToVerdict(score)],\n        minWidth: '0.5rem',\n        marginLeft: `${-1 * indent + -0.5 * (indent - depth)}rem`,\n        marginRight: `${1 * indent + 0.5 * (indent - depth)}rem`\n      }}\n    />\n  );\n};\n\nexport default SectionHighlight;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype TagProps = {\n  type: string;\n  value: string;\n  lvl?: string | null;\n  score?: number | null;\n  short_type?: string | null;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Tag: React.FC<TagProps> = ({\n  type,\n  value,\n  lvl = null,\n  score = null,\n  short_type = null,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.tags.${type}:\"${value}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [type, value]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={short_type ? `[${short_type.toUpperCase()}] ${value}` : value}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Tag;\n","import React from 'react';\n\ntype TitleKeyProps = {\n  title: string;\n};\n\nconst TitleKey: React.FC<TitleKeyProps> = ({ title }) => {\n  return <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{title.replace(/[-_.]/g, ' ')}</span>;\n};\n\nexport default TitleKey;\n","import {\n  Box,\n  Collapse,\n  createStyles,\n  Link,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Tooltip,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport { TreeItem, TreeView } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Attack from 'components/visual/Attack';\nimport Classification from 'components/visual/Classification';\nimport Heuristic from 'components/visual/Heuristic';\nimport SectionHighlight from 'components/visual/SectionHighlight';\nimport Tag from 'components/visual/Tag';\nimport TitleKey from 'components/visual/TitleKey';\nimport Verdict from 'components/visual/Verdict';\nimport { scaleLinear } from 'd3-scale';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactJson from 'react-json-view';\n\nconst useStyles = makeStyles(theme => ({\n  section_title: {\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n      cursor: 'pointer'\n    }\n  }\n}));\n\nconst useTreeItemStyles = makeStyles((theme: Theme) => ({\n  root: {\n    '&:hover > .MuiTreeItem-content': {\n      backgroundColor: 'transparent'\n    },\n    '&:focus > .MuiTreeItem-content, &$root.Mui-selected > .MuiTreeItem-content': {\n      backgroundColor: 'transparent'\n    },\n    '&:focus > .MuiTreeItem-content .MuiTreeItem-label, &:hover > .MuiTreeItem-content .MuiTreeItem-label, &$root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label': {\n      backgroundColor: 'transparent'\n    }\n  },\n  suspicious: {\n    backgroundColor: theme.palette.type === 'dark' ? '#654312' : '#ffedd4'\n  },\n  malicious: {\n    backgroundColor: theme.palette.type === 'dark' ? '#4e2525' : '#ffd0d0'\n  }\n}));\n\nconst TextBody = ({ body }) => {\n  return <div style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{body}</div>;\n};\n\nconst MemDumpBody = ({ body }) => {\n  const theme = useTheme();\n  return (\n    <pre\n      style={{\n        backgroundColor: theme.palette.type === 'dark' ? '#ffffff05' : '#00000005',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: '4px',\n        padding: '4px',\n        whiteSpace: 'pre-wrap',\n        fontSize: '1rem',\n        wordBreak: 'break-word',\n        margin: '0.25rem 0'\n      }}\n    >\n      {body}\n    </pre>\n  );\n};\n\nconst KVBody = ({ body }) => {\n  return (\n    <table cellSpacing={0}>\n      <tbody>\n        {Object.keys(body).map((key, id) => {\n          let value = body[key];\n          if (value instanceof Array) {\n            value = value.join(' | ');\n          } else if (value === true) {\n            value = 'true';\n          } else if (value === false) {\n            value = 'false';\n          } else if (typeof value === 'object') {\n            value = JSON.stringify(value);\n          }\n          return (\n            <tr key={id}>\n              <td style={{ paddingRight: '16px', wordBreak: 'normal' }}>\n                <TitleKey title={key} />\n              </td>\n              <td style={{ wordBreak: 'break-word' }}>{value}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nconst GraphBody = ({ body }) => {\n  const theme = useTheme();\n  if (body.type === 'colormap') {\n    const colorRange = ['#87c6fb', '#111920'];\n    const itemWidthPct = 100 / body.data.values.length;\n    const colorScale = scaleLinear().domain(body.data.domain).range(colorRange);\n    return (\n      <svg width=\"100%\" height=\"70\">\n        <rect y={10} x={0} width={15} height={15} fill={colorRange[0]} />\n        <text y={22} x={20} fill={theme.palette.text.primary}>{`: ${body.data.domain[0]}`}</text>\n        <rect y={10} x={80} width={15} height={15} fill={colorRange[1]} />\n        <text y={22} x={100} fill={theme.palette.text.primary}>{`: ${body.data.domain[1]}`}</text>\n        {body.data.values.map((value, i) => {\n          return (\n            <rect\n              key={i}\n              y={30}\n              x={`${i * itemWidthPct}%`}\n              width={`${itemWidthPct}%`}\n              height={40}\n              stroke={colorScale(value)}\n              fill={colorScale(value)}\n            />\n          );\n        })}\n      </svg>\n    );\n  }\n  return <div style={{ margin: '2rem' }}>Unsupported graph...</div>;\n};\n\nconst URLBody = ({ body }) => {\n  const arr = [];\n  if (!(body instanceof Array)) {\n    arr.push(body);\n  } else {\n    Array.prototype.push.apply(arr, body);\n  }\n\n  return (\n    <ul\n      style={{\n        listStyleType: 'none',\n        paddingInlineStart: 0,\n        marginBlockStart: '0.25rem',\n        marginBlockEnd: '0.25rem'\n      }}\n    >\n      {arr.map((item, id) => {\n        return (\n          <li key={id}>\n            <Link href={item.url}>{item.name ? item.name : item.url}</Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nconst JSONBody = ({ body }) => {\n  const theme = useTheme();\n\n  const jsonTheme = {\n    base00: 'transparent', // Background\n    base01: '#f1f1f1', // Edit key text\n    base02: theme.palette.type === 'dark' ? theme.palette.text.hint : theme.palette.divider, // Borders and DataType Background\n    base03: '#444', // Unused\n    base04: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 400], // Object size and Add key border\n    base05: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 700], // Undefined and Add key background\n    base06: '#444', // Unused\n    base07: theme.palette.text.primary, // Brace, Key and Borders\n    base08: theme.palette.text.secondary, // NaN\n    base09: theme.palette.type === 'dark' ? theme.palette.warning.light : theme.palette.warning.dark, // Strings and Icons\n    base0A: '#333', // Null, Regex and edit color\n    base0B: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark, // Float\n    base0C: theme.palette.type === 'dark' ? theme.palette.secondary.light : theme.palette.secondary.dark, // Array Key\n    base0D: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Date, function, expand icon\n    base0E: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Boolean\n    base0F: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark // Integer\n  };\n\n  return (\n    <ReactJson\n      name={false}\n      src={body}\n      theme={jsonTheme}\n      enableClipboard={false}\n      collapsed\n      groupArraysAfterLength={10}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      style={{\n        backgroundColor: theme.palette.type === 'dark' ? '#FFFFFF05' : '#00000005',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: '4px',\n        fontSize: '1rem',\n        padding: '4px'\n      }}\n    />\n  );\n};\n\nconst ProcessTreeItem = ({ process }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const theme = useTheme();\n  const classes = useTreeItemStyles();\n  const classMap = {\n    suspicious: classes.suspicious,\n    highly_suspicious: classes.suspicious,\n    malicious: classes.malicious\n  };\n\n  return (\n    <TreeItem\n      nodeId={process.process_pid.toString()}\n      classes={{\n        root: classes.root\n      }}\n      label={\n        <div\n          className={\n            classMap[\n              scoreToVerdict(\n                Object.keys(process.signatures).reduce((sum, key) => sum + parseFloat(process.signatures[key] || 0), 0)\n              )\n            ]\n          }\n          style={{\n            border: `1px solid ${theme.palette.divider}`,\n            margin: '0.2em 0em',\n            borderRadius: '4px',\n            display: 'flex',\n            maxWidth: '50rem',\n            minWidth: '30rem'\n          }}\n        >\n          <div\n            style={{\n              padding: '5px',\n              backgroundColor: theme.palette.type === 'dark' ? '#FFFFFF10' : '#00000010',\n              borderRadius: '4px 0px 0px 4px'\n            }}\n          >\n            {process.process_pid}\n          </div>\n          <div style={{ padding: '5px', flexGrow: 1, wordBreak: 'break-word' }}>\n            <div style={{ paddingBottom: '5px' }}>\n              <b>{process.process_name}</b>\n            </div>\n            <div>\n              <samp>\n                <small>{process.command_line}</small>\n              </samp>\n            </div>\n          </div>\n          <div style={{ alignSelf: 'center', color: theme.palette.text.secondary }}>\n            {Object.keys(process.signatures).length !== 0 && (\n              <div>\n                <Tooltip title={`${t('process_signatures')}: ${Object.keys(process.signatures).join(' | ')}`}>\n                  <span>\n                    {Object.keys(process.signatures).length}x\n                    <FingerprintOutlinedIcon style={{ verticalAlign: 'middle' }} />\n                  </span>\n                </Tooltip>\n              </div>\n            )}\n          </div>\n        </div>\n      }\n    >\n      {process.children.length !== 0 && <ProcessTreeItemList processes={process.children} />}\n    </TreeItem>\n  );\n};\n\nconst ProcessTreeItemList = ({ processes }) => {\n  return processes.map((process, id) => {\n    return <ProcessTreeItem key={id} process={process} />;\n  });\n};\n\nconst ProcessTreeBody = ({ body }) => {\n  try {\n    const data = JSON.parse(body);\n    const expanded = [];\n\n    // Auto-expand first two levels\n    data.forEach(process => {\n      if (process.process_pid !== undefined && process.process_pid !== null) {\n        expanded.push(process.process_pid.toString());\n      }\n      if (process.children !== undefined && process.children !== null && process.children.length !== 0) {\n        process.children.forEach(subprocess => {\n          if (subprocess.process_pid !== undefined && subprocess.process_pid !== null) {\n            expanded.push(subprocess.process_pid.toString());\n          }\n        });\n      }\n    });\n\n    return (\n      <div style={{ overflowX: 'auto' }}>\n        <TreeView\n          defaultExpanded={expanded}\n          defaultCollapseIcon={<ExpandMoreIcon />}\n          defaultExpandIcon={<ChevronRightIcon />}\n        >\n          <ProcessTreeItemList processes={data} />\n        </TreeView>\n      </div>\n    );\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Could not parse ProcessTree body. The section will be skipped...');\n  }\n  return null;\n};\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontSize: 'inherit',\n      lineHeight: 'inherit'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE'\n    },\n    body: {\n      wordBreak: 'break-word'\n    }\n  })\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.type === 'dark' ? '#ffffff08' : '#00000008'\n      }\n    }\n  })\n)(TableRow);\n\nconst StyledTable = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      [theme.breakpoints.down('sm')]: {\n        width: 'max-content'\n      }\n    }\n  })\n)(Table);\n\nconst TblBody = ({ body }) => {\n  let data = null;\n  try {\n    data = JSON.parse(body);\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Could not parse Table body. The section will be skipped...');\n  }\n\n  const headers = [];\n\n  if (data) {\n    for (const line of data) {\n      // eslint-disable-next-line guard-for-in\n      for (const th in line) {\n        const val = line[th];\n        if (val !== null && val !== '') {\n          if (!headers.includes(th)) {\n            headers.push(th);\n          }\n        }\n      }\n    }\n  }\n\n  return (\n    data && (\n      <TableContainer style={{ fontSize: '90%', maxHeight: '500px' }}>\n        <StyledTable stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              {headers.map((th, id) => {\n                return (\n                  <StyledTableCell key={id}>\n                    <TitleKey title={th} />\n                  </StyledTableCell>\n                );\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.map((row, id) => {\n              return (\n                <StyledTableRow key={id}>\n                  {headers.map((key, hid) => {\n                    let value = row[key];\n                    if (value instanceof Array) {\n                      value = value.join(' | ');\n                    } else if (value === true) {\n                      value = 'true';\n                    } else if (value === false) {\n                      value = 'false';\n                    } else if (typeof value === 'object' && value !== null && value !== undefined) {\n                      value = <KVBody body={value} />;\n                    }\n                    return <StyledTableCell key={hid}>{value}</StyledTableCell>;\n                  })}\n                </StyledTableRow>\n              );\n            })}\n          </TableBody>\n        </StyledTable>\n      </TableContainer>\n    )\n  );\n};\n\nexport type SectionItem = {\n  children: SectionItem[];\n  id: number;\n};\n\nexport type Section = {\n  body: any;\n  body_format: string;\n  classification: string;\n  depth: number;\n  heuristic: {\n    attack: {\n      attack_id: string;\n      categories: string[];\n      pattern: string;\n    }[];\n    heur_id: string;\n    name: string;\n    score: number;\n    signature: {\n      frequency: number;\n      name: string;\n    }[];\n  };\n  tags: {\n    type: string;\n    short_type: string;\n    value: string;\n  }[];\n  title_text: string;\n};\n\ntype ResultSectionProps = {\n  section_list: Section[];\n  id: number;\n  sub_sections: SectionItem[];\n  indent: number;\n  depth?: number;\n};\n\nconst ResultSection: React.FC<ResultSectionProps> = ({ section_list, id, sub_sections, indent, depth = 1 }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const section = section_list[id];\n  const [open, setOpen] = React.useState(true);\n  const { getKey, hasHighlightedKeys } = useHighlighter();\n  const { c12nDef } = useALContext();\n\n  const allTags = useMemo(() => {\n    const tagList = [];\n    for (const tag of section.tags) {\n      tagList.push(getKey(tag.type, tag.value));\n    }\n\n    if (section.heuristic !== undefined && section.heuristic !== null) {\n      if (section.heuristic.attack !== undefined && section.heuristic.attack.length !== 0) {\n        for (const attack of section.heuristic.attack) {\n          tagList.push(getKey('attack_pattern', attack.attack_id));\n        }\n      }\n      if (section.heuristic.heur_id !== undefined && section.heuristic.heur_id !== null) {\n        tagList.push(getKey('heuristic', section.heuristic.heur_id));\n      }\n      if (section.heuristic.signature !== undefined && section.heuristic.signature.length !== 0) {\n        for (const signature of section.heuristic.signature) {\n          tagList.push(getKey('heuristic.signature', signature.name));\n        }\n      }\n    }\n    return tagList;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [section]);\n\n  const highlighted = hasHighlightedKeys(allTags);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexWrap: 'nowrap',\n        marginLeft: `${depth}rem`,\n        backgroundColor: highlighted ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n      }}\n    >\n      <SectionHighlight\n        score={section.heuristic ? section.heuristic.score : 0}\n        indent={indent}\n        depth={depth}\n        highlighted={highlighted}\n      />\n\n      <div style={{ width: '100%' }}>\n        <Box className={classes.section_title} onClick={handleClick}>\n          {c12nDef.enforce && (\n            <span>\n              <Classification c12n={section.classification} type=\"text\" />\n              &nbsp;&nbsp;::&nbsp;&nbsp;\n            </span>\n          )}\n          {section.heuristic && (\n            <span>\n              <Verdict score={section.heuristic.score} mono short size=\"tiny\" />\n              &nbsp;::&nbsp;&nbsp;\n            </span>\n          )}\n          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{section.title_text}</span>\n        </Box>\n        <Collapse in={open} timeout=\"auto\">\n          {useMemo(\n            () => (\n              <>\n                <div style={{ marginLeft: '1rem', marginBottom: '0.75rem' }}>\n                  {(() => {\n                    switch (section.body_format) {\n                      case 'TEXT':\n                        return <TextBody body={section.body} />;\n                      case 'MEMORY_DUMP':\n                        return <MemDumpBody body={section.body} />;\n                      case 'GRAPH_DATA':\n                        return <GraphBody body={section.body} />;\n                      case 'URL':\n                        return <URLBody body={section.body} />;\n                      case 'JSON':\n                        return <JSONBody body={section.body} />;\n                      case 'KEY_VALUE':\n                        return <KVBody body={section.body} />;\n                      case 'PROCESS_TREE':\n                        return <ProcessTreeBody body={section.body} />;\n                      case 'TABLE':\n                        return <TblBody body={section.body} />;\n                      default:\n                        return <div style={{ margin: '2rem' }}>INVALID SECTION TYPE</div>;\n                    }\n                  })()}\n                  {section.heuristic && (\n                    <Heuristic\n                      text={section.heuristic.name}\n                      score={section.heuristic.score}\n                      show_type\n                      highlight_key={getKey('heuristic', section.heuristic.heur_id)}\n                    />\n                  )}\n                  {section.heuristic &&\n                    section.heuristic.attack.map((attack, idx) => {\n                      return (\n                        <Attack\n                          key={idx}\n                          text={attack.pattern}\n                          score={section.heuristic.score}\n                          show_type\n                          highlight_key={getKey('attack_pattern', attack.attack_id)}\n                        />\n                      );\n                    })}\n                  {section.heuristic &&\n                    section.heuristic.signature.map((signature, idx) => {\n                      return (\n                        <Heuristic\n                          key={idx}\n                          text={signature.name}\n                          score={section.heuristic.score}\n                          signature\n                          show_type\n                          highlight_key={getKey('heuristic.signature', signature.name)}\n                        />\n                      );\n                    })}\n                  {section.tags.map((tag, idx) => {\n                    return (\n                      <Tag\n                        key={idx}\n                        type={tag.type}\n                        value={tag.value}\n                        short_type={tag.short_type}\n                        score={section.heuristic ? section.heuristic.score : 0}\n                        highlight_key={getKey(tag.type, tag.value)}\n                      />\n                    );\n                  })}\n                </div>\n                <div>\n                  {sub_sections.map(item => {\n                    return (\n                      <ResultSection\n                        key={item.id}\n                        section_list={section_list}\n                        id={item.id}\n                        sub_sections={item.children}\n                        indent={indent + 1}\n                      />\n                    );\n                  })}\n                </div>\n              </>\n            ),\n            [\n              getKey,\n              indent,\n              section.body,\n              section.body_format,\n              section.heuristic,\n              section.tags,\n              section_list,\n              sub_sections\n            ]\n          )}\n        </Collapse>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultSection;\n","import { Box, Collapse, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ExtractedFile, { ExtractedFiles } from './extracted_file';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype SupplementarySectionProps = {\n  extracted: ExtractedFiles[];\n};\n\nconst WrappedSupplementarySection: React.FC<SupplementarySectionProps> = ({ extracted }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box\n        className={classes.title}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <h3>{t('supplementary')}</h3>\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            extracted.map((file, id) => {\n              return <ExtractedFile key={id} file={file} download />;\n            }),\n          [extracted]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst SupplementarySection = React.memo(WrappedSupplementarySection);\nexport default SupplementarySection;\n","import {\n  Box,\n  Button,\n  ClickAwayListener,\n  Collapse,\n  Fade,\n  makeStyles,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport useALContext from 'components/hooks/useALContext';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport ExtractedSection from './ResultCard/extracted';\nimport { ExtractedFiles } from './ResultCard/extracted_file';\nimport ResultSection, { Section, SectionItem } from './ResultCard/result_section';\nimport SupplementarySection from './ResultCard/supplementary';\n\nexport type Result = {\n  archive_ts: string;\n  classification: string;\n  created: string;\n  drop_file: boolean;\n  expiry_ts: string | null;\n  response: {\n    extracted: ExtractedFiles[];\n    milestones: {\n      service_completed: string;\n      service_started: string;\n    };\n    service_context: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    supplementary: ExtractedFiles[];\n  };\n  result: {\n    score: number;\n    sections: Section[];\n  };\n  section_hierarchy: SectionItem[];\n  sha256: string;\n};\n\nexport type AlternateResult = {\n  classification: string;\n  created: string;\n  drop_file: boolean;\n  id: string;\n  response: {\n    service_name: string;\n    service_version: string;\n  };\n  result: {\n    score: number;\n  };\n};\n\ntype ResultCardProps = {\n  result: Result;\n  sid: string | null;\n  alternates?: AlternateResult[] | null;\n};\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    backgroundColor: theme.palette.background.default,\n    border: `solid 1px ${theme.palette.type === 'dark' ? '#393939' : '#ddd'}`,\n    borderRadius: '4px'\n  },\n  card_title: {\n    backgroundColor: theme.palette.type === 'dark' ? '#393939' : '#f0f0f0',\n    padding: '6px',\n    borderRadius: '4px 4px 0px 0px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#505050' : '#e6e6e6',\n      cursor: 'pointer'\n    }\n  },\n  content: {\n    padding: '6px'\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nexport const emptyResult = (result: Result) => {\n  return (\n    result.result.score === 0 &&\n    result.result.sections.length === 0 &&\n    result.response.extracted.length === 0 &&\n    result.response.supplementary.length === 0\n  );\n};\n\nconst ResultCard: React.FC<ResultCardProps> = ({ result, sid, alternates = null }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const sp2 = theme.spacing(2);\n  const { c12nDef, settings } = useALContext();\n  const empty = emptyResult(result);\n  const [displayedResult, setDisplayedResult] = React.useState<Result>(result);\n  const [open, setOpen] = React.useState(!empty && displayedResult.result.score >= settings.expand_min_score);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [selected, setSelected] = React.useState(null);\n  const { getKey, hasHighlightedKeys } = useHighlighter();\n  const popper = Boolean(anchorEl);\n\n  const allTags = useMemo(() => {\n    const tagList = [];\n    displayedResult.result.sections.forEach(section => {\n      for (const tag of section.tags) {\n        tagList.push(getKey(tag.type, tag.value));\n      }\n\n      if (section.heuristic !== undefined && section.heuristic !== null) {\n        if (section.heuristic.attack !== undefined && section.heuristic.attack.length !== 0) {\n          for (const attack of section.heuristic.attack) {\n            tagList.push(getKey('attack_pattern', attack.attack_id));\n          }\n        }\n        if (section.heuristic.heur_id !== undefined && section.heuristic.heur_id !== null) {\n          tagList.push(getKey('heuristic', section.heuristic.heur_id));\n        }\n        if (section.heuristic.signature !== undefined && section.heuristic.signature.length !== 0) {\n          for (const signature of section.heuristic.signature) {\n            tagList.push(getKey('heuristic.signature', signature.name));\n          }\n        }\n      }\n    });\n    return tagList;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [displayedResult]);\n\n  if (displayedResult.section_hierarchy === undefined) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Using old rendering method because the section hierarchy is missing...');\n  }\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const handlePopperClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.stopPropagation();\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n\n  useEffect(() => {\n    if (selected !== null) {\n      setAnchorEl(null);\n      apiCall({\n        url: `/api/v4/result/${selected}/`,\n        onSuccess: api_data => {\n          setDisplayedResult(api_data.api_response);\n          setOpen(true);\n        }\n      });\n    } else if (displayedResult !== result) {\n      setAnchorEl(null);\n      setDisplayedResult(result);\n      setOpen(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selected]);\n\n  return (\n    <div className={classes.card} style={{ marginBottom: sp2 }}>\n      <Popper open={popper} anchorEl={anchorEl} placement=\"bottom-end\" transition>\n        {({ TransitionProps }) => (\n          <Fade {...TransitionProps}>\n            <Paper>\n              <ClickAwayListener onClickAway={() => setAnchorEl(null)}>\n                <MenuList dense>\n                  <MenuItem disabled={selected === null} onClick={() => setSelected(null)}>\n                    <span style={{ paddingRight: theme.spacing(2) }}>\n                      {`${result.response.service_version} :: [${result.result.score}]`}\n                    </span>\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{result.created}</Moment>\n                  </MenuItem>\n                  {alternates.map(alt => {\n                    return (\n                      <MenuItem disabled={selected === alt.id} key={alt.id} onClick={() => setSelected(alt.id)}>\n                        <span style={{ paddingRight: theme.spacing(2) }}>\n                          {`${alt.response.service_version} :: [${alt.result.score}]`}\n                        </span>\n                        <Moment format=\"YYYY-MM-DD HH:mm:ss\">{alt.created}</Moment>\n                      </MenuItem>\n                    );\n                  })}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Fade>\n        )}\n      </Popper>\n      <Box\n        className={classes.card_title}\n        onClick={handleClick}\n        style={{\n          backgroundColor: hasHighlightedKeys(allTags) ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n        }}\n      >\n        {c12nDef.enforce && <Classification c12n={displayedResult.classification} type=\"text\" />}\n        <span>\n          {c12nDef.enforce && <span>&nbsp;::&nbsp;</span>}\n          <b>{displayedResult.response.service_name}</b>&nbsp;\n        </span>\n        {!empty && <Verdict score={displayedResult.result.score} mono short size=\"tiny\" />}\n        <small className={classes.muted}>{` :: ${displayedResult.response.service_version.replace(/_/g, '.')}`}</small>\n        <small className={classes.muted} style={{ flexGrow: 1 }}>\n          &nbsp;{displayedResult.response.service_context ? `(${displayedResult.response.service_context})` : ''}\n        </small>\n        {!empty && !sid && (\n          <div>\n            {alternates ? (\n              <Button\n                className={classes.muted}\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={handlePopperClick}\n                style={{ fontSize: 'smaller' }}\n              >\n                <Moment fromNow>{displayedResult.created}</Moment>\n              </Button>\n            ) : (\n              <Typography\n                className={classes.muted}\n                variant=\"button\"\n                style={{ fontSize: 'smaller', paddingRight: theme.spacing(1.4) }}\n              >\n                <Moment fromNow>{displayedResult.created}</Moment>\n              </Typography>\n            )}\n          </div>\n        )}\n        {open ? <ExpandLess className={classes.muted} /> : <ExpandMore className={classes.muted} />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            empty ? (\n              <div className={classes.content} style={{ color: theme.palette.text.secondary }}>\n                {t('nothing_to_report')}\n              </div>\n            ) : (\n              <div className={classes.content}>\n                {displayedResult.section_hierarchy\n                  ? displayedResult.section_hierarchy.map(item => {\n                      return (\n                        <ResultSection\n                          key={item.id}\n                          section_list={displayedResult.result.sections}\n                          id={item.id}\n                          sub_sections={item.children}\n                          indent={1}\n                        />\n                      );\n                    })\n                  : displayedResult.result.sections.map((section, id) => {\n                      return (\n                        <ResultSection\n                          key={id}\n                          section_list={displayedResult.result.sections}\n                          id={id}\n                          sub_sections={[]}\n                          indent={section.depth}\n                          depth={section.depth}\n                        />\n                      );\n                    })}\n                {displayedResult.response.supplementary.length !== 0 && (\n                  <SupplementarySection extracted={displayedResult.response.supplementary} />\n                )}\n                {displayedResult.response.extracted.length !== 0 && (\n                  <ExtractedSection extracted={displayedResult.response.extracted} sid={sid} />\n                )}\n              </div>\n            ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [\n            empty,\n            displayedResult.response.extracted,\n            displayedResult.response.supplementary,\n            displayedResult.result.sections,\n            displayedResult.section_hierarchy,\n            sid\n          ]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nexport default ResultCard;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Attack from '../Attack';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype AttackSectionProps = {\n  attacks: any;\n};\n\nconst WrappedAttackSection: React.FC<AttackSectionProps> = ({ attacks }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('attack_matrix')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {attacks\n                ? Object.keys(attacks).map((cat, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{cat.replace(/-/g, ' ')}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {attacks[cat].map(([cid, mat, lvl], idx) => {\n                            return (\n                              <Attack\n                                key={`${cid}_${idx}`}\n                                text={mat}\n                                lvl={lvl}\n                                highlight_key={getKey('attack_pattern', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [attacks]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst AttackSection = React.memo(WrappedAttackSection);\nexport default AttackSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  clickable: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ChildrenSectionProps = {\n  childrens: any;\n};\n\nconst WrappedChildrenSection: React.FC<ChildrenSectionProps> = ({ childrens }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const history = useHistory();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('childrens')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {childrens.map((fileItem, i) => {\n                return (\n                  <Box\n                    key={i}\n                    className={classes.clickable}\n                    onClick={() => {\n                      history.push(`/file/detail/${fileItem.sha256}?name=${encodeURI(fileItem.name)}`);\n                    }}\n                    style={{ wordBreak: 'break-word' }}\n                  >\n                    <span>{fileItem.name}</span>\n                    <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>\n                      {` :: ${fileItem.sha256}`}\n                    </span>\n                  </Box>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [childrens]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ChildrenSection = React.memo(WrappedChildrenSection);\nexport default ChildrenSection;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ResultCard from '../ResultCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype EmptySectionProps = {\n  emptys: any;\n  sid: string;\n};\n\nconst WrappedEmptySection: React.FC<EmptySectionProps> = ({ emptys, sid }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('emptys')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {emptys\n                ? emptys.map((result, i) => {\n                    return <ResultCard key={i} result={result} sid={sid} />;\n                  })\n                : [...Array(2)].map((_, i) => {\n                    return <Skeleton key={i} style={{ height: '16rem' }} />;\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [emptys, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst EmptySection = React.memo(WrappedEmptySection);\nexport default EmptySection;\n","import { Box, Collapse, makeStyles, useTheme } from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nexport type Error = {\n  archive_ts: string;\n  created: string;\n  expiry_ts: string | null;\n  response: {\n    message: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    status: string;\n  };\n  sha256: string;\n  type: string;\n};\n\ntype ErrorCardProps = {\n  error: Error;\n};\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    backgroundColor: theme.palette.type === 'dark' ? '#371a1a' : '#fce9e9',\n    border: `solid 1px ${theme.palette.type === 'dark' ? '#502121' : '#ffcbcb'}`,\n    borderRadius: '4px'\n  },\n  card_title: {\n    backgroundColor: theme.palette.type === 'dark' ? '#502121' : '#ffd9d9',\n    padding: '6px',\n    borderRadius: '4px 4px 0px 0px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#6e2b2b' : '#ffc5c5',\n      cursor: 'pointer'\n    }\n  },\n  content: {\n    padding: '6px'\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst ErrorCard: React.FC<ErrorCardProps> = ({ error }) => {\n  const classes = useStyles();\n  const { t } = useTranslation(['adminErrorViewer']);\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div className={classes.card} style={{ marginBottom: sp2 }}>\n      <Box className={classes.card_title} onClick={handleClick}>\n        <span>\n          <b>{error.response.service_name}</b>&nbsp;\n        </span>\n        <span>[{t(`type.${error.type}`)}]&nbsp;</span>\n        <small className={classes.muted}>{` :: ${error.response.service_version}`}</small>\n        <small className={classes.muted} style={{ flexGrow: 1 }}>\n          &nbsp;{error.response.service_tool_version ? `(${error.response.service_tool_version})` : ''}\n        </small>\n        <small>\n          <Moment className={classes.muted} fromNow>\n            {error.created}\n          </Moment>\n        </small>\n        {open ? <ExpandLess className={classes.muted} /> : <ExpandMore className={classes.muted} />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        <div className={classes.content}>{error.response.message}</div>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default ErrorCard;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ErrorCard from '../ErrorCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ErrorSectionProps = {\n  errors: any;\n};\n\nconst WrappedErrorSection: React.FC<ErrorSectionProps> = ({ errors }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('errors')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {errors.map((error, i) => {\n                return <ErrorCard key={i} error={error} />;\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [errors]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ErrorSection = React.memo(WrappedErrorSection);\nexport default ErrorSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype FrequencySectionProps = {\n  fileinfo: any;\n};\n\nconst WrappedFrequencySection: React.FC<FrequencySectionProps> = ({ fileinfo }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('frequency')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.first')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <div>\n                      <Moment fromNow>{fileinfo.seen.first}</Moment> (\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">{fileinfo.seen.first}</Moment>)\n                    </div>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.last')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <div>\n                      <Moment fromNow>{fileinfo.seen.last}</Moment> (\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">{fileinfo.seen.last}</Moment>)\n                    </div>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.count')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? fileinfo.seen.count : <Skeleton />}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [fileinfo]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst FrequencySection = React.memo(WrappedFrequencySection);\nexport default FrequencySection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Heuristic from '../Heuristic';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype HeuristicSectionProps = {\n  heuristics: any;\n};\n\nconst WrappedHeuristicSection: React.FC<HeuristicSectionProps> = ({ heuristics }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('heuristics')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {heuristics\n                ? Object.keys(heuristics).map((lvl, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{t(`verdict.${lvl}`)}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {heuristics[lvl].map(([cid, hname], idx) => {\n                            return (\n                              <Heuristic\n                                key={`${cid}_${idx}`}\n                                text={hname}\n                                lvl={lvl}\n                                highlight_key={getKey('heuristic', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [heuristics]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst HeuristicSection = React.memo(WrappedHeuristicSection);\nexport default HeuristicSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { bytesToSize } from 'helpers/utils';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype IdentificationSectionProps = {\n  fileinfo: any;\n};\n\nconst WrappedIdentificationSection: React.FC<IdentificationSectionProps> = ({ fileinfo }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('identification')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>MD5</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.md5 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SHA1</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.sha1 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SHA256</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.sha256 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SSDEEP</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.ssdeep : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('size')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <span>\n                      {fileinfo.size}\n                      <span style={{ fontWeight: 300 }}> ({bytesToSize(fileinfo.size)})</span>\n                    </span>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('type')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.type : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('mime')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.mime : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('magic')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.magic : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('entropy')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? fileinfo.entropy : <Skeleton />}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [fileinfo]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst IdentificationSection = React.memo(WrappedIdentificationSection);\nexport default IdentificationSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CustomChip from '../CustomChip';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype MetadataSectionProps = {\n  metadata: any;\n};\n\nconst WrappedMetadataSection: React.FC<MetadataSectionProps> = ({ metadata }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('metadata')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {metadata\n                ? Object.keys(metadata).map((meta, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{meta}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {Object.keys(metadata[meta]).map((item, key) => {\n                            return <CustomChip size=\"tiny\" key={key} label={`${metadata[meta][item]}x ${item}`} />;\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [metadata]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst MetadataSection = React.memo(WrappedMetadataSection);\nexport default MetadataSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  clickable: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ParentSectionProps = {\n  parents: any;\n};\n\nconst WrappedParentSection: React.FC<ParentSectionProps> = ({ parents }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const history = useHistory();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('parents')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {parents.map((resultKey, i) => {\n                const [parentSHA256, service] = resultKey.split('.', 2);\n                return (\n                  <Box\n                    key={i}\n                    className={classes.clickable}\n                    onClick={() => {\n                      history.push(`/file/detail/${parentSHA256}`);\n                    }}\n                    style={{ wordBreak: 'break-word' }}\n                  >\n                    <span>{parentSHA256}</span>\n                    <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>{` :: ${service}`}</span>\n                  </Box>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [parents]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ParentSection = React.memo(WrappedParentSection);\nexport default ParentSection;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ResultCard, { AlternateResult } from '../ResultCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ResultSectionProps = {\n  results: any;\n  sid: string;\n  alternates?: {\n    [serviceName: string]: AlternateResult[];\n  };\n};\n\nconst WrappedResultSection: React.FC<ResultSectionProps> = ({ results, sid, alternates }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('results')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {results\n                ? results.map((result, i) => {\n                    return (\n                      <ResultCard\n                        key={i}\n                        result={result}\n                        sid={sid}\n                        alternates={alternates ? alternates[result.response.service_name] : null}\n                      />\n                    );\n                  })\n                : [...Array(2)].map((_, i) => {\n                    return <Skeleton key={i} style={{ height: '16rem' }} />;\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [results, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ResultSection = React.memo(WrappedResultSection);\nexport default ResultSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Heuristic from '../Heuristic';\nimport Tag from '../Tag';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype TagSectionProps = {\n  signatures: any;\n  tags: any;\n};\n\nconst WrappedTagSection: React.FC<TagSectionProps> = ({ signatures, tags }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('generated_tags')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {signatures && signatures.length !== 0 && (\n                <Grid container>\n                  <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                    <span style={{ fontWeight: 500 }}>heuristic.signature</span>\n                  </Grid>\n                  <Grid item xs={12} sm={9} lg={10}>\n                    {signatures.map(([value, lvl], idx) => {\n                      return (\n                        <Heuristic\n                          key={idx}\n                          signature\n                          text={value}\n                          lvl={lvl}\n                          highlight_key={getKey('heuristic.signature', value)}\n                        />\n                      );\n                    })}\n                  </Grid>\n                </Grid>\n              )}\n              {tags\n                ? Object.keys(tags).map((tag_type, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                          <span\n                            style={{\n                              fontWeight: 500\n                            }}\n                          >\n                            {tag_type}\n                          </span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {tags[tag_type].map(([value, lvl], idx) => {\n                            return (\n                              <Tag\n                                key={idx}\n                                value={value}\n                                type={tag_type}\n                                lvl={lvl}\n                                highlight_key={getKey(tag_type, value)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [signatures, tags]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst TagSection = React.memo(WrappedTagSection);\nexport default TagSection;\n","import { Grid, IconButton, Link as MaterialLink, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport RotateLeftOutlinedIcon from '@material-ui/icons/RotateLeftOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport { Error } from 'components/visual/ErrorCard';\nimport { AlternateResult, emptyResult, Result } from 'components/visual/ResultCard';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport AttackSection from './FileDetail/attacks';\nimport ChildrenSection from './FileDetail/childrens';\nimport EmptySection from './FileDetail/emptys';\nimport ErrorSection from './FileDetail/errors';\nimport FrequencySection from './FileDetail/freqency';\nimport HeuristicSection from './FileDetail/heuristics';\nimport IdentificationSection from './FileDetail/indent';\nimport MetadataSection from './FileDetail/metadata';\nimport ParentSection from './FileDetail/parents';\nimport ResultSection from './FileDetail/results';\nimport TagSection from './FileDetail/tags';\n\ntype FileInfo = {\n  archive_ts: string;\n  ascii: string;\n  classification: string;\n  entropy: number;\n  expiry_ts: string | null;\n  hex: string;\n  magic: string;\n  md5: string;\n  mime: string;\n  seen: {\n    count: number;\n    first: string;\n    last: string;\n  };\n  sha1: string;\n  sha256: string;\n  size: number;\n  ssdeep: string;\n  type: string;\n};\n\ntype File = {\n  alternates: {\n    [serviceName: string]: AlternateResult[];\n  };\n  attack_matrix: {\n    [category: string]: string[][];\n  };\n  childrens: {\n    name: string;\n    sha256: string;\n  }[];\n  emptys: Result[];\n  errors: Error[];\n  file_info: FileInfo;\n  heuristics: {\n    [category: string]: string[][];\n  };\n  metadata: {\n    [level: string]: {\n      [key: string]: any;\n    };\n  };\n  parents: string[];\n  results: Result[];\n  signatures: string[][];\n  tags: {\n    [type: string]: string[][];\n  };\n};\n\ntype FileDetailProps = {\n  sha256: string;\n  sid?: string;\n  liveResultKeys?: string[];\n  liveErrors?: Error[];\n};\n\nconst WrappedFileDetail: React.FC<FileDetailProps> = ({\n  sha256,\n  sid = null,\n  liveResultKeys = null,\n  liveErrors = null\n}) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [file, setFile] = useState<File | null>(null);\n  const apiCall = useMyAPI();\n  const { c12nDef } = useALContext();\n  const theme = useTheme();\n  const history = useHistory();\n  const { showSuccessMessage } = useMySnackbar();\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const fileName = file ? params.get('name') || sha256 : null;\n\n  const elementInViewport = element => {\n    const bounding = element.getBoundingClientRect();\n    const myElementHeight = element.offsetHeight;\n    const myElementWidth = element.offsetWidth;\n\n    if (\n      bounding.top >= -myElementHeight &&\n      bounding.left >= -myElementWidth &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) + myElementWidth &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) + myElementHeight\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  const scrollToTop = scrollToItem => {\n    const element = document.getElementById(scrollToItem);\n    if (element && !elementInViewport(element)) {\n      element.scrollIntoView();\n    }\n  };\n\n  const patchFileDetails = (data: File) => {\n    const newData = { ...data };\n    newData.results.sort((a, b) => (a.response.service_name > b.response.service_name ? 1 : -1));\n    newData.emptys = data.results.filter(result => emptyResult(result));\n    newData.results = data.results.filter(result => !emptyResult(result));\n    newData.errors = liveErrors ? [...data.errors, ...liveErrors] : data.errors;\n    return newData;\n  };\n\n  const resubmit = useCallback(() => {\n    apiCall({\n      url: `/api/v4/submit/dynamic/${sha256}/`,\n      onSuccess: api_data => {\n        showSuccessMessage(t('resubmit.success'));\n        setTimeout(() => {\n          history.push(`/submission/detail/${api_data.api_response.sid}`);\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  useEffect(() => {\n    setFile(null);\n\n    if (sid && sha256) {\n      apiCall({\n        method: liveResultKeys ? 'POST' : 'GET',\n        url: `/api/v4/submission/${sid}/file/${sha256}/`,\n        body: liveResultKeys ? { extra_result_keys: liveResultKeys } : null,\n        onSuccess: api_data => {\n          scrollToTop('drawerTop');\n          setFile(patchFileDetails(api_data.api_response));\n        }\n      });\n    } else if (sha256) {\n      apiCall({\n        url: `/api/v4/file/result/${sha256}/`,\n        onSuccess: api_data => {\n          scrollToTop('fileDetailTop');\n          setFile(patchFileDetails(api_data.api_response));\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [sha256, sid]);\n\n  return (\n    <div id=\"fileDetailTop\" style={{ textAlign: 'left' }}>\n      {useMemo(\n        () => (\n          <>\n            {c12nDef.enforce && (\n              <div style={{ paddingBottom: sp4, paddingTop: sp2 }}>\n                <Classification size=\"tiny\" c12n={file ? file.file_info.classification : null} />\n              </div>\n            )}\n            <div style={{ paddingBottom: sp4 }}>\n              <Grid container alignItems=\"center\">\n                <Grid item xs>\n                  <div>\n                    <Typography variant=\"h4\">{t('title')}</Typography>\n                    <Typography variant=\"caption\" style={{ wordBreak: 'break-word' }}>\n                      {file ? fileName : <Skeleton style={{ width: '10rem' }} />}\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={12} sm>\n                  <div style={{ textAlign: 'right' }}>\n                    <Tooltip title={t('related')}>\n                      <IconButton\n                        component={Link}\n                        to={`/search/submission?query=files.sha256:${file && file.file_info.sha256} OR results:${\n                          file && file.file_info.sha256\n                        }*`}\n                      >\n                        <AmpStoriesOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('download')}>\n                      <IconButton\n                        component={MaterialLink}\n                        href={`/api/v4/file/download/${file && file.file_info.sha256}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                      >\n                        <GetAppOutlinedIcon color=\"action\" />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('file_viewer')}>\n                      <IconButton component={Link} to={`/file/viewer/${file && file.file_info.sha256}`}>\n                        <PageviewOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('resubmit_dynamic')}>\n                      <IconButton onClick={resubmit}>\n                        <RotateLeftOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [file, fileName, resubmit]\n      )}\n\n      <div style={{ paddingBottom: sp2 }}>\n        <IdentificationSection fileinfo={file ? file.file_info : null} />\n        <FrequencySection fileinfo={file ? file.file_info : null} />\n\n        {(!file || Object.keys(file.metadata).length !== 0) && (\n          <MetadataSection metadata={file ? file.metadata : null} />\n        )}\n\n        {file && file.childrens && file.childrens.length !== 0 && <ChildrenSection childrens={file.childrens} />}\n\n        {file && file.parents && file.parents.length !== 0 && <ParentSection parents={file.parents} />}\n\n        {(!file || Object.keys(file.attack_matrix).length !== 0) && (\n          <AttackSection attacks={file ? file.attack_matrix : null} />\n        )}\n\n        {(!file || Object.keys(file.heuristics).length !== 0) && (\n          <HeuristicSection heuristics={file ? file.heuristics : null} />\n        )}\n\n        {(!file || Object.keys(file.tags).length !== 0 || file.signatures.length !== 0) && (\n          <TagSection signatures={file ? file.signatures : null} tags={file ? file.tags : null} />\n        )}\n\n        {(!file || file.results.length !== 0) && (\n          <ResultSection results={file ? file.results : null} sid={sid} alternates={file ? file.alternates : null} />\n        )}\n\n        {(!file || file.emptys.length !== 0) && <EmptySection emptys={file ? file.emptys : null} sid={sid} />}\n\n        {file && file.errors.length !== 0 && <ErrorSection errors={file.errors} />}\n      </div>\n    </div>\n  );\n};\n\nconst FileDetail = React.memo(WrappedFileDetail);\n\nexport default FileDetail;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport FileDetail from 'components/visual/FileDetail';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nfunction FileFullDetail() {\n  const { id } = useParams<ParamProps>();\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <FileDetail sha256={id} />\n    </PageCenter>\n  );\n}\n\nexport default FileFullDetail;\n","import {\n  Grid,\n  IconButton,\n  LinearProgress,\n  Link as MaterialLink,\n  makeStyles,\n  Paper,\n  Tab,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport { Alert, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  pre: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ffffff05' : '#00000005',\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    fontSize: '1rem',\n    padding: '16px 8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word'\n  },\n  no_pad: {\n    padding: 0\n  }\n}));\n\nconst WrappedAsciiViewer = ({ sha256 }) => {\n  const [ascii, setAscii] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/ascii/${sha256}/`,\n      onSuccess: api_data => {\n        setAscii(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return ascii ? (\n    <pre className={classes.pre}>{ascii}</pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst WrappedHexViewer = ({ sha256 }) => {\n  const [hex, setHex] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/hex/${sha256}/`,\n      onSuccess: api_data => {\n        setHex(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return hex ? (\n    <pre className={classes.pre}>\n      <div style={{ minWidth: '580px' }}>{hex}</div>\n    </pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst WrappedStringViewer = ({ sha256 }) => {\n  const [string, setString] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/strings/${sha256}/`,\n      onSuccess: api_data => {\n        setString(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return string ? (\n    <pre className={classes.pre}>{string}</pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst AsciiViewer = React.memo(WrappedAsciiViewer);\nconst HexViewer = React.memo(WrappedHexViewer);\nconst StringViewer = React.memo(WrappedStringViewer);\n\nconst FileViewer = () => {\n  const { id } = useParams<ParamProps>();\n  const { t } = useTranslation(['fileViewer']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const location = useLocation();\n  const history = useHistory();\n  const [tab, setTab] = useState('ascii');\n\n  const handleChangeTab = (event, newTab) => {\n    const currentTab = location.hash.substring(1, location.hash.length) || 'ascii';\n    if (currentTab !== newTab) {\n      history.push(`${location.pathname}#${newTab}`);\n    }\n  };\n\n  useEffect(() => {\n    const newTab = location.hash.substring(1, location.hash.length) || 'ascii';\n    setTab(newTab);\n  }, [location.hash]);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <div style={{ textAlign: 'left' }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs sm={8}>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n            <Typography variant=\"caption\" style={{ wordBreak: 'break-word' }}>\n              {id}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm>\n            <div style={{ textAlign: 'right' }}>\n              <Tooltip title={t('detail')}>\n                <IconButton component={Link} to={`/file/detail/${id}`}>\n                  <DescriptionOutlinedIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={t('related')}>\n                <IconButton component={Link} to={`/search/submission?query=files.sha256:${id} OR results:${id}*`}>\n                  <AmpStoriesOutlinedIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title={t('download')}>\n                <IconButton\n                  component={MaterialLink}\n                  href={`/api/v4/file/download/${id}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                >\n                  <GetAppOutlinedIcon color=\"action\" />\n                </IconButton>\n              </Tooltip>\n            </div>\n          </Grid>\n        </Grid>\n\n        <TabContext value={tab}>\n          <Paper square style={{ marginTop: theme.spacing(4), marginBottom: theme.spacing(2) }}>\n            <TabList onChange={handleChangeTab} indicatorColor=\"primary\" textColor=\"primary\">\n              <Tab label={t('ascii')} value=\"ascii\" />\n              <Tab label={t('strings')} value=\"strings\" />\n              <Tab label={t('hex')} value=\"hex\" />\n            </TabList>\n          </Paper>\n          <TabPanel value=\"ascii\" className={classes.no_pad}>\n            <AsciiViewer sha256={id} />\n          </TabPanel>\n          <TabPanel value=\"strings\" className={classes.no_pad}>\n            <StringViewer sha256={id} />\n          </TabPanel>\n          <TabPanel value=\"hex\" className={classes.no_pad}>\n            <HexViewer sha256={id} />\n          </TabPanel>\n        </TabContext>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default FileViewer;\n","import useAppUser from 'commons/components/hooks/useAppUser';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\n\nexport default function Help() {\n  const layout = useMyLayout();\n  const { validateProps } = useAppUser<CustomUser>();\n  let items = [];\n  for (const item of layout.leftnav.elements) {\n    if (item.type === 'group' && item.element.id === 'help') {\n      // eslint-disable-next-line @typescript-eslint/dot-notation\n      items = item.element['items'].filter(obj => {\n        return validateProps(obj.userPropValidators);\n      });\n    }\n  }\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={items} />\n    </PageCenter>\n  );\n}\n","import {\n  Box,\n  Card,\n  Collapse,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport clsx from 'clsx';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst apiHeight = '48px';\nconst useStyles = makeStyles(theme => ({\n  api: {\n    minHeight: apiHeight,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected\n    }\n  },\n  blueprint: {\n    minHeight: apiHeight,\n    alignItems: 'center',\n    borderColor: theme.palette.action.disabledBackground,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected\n    }\n  },\n  blueprintSkel: {\n    minHeight: apiHeight,\n    alignItems: 'center',\n    borderColor: theme.palette.action.disabledBackground\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: theme.spacing(2),\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  }\n}));\n\nexport default function ApiDoc() {\n  const apiCall = useMyAPI();\n  const [apiList, setApiList] = useState(null);\n  const [apiSelected, setApiSelected] = useState(null);\n  const [apiDefinition, setApiDefinition] = useState(null);\n  const classes = useStyles();\n  const [expandMap, setExpandMap] = useState({});\n  const theme = useTheme();\n  const { t } = useTranslation(['helpAPI']);\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const xs = useMediaQuery(theme.breakpoints.only('xs'));\n  const isDark = theme.palette.type === 'dark';\n  const methodColor = {\n    DELETE: 'error',\n    GET: 'info',\n    POST: 'success',\n    PUT: 'warning'\n  };\n  const privColor = {\n    E: 'error',\n    R: 'success',\n    W: 'warning'\n  };\n  const userColor = {\n    admin: 'error',\n    signature_manager: 'info',\n    user: null,\n    signature_importer: 'warning'\n  };\n\n  function toggleBlueprintExpand(bp) {\n    const newValue = {};\n    newValue[bp] = !expandMap[bp];\n    setExpandMap({ ...expandMap, ...newValue });\n  }\n\n  function blueprintAPIs(bp) {\n    const out = [];\n    if (apiDefinition) {\n      for (const item of apiDefinition.apis) {\n        if (bp === 'documentation') {\n          if (item.path === `/api/${apiSelected}/`) {\n            out.push(item);\n          }\n        } else if (item.path.indexOf(`/api/${apiSelected}/${bp}/`) === 0) {\n          out.push(item);\n        }\n      }\n    }\n    return out.sort(compare);\n  }\n\n  function compare(a, b) {\n    if (a.name < b.name) {\n      return -1;\n    }\n    if (a.name > b.name) {\n      return 1;\n    }\n    return 0;\n  }\n\n  useEffect(() => {\n    if (apiList) {\n      apiCall({\n        url: `/api/${apiSelected}/`,\n        onSuccess: api_data => {\n          setApiDefinition(api_data.api_response);\n        }\n      });\n    } else {\n      apiCall({\n        url: '/api/',\n        onSuccess: api_data => {\n          setApiList(api_data.api_response);\n          setApiSelected(api_data.api_response[0]);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [apiSelected]);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ marginBottom: theme.spacing(4) }}>\n          <Grid container>\n            <Grid item xs={12} sm>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n            </Grid>\n            <Grid item xs={12} sm style={{ textAlign: 'end' }}>\n              {apiList && apiSelected ? (\n                <Select\n                  id=\"api\"\n                  value={apiSelected}\n                  onChange={event => setApiSelected(event.target.value)}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                >\n                  {apiList.map((version, index) => {\n                    return (\n                      <MenuItem key={index} value={version}>\n                        {version.replace('v', t('version')) + t('version_end')}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>\n              ) : (\n                <Skeleton variant=\"rect\" style={{ display: 'inline-block', height: '2rem', width: '14rem' }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n        {apiDefinition ? (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            {Object.keys(apiDefinition.blueprints).map((bp, i) => {\n              return (\n                <div key={i}>\n                  <Box\n                    display=\"flex\"\n                    flexDirection=\"row\"\n                    flexWrap=\"wrap\"\n                    className={classes.blueprint}\n                    borderBottom={1}\n                    px={1}\n                    onClick={() => toggleBlueprintExpand(bp)}\n                  >\n                    <Typography variant=\"body2\" color=\"textSecondary\" style={{ fontWeight: 800, lineHeight: 2 }}>\n                      {`/api/${apiSelected}/`}&nbsp;\n                    </Typography>\n                    <div style={{ flexGrow: 1 }}>\n                      <Typography variant=\"h6\" style={{ fontWeight: 800, lineHeight: 2 }} color=\"secondary\">\n                        {bp}\n                      </Typography>\n                    </div>\n                    <div style={{ display: 'inline-flex', width: downSM ? '100%' : null, justifyContent: 'flex-end' }}>\n                      <Typography variant=\"body2\" color=\"textSecondary\" align=\"right\" style={{ lineHeight: 2 }}>\n                        {apiDefinition.blueprints[bp]}\n                      </Typography>\n                      <ExpandMoreIcon\n                        className={clsx(classes.expand, {\n                          [classes.expandOpen]: expandMap[bp]\n                        })}\n                      />\n                    </div>\n                  </Box>\n                  <Collapse in={expandMap[bp]} timeout=\"auto\" unmountOnExit>\n                    <div\n                      style={{\n                        backgroundColor: isDark ? theme.palette.grey[900] : theme.palette.grey[100]\n                      }}\n                    >\n                      {blueprintAPIs(bp).map((api, idx) => {\n                        return (\n                          <div key={idx}>\n                            <Box\n                              className={classes.api}\n                              px={1}\n                              display=\"flex\"\n                              flexDirection={xs ? 'column' : 'row'}\n                              flexWrap=\"wrap\"\n                              alignItems={xs ? 'flex-start' : 'center'}\n                              onClick={() => toggleBlueprintExpand(api.name)}\n                            >\n                              <div>\n                                {api.methods.map((method, midx) => {\n                                  return (\n                                    <CustomChip\n                                      color={methodColor[method]}\n                                      type=\"rounded\"\n                                      size=\"small\"\n                                      key={midx}\n                                      label={method}\n                                    />\n                                  );\n                                })}\n                              </div>\n                              <div style={{ flexGrow: 1 }}>\n                                <Typography\n                                  variant=\"body2\"\n                                  color=\"textSecondary\"\n                                  style={{ wordBreak: 'break-word', lineHeight: 2 }}\n                                >\n                                  {api.path}\n                                </Typography>\n                              </div>\n                              <div\n                                style={{\n                                  display: 'inline-flex',\n                                  width: downSM ? '100%' : null,\n                                  justifyContent: 'flex-end'\n                                }}\n                              >\n                                <Typography align=\"right\" variant=\"caption\" style={{ lineHeight: 2 }}>\n                                  {api.name}\n                                </Typography>\n\n                                <ExpandMoreIcon\n                                  className={clsx(classes.expand, {\n                                    [classes.expandOpen]: expandMap[api.name]\n                                  })}\n                                />\n                              </div>\n                            </Box>\n                            <Collapse in={expandMap[api.name]} timeout=\"auto\" unmountOnExit>\n                              <div\n                                style={{\n                                  border: 1,\n                                  borderTop: 0,\n                                  borderBottom: 0,\n                                  padding: sp1,\n                                  borderColor: isDark ? theme.palette.grey[900] : theme.palette.grey[100],\n                                  backgroundColor: theme.palette.background.default\n                                }}\n                              >\n                                <Grid container alignItems=\"center\">\n                                  <>\n                                    <Grid item xs={8} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('complete')}:</div>\n                                    </Grid>\n                                    <Grid item xs={4} sm={8} md={9} lg={4}>\n                                      {api.complete ? (\n                                        <CheckOutlinedIcon htmlColor={theme.palette.success.main} />\n                                      ) : (\n                                        <ClearOutlinedIcon htmlColor={theme.palette.error.main} />\n                                      )}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={8} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('protected')}:</div>\n                                    </Grid>\n                                    <Grid item xs={4} sm={8} md={9} lg={4}>\n                                      {api.protected ? (\n                                        <CheckOutlinedIcon htmlColor={theme.palette.success.main} />\n                                      ) : (\n                                        <ClearOutlinedIcon htmlColor={theme.palette.error.main} />\n                                      )}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('require_type')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      {api.require_type.map((utype, uidx) => {\n                                        return (\n                                          <CustomChip\n                                            key={uidx}\n                                            color={userColor[utype]}\n                                            type=\"rounded\"\n                                            size=\"tiny\"\n                                            label={t(`user_type.${utype}`)}\n                                          />\n                                        );\n                                      })}\n                                    </Grid>\n                                  </>\n                                  {api.required_priv ? (\n                                    <>\n                                      <Grid item xs={12} sm={4} md={3} lg={2}>\n                                        <div style={{ fontWeight: 500 }}>{t('required_priv')}:</div>\n                                      </Grid>\n                                      <Grid item xs={12} sm={8} md={9} lg={4}>\n                                        {api.required_priv.map((ptype, pidx) => {\n                                          return (\n                                            <CustomChip\n                                              key={pidx}\n                                              color={privColor[ptype]}\n                                              type=\"rounded\"\n                                              size=\"tiny\"\n                                              label={t(`priv.${ptype}`)}\n                                            />\n                                          );\n                                        })}\n                                      </Grid>\n                                    </>\n                                  ) : null}\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('methods')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      {api.methods.map((met, metid) => {\n                                        return (\n                                          <CustomChip\n                                            key={metid}\n                                            color={methodColor[met]}\n                                            type=\"rounded\"\n                                            size=\"tiny\"\n                                            label={t(met)}\n                                          />\n                                        );\n                                      })}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('path')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      <div style={{ lineHeight: 2, fontFamily: 'Monospace', wordBreak: 'break-word' }}>\n                                        {api.path}\n                                      </div>\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12}>\n                                      <div style={{ fontWeight: 500, lineHeight: 2 }}>{t('description')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                      <Card variant=\"outlined\" style={{ overflowX: 'auto' }}>\n                                        <pre style={{ paddingLeft: sp2, paddingRight: sp2 }}>{api.description}</pre>\n                                      </Card>\n                                    </Grid>\n                                  </>\n                                </Grid>\n                              </div>\n                            </Collapse>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </Collapse>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            {[...Array(21)].map((_, i) => {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    paddingLeft: sp1,\n                    paddingRight: sp1,\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flexWrap: 'wrap',\n                    borderBottom: 1\n                  }}\n                  className={classes.blueprintSkel}\n                >\n                  <Typography variant=\"body2\" style={{ paddingRight: '8px' }}>\n                    <Skeleton width=\"2rem\" />\n                  </Typography>\n                  <div style={{ flexGrow: 1 }}>\n                    <Typography variant=\"h6\">\n                      <Skeleton width=\"12rem\" />\n                    </Typography>\n                  </div>\n                  <div style={{ display: 'inline-flex', width: downSM ? '100%' : null, justifyContent: 'flex-end' }}>\n                    <Typography variant=\"body2\" style={{ paddingRight: '16px', lineHeight: 2 }}>\n                      <Skeleton width=\"14rem\" />\n                    </Typography>\n                    <Skeleton width=\"1rem\" />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport NotFoundPage from 'components/routes/404_dl';\nimport Classification from 'components/visual/Classification';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nexport default function HelpClassification() {\n  const { t } = useTranslation(['helpClassification']);\n  const { c12nDef } = useALContext();\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  return c12nDef.enforce ? (\n    <PageCenter margin={4} width=\"100%\">\n      <div style={{ marginBottom: theme.spacing(4), textAlign: 'left' }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('desc_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('desc_1')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('desc_2')}\n        </Typography>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('submission_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('submission_desc')}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('ex_title')}\n        </Typography>\n        <div style={{ paddingLeft: sp2 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('assumptions')}\n          </Typography>\n          <ul>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_1\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_2\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_3\" components={{ bold: <strong /> }} />\n            </li>\n          </ul>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"submission_a_res_1_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.UNRESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"submission_a_res_1_p2\" components={{ bold: <strong /> }} />\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans\n              ns=\"helpClassification\"\n              i18nKey=\"submission_a_res_2_p1\"\n              components={{ italic: <i />, bold: <strong /> }}\n            />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans\n              ns=\"helpClassification\"\n              i18nKey=\"submission_a_res_2_p2\"\n              components={{ italic: <i />, bold: <strong /> }}\n            />\n          </Typography>\n        </div>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('result_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('result_desc')}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('ex_title')}\n        </Typography>\n        <div style={{ paddingLeft: sp2 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('assumptions')}\n          </Typography>\n          <ul>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_1\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_2\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_3\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_4\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n          </ul>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p2\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.UNRESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p3\" components={{ bold: <strong /> }} />\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_2_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_2_p2\" components={{ bold: <strong /> }} />\n          </Typography>\n        </div>\n      </div>\n      <div style={{ textAlign: 'left' }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('validation_title')}\n        </Typography>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_level')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_level_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_level_supported')}\n        </Typography>\n        <ul>\n          {c12nDef\n            ? c12nDef.original_definition.levels.map((lvl, idx) => {\n                return (\n                  <li key={idx}>\n                    <Classification size=\"tiny\" type=\"text\" c12n={lvl.name} format=\"long\" /> :: {lvl.description}\n                  </li>\n                );\n              })\n            : [...Array(2)].map((_, i) => {\n                return (\n                  <li>\n                    <Skeleton />\n                  </li>\n                );\n              })}\n        </ul>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_required')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_required_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_required_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.required.length !== 0 ? (\n              c12nDef.original_definition.required.map((req, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{req.name}</div>\n                    {` :: ${req.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_required_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n      </div>\n      <div style={{ textAlign: 'left', paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_groups')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_groups_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_groups_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.groups.length !== 0 ? (\n              c12nDef.original_definition.groups.map((grp, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{grp.name}</div>\n                    {` :: ${grp.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_groups_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n        <Typography variant=\"subtitle2\" gutterBottom color=\"error\">\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_groups_note\" components={{ bold: <strong /> }} />\n        </Typography>\n      </div>\n      <div style={{ textAlign: 'left' }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_subgroups')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_subgroups_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_subgroups_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.subgroups.length !== 0 ? (\n              c12nDef.original_definition.subgroups.map((sgrp, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{sgrp.name}</div>\n                    {` :: ${sgrp.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_subgroups_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n        <Typography variant=\"subtitle2\" gutterBottom color=\"error\">\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_subgroups_note\" components={{ bold: <strong /> }} />\n        </Typography>\n      </div>\n    </PageCenter>\n  ) : (\n    <NotFoundPage />\n  );\n}\n","import { Grid, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default function Configuration() {\n  const apiCall = useMyAPI();\n  const [configuration, setConfiguration] = useState(null);\n  const [constants, setConstants] = useState(null);\n  const { t } = useTranslation(['helpConfiguration']);\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  function isArrayOfArray(val) {\n    if (Array.isArray(val)) {\n      if (Array.isArray(val[0])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  useEffect(() => {\n    // Load all services on start\n    apiCall({\n      url: '/api/v4/help/constants/',\n      onSuccess: api_data => {\n        setConstants(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: '/api/v4/help/configuration/',\n      onSuccess: api_data => {\n        setConfiguration(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ marginBottom: theme.spacing(4) }}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('tags')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('tags.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('tags.desc_list')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2, display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}>\n            {constants\n              ? constants.tag_types.map((tag, id) => {\n                  return <CustomChip type=\"rounded\" size=\"tiny\" key={id} label={tag} style={{ padding: '5px' }} />;\n                })\n              : [...Array(192)].map((_, i) => {\n                  return <Skeleton key={i} style={{ height: '2rem', width: '8rem', marginRight: '3px' }} />;\n                })}\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('priorities')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('priorities.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('priorities.desc_list')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants ? (\n                <>\n                  {Object.keys(constants.priorities).map((priority, id) => {\n                    return (\n                      <Grid key={id} item xs={12} sm={6} md={4} lg={3} xl={2}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{priority}:&nbsp;&nbsp;</div>\n                        <div style={{ display: 'inline-block', fontWeight: 300 }}>{constants.priorities[priority]}</div>\n                      </Grid>\n                    );\n                  })}\n\n                  <Grid item xs={12} sm={6} md={4} lg={3} xl={2}>\n                    <div style={{ display: 'inline-block', fontWeight: 500 }}>{t('priorities.max')}:&nbsp;&nbsp;</div>\n                    <div style={{ display: 'inline-block', fontWeight: 300 }}>{constants.max_priority}</div>\n                  </Grid>\n                </>\n              ) : (\n                [...Array(8)].map((_, i) => {\n                  return (\n                    <Grid item key={i} xs={12} sm={6} md={4} lg={3} xl={2}>\n                      <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                        <Skeleton key={i} style={{ height: '2rem', width: '5rem', margin: '2px' }} />\n                      </div>\n                      <div style={{ display: 'inline-block' }}>\n                        <Skeleton key={i} style={{ height: '2rem', width: '3rem', margin: '2px' }} />\n                      </div>\n                    </Grid>\n                  );\n                })\n              )}\n            </Grid>\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('file_types')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.specific')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants\n                ? constants.file_types.map((type, id) => {\n                    return type[0] !== '*' && type[1].length !== 0 ? (\n                      <Grid key={id} item xs={12} md={6} lg={4} xl={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{type[0]}</div>\n                        <div style={{ display: 'inline-block', fontWeight: 300 }}>\n                          &nbsp;::&nbsp;{type[1].join(', ')}\n                        </div>\n                      </Grid>\n                    ) : null;\n                  })\n                : [...Array(40)].map((_, i) => {\n                    return (\n                      <Grid key={i} item xs={12} md={6} lg={4} xl={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                          <Skeleton style={{ height: '2rem', width: '4rem', margin: '2px' }} />\n                        </div>\n                        <div style={{ display: 'inline-block' }}>\n                          <Skeleton style={{ height: '2rem', width: '8rem', margin: '2px' }} />\n                        </div>\n                      </Grid>\n                    );\n                  })}\n            </Grid>\n          </div>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.non_specific')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants\n                ? constants.file_types.map((type, id) => {\n                    return type[0] !== '*' && type[1].length === 0 ? (\n                      <Grid key={id} item xs={12} sm={6} md={4} lg={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{type[0]}</div>\n                      </Grid>\n                    ) : null;\n                  })\n                : [...Array(60)].map((_, i) => {\n                    return (\n                      <Grid key={i} item xs={12} sm={6} md={4} lg={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                          <Skeleton style={{ height: '2rem', width: '8rem', margin: '2px' }} />\n                        </div>\n                      </Grid>\n                    );\n                  })}\n            </Grid>\n          </div>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.non_specific_service')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            {constants ? (\n              <div style={{ fontWeight: 500 }}>{constants.file_types[0][1].join(', ')}</div>\n            ) : (\n              <Skeleton style={{ height: '2rem' }} />\n            )}\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('config')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('config.desc')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            {configuration\n              ? Object.keys(configuration).map((key, idx) => {\n                  return (\n                    <Grid key={idx} container spacing={1}>\n                      <Grid\n                        item\n                        xs={12}\n                        sm={5}\n                        md={4}\n                        lg={3}\n                        style={{\n                          overflowX: 'hidden',\n                          whiteSpace: 'nowrap',\n                          textOverflow: 'ellipsis'\n                        }}\n                      >\n                        <span style={{ fontWeight: 500 }}>{key}</span>\n                      </Grid>\n                      <Grid item xs={12} sm={7} md={8} lg={9}>\n                        <div style={{ fontWeight: 300 }}>\n                          {typeof configuration[key] !== 'object' ? (\n                            <div>{String(configuration[key])}</div>\n                          ) : isArrayOfArray(configuration[key]) ? (\n                            configuration[key].map((sub_key, sub_idx) => {\n                              return (\n                                <div key={sub_idx} style={{ display: 'flex' }}>\n                                  <div style={{ fontWeight: 500, whiteSpace: 'nowrap' }}>{sub_key[0]}:&nbsp;</div>\n                                  <div>{sub_key[1].join(', ')}</div>\n                                </div>\n                              );\n                            })\n                          ) : (\n                            <div>{configuration[key].join(' | ')}</div>\n                          )}\n                        </div>\n                      </Grid>\n                    </Grid>\n                  );\n                })\n              : [...Array(10)].map((_, i) => {\n                  return (\n                    <Grid key={i} container spacing={1}>\n                      <Grid key={i} item xs={12} sm={5} md={4} lg={3}>\n                        <Skeleton style={{ height: '2rem' }} />\n                      </Grid>\n                      <Grid item xs={12} sm={7} md={8} lg={9}>\n                        <Skeleton style={{ height: '2rem' }} />\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n          </div>\n        </div>\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport DeveloperModeOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst UnderConstruction = ({ page }) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n        <DeveloperModeOutlinedIcon color=\"secondary\" fontSize=\"inherit\" />\n      </div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h3\">{page}</Typography>\n      </div>\n      <div>\n        <Typography variant=\"h6\">{t('under_construction')}</Typography>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default UnderConstruction;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport UnderConstruction from '../under_construction';\n\nexport default function Search() {\n  const { t } = useTranslation(['helpSearch']);\n\n  return <UnderConstruction page={t('title')} />;\n}\n","import { Card, CardHeader, Grid, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction ServiceCard({ service }) {\n  const { t } = useTranslation(['helpServices']);\n  const theme = useTheme();\n  const isDark = theme.palette.type === 'dark';\n  const minCardHeight = '240px';\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  return (\n    <Card\n      style={{\n        minHeight: minCardHeight,\n        backgroundColor: service.enabled ? null : isDark ? '#ff000017' : '#FFE4E4',\n        border: `solid 1px ${\n          service.enabled ? theme.palette.divider : isDark ? theme.palette.error.light : theme.palette.error.dark\n        }`\n      }}\n    >\n      <CardHeader\n        title={service.name}\n        subheader={service.version}\n        action={\n          service.enabled ? null : (\n            <div style={{ padding: sp2 }}>\n              <CustomChip type=\"rounded\" variant=\"outlined\" size=\"small\" color=\"error\" label={t('disabled')} />\n            </div>\n          )\n        }\n        style={{ padding: theme.spacing(1) }}\n      />\n      <div style={{ padding: sp1 }}>\n        <div style={{ minHeight: '110px', whiteSpace: 'pre-wrap', paddingBottom: theme.spacing(1) }}>\n          {service.description}\n        </div>\n        <Grid container spacing={1}>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('accepts')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.accepts}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('rejects')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.rejects}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('category')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.category}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('stage')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.stage}\n            </Typography>\n          </Grid>\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n\nexport default function Services() {\n  const apiCall = useMyAPI();\n  const { t } = useTranslation(['helpServices']);\n  const theme = useTheme();\n  const [services, setServices] = useState(null);\n  const minCardHeight = '240px';\n\n  useEffect(() => {\n    // Load all services on start\n    apiCall({\n      url: '/api/v4/service/all/',\n      onSuccess: api_data => {\n        setServices(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ marginBottom: theme.spacing(4) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n        {services ? (\n          <Typography variant=\"caption\">{`${services.length} ${t('count')}`}</Typography>\n        ) : (\n          <Skeleton width=\"8rem\" />\n        )}\n      </div>\n      {services ? (\n        <Grid container spacing={2}>\n          {services.map((s, i) => (\n            <Grid key={i} item xs={12} md={6} xl={4}>\n              <ServiceCard service={s} />\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Grid container spacing={2}>\n          {[...Array(8)].map((_, i) => (\n            <Grid key={i} item xs={12} md={6} xl={4}>\n              <Skeleton variant=\"rect\" style={{ height: minCardHeight }} />\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </PageFullWidth>\n  );\n}\n","import { CircularProgress, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction Logout() {\n  const { t } = useTranslation(['logout']);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { getBanner, hideMenus } = useAppLayout();\n\n  useEffect(() => {\n    hideMenus();\n\n    apiCall({\n      url: '/api/v4/auth/logout/',\n      onSuccess: () => {\n        setTimeout(() => {\n          window.location.replace(`${process.env.PUBLIC_URL}/`);\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <CardCentered>\n      <div style={{ textAlign: 'center' }}>\n        {getBanner(theme)}\n        <div style={{ marginBottom: theme.spacing(3) }}>\n          <Typography>{t('title')}</Typography>\n        </div>\n        <CircularProgress size={24} />\n      </div>\n    </CardCentered>\n  );\n}\n\nexport default Logout;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\n\nexport default function Manage() {\n  const layout = useMyLayout();\n  let items = [];\n  for (const item of layout.leftnav.elements) {\n    if (item.type === 'group' && item.element.id === 'manage') {\n      // eslint-disable-next-line @typescript-eslint/dot-notation\n      items = item.element['items'];\n    }\n  }\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={items} />\n    </PageCenter>\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport { Statistics } from 'components/routes/manage/heuristic_detail';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type HeuristicResult = {\n  attack_id: string[];\n  classification: string;\n  description: string;\n  filetype: string;\n  heur_id: string;\n  id: string;\n  max_score: number;\n  name: string;\n  score: number;\n  stats: Statistics;\n};\n\ntype SearchResults = {\n  items: HeuristicResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype HeuristicsTableProps = {\n  heuristicResults: SearchResults;\n  setHeuristicID?: (id: string) => void;\n  allowSort?: boolean;\n};\n\nconst WrappedHeuristicsTable: React.FC<HeuristicsTableProps> = ({\n  heuristicResults,\n  setHeuristicID = null,\n  allowSort = true\n}) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return heuristicResults ? (\n    heuristicResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"heur_id\" allowSort={allowSort}>\n                {t('header.id')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\" allowSort={allowSort}>\n                {t('header.name')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"filetype\" allowSort={allowSort}>\n                {t('header.filetype')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"score\" allowSort={allowSort}>\n                {t('header.score')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.count\" allowSort={allowSort}>\n                {t('header.hit_count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.last_hit\" allowSort={allowSort}>\n                {t('header.last_hit')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {heuristicResults.items.map(heuristic => (\n              <LinkRow\n                key={heuristic.heur_id}\n                component={Link}\n                to={`/manage/heuristic/${heuristic.heur_id}`}\n                onClick={event => {\n                  if (setHeuristicID) {\n                    event.preventDefault();\n                    setHeuristicID(heuristic.heur_id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>{heuristic.heur_id}</DivTableCell>\n                <DivTableCell>{heuristic.name}</DivTableCell>\n                <DivTableCell>{heuristic.filetype}</DivTableCell>\n                <DivTableCell>{heuristic.score}</DivTableCell>\n                <DivTableCell>{heuristic.stats ? heuristic.stats.count || 0 : 0}</DivTableCell>\n                <DivTableCell>\n                  {heuristic.stats && heuristic.stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {heuristic.stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('never')\n                  )}\n                </DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={heuristic.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_heuristics_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst HeuristicsTable = React.memo(WrappedHeuristicsTable);\nexport default HeuristicsTable;\n","import { useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\n\ntype HistogramProps = {\n  data: {\n    labels: string[];\n    datasets: { label: string; data: number[] }[];\n  };\n  title?: string;\n  height?: number;\n  isDate?: boolean;\n};\n\nconst WrappedHistogram = ({ data, height, title, isDate }: HistogramProps) => {\n  const theme = useTheme();\n  const [max, setMax] = useState(5);\n  const [histData, setHistData] = useState(null);\n  const options = {\n    maintainAspectRatio: false,\n    responsive: true,\n    scales: {\n      xAxes: [\n        {\n          gridLines: { display: false, drawBorder: true },\n          ticks: { fontColor: theme.palette.text.secondary },\n          time: isDate ? { unit: 'day' } : null,\n          type: isDate ? 'time' : null\n        }\n      ],\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: max,\n            fontColor: theme.palette.text.secondary,\n            precision: 0\n          }\n        }\n      ]\n    },\n    title: title\n      ? {\n          display: true,\n          text: title,\n          fontColor: theme.palette.text.primary,\n          fontFamily: 'Roboto',\n          fontSize: 14\n        }\n      : null\n  };\n\n  useEffect(() => {\n    if (data) {\n      const tempDatasets = [];\n      let maxValue = max;\n\n      data.datasets.forEach(dataset => {\n        maxValue = Math.max(maxValue, ...Object.values<number>(dataset.data));\n        tempDatasets.push({\n          ...dataset,\n          backgroundColor: theme.palette.primary.dark,\n          borderColor: theme.palette.primary.light,\n          borderWidth: 1,\n          hoverBackgroundColor: theme.palette.primary.main\n        });\n      });\n\n      setMax(maxValue);\n      setHistData({ ...data, datasets: tempDatasets });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data, theme]);\n\n  return histData ? (\n    <Line redraw data={histData} legend={{ display: false }} height={height} options={options} />\n  ) : (\n    <Skeleton variant=\"rect\" height={height} />\n  );\n};\n\nWrappedHistogram.defaultProps = {\n  title: null,\n  height: null,\n  isDate: false\n};\n\nconst Histogram = React.memo(WrappedHistogram);\nexport default Histogram;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ResultResult = {\n  classification: string;\n  created: number;\n  drop_file: boolean;\n  id: string;\n  response: {\n    service_name: string;\n    service_tool_version: string;\n  };\n  result: {\n    score: number;\n  };\n};\n\ntype SearchResults = {\n  items: ResultResult[];\n  total: number;\n};\n\ntype ResultsTableProps = {\n  resultResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedResultsTable: React.FC<ResultsTableProps> = ({ resultResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return resultResults ? (\n    resultResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"created\" allowSort={allowSort}>\n                {t('header.created')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"result.score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"id\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"response.service_name\" allowSort={allowSort}>\n                {t('header.service')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {resultResults.items.map(result => (\n              <LinkRow\n                key={result.id}\n                component={Link}\n                to={`/file/detail/${result.id.substring(0, 64)}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={result.created}>\n                    <Moment fromNow locale={i18n.language}>\n                      {result.created}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={result.result.score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{result.id.substring(0, 64)}</DivTableCell>\n                <DivTableCell>{result.response.service_name}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={result.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_results_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ResultsTable = React.memo(WrappedResultsTable);\nexport default ResultsTable;\n","import { Grid, IconButton, makeStyles, Paper, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport YoutubeSearchedForIcon from '@material-ui/icons/YoutubeSearchedFor';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport Classification from 'components/visual/Classification';\nimport Histogram from 'components/visual/Histogram';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useParams } from 'react-router-dom';\n\nexport type Heuristic = {\n  attack_id: string[];\n  avg: number;\n  classification: string;\n  count: number;\n  description: string;\n  filetype: string;\n  heur_id: string;\n  max: number;\n  max_score: number;\n  min: number;\n  name: string;\n  score: number;\n  signature_score_map: {\n    [key: string]: number;\n  };\n  stats: Statistics;\n};\n\nexport type Statistics = {\n  avg: number;\n  min: number;\n  max: number;\n  count: number;\n  sum: number;\n  last_hit: string;\n  first_hit: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype HeuristicDetailProps = {\n  heur_id?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  preview: {\n    margin: 0,\n    padding: `${theme.spacing(0.75)}px ${theme.spacing(1)}px`,\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  drawerPaper: {\n    maxWidth: '1200px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst HeuristicDetail = ({ heur_id }: HeuristicDetailProps) => {\n  const { t, i18n } = useTranslation(['manageHeuristicDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [heuristic, setHeuristic] = useState<Heuristic>(null);\n  const [stats, setStats] = useState<Statistics>(null);\n  const [histogram, setHistogram] = useState<any>(null);\n  const [results, setResults] = useState<any>(null);\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { c12nDef } = useALContext();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/heuristics/${heur_id || id}/`,\n      onSuccess: api_data => {\n        setHeuristic(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heur_id, id]);\n\n  useEffect(() => {\n    if (heuristic) {\n      if (!heuristic.stats) {\n        apiCall({\n          method: 'POST',\n          url: '/api/v4/search/stats/result/result.score/',\n          body: { query: `result.sections.heuristic.heur_id:${heur_id || id}` },\n          onSuccess: api_data => {\n            setStats(api_data.api_response);\n          }\n        });\n      } else {\n        setStats(heuristic.stats);\n      }\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/histogram/result/created/',\n        body: {\n          query: `result.sections.heuristic.heur_id:${heur_id || id}`,\n          mincount: 0,\n          start: 'now-30d/d',\n          end: 'now+1d/d-1s',\n          gap: '+1d'\n        },\n        onSuccess: api_data => {\n          const chartData = {\n            labels: Object.keys(api_data.api_response).map((key: string) => key.replace('T00:00:00.000Z', '')),\n            datasets: [\n              {\n                label: heur_id || id,\n                data: Object.values(api_data.api_response)\n              }\n            ]\n          };\n          setHistogram(chartData);\n        }\n      });\n      apiCall({\n        method: 'GET',\n        url: `/api/v4/search/result/?query=result.sections.heuristic.heur_id:${heur_id || id}&rows=10`,\n        onSuccess: api_data => {\n          setResults(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heuristic]);\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification size=\"tiny\" c12n={heuristic ? heuristic.classification : null} />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n              <Typography variant=\"caption\">\n                {heuristic ? heuristic.heur_id : <Skeleton style={{ width: '10rem' }} />}\n              </Typography>\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n              {heuristic ? (\n                <Tooltip title={t('usage')}>\n                  <IconButton\n                    component={Link}\n                    style={{ color: theme.palette.action.active }}\n                    to={`/search/result/?query=result.sections.heuristic.heur_id:\"${heuristic.heur_id}\"`}\n                  >\n                    <YoutubeSearchedForIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('name')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.name}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('filetype')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.filetype}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('desc')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.description}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('score')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.score}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('max_score')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.max_score || t('no_max')}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('attack_id')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.attack_id && heuristic.attack_id.length !== 0\n                  ? heuristic.attack_id.join(', ')\n                  : t('no_attack_id')}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('signature_score_map')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.signature_score_map && Object.keys(heuristic.signature_score_map).length !== 0 ? (\n                  <Grid container spacing={1}>\n                    {Object.keys(heuristic.signature_score_map).map((key, i) => {\n                      return (\n                        <Grid key={i} item xs>\n                          {`${key} = ${heuristic.signature_score_map[key]}`}\n                        </Grid>\n                      );\n                    })}\n                  </Grid>\n                ) : (\n                  t('no_sigs')\n                )}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('statistics')}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('hits')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.count')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.count : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.first')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? (\n                  stats.first_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.first_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.last')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? (\n                  stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('contribution')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.min')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.min : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.avg')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? Number(stats.avg).toFixed(0) : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.max')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.max : <Skeleton />}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Histogram data={histogram} height={300} isDate title={t('chart.title')} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('last10')}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsTable resultResults={results} allowSort={false} />\n          </Grid>\n        </Grid>\n      </div>\n    </PageCenter>\n  );\n};\n\nHeuristicDetail.defaultProps = {\n  heur_id: null\n};\n\nexport default HeuristicDetail;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport HeuristicsTable from 'components/visual/SearchResult/heuristics';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport HeuristicDetail from './heuristic_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Heuristics() {\n  const { t } = useTranslation(['manageHeuristics']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [heuristicResults, setHeuristicResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { setGlobalDrawer } = useDrawer();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.heuristic).filter(name => {\n      return indexes.heuristic[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      query.set('rows', PAGE_SIZE);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/heuristic/',\n        body: query.getParams(),\n        onSuccess: api_data => {\n          setHeuristicResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setHeuristicID = useCallback(\n    (heur_id: string) => {\n      setGlobalDrawer(<HeuristicDetail heur_id={heur_id} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      {useMemo(() => {\n        return (\n          <>\n            <div style={{ paddingBottom: theme.spacing(2) }}>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n            </div>\n\n            <PageHeader isSticky>\n              <div style={{ paddingTop: theme.spacing(1) }}>\n                <SearchBar\n                  initValue={query ? query.get('query', '') : ''}\n                  placeholder={t('filter')}\n                  searching={searching}\n                  suggestions={suggestions}\n                  onValueChange={onFilterValueChange}\n                  onClear={onClear}\n                  onSearch={onSearch}\n                >\n                  {heuristicResults !== null && (\n                    <div className={classes.searchresult}>\n                      {heuristicResults.total !== 0 && (\n                        <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                          {searching ? (\n                            <span>{t('searching')}</span>\n                          ) : (\n                            <span>\n                              {heuristicResults.total}&nbsp;\n                              {query.get('query')\n                                ? t(`filtered${heuristicResults.total === 1 ? '' : 's'}`)\n                                : t(`total${heuristicResults.total === 1 ? '' : 's'}`)}\n                            </span>\n                          )}\n                        </Typography>\n                      )}\n\n                      <SearchPager\n                        total={heuristicResults.total}\n                        setResults={setHeuristicResults}\n                        pageSize={pageSize}\n                        index=\"heuristic\"\n                        query={query}\n                        setSearching={setSearching}\n                      />\n                    </div>\n                  )}\n                </SearchBar>\n              </div>\n            </PageHeader>\n          </>\n        );\n      }, [\n        classes.searchresult,\n        heuristicResults,\n        onClear,\n        onSearch,\n        pageSize,\n        query,\n        searching,\n        suggestions,\n        t,\n        theme\n      ])}\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <HeuristicsTable heuristicResults={heuristicResults} setHeuristicID={setHeuristicID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CustomChip from './CustomChip';\n\nconst COLOR_MAP = {\n  DEPLOYED: 'success' as 'success',\n  NOISY: 'info' as 'info',\n  DISABLED: 'error' as 'error'\n};\n\ntype SignatureStatusProps = {\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  fullWidth?: boolean;\n  onClick?: () => void;\n};\n\nconst WrappedSignatureStatus: React.FC<SignatureStatusProps> = ({ status, fullWidth = true, onClick = null }) => {\n  const { t } = useTranslation();\n\n  return (\n    <CustomChip\n      size=\"tiny\"\n      fullWidth={fullWidth}\n      color={COLOR_MAP[status]}\n      label={t(`signature.status.${status}`)}\n      onClick={onClick}\n    />\n  );\n};\n\nconst SignatureStatus = React.memo(WrappedSignatureStatus);\nexport default SignatureStatus;\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport { Statistics } from 'components/routes/manage/signature_detail';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\nimport SignatureStatus from '../SignatureStatus';\n\nexport type SignatureResult = {\n  classification: string;\n  id: string;\n  last_modified: string;\n  name: string;\n  revision: string;\n  signature_id: string;\n  source: string;\n  stats: Statistics;\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  type: string;\n};\n\ntype SearchResults = {\n  items: SignatureResult[];\n  total: number;\n};\n\ntype SignaturesTableProps = {\n  signatureResults: SearchResults;\n  setSignatureID?: (id: string) => void;\n  allowSort?: boolean;\n};\n\nconst WrappedSignaturesTable: React.FC<SignaturesTableProps> = ({\n  signatureResults,\n  setSignatureID = null,\n  allowSort = true\n}) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return signatureResults ? (\n    signatureResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.type')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"source\" allowSort={allowSort}>\n                {t('header.source')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\" allowSort={allowSort}>\n                {t('header.name')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.count\" allowSort={allowSort}>\n                {t('header.hit_count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.last_hit\" allowSort={allowSort}>\n                {t('header.last_hit')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"status\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {signatureResults.items.map(signature => (\n              <LinkRow\n                key={signature.signature_id}\n                component={Link}\n                to={`/manage/signature/${signature.id}`}\n                onClick={event => {\n                  if (setSignatureID) {\n                    event.preventDefault();\n                    setSignatureID(signature.id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>{signature.type}</DivTableCell>\n                <DivTableCell>{signature.source}</DivTableCell>\n                <DivTableCell>{signature.name}</DivTableCell>\n                <DivTableCell>{signature.stats ? signature.stats.count || 0 : 0}</DivTableCell>\n                <DivTableCell>\n                  {signature.stats && signature.stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {signature.stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('never')\n                  )}\n                </DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={signature.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell>\n                  <SignatureStatus status={signature.status} />\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_signatures_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst SignaturesTable = React.memo(WrappedSignaturesTable);\nexport default SignaturesTable;\n","import {\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport YoutubeSearchedForIcon from '@material-ui/icons/YoutubeSearchedFor';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport Histogram from 'components/visual/Histogram';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport SignatureStatus from 'components/visual/SignatureStatus';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\nexport type Signature = {\n  classification: string;\n  data: string;\n  last_modified: string;\n  name: string;\n  order: number;\n  revision: string;\n  signature_id: string;\n  source: string;\n  state_change_data: string;\n  state_change_user: string;\n  stats: Statistics;\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  type: string;\n};\n\nexport type Statistics = {\n  avg: number;\n  min: number;\n  max: number;\n  count: number;\n  sum: number;\n  last_hit: string;\n  first_hit: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype SignatureDetailProps = {\n  signature_id?: string;\n  onUpdated?: () => void;\n  onDeleted?: () => void;\n};\n\nconst useStyles = makeStyles(theme => ({\n  preview: {\n    padding: theme.spacing(2),\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  stats: {\n    margin: 0,\n    padding: `${theme.spacing(0.75)}px ${theme.spacing(1)}px`\n  },\n  openPaper: {\n    maxWidth: '1200px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst SignatureDetail = ({ signature_id, onUpdated, onDeleted }: SignatureDetailProps) => {\n  const { t, i18n } = useTranslation(['manageSignatureDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [signature, setSignature] = useState<Signature>(null);\n  const [stats, setStats] = useState<Statistics>(null);\n  const [histogram, setHistogram] = useState<any>(null);\n  const [results, setResults] = useState<any>(null);\n  const [open, setOpen] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [modified, setModified] = useState(false);\n  const history = useHistory();\n  const { showSuccessMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { user: currentUser, c12nDef } = useALContext();\n\n  useEffect(() => {\n    if (signature_id || id) {\n      apiCall({\n        url: `/api/v4/signature/${signature_id || id}/`,\n        onSuccess: api_data => {\n          setSignature(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [signature_id, id]);\n\n  useEffect(() => {\n    if (signature) {\n      if (!signature.stats) {\n        apiCall({\n          method: 'POST',\n          url: '/api/v4/search/stats/result/result.score/',\n          body: { query: `result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"` },\n          onSuccess: api_data => {\n            setStats(api_data.api_response);\n          }\n        });\n      } else {\n        setStats(signature.stats);\n      }\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/histogram/result/created/',\n        body: {\n          query: `result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"`,\n          mincount: 0,\n          start: 'now-30d/d',\n          end: 'now+1d/d-1s',\n          gap: '+1d'\n        },\n        onSuccess: api_data => {\n          const chartData = {\n            labels: Object.keys(api_data.api_response).map((key: string) => key.replace('T00:00:00.000Z', '')),\n            datasets: [\n              {\n                label: signature_id || id,\n                data: Object.values(api_data.api_response)\n              }\n            ]\n          };\n          setHistogram(chartData);\n        }\n      });\n      apiCall({\n        method: 'GET',\n        url: `/api/v4/search/result/?query=result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"&rows=10`,\n        onSuccess: api_data => {\n          setResults(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [signature]);\n\n  const closeDialog = () => {\n    setOpen(false);\n  };\n\n  const handleSelectChange = event => {\n    setModified(true);\n    setSignature({ ...signature, status: event.target.value });\n    closeDialog();\n  };\n\n  const handleStateSaveButtonClick = () => {\n    apiCall({\n      url: `/api/v4/signature/change_status/${signature_id || id}/${signature.status}/`,\n      onSuccess: () => {\n        showSuccessMessage(t('change.success'));\n        setModified(false);\n        onUpdated();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const handleExecuteDeleteButtonClick = () => {\n    closeDialog();\n    apiCall({\n      url: `/api/v4/signature/${signature_id || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        if (id) setTimeout(() => history.push('/manage/signatures'), 1000);\n        onDeleted();\n      }\n    });\n  };\n\n  const handleDeleteButtonClick = () => {\n    setDeleteDialog(true);\n  };\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={handleExecuteDeleteButtonClick}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      <Dialog\n        open={open}\n        onClose={closeDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{t('change.title')}</DialogTitle>\n        <DialogContent>\n          <p>{t('change.warning')}</p>\n          <ul>\n            <li>{t('change.warning.1')}</li>\n            <li>{t('change.warning.2')}</li>\n          </ul>\n          <div>{t('change.warning.action')}</div>\n          {signature ? (\n            <Select fullWidth onChange={handleSelectChange} variant=\"outlined\" margin=\"dense\" value={signature.status}>\n              <MenuItem value=\"DEPLOYED\">{t('status.DEPLOYED')}</MenuItem>\n              <MenuItem value=\"NOISY\">{t('status.NOISY')}</MenuItem>\n              <MenuItem value=\"DISABLED\">{t('status.DISABLED')}</MenuItem>\n            </Select>\n          ) : (\n            <Skeleton height={2} />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={closeDialog} color=\"primary\">\n            {t('change.close')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification size=\"tiny\" c12n={signature ? signature.classification : null} />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <Grid container alignItems=\"center\" spacing={3}>\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n            <Typography variant=\"caption\">\n              {signature ? (\n                `${signature.type}_${signature.source}_${signature.signature_id}`\n              ) : (\n                <Skeleton style={{ width: '10rem' }} />\n              )}\n            </Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n            {signature ? (\n              <>\n                <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n                  <Tooltip title={t('usage')}>\n                    <IconButton\n                      component={Link}\n                      style={{ color: theme.palette.action.active }}\n                      to={`/search/result/?query=result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"`}\n                    >\n                      <YoutubeSearchedForIcon />\n                    </IconButton>\n                  </Tooltip>\n                  {(currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1) && (\n                    <Tooltip title={t('remove')}>\n                      <IconButton\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                        onClick={handleDeleteButtonClick}\n                      >\n                        <RemoveCircleOutlineOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                </div>\n                <SignatureStatus\n                  status={signature.status}\n                  onClick={\n                    currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1\n                      ? () => setOpen(true)\n                      : null\n                  }\n                />\n              </>\n            ) : (\n              <>\n                <div style={{ display: 'flex' }}>\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                </div>\n                <Skeleton\n                  variant=\"rect\"\n                  height=\"1rem\"\n                  width=\"6rem\"\n                  style={{\n                    marginBottom: theme.spacing(1),\n                    marginTop: theme.spacing(1),\n                    borderRadius: theme.spacing(1)\n                  }}\n                />\n              </>\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            {signature ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {signature.data}\n              </Paper>\n            ) : (\n              <Skeleton variant=\"rect\" height=\"6rem\" />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('statistics')}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('hits')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.count')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.count : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.first')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? (\n                  stats.first_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.first_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.last')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? (\n                  stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('contribution')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.min')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.min : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.avg')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? Number(stats.avg).toFixed(0) : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.max')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.max : <Skeleton />}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Histogram data={histogram} height={300} isDate title={t('chart.title')} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('last10')}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsTable resultResults={results} allowSort={false} />\n          </Grid>\n        </Grid>\n\n        {signature && modified ? (\n          <div\n            style={{\n              paddingTop: id ? theme.spacing(1) : theme.spacing(2),\n              paddingBottom: id ? theme.spacing(1) : theme.spacing(2),\n              position: id ? 'fixed' : 'inherit',\n              bottom: id ? 0 : 'inherit',\n              left: id ? 0 : 'inherit',\n              width: id ? '100%' : 'inherit',\n              textAlign: id ? 'center' : 'right',\n              zIndex: id ? theme.zIndex.drawer - 1 : 'auto',\n              backgroundColor: id ? theme.palette.background.default : 'inherit',\n              boxShadow: id ? theme.shadows[4] : 'inherit'\n            }}\n          >\n            <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading} onClick={handleStateSaveButtonClick}>\n              {t('change.save')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </div>\n        ) : null}\n      </div>\n    </PageCenter>\n  );\n};\n\nSignatureDetail.defaultProps = {\n  signature_id: null,\n  onUpdated: () => {},\n  onDeleted: () => {}\n};\n\nexport default SignatureDetail;\n","import { Grid, IconButton, Link, makeStyles, Tooltip, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport RecordVoiceOverOutlinedIcon from '@material-ui/icons/RecordVoiceOverOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport SignaturesTable from 'components/visual/SearchResult/signatures';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport SignatureDetail from './signature_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Signatures() {\n  const { t } = useTranslation(['manageSignatures']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [signatureResults, setSignatureResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n  const [suggestions] = useState([\n    ...Object.keys(indexes.signature).filter(name => {\n      return indexes.signature[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      reload(0);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    function handleReload() {\n      reload(signatureResults ? signatureResults.offset : 0);\n    }\n\n    window.addEventListener('reloadSignatures', handleReload);\n\n    return () => {\n      window.removeEventListener('reloadSignatures', handleReload);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, signatureResults]);\n\n  const reload = offset => {\n    query.set('rows', PAGE_SIZE);\n    query.set('offset', offset);\n    apiCall({\n      method: 'POST',\n      url: '/api/v4/search/signature/',\n      body: query.getParams(),\n      onSuccess: api_data => {\n        if (\n          api_data.api_response.items.length === 0 &&\n          api_data.api_response.offset !== 0 &&\n          api_data.api_response.offset >= api_data.api_response.total\n        ) {\n          reload(Math.max(0, api_data.api_response.offset - api_data.api_response.rows));\n        } else {\n          setSignatureResults(api_data.api_response);\n        }\n      },\n      onEnter: () => setSearching(true),\n      onExit: () => setSearching(false)\n    });\n  };\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setSignatureID = useCallback(\n    (sig_id: string) => {\n      setGlobalDrawer(\n        <SignatureDetail signature_id={sig_id} onUpdated={handleSignatureUpdated} onDeleted={handleSignatureDeleted} />\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query]\n  );\n\n  const handleSignatureUpdated = () => {\n    if (!isXL) closeGlobalDrawer();\n    setTimeout(() => window.dispatchEvent(new CustomEvent('reloadSignatures')), 1000);\n  };\n\n  const handleSignatureDeleted = () => {\n    closeGlobalDrawer();\n    setTimeout(() => window.dispatchEvent(new CustomEvent('reloadSignatures')), 1000);\n  };\n\n  return (\n    <PageFullWidth margin={4}>\n      {useMemo(() => {\n        return (\n          <>\n            <div style={{ paddingBottom: theme.spacing(2) }}>\n              <Grid container alignItems=\"center\">\n                <Grid item xs>\n                  <Typography variant=\"h4\">{t('title')}</Typography>\n                </Grid>\n                <Grid item xs style={{ textAlign: 'right' }}>\n                  <Tooltip title={t('download_desc')}>\n                    <IconButton\n                      component={Link}\n                      style={{ color: theme.palette.action.active }}\n                      href={`/api/v4/signature/download/?query=${query ? query.get('query', '*') : '*'}`}\n                    >\n                      <GetAppOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </Grid>\n              </Grid>\n            </div>\n\n            <PageHeader isSticky>\n              <div style={{ paddingTop: theme.spacing(1) }}>\n                <SearchBar\n                  initValue={query ? query.get('query', '') : ''}\n                  placeholder={t('filter')}\n                  searching={searching}\n                  suggestions={suggestions}\n                  onValueChange={onFilterValueChange}\n                  onClear={onClear}\n                  onSearch={onSearch}\n                  buttons={[\n                    {\n                      icon: <RecordVoiceOverOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                      tooltip: t('noisy'),\n                      props: {\n                        onClick: () => {\n                          query.set('query', 'status:NOISY');\n                          history.push(`${location.pathname}?${query.getDeltaString()}`);\n                        }\n                      }\n                    },\n\n                    {\n                      icon: <BlockIcon fontSize={upMD ? 'default' : 'small'} />,\n                      tooltip: t('disabled'),\n                      props: {\n                        onClick: () => {\n                          query.set('query', 'status:DISABLED');\n                          history.push(`${location.pathname}?${query.getDeltaString()}`);\n                        }\n                      }\n                    }\n                  ]}\n                >\n                  {signatureResults !== null && (\n                    <div className={classes.searchresult}>\n                      {signatureResults.total !== 0 && (\n                        <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                          {searching ? (\n                            <span>{t('searching')}</span>\n                          ) : (\n                            <span>\n                              {signatureResults.total}&nbsp;\n                              {query.get('query')\n                                ? t(`filtered${signatureResults.total === 1 ? '' : 's'}`)\n                                : t(`total${signatureResults.total === 1 ? '' : 's'}`)}\n                            </span>\n                          )}\n                        </Typography>\n                      )}\n\n                      <SearchPager\n                        total={signatureResults.total}\n                        setResults={setSignatureResults}\n                        pageSize={pageSize}\n                        index=\"signature\"\n                        query={query}\n                        setSearching={setSearching}\n                      />\n                    </div>\n                  )}\n                </SearchBar>\n              </div>\n            </PageHeader>\n          </>\n        );\n      }, [\n        classes.searchresult,\n        history,\n        location.pathname,\n        onClear,\n        onSearch,\n        pageSize,\n        query,\n        searching,\n        signatureResults,\n        suggestions,\n        t,\n        theme,\n        upMD\n      ])}\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <SignaturesTable signatureResults={signatureResults} setSignatureID={setSignatureID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type WorkflowResult = {\n  classification: string;\n  creation_date: string;\n  creator: string;\n  edited_by: string;\n  hit_count: string;\n  id: string;\n  last_edit: string;\n  last_seen: string;\n  name: string;\n  priority: string;\n  query: string;\n  status: string;\n  workflow_id: string;\n};\n\ntype SearchResults = {\n  items: WorkflowResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype WorkflowTableProps = {\n  workflowResults: SearchResults;\n  setWorkflowID?: (id: string) => void;\n};\n\nconst WrappedWorflowTable: React.FC<WorkflowTableProps> = ({ workflowResults, setWorkflowID = null }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return workflowResults ? (\n    workflowResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"creation_date\">{t('header.created')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"last_seen\">{t('header.lasttimeseen')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\">{t('header.name')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"priority\">{t('header.priority')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"status\">{t('header.status')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"hit_count\">{t('header.hit_count')}</SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\">{t('header.classification')}</SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {workflowResults.items.map(workflow => (\n              <LinkRow\n                key={workflow.workflow_id}\n                component={Link}\n                to={`/manage/workflow/${workflow.workflow_id}`}\n                onClick={event => {\n                  if (setWorkflowID) {\n                    event.preventDefault();\n                    setWorkflowID(workflow.workflow_id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>\n                  <Moment fromNow locale={i18n.language}>\n                    {workflow.creation_date}\n                  </Moment>\n                </DivTableCell>\n                <DivTableCell>\n                  {workflow.last_seen && (\n                    <Moment fromNow locale={i18n.language}>\n                      {workflow.last_seen}\n                    </Moment>\n                  )}\n                </DivTableCell>\n                <DivTableCell>{workflow.name}</DivTableCell>\n                <DivTableCell>{workflow.priority}</DivTableCell>\n                <DivTableCell>{workflow.status}</DivTableCell>\n                <DivTableCell>{workflow.hit_count}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={workflow.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_workflows_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst WorflowTable = React.memo(WrappedWorflowTable);\nexport default WorflowTable;\n","import {\n  Button,\n  CircularProgress,\n  createStyles,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Theme,\n  Tooltip,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Autocomplete, Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst DEFAULT_LABELS = [\n  'PHISHING',\n  'CRIME',\n  'ATTRIBUTED',\n  'WHITELISTED',\n  'FALSE_POSITIVE',\n  'REPORTED',\n  'MITIGATED',\n  'PENDING'\n];\n\nexport type Workflow = {\n  classification: string;\n  creation_date?: number;\n  creator?: string;\n  edited_by?: string;\n  hit_count: number;\n  labels: string[];\n  last_edit?: string;\n  last_seen?: string;\n  name: string;\n  priority: string;\n  query: string;\n  status: string;\n  workflow_id?: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype WorkflowDetailProps = {\n  workflow_id?: string;\n  close?: () => void;\n};\n\nconst MyMenuItem = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      minHeight: theme.spacing(4)\n    }\n  })\n)(MenuItem);\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst WorkflowDetail = ({ workflow_id, close }: WorkflowDetailProps) => {\n  const { t, i18n } = useTranslation(['manageWorkflowDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [workflow, setWorkflow] = useState<Workflow>(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const { c12nDef } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const history = useHistory();\n\n  const DEFAULT_WORKFLOW = {\n    classification: c12nDef.UNRESTRICTED,\n    hit_count: 0,\n    labels: [],\n    name: '',\n    priority: '',\n    query: '',\n    status: ''\n  };\n\n  useEffect(() => {\n    if (workflow_id || id) {\n      apiCall({\n        url: `/api/v4/workflow/${workflow_id || id}/`,\n        onSuccess: api_data => {\n          setWorkflow({\n            ...api_data.api_response,\n            status: api_data.api_response.status || '',\n            priority: api_data.api_response.priority || ''\n          });\n        }\n      });\n    } else {\n      setWorkflow({ ...DEFAULT_WORKFLOW });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [workflow_id, id]);\n\n  const handleNameChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, name: event.target.value });\n  };\n\n  const handleQueryChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, query: event.target.value });\n  };\n\n  const handleLabelsChange = labels => {\n    setModified(true);\n    setWorkflow({ ...workflow, labels: labels.map(label => label.toUpperCase()) });\n  };\n\n  const handlePriorityChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, priority: event.target.value });\n  };\n\n  const handleStatusChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, status: event.target.value });\n  };\n\n  const setClassification = classification => {\n    setModified(true);\n    setWorkflow({ ...workflow, classification });\n  };\n\n  const removeWorkflow = () => {\n    apiCall({\n      url: `/api/v4/workflow/${workflow_id || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        setDeleteDialog(false);\n        showSuccessMessage(t('delete.success'));\n        if (id) {\n          setTimeout(() => history.push('/manage/workflows'), 1000);\n        }\n        setTimeout(() => window.dispatchEvent(new CustomEvent('reloadWorkflows')), 1000);\n        close();\n      }\n    });\n  };\n\n  const saveWorkflow = () => {\n    apiCall({\n      url: workflow_id || id ? `/api/v4/workflow/${workflow_id || id}/` : '/api/v4/workflow/',\n      method: workflow_id || id ? 'POST' : 'PUT',\n      body: {\n        ...workflow,\n        priority: workflow.priority === '' ? null : workflow.priority,\n        status: workflow.status === '' ? null : workflow.status\n      },\n      onSuccess: () => {\n        showSuccessMessage(t(workflow_id || id ? 'save.success' : 'add.success'));\n        setModified(false);\n        setTimeout(() => window.dispatchEvent(new CustomEvent('reloadWorkflows')), 1000);\n        if (!(workflow_id || id)) close();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={removeWorkflow}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification\n            type=\"picker\"\n            c12n={workflow ? workflow.classification : null}\n            setClassification={setClassification}\n          />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t(workflow_id || id ? 'title' : 'add.title')}</Typography>\n              <Typography variant=\"caption\">\n                {workflow ? workflow.workflow_id : <Skeleton style={{ width: '10rem' }} />}\n              </Typography>\n            </Grid>\n            {(workflow_id || id) && (\n              <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n                {workflow ? (\n                  <Tooltip title={t('remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={() => setDeleteDialog(true)}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : (\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                )}\n              </Grid>\n            )}\n          </Grid>\n        </div>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('name')}</Typography>\n            {workflow ? (\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleNameChange}\n                value={workflow.name}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('query')}</Typography>\n            {workflow ? (\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleQueryChange}\n                value={workflow.query}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('labels')}</Typography>\n            {workflow ? (\n              <Autocomplete\n                fullWidth\n                multiple\n                freeSolo\n                options={DEFAULT_LABELS}\n                value={workflow.labels}\n                renderInput={params => <TextField {...params} variant=\"outlined\" />}\n                onChange={(event, value) => handleLabelsChange(value as string[])}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('priority')}</Typography>\n            {workflow ? (\n              <Select\n                id=\"priority\"\n                fullWidth\n                value={workflow.priority}\n                onChange={handlePriorityChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              >\n                <MyMenuItem value=\"\">{t('priority.null')}</MyMenuItem>\n                <MyMenuItem value=\"LOW\">{t('priority.LOW')}</MyMenuItem>\n                <MyMenuItem value=\"MEDIUM\">{t('priority.MEDIUM')}</MyMenuItem>\n                <MyMenuItem value=\"HIGH\">{t('priority.HIGH')}</MyMenuItem>\n                <MyMenuItem value=\"CRITICAL\">{t('priority.CRITICAL')}</MyMenuItem>\n              </Select>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('status')}</Typography>\n            {workflow ? (\n              <Select\n                id=\"priority\"\n                fullWidth\n                value={workflow.status}\n                onChange={handleStatusChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              >\n                <MyMenuItem value=\"\">{t('status.null')}</MyMenuItem>\n                <MyMenuItem value=\"MALICIOUS\">{t('status.MALICIOUS')}</MyMenuItem>\n                <MyMenuItem value=\"NON-MALICIOUS\">{t('status.NON-MALICIOUS')}</MyMenuItem>\n                <MyMenuItem value=\"ASSESS\">{t('status.ASSESS')}</MyMenuItem>\n              </Select>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n        </Grid>\n        <div style={{ textAlign: 'center', paddingTop: theme.spacing(3) }}>\n          {workflow ? (\n            workflow.creator && (\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {`${t('created_by')} ${workflow.creator} `}\n                <Moment fromNow locale={i18n.language}>\n                  {workflow.creation_date}\n                </Moment>\n              </Typography>\n            )\n          ) : (\n            <Skeleton />\n          )}\n          {workflow ? (\n            workflow.edited_by && (\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {`${t('edited_by')} ${workflow.edited_by} `}\n                <Moment fromNow locale={i18n.language}>\n                  {workflow.last_edit}\n                </Moment>\n              </Typography>\n            )\n          ) : (\n            <Skeleton />\n          )}{' '}\n        </div>\n      </div>\n\n      {workflow && modified && workflow.name && workflow.query ? (\n        <div\n          style={{\n            paddingTop: id ? theme.spacing(1) : theme.spacing(2),\n            paddingBottom: id ? theme.spacing(1) : theme.spacing(2),\n            position: id ? 'fixed' : 'inherit',\n            bottom: id ? 0 : 'inherit',\n            left: id ? 0 : 'inherit',\n            width: id ? '100%' : 'inherit',\n            textAlign: id ? 'center' : 'right',\n            zIndex: id ? theme.zIndex.drawer - 1 : 'auto',\n            backgroundColor: id ? theme.palette.background.default : 'inherit',\n            boxShadow: id ? theme.shadows[4] : 'inherit'\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading} onClick={saveWorkflow}>\n            {t(workflow_id || id ? 'save' : 'add.button')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      ) : null}\n    </PageCenter>\n  );\n};\n\nWorkflowDetail.defaultProps = {\n  workflow_id: null,\n  close: () => {}\n};\n\nexport default WorkflowDetail;\n","import { Grid, IconButton, makeStyles, Tooltip, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport EventBusyOutlinedIcon from '@material-ui/icons/EventBusyOutlined';\nimport EventOutlinedIcon from '@material-ui/icons/EventOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport WorkflowTable from 'components/visual/SearchResult/workflow';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport WorkflowDetail from './workflow_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Workflows() {\n  const { t } = useTranslation(['manageWorkflows']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [workflowResults, setWorkflowResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.workflow).filter(name => {\n      return indexes.workflow[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      reload(0);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    function handleReload() {\n      reload(workflowResults ? workflowResults.offset : 0);\n    }\n\n    window.addEventListener('reloadWorkflows', handleReload);\n\n    return () => {\n      window.removeEventListener('reloadWorkflows', handleReload);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, workflowResults]);\n\n  const reload = offset => {\n    query.set('rows', PAGE_SIZE);\n    query.set('offset', offset);\n    apiCall({\n      method: 'POST',\n      url: '/api/v4/search/workflow/',\n      body: query.getParams(),\n      onSuccess: api_data => {\n        if (\n          api_data.api_response.items.length === 0 &&\n          api_data.api_response.offset !== 0 &&\n          api_data.api_response.offset >= api_data.api_response.total\n        ) {\n          reload(Math.max(0, api_data.api_response.offset - api_data.api_response.rows));\n        } else {\n          setWorkflowResults(api_data.api_response);\n        }\n      },\n      onEnter: () => setSearching(true),\n      onExit: () => setSearching(false)\n    });\n  };\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setWorkflowID = useCallback(\n    (wf_id: string) => {\n      setGlobalDrawer(<WorkflowDetail workflow_id={wf_id} close={closeGlobalDrawer} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_workflow')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => setGlobalDrawer(<WorkflowDetail workflow_id={null} close={closeGlobalDrawer} />)}\n              >\n                <AddCircleOutlineOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <EventBusyOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('never_used'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'hit_count:0');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <EventOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('old'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'last_seen:[* TO now-3m]');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {workflowResults !== null && (\n              <div className={classes.searchresult}>\n                {workflowResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {workflowResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${workflowResults.total === 1 ? '' : 's'}`)\n                          : t(`total${workflowResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  total={workflowResults.total}\n                  setResults={setWorkflowResults}\n                  pageSize={pageSize}\n                  index=\"workflow\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <WorkflowTable workflowResults={workflowResults} setWorkflowID={setWorkflowID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { CircularProgress, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction Optout() {\n  const { t } = useTranslation(['optout']);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { getBanner, hideMenus } = useAppLayout();\n\n  useEffect(() => {\n    hideMenus();\n\n    apiCall({\n      body: false,\n      method: 'PUT',\n      url: '/api/v4/user/ui4/',\n      onSuccess: () => {\n        setTimeout(() => {\n          window.location.replace('/');\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <CardCentered>\n      <div style={{ textAlign: 'center' }}>\n        {getBanner(theme)}\n        <div style={{ marginBottom: theme.spacing(3) }}>\n          <Typography>{t('title')}</Typography>\n        </div>\n        <CircularProgress size={24} />\n      </div>\n    </CardCentered>\n  );\n}\n\nexport default Optout;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type AlertResult = {\n  al: {\n    av: string[];\n    score: number;\n  };\n  alert_id: string;\n  classification: string;\n  file: {\n    md5: string;\n    sha1: string;\n    sha256: string;\n    type: string;\n  };\n  filtered: boolean;\n  id: string;\n  label: string[];\n  owner: string;\n  priority: string;\n  reporting_ts: string;\n  status: string;\n  ts: string;\n  type: string;\n};\n\ntype SearchResults = {\n  items: AlertResult[];\n  total: number;\n};\n\ntype AlertsTableProps = {\n  alertResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedAlertsTable: React.FC<AlertsTableProps> = ({ alertResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return alertResults ? (\n    alertResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"reporting_ts\" allowSort={allowSort}>\n                {t('header.reporting_ts')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"al.score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"file.sha256\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"status\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.type')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {alertResults.items.map(alert => (\n              <LinkRow\n                key={alert.id}\n                component={Link}\n                to={`/alerts/${alert.id}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={alert.reporting_ts}>\n                    <Moment fromNow locale={i18n.language}>\n                      {alert.reporting_ts}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={alert.al.score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{alert.file.sha256}</DivTableCell>\n                <DivTableCell>{alert.status}</DivTableCell>\n                <DivTableCell>{alert.type}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={alert.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_alerts_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst AlertsTable = React.memo(WrappedAlertsTable);\nexport default AlertsTable;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type FileResult = {\n  classification: string;\n  entropy: number;\n  id: string;\n  md5: string;\n  seen: {\n    count: number;\n    first: string;\n    last: string;\n  };\n  sha1: string;\n  sha256: string;\n  size: number;\n  type: string;\n};\n\ntype SearchResults = {\n  items: FileResult[];\n  total: number;\n};\n\ntype FilesTableProps = {\n  fileResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedFilesTable: React.FC<FilesTableProps> = ({ fileResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return fileResults ? (\n    fileResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"seen.last\" allowSort={allowSort}>\n                {t('header.lasttimeseen')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"seen.count\" allowSort={allowSort}>\n                {t('header.count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"sha256\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.filetype')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"size\" allowSort={allowSort}>\n                {t('header.size')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {fileResults.items.map(file => (\n              <LinkRow\n                key={file.id}\n                component={Link}\n                to={`/file/detail/${file.sha256}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={file.seen.last}>\n                    <Moment fromNow locale={i18n.language}>\n                      {file.seen.last}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>{file.seen.count}</DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{file.sha256}</DivTableCell>\n                <DivTableCell>{file.type}</DivTableCell>\n                <DivTableCell>{file.size}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={file.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_files_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst FilesTable = React.memo(WrappedFilesTable);\nexport default FilesTable;\n","import { Tooltip } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst STATE_ICON_MAP = {\n  error: <ClearIcon color=\"error\" />,\n  completed: <DoneIcon color=\"primary\" />,\n  submitted: <UpdateIcon color=\"action\" />\n};\n\ntype SubmissionStateProps = {\n  state: string;\n  error_count?: number;\n};\n\nconst WrappedSubmissionState: React.FC<SubmissionStateProps> = ({ state, error_count = 0 }) => {\n  const { t } = useTranslation();\n  const curState = error_count !== 0 ? 'error' : state;\n  const icon = STATE_ICON_MAP[curState];\n\n  return <Tooltip title={t(`submission.state.${curState}`)}>{icon}</Tooltip>;\n};\n\nconst SubmissionState = React.memo(WrappedSubmissionState);\nexport default SubmissionState;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport SubmissionState from 'components/visual/SubmissionState';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type SubmissionResult = {\n  classification: string;\n  error_count: number;\n  file_count: number;\n  id: string;\n  max_score: number;\n  params: {\n    description: string;\n    submitter: string;\n  };\n  sid: string;\n  state: string;\n  times: {\n    submitted: string;\n  };\n};\n\ntype SearchResults = {\n  items: SubmissionResult[];\n  total: number;\n};\n\ntype SubmissionsTableProps = {\n  submissionResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedSubmissionsTable: React.FC<SubmissionsTableProps> = ({ submissionResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return submissionResults ? (\n    submissionResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"times.submitted\" allowSort={allowSort}>\n                {t('header.starttime')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"max_score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <DivTableCell>{t('header.description')}</DivTableCell>\n              <SortableHeaderCell sortField=\"params.submitter\" allowSort={allowSort}>\n                {t('header.user')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"file_count\" allowSort={allowSort}>\n                {t('header.numfiles')}\n              </SortableHeaderCell>\n              {c12nDef && c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"error_count\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {submissionResults.items.map(submission => (\n              <LinkRow\n                key={submission.id}\n                component={Link}\n                to={\n                  submission.state === 'completed'\n                    ? `/submission/${submission.id}`\n                    : `/submission/detail/${submission.id}`\n                }\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={submission.times.submitted}>\n                    <Moment fromNow locale={i18n.language}>\n                      {submission.times.submitted}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={submission.max_score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>\n                  {submission.params.description.length > 150\n                    ? `${submission.params.description.substr(0, 147)}...`\n                    : submission.params.description}\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{submission.params.submitter}</DivTableCell>\n                <DivTableCell>{submission.file_count}</DivTableCell>\n                {c12nDef && c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={submission.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell style={{ textAlign: 'center' }}>\n                  <SubmissionState state={submission.state} error_count={submission.error_count} />\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_submissions_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst SubmissionsTable = React.memo(WrappedSubmissionsTable);\nexport default SubmissionsTable;\n","import {\n  createStyles,\n  IconButton,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  Theme,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport CenterFocusStrongOutlinedIcon from '@material-ui/icons/CenterFocusStrongOutlined';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FolderOutlinedIcon from '@material-ui/icons/FolderOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport AlertsTable from 'components/visual/SearchResult/alerts';\nimport FilesTable from 'components/visual/SearchResult/files';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport SignaturesTable from 'components/visual/SearchResult/signatures';\nimport SubmissionsTable from 'components/visual/SearchResult/submissions';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    tweaked_tabs: {\n      minHeight: 'unset',\n      [theme.breakpoints.up('md')]: {\n        '& [role=tab]': {\n          padding: '8px 20px',\n          fontSize: '13px',\n          minHeight: 'unset',\n          minWidth: 'unset'\n        }\n      },\n      [theme.breakpoints.down('sm')]: {\n        minHeight: 'unset',\n        '& [role=tab]': {\n          fontSize: '12px',\n          minHeight: 'unset',\n          minWidth: 'unset'\n        }\n      }\n    },\n    searchresult: {\n      paddingLeft: theme.spacing(1),\n      color: theme.palette.primary.main,\n      fontStyle: 'italic'\n    }\n  })\n);\n\ntype SearchProps = {\n  index?: string | null;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nfunction Search({ index }: SearchProps) {\n  const { id } = useParams<ParamProps>();\n  const { t } = useTranslation(['search']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const location = useLocation();\n  const history = useHistory();\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const [searchSuggestion, setSearchSuggestion] = useState<string[]>(null);\n  const [tab, setTab] = useState(null);\n  const { showErrorMessage } = useMySnackbar();\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n\n  // Result lists\n  const [submissionResults, setSubmissionResults] = useState<SearchResults>(null);\n  const [fileResults, setFileResults] = useState<SearchResults>(null);\n  const [resultResults, setResultResults] = useState<SearchResults>(null);\n  const [signatureResults, setSignatureResults] = useState<SearchResults>(null);\n  const [alertResults, setAlertResults] = useState<SearchResults>(null);\n\n  const stateMap = {\n    submission: setSubmissionResults,\n    file: setFileResults,\n    result: setResultResults,\n    signature: setSignatureResults,\n    alert: setAlertResults\n  };\n\n  const resMap = {\n    submission: submissionResults,\n    file: fileResults,\n    result: resultResults,\n    signature: signatureResults,\n    alert: alertResults\n  };\n\n  const queryValue = useRef<string>('');\n\n  const handleChangeTab = (event, newTab) => {\n    history.push(`${location.pathname}?${query.toString()}#${newTab}`);\n  };\n\n  const onClear = () => {\n    query.delete('query');\n    history.push(`${location.pathname}?${query.toString()}${location.hash}`);\n  };\n\n  const onSearch = () => {\n    if (queryValue.current !== '') {\n      query.set('query', queryValue.current);\n      history.push(`${location.pathname}?${query.toString()}${location.hash}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    queryValue.current = inputValue;\n  };\n\n  const resetResults = () => {\n    setSubmissionResults(null);\n    setFileResults(null);\n    setResultResults(null);\n    setSignatureResults(null);\n    setAlertResults(null);\n  };\n\n  useEffect(() => {\n    // On index change we need to update the search suggestion\n    setSearchSuggestion([\n      ...Object.keys(indexes[index || id] || {}).filter(name => {\n        return indexes[index || id][name].indexed;\n      }),\n      ...DEFAULT_SUGGESTION\n    ]);\n  }, [index, id, indexes]);\n\n  useEffect(() => {\n    // On location.search change we need to change the query object and reset the results\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n    resetResults();\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    // On location.hash change, we need to change the tab\n    const newTab = location.hash.substring(1, location.hash.length) || index || id || 'submission';\n    setTab(newTab);\n  }, [id, index, location.hash]);\n\n  useEffect(() => {\n    if (query) {\n      queryValue.current = query.get('query', '');\n      if (query.get('query')) {\n        const searchList = [];\n        if (!(index || id)) {\n          searchList.push(...Object.keys(stateMap));\n        } else {\n          searchList.push(tab);\n          if (!searching) setSearching(true);\n        }\n        for (const searchIndex of searchList) {\n          apiCall({\n            method: 'POST',\n            url: `/api/v4/search/${searchIndex}/`,\n            body: { ...query.getParams(), rows: pageSize, offset: 0 },\n            onSuccess: api_data => {\n              stateMap[searchIndex](api_data.api_response);\n            },\n            onFailure: api_data => {\n              if (index || id || !api_data.api_error_message.includes('Rewrite first')) {\n                showErrorMessage(api_data.api_error_message);\n              } else {\n                stateMap[searchIndex]({ total: 0, offset: 0, items: [], rows: pageSize });\n              }\n            },\n            onFinalize: () => {\n              if (index || id) {\n                setSearching(false);\n              }\n            }\n          });\n        }\n      }\n    }\n    // eslint-disable-next-line\n  }, [query]);\n\n  const TabSpacer = props => {\n    return <div style={{ flexGrow: 1 }} />;\n  };\n\n  const SpecialTab = ({ children, ...otherProps }) => {\n    return children;\n  };\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2), textAlign: 'left', width: '100%' }}>\n        <Typography variant=\"h4\">{t(`title_${index || id || 'all'}`)}</Typography>\n      </div>\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            searching={searching}\n            placeholder={t(`search_${index || id || 'all'}`)}\n            suggestions={searchSuggestion}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon:\n                  query && query.get('use_archive') === 'false' ? (\n                    <FolderOutlinedIcon fontSize={downSM ? 'small' : 'default'} />\n                  ) : (\n                    <FolderIcon fontSize={downSM ? 'small' : 'default'} />\n                  ),\n                tooltip:\n                  query && query.get('use_archive') === 'false' ? t('use_archive.turn_on') : t('use_archive.turn_off'),\n                props: {\n                  onClick: () => {\n                    query.set('use_archive', query.get('use_archive') === 'false');\n                    history.push(`${location.pathname}?${query.getDeltaString()}${location.hash}`);\n                  }\n                }\n              }\n            ]}\n          />\n\n          {!(index || id) && query && query.get('query') && (\n            <Paper square style={{ marginBottom: theme.spacing(0.5) }}>\n              <Tabs\n                className={classes.tweaked_tabs}\n                value={tab}\n                onChange={handleChangeTab}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                scrollButtons=\"auto\"\n                variant=\"scrollable\"\n              >\n                <Tab\n                  label={`${t('submission')} (${submissionResults ? submissionResults.total : '...'})`}\n                  value=\"submission\"\n                />\n                <Tab label={`${t('file')} (${fileResults ? fileResults.total : '...'})`} value=\"file\" />\n                <Tab label={`${t('result')} (${resultResults ? resultResults.total : '...'})`} value=\"result\" />\n                <Tab\n                  label={`${t('signature')} (${signatureResults ? signatureResults.total : '...'})`}\n                  value=\"signature\"\n                />\n                <Tab label={`${t('alert')} (${alertResults ? alertResults.total : '...'})`} value=\"alert\" />\n                <TabSpacer />\n                <SpecialTab>\n                  <Tooltip title={t('focus_search')}>\n                    <IconButton\n                      size={downSM ? 'small' : 'medium'}\n                      component={Link}\n                      to={`/search/${tab}${location.search}`}\n                    >\n                      <CenterFocusStrongOutlinedIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                </SpecialTab>\n              </Tabs>\n            </Paper>\n          )}\n          <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap', marginBottom: theme.spacing(0.5) }}>\n            {resMap[tab] && resMap[tab].total !== 0 && (index || id) && (\n              <div className={classes.searchresult}>\n                {`${resMap[tab].total} ${t(resMap[tab].total === 1 ? 'matching_result' : 'matching_results')}`}\n              </div>\n            )}\n            <div style={{ flexGrow: 1 }} />\n            {resMap[tab] && (\n              <SearchPager\n                total={resMap[tab].total}\n                setResults={stateMap[tab]}\n                page={resMap[tab].offset / resMap[tab].rows + 1}\n                pageSize={pageSize}\n                index={tab}\n                query={query}\n                setSearching={setSearching}\n              />\n            )}\n          </div>\n        </div>\n      </PageHeader>\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        {tab === 'submission' && query && query.get('query') && (\n          <SubmissionsTable submissionResults={submissionResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'file' && query && query.get('query') && (\n          <FilesTable fileResults={fileResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'result' && query && query.get('query') && (\n          <ResultsTable resultResults={resultResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'signature' && query && query.get('query') && (\n          <SignaturesTable signatureResults={signatureResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'alert' && query && query.get('query') && (\n          <AlertsTable alertResults={alertResults} allowSort={!!(index || id)} />\n        )}\n      </div>\n    </PageFullWidth>\n  );\n}\n\nSearch.defaultProps = {\n  index: null\n};\n\nexport default Search;\n","import { Checkbox, createStyles, FormControlLabel, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { HiOutlineExternalLink } from 'react-icons/hi';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    item: {\n      width: '100%',\n      '&:hover': {\n        background: theme.palette.action.hover\n      }\n    }\n  })\n);\n\ntype ServiceTreeItemSkelProps = {\n  size: 'medium' | 'small';\n};\n\nfunction ServiceTreeItemSkel({ size = 'medium' }: ServiceTreeItemSkelProps) {\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', paddingBottom: '8px' }}>\n      <Skeleton style={{ height: size === 'medium' ? '2.5rem' : '2rem', width: '1.5rem' }} />\n      <Skeleton style={{ marginLeft: '1rem', height: size === 'medium' ? '2.5rem' : '2rem', width: '100%' }} />\n    </div>\n  );\n}\n\ntype ServiceTreeItemProps = {\n  item: any;\n  onChange: (name: string, category: string) => void;\n  size: 'medium' | 'small';\n};\n\nfunction ServiceTreeItem({ item, onChange, size = 'medium' as 'medium' }: ServiceTreeItemProps) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n  return (\n    <div\n      style={{\n        paddingLeft: sp1,\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid'\n      }}\n    >\n      <FormControlLabel\n        control={\n          <Checkbox\n            size={size}\n            indeterminate={\n              item.services ? !item.services.every(e => e.selected) && !item.services.every(e => !e.selected) : false\n            }\n            checked={item.services ? item.services.some(e => e.selected) : item.selected}\n            name=\"label\"\n            onChange={() => onChange(item.name, item.category)}\n          />\n        }\n        label={\n          <Typography variant={size === 'small' ? 'body2' : 'body1'}>\n            {item.name}\n            {item.is_external && (\n              <HiOutlineExternalLink\n                style={{ fontSize: 'large', verticalAlign: 'middle', marginLeft: theme.spacing(2) }}\n              />\n            )}\n          </Typography>\n        }\n        className={classes.item}\n      />\n      <div style={{ paddingLeft: sp4 }}>\n        {item.services\n          ? item.services.map((service, service_id) => {\n              return <ServiceTreeItem size={size} key={service_id} item={service} onChange={onChange} />;\n            })\n          : null}\n      </div>\n    </div>\n  );\n}\n\ntype SkelItemsProps = {\n  size: 'medium' | 'small';\n  spacing: number;\n};\n\nfunction SkelItems({ size, spacing }: SkelItemsProps) {\n  return (\n    <>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype ServiceTreeProps = {\n  settings: any;\n  setSettings: (settings: any) => void;\n  setModified?: (isModified: boolean) => void;\n  compressed?: boolean;\n  size?: 'medium' | 'small';\n};\n\nconst ServiceTree: React.FC<ServiceTreeProps> = ({\n  settings,\n  setSettings,\n  setModified = null,\n  compressed = false,\n  size = 'medium' as 'medium'\n}) => {\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  function handleServiceChange(name, category) {\n    if (settings) {\n      const newServices = settings.services;\n      if (category) {\n        for (const cat of newServices) {\n          if (cat.name === category) {\n            for (const srv of cat.services) {\n              if (srv.name === name) {\n                srv.selected = !srv.selected;\n                break;\n              }\n            }\n            cat.selected = cat.services.every(e => e.selected);\n            break;\n          }\n        }\n      } else {\n        for (const cat of newServices) {\n          if (cat.name === name) {\n            cat.selected = !cat.selected;\n            for (const srv of cat.services) {\n              srv.selected = cat.selected;\n            }\n            break;\n          }\n        }\n      }\n      if (setModified) {\n        setModified(true);\n      }\n      setSettings({ ...settings, services: newServices });\n    }\n  }\n\n  function sortFunc(a, b) {\n    const nameA = a.name.toUpperCase(); // ignore upper and lowercase\n    const nameB = b.name.toUpperCase(); // ignore upper and lowercase\n    if (nameA < nameB) {\n      return -1;\n    }\n    if (nameA > nameB) {\n      return 1;\n    }\n\n    // names must be equal\n    return 0;\n  }\n\n  return compressed ? (\n    <div\n      style={{\n        paddingTop: sp2,\n        paddingBottom: sp2,\n        columnWidth: '18rem',\n        columnGap: '1rem',\n        columnRuleWidth: '1px',\n        columnRuleStyle: 'dotted',\n        columnRuleColor: theme.palette.divider\n      }}\n    >\n      {settings ? (\n        settings.services.sort(sortFunc).map((category, cat_id) => {\n          return <ServiceTreeItem size={size} key={cat_id} item={category} onChange={handleServiceChange} />;\n        })\n      ) : (\n        <SkelItems size={size} spacing={sp4} />\n      )}\n    </div>\n  ) : settings ? (\n    settings.services.sort(sortFunc).map((category, cat_id) => {\n      return <ServiceTreeItem size={size} key={cat_id} item={category} onChange={handleServiceChange} />;\n    })\n  ) : (\n    <SkelItems size={size} spacing={sp4} />\n  );\n};\n\nexport default ServiceTree;\n","import {\n  Button,\n  CircularProgress,\n  Drawer,\n  IconButton,\n  isWidthDown,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n  useTheme,\n  withWidth\n} from '@material-ui/core';\nimport ChevronRightOutlinedIcon from '@material-ui/icons/ChevronRightOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ServiceTree from 'components/layout/serviceTree';\nimport Classification from 'components/visual/Classification';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype SettingsProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nfunction Settings<SettingsProps>({ width }) {\n  const { t } = useTranslation(['settings']);\n  const theme = useTheme();\n  const [drawerType, setDrawerType] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [settings, setSettings] = useState(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, c12nDef } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    drawer: {\n      width: '500px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100vw'\n      }\n    },\n    row: {\n      height: '62px'\n    },\n    group: {\n      marginTop: '1rem'\n    },\n    skelItem: {\n      display: 'inline-block'\n    },\n    skelButton: {\n      display: 'inline-block',\n      width: '9rem',\n      height: '4rem'\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n\n  function setClassification(value) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, classification: value });\n    }\n  }\n\n  function setTTL(value) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ttl: parseInt(value) });\n    }\n  }\n\n  function toggleDynamicPrevention() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_dynamic_recursion_prevention: !settings.ignore_dynamic_recursion_prevention });\n    }\n  }\n\n  function toggleFiltering() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_filtering: !settings.ignore_filtering });\n    }\n  }\n\n  function toggleCaching() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_cache: !settings.ignore_cache });\n    }\n  }\n\n  function toggleDeepScan() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, deep_scan: !settings.deep_scan });\n    }\n  }\n\n  function toggleProfile() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, profile: !settings.profile });\n    }\n  }\n\n  function handleViewChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, submission_view: event.target.value });\n    }\n  }\n\n  function handleEncodingChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, download_encoding: event.target.value });\n    }\n  }\n\n  function handleScoreChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, expand_min_score: event.target.value });\n    }\n  }\n\n  function saveSettings() {\n    if (settings) {\n      apiCall({\n        url: `/api/v4/user/settings/${currentUser.username}/`,\n        method: 'POST',\n        body: settings,\n        onSuccess: () => {\n          setModified(false);\n          showSuccessMessage(t('success_save'));\n        },\n        onEnter: () => setButtonLoading(true),\n        onExit: () => setButtonLoading(false)\n      });\n    }\n  }\n\n  function toggleDrawer(type) {\n    if (settings) {\n      setDrawerType(type);\n      setDrawerOpen(true);\n    }\n  }\n\n  useEffect(() => {\n    // Load user on start\n    apiCall({\n      url: `/api/v4/user/settings/${currentUser.username}/`,\n      onSuccess: api_data => {\n        setSettings(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <React.Fragment key=\"right\">\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n          <div style={{ alignSelf: 'flex-end' }}>\n            <IconButton onClick={() => setDrawerOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n          <div\n            className={classes.drawer}\n            style={{\n              paddingTop: sp4,\n              paddingBottom: sp6,\n              paddingLeft: sp4,\n              paddingRight: sp4,\n              display: 'flex',\n              flexDirection: 'column'\n            }}\n          >\n            {drawerType &&\n              settings &&\n              {\n                ttl: (\n                  <>\n                    <Typography variant=\"h4\">{t('submissions.ttl')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('submissions.ttl_desc')}\n                    </Typography>\n                    <TextField\n                      autoFocus\n                      type=\"number\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      onChange={event => setTTL(event.target.value)}\n                      value={settings.ttl}\n                      inputProps={{ min: 0, max: 365 }}\n                    />\n                  </>\n                ),\n                view: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.view')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.view_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.submission_view}\n                        onChange={handleViewChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"report\">{t('interface.view_report')}</MenuItem>\n                        <MenuItem value=\"details\">{t('interface.view_details')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                ),\n                encoding: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.encoding')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.encoding_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.download_encoding}\n                        onChange={handleEncodingChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"raw\">{t('interface.encoding_raw')}</MenuItem>\n                        <MenuItem value=\"cart\">{t('interface.encoding_cart')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                ),\n                score: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.score')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.score_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.expand_min_score}\n                        onChange={handleScoreChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"-1000000\">{t('interface.score_-1000000')}</MenuItem>\n                        <MenuItem value=\"0\">{t('interface.score_0')}</MenuItem>\n                        <MenuItem value=\"100\">{t('interface.score_100')}</MenuItem>\n                        <MenuItem value=\"500\">{t('interface.score_500')}</MenuItem>\n                        <MenuItem value=\"2000\">{t('interface.score_2000')}</MenuItem>\n                        <MenuItem value=\"100000000\">{t('interface.score_100000000')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                )\n              }[drawerType]}\n          </div>\n        </Drawer>\n      </React.Fragment>\n\n      <TableContainer className={classes.group} component={Paper}>\n        <Table aria-label={t('submissions')}>\n          <TableHead>\n            <TableRow>\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 3}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('submissions')}\n                </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDynamicPrevention()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.dynamic_recursion')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.dynamic_recursion_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_dynamic_recursion_prevention : true}\n                  disabled={settings === null}\n                  onChange={() => toggleDynamicPrevention()}\n                  color=\"secondary\"\n                  name=\"dynamic_resursion\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleFiltering()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.filtering')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.filtering_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_filtering : true}\n                  disabled={settings === null}\n                  onChange={() => toggleFiltering()}\n                  color=\"secondary\"\n                  name=\"filtering\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleCaching()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.result_caching')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.result_caching_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_cache : true}\n                  disabled={settings === null}\n                  onChange={() => toggleCaching()}\n                  color=\"secondary\"\n                  name=\"result_caching\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDeepScan()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.deep_scan')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.deep_scan_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? settings.deep_scan : true}\n                  disabled={settings === null}\n                  onChange={() => toggleDeepScan()}\n                  color=\"secondary\"\n                  name=\"deep_scan\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleProfile()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.profile')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.profile_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.profile : true}\n                  disabled={settings === null}\n                  onChange={() => toggleProfile()}\n                  color=\"secondary\"\n                  name=\"profile\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('ttl')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('submissions.ttl')}</Typography>\n                  <Typography variant=\"caption\">{t('submissions.ttl_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('submissions.ttl')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('submissions.ttl_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {settings.ttl === 0 ? t('submissions.ttl_forever') : `${settings.ttl} ${t('submissions.ttl_days')}`}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            {c12nDef.enforce && (\n              <TableRow style={{ cursor: 'pointer' }}>\n                {isWidthDown('xs', width) ? null : (\n                  <TableCell>\n                    <Typography variant=\"body1\">{t('submissions.classification')}</Typography>\n                    <Typography variant=\"caption\">{t('submissions.classification_desc')}</Typography>\n                  </TableCell>\n                )}\n                <TableCell colSpan={isWidthDown('xs', width) ? 3 : 2}>\n                  {!isWidthDown('xs', width) ? null : (\n                    <>\n                      <Typography variant=\"body1\">{t('submissions.classification')}</Typography>\n                      <Typography variant=\"caption\" gutterBottom>\n                        {t('submissions.classification_desc')}\n                      </Typography>\n                    </>\n                  )}\n                  <Classification\n                    type=\"picker\"\n                    size=\"small\"\n                    c12n={settings ? settings.classification : null}\n                    setClassification={setClassification}\n                  />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <TableContainer className={classes.group} component={Paper}>\n        <Table aria-label={t('interface')}>\n          <TableHead>\n            <TableRow>\n              <TableCell colSpan={3}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('interface')}\n                </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('view')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.view')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.view_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.view')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.view_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.view_${settings.submission_view}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('encoding')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.encoding')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.encoding_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.encoding')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.encoding_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.encoding_${settings.download_encoding}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('score')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.score')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.score_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.score')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.score_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.score_${settings.expand_min_score}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <Paper className={classes.group}>\n        <div style={{ padding: sp2, textAlign: 'left' }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('service')}\n          </Typography>\n          <ServiceTree settings={settings} setSettings={setSettings} setModified={setModified} compressed />\n        </div>\n      </Paper>\n\n      {settings && modified && (\n        <div\n          style={{\n            paddingTop: sp1,\n            paddingBottom: sp1,\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            width: '100%',\n            zIndex: theme.zIndex.drawer - 1,\n            backgroundColor: theme.palette.background.default,\n            boxShadow: theme.shadows[4]\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveSettings}>\n            {t('save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      )}\n    </PageCenter>\n  );\n}\n\nexport default withWidth()(Settings);\n","export const getErrorTypeFromKey = key => {\n  let eID = key.substr(65, key.length);\n\n  if (eID.indexOf('.e') !== -1) {\n    eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n  }\n\n  if (eID === '21') {\n    return 'down';\n  }\n  if (eID === '12') {\n    return 'retry';\n  }\n  if (eID === '10') {\n    return 'depth';\n  }\n  if (eID === '30') {\n    return 'preempted';\n  }\n  if (eID === '20') {\n    return 'busy';\n  }\n  if (eID === '11') {\n    return 'files';\n  }\n  if (eID === '1') {\n    return 'exception';\n  }\n\n  return 'unknown';\n};\n\nexport const getServiceFromKey = key => {\n  let srv = key.substr(65, key.length);\n\n  if (srv.indexOf('.') !== -1) {\n    srv = srv.substr(0, srv.indexOf('.'));\n  }\n\n  return srv;\n};\n\nexport const getErrorIDFromKey = key => {\n  let eID = key.substr(65, key.length);\n\n  if (eID.indexOf('.e') !== -1) {\n    eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n  }\n\n  return eID;\n};\n\nexport const getHashFromKey = key => {\n  return key.substr(0, 64);\n};\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Attack from 'components/visual/Attack';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype AttackSectionProps = {\n  attack_matrix: any;\n};\n\nconst WrappedAttackSection: React.FC<AttackSectionProps> = ({ attack_matrix }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('attack_matrix')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {attack_matrix\n                ? Object.keys(attack_matrix).map((cat, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{cat.replace(/-/g, ' ')}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {attack_matrix[cat].map(([cid, name, lvl], idx) => {\n                            return (\n                              <Attack\n                                key={`${cid}_${idx}`}\n                                text={name}\n                                lvl={lvl}\n                                highlight_key={getKey('attack_pattern', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [attack_matrix, getKey]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst AttackSection = React.memo(WrappedAttackSection);\n\nexport default AttackSection;\n","import { Collapse, Divider, Link as MaterialLink, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { getErrorTypeFromKey, getHashFromKey, getServiceFromKey } from 'helpers/errors';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype ErrorSectionProps = {\n  sid: string;\n  parsed_errors: {\n    aggregated: {\n      depth: string[];\n      files: string[];\n      retry: string[];\n      down: string[];\n      busy: string[];\n    };\n    listed: string[];\n  };\n};\n\nconst WrappedErrorSection: React.FC<ErrorSectionProps> = ({ sid, parsed_errors }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        style={{\n          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n        }}\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('errors')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <div>\n                {Object.keys(parsed_errors.aggregated).map((errorType, i) => {\n                  return (\n                    parsed_errors.aggregated[errorType].length > 0 && (\n                      <div\n                        key={i}\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                      >\n                        {`${t('errors.aggregated').replace(\n                          '{errorType}',\n                          t(`errors.type.${errorType}`)\n                        )}: ${parsed_errors.aggregated[errorType].join(' | ')}`}\n                      </div>\n                    )\n                  );\n                })}\n                {parsed_errors.listed.map((error, i) => {\n                  return (\n                    <div\n                      key={i}\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                    >\n                      <strong>{getServiceFromKey(error)}</strong>\n                      {t('errors.listed')}\n                      <strong>\n                        <MaterialLink\n                          component={Link}\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                          }}\n                          to={`/submission/detail/${sid}/${getHashFromKey(error)}`}\n                        >\n                          {getHashFromKey(error)}\n                        </MaterialLink>\n                      </strong>\n                      <span style={{ fontSize: 'smaller' }}>\n                        &nbsp;::&nbsp;{t(`errors.type.${getErrorTypeFromKey(error)}`)}\n                      </span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [parsed_errors, sid, theme, t]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst ErrorSection = React.memo(WrappedErrorSection);\n\nexport default ErrorSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Verdict from 'components/visual/Verdict';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  file_item: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  noMaxWidth: {\n    maxWidth: 'none'\n  }\n}));\n\ntype FileItemProps = {\n  children: {\n    [key: string]: FileItemProps;\n  };\n  name: string[];\n  score: number;\n  sha256: string;\n  size: number;\n  truncated: boolean;\n  type: string;\n};\n\ntype FileTreeProps = {\n  tree: {\n    [key: string]: FileItemProps;\n  };\n  sid: string;\n};\n\nconst WrappedFileTreeSection: React.FC<FileTreeProps> = ({ tree, sid }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('tree')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        <div style={{ paddingTop: sp2 }}>\n          {tree !== null ? (\n            <FileTree tree={tree} sid={sid} />\n          ) : (\n            [...Array(3)].map((_, i) => {\n              return (\n                <div style={{ display: 'flex' }} key={i}>\n                  <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '0.5rem' }} />\n                  <Skeleton style={{ flexGrow: 1 }} />\n                </div>\n              );\n            })\n          )}\n        </div>\n      </Collapse>\n    </div>\n  );\n};\n\nconst WrappedFileTree: React.FC<FileTreeProps> = ({ tree, sid }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const history = useHistory();\n  const { isHighlighted } = useHighlighter();\n\n  return (\n    <>\n      {Object.keys(tree).map((sha256, i) => {\n        const item = tree[sha256];\n        return (\n          <div key={i}>\n            <Box\n              className={classes.file_item}\n              onClick={\n                item.sha256\n                  ? () => {\n                      history.push(`/submission/detail/${sid}/${item.sha256}?name=${encodeURI(item.name[0])}`);\n                    }\n                  : null\n              }\n              style={{\n                wordBreak: 'break-word',\n                backgroundColor: isHighlighted(sha256) ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n              }}\n            >\n              <span>\n                <Verdict score={item.score} mono short />\n                {`:: ${item.name.join(' | ')} `}\n                <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>{`[${item.type}]`}</span>\n              </span>\n            </Box>\n            <div style={{ marginLeft: theme.spacing(3) }}>\n              <FileTree tree={item.children} sid={sid} />\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nconst FileTree = React.memo(WrappedFileTree);\nconst FileTreeSection = React.memo(WrappedFileTreeSection);\n\nexport default FileTreeSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Heuristic from 'components/visual/Heuristic';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype HeuristicSectionProps = {\n  heuristics: any;\n};\n\nconst WrappedHeuristicSection: React.FC<HeuristicSectionProps> = ({ heuristics }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('heuristics')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {heuristics\n                ? Object.keys(heuristics).map((lvl, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{t(`verdict.${lvl}`)}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {heuristics[lvl].map(([cid, name], idx) => {\n                            return (\n                              <Heuristic\n                                key={`${cid}_${idx}`}\n                                text={name}\n                                lvl={lvl}\n                                highlight_key={getKey('heuristic', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [getKey, heuristics]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst HeuristicSection = React.memo(WrappedHeuristicSection);\n\nexport default HeuristicSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype InfoSectionProps = {\n  submission: any;\n};\n\nconst WrappedInfoSection: React.FC<InfoSectionProps> = ({ submission }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('information')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.description')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.description : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.groups')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.groups.join(' | ') : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.services.selected')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.services.selected.join(' | ') : <Skeleton />}\n                </Grid>\n\n                {['deep_scan', 'ignore_cache', 'ignore_dynamic_recursion_prevention', 'ignore_filtering'].map(\n                  (k, i) => {\n                    return (\n                      <div key={i} style={{ display: 'contents' }}>\n                        <Grid item xs={4} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500 }}>{t(`params.${k}`)}</span>\n                        </Grid>\n                        <Grid item xs={8} sm={9} lg={10}>\n                          {submission ? (\n                            submission.params[k] ? (\n                              <DoneOutlinedIcon color=\"primary\" />\n                            ) : (\n                              <ClearOutlinedIcon color=\"error\" />\n                            )\n                          ) : (\n                            <Skeleton />\n                          )}\n                        </Grid>\n                      </div>\n                    );\n                  }\n                )}\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.submitter')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.submitter : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('max_score')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission ? <Verdict score={submission.max_score} /> : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('times.submitted')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission ? (\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{submission.times.submitted}</Moment>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('times.completed')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission && submission.times.completed ? (\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{submission.times.completed}</Moment>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [submission]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst InfoSection = React.memo(WrappedInfoSection);\n\nexport default InfoSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype MetaSectionProps = {\n  metadata: any;\n};\n\nconst WrappedMetaSection: React.FC<MetaSectionProps> = ({ metadata }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('metadata')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {metadata\n                ? Object.keys(metadata).map((meta, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500 }}>{meta}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                          {metadata[meta]}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [metadata]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst MetaSection = React.memo(WrappedMetaSection);\n\nexport default MetaSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Tag from 'components/visual/Tag';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype TagSectionProps = {\n  tag_group: string;\n  tags: any;\n};\n\nconst WrappedTagSection: React.FC<TagSectionProps> = ({ tag_group, tags }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography variant=\"h6\" onClick={() => setOpen(!open)} className={classes.title}>\n        {t(tag_group)}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {Object.keys(tags).map((tag_type, i) => {\n                return (\n                  <Grid container key={i}>\n                    <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                      <span style={{ fontWeight: 500 }}>{tag_type}</span>\n                    </Grid>\n                    <Grid item xs={12} sm={9} lg={10}>\n                      {tags[tag_type].map(([value, lvl], idx) => {\n                        return (\n                          <Tag\n                            key={idx}\n                            value={value}\n                            type={tag_type}\n                            lvl={lvl}\n                            highlight_key={getKey(tag_type, value)}\n                          />\n                        );\n                      })}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [getKey, tags]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst TagSection = React.memo(WrappedTagSection);\n\nexport default TagSection;\n","import {\n  Grid,\n  IconButton,\n  LinearProgress,\n  Link as MaterialLink,\n  Snackbar,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport ChromeReaderModeOutlinedIcon from '@material-ui/icons/ChromeReaderModeOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CloudDownloadOutlinedIcon from '@material-ui/icons/CloudDownloadOutlined';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport ReplayOutlinedIcon from '@material-ui/icons/ReplayOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Alert, Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport FileDetail from 'components/visual/FileDetail';\nimport VerdictBar from 'components/visual/VerdictBar';\nimport { getErrorIDFromKey, getServiceFromKey } from 'helpers/errors';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport AttackSection from './detail/attack';\nimport ErrorSection from './detail/errors';\nimport FileTreeSection from './detail/file_tree';\nimport HeuristicSection from './detail/heuristics';\nimport InfoSection from './detail/info';\nimport MetaSection from './detail/meta';\nimport TagSection from './detail/tags';\n\nconst NAMESPACE = '/live_submission';\nconst MESSAGE_TIMEOUT = 5000;\nconst OUTSTANDING_TRIGGER_COUNT = 4;\n\ntype ParamProps = {\n  id: string;\n  fid?: string;\n};\n\nconst resultReducer = (currentResults, newResults) => {\n  if (newResults === null) return null;\n  if (currentResults === null) return newResults;\n\n  return {\n    result: { ...currentResults.result, ...newResults.result },\n    error: { ...currentResults.error, ...newResults.error }\n  };\n};\n\nconst messageReducer = (messages: string[], receivedMessages: string[]) => {\n  if (receivedMessages === null) return [];\n\n  const newMessages = receivedMessages.filter(item => messages.indexOf(item) === -1);\n  if (newMessages.length !== 0) {\n    return [...messages, ...newMessages];\n  }\n  return messages;\n};\n\nconst incrementReducer = (old: number, increment: number) => {\n  if (increment === null) return 0;\n  return old + increment;\n};\n\nexport default function SubmissionDetail() {\n  const { t } = useTranslation(['submissionDetail']);\n  const { id, fid } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [submission, setSubmission] = useState(null);\n  const [summary, setSummary] = useState(null);\n  const [tree, setTree] = useState(null);\n  const [watchQueue, setWatchQueue] = useState(null);\n  const [liveResultKeys, setLiveResultKeys] = useReducer(messageReducer, []);\n  const [liveErrorKeys, setLiveErrorKeys] = useReducer(messageReducer, []);\n  const [processedKeys, setProcessedKeys] = useReducer(messageReducer, []);\n  const [liveResults, setLiveResults] = useReducer(resultReducer, null);\n  const [configuration, setConfiguration] = useState(null);\n  const [liveErrors, setLiveErrors] = useState(null);\n  const [liveTagMap, setLiveTagMap] = useState(null);\n  const [outstanding, setOutstanding] = useState(null);\n  const [loadTrigger, incrementLoadTrigger] = useReducer(incrementReducer, 0);\n  const [socket, setSocket] = useState(null);\n  const [loadInterval, setLoadInterval] = useState(null);\n  const [lastSuccessfulTrigger, setLastSuccessfulTrigger] = useState(0);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const apiCall = useMyAPI();\n  const sp4 = theme.spacing(4);\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const history = useHistory();\n  const { user: currentUser, c12nDef } = useALContext();\n  const { setHighlightMap } = useHighlighter();\n  const { setGlobalDrawer, globalDrawer } = useDrawer();\n\n  const updateLiveSumary = (results: object) => {\n    const tempSummary = summary !== null ? { ...summary } : { tags: {}, heuristics: {}, attack_matrix: {} };\n    const tempTagMap = liveTagMap !== null ? { ...liveTagMap } : {};\n\n    Object.entries(results).forEach(([resultKey, result]) => {\n      const key = resultKey.substr(0, 64);\n\n      if (!Object.hasOwnProperty.call(tempTagMap, key)) {\n        tempTagMap[key] = [];\n      }\n\n      // eslint-disable-next-line guard-for-in\n      for (const sectionID in result.result.sections) {\n        const section = result.result.sections[sectionID];\n        let hType = 'info';\n        if (section.heuristic !== null && section.heuristic !== undefined) {\n          // #1: Get heuristic score\n          if (section.heuristic.score < 100) {\n            hType = 'info';\n          } else if (section.heuristic.score < 1000) {\n            hType = 'suspicious';\n          } else {\n            hType = 'malicious';\n          }\n\n          // #2: Parse heuristics\n          if (!Object.hasOwnProperty.call(tempSummary.heuristics, hType)) {\n            tempSummary.heuristics[hType] = [];\n          }\n\n          let heurExists = false;\n          const heurItem = [section.heuristic.heur_id, section.heuristic.name];\n          for (const i in tempSummary.heuristics[hType]) {\n            if (\n              tempSummary.heuristics[hType][i][0] === heurItem[0] &&\n              tempSummary.heuristics[hType][i][1] === heurItem[1]\n            ) {\n              heurExists = true;\n              break;\n            }\n          }\n\n          if (!heurExists) {\n            tempSummary.heuristics[hType].push(heurItem);\n\n            const heurKey = `heuristic__${section.heuristic.heur_id}`;\n            tempTagMap[key].push(heurKey);\n            if (!Object.hasOwnProperty.call(tempTagMap, heurKey)) {\n              tempTagMap[heurKey] = [];\n            }\n            tempTagMap[heurKey].push(key);\n          }\n\n          // #3: Parse Att&cks\n          if (section.heuristic.attack) {\n            // eslint-disable-next-line guard-for-in\n            for (const i in section.heuristic.attack) {\n              const attack = section.heuristic.attack[i];\n              // eslint-disable-next-line guard-for-in\n              for (const j in attack.categories) {\n                const cat = attack.categories[j];\n                if (!Object.hasOwnProperty.call(tempSummary.attack_matrix, cat)) {\n                  tempSummary.attack_matrix[cat] = [];\n                }\n\n                let attExists = false;\n                const attackItem = [attack.attack_id, attack.pattern, hType];\n                for (const k in tempSummary.attack_matrix[cat]) {\n                  if (\n                    tempSummary.attack_matrix[cat][k][0] === attackItem[0] &&\n                    tempSummary.attack_matrix[cat][k][1] === attackItem[1] &&\n                    tempSummary.attack_matrix[cat][k][2] === attackItem[2]\n                  ) {\n                    attExists = true;\n                    break;\n                  }\n                }\n                if (!attExists) {\n                  tempSummary.attack_matrix[cat].push(attackItem);\n\n                  const attKey = `attack_pattern__${attack.attack_id}`;\n                  tempTagMap[key].push(attKey);\n                  if (!Object.hasOwnProperty.call(tempTagMap, attKey)) {\n                    tempTagMap[attKey] = [];\n                  }\n                  tempTagMap[attKey].push(key);\n                }\n              }\n            }\n          }\n        }\n\n        // #3: Parse Tags\n        // eslint-disable-next-line guard-for-in\n        for (const tagID in section.tags) {\n          const tag = section.tags[tagID];\n          let summaryType = null;\n          if (configuration['submission.tag_types.attribution'].indexOf(tag.type) !== -1) {\n            summaryType = 'attribution';\n          } else if (configuration['submission.tag_types.behavior'].indexOf(tag.type) !== -1) {\n            summaryType = 'behavior';\n          } else if (configuration['submission.tag_types.ioc'].indexOf(tag.type) !== -1) {\n            summaryType = 'ioc';\n          }\n\n          if (summaryType !== null) {\n            if (!Object.hasOwnProperty.call(tempSummary.tags, summaryType)) {\n              tempSummary.tags[summaryType] = {};\n            }\n\n            if (!Object.hasOwnProperty.call(tempSummary.tags[summaryType], tag.type)) {\n              tempSummary.tags[summaryType][tag.type] = [];\n            }\n\n            let exists = false;\n            const tagVal = [tag.value, hType];\n            for (const i in tempSummary.tags[summaryType][tag.type]) {\n              if (\n                tempSummary.tags[summaryType][tag.type][i][0] === tagVal[0] &&\n                tempSummary.tags[summaryType][tag.type][i][1] === tagVal[1]\n              ) {\n                exists = true;\n                break;\n              }\n            }\n\n            if (!exists) {\n              tempSummary.tags[summaryType][tag.type].push(tagVal);\n\n              const tagKey = `${tag.type}__${tag.value}`;\n              tempTagMap[key].push(tagKey);\n              if (!Object.hasOwnProperty.call(tempTagMap, tagKey)) {\n                tempTagMap[tagKey] = [];\n              }\n              tempTagMap[tagKey].push(key);\n            }\n          }\n        }\n      }\n    });\n    setLiveTagMap(tempTagMap);\n    setHighlightMap(tempTagMap);\n    setSummary(tempSummary);\n  };\n\n  const updateLiveFileTree = (results: object) => {\n    const tempTree = tree !== null ? { ...tree } : {};\n\n    const searchFileTree = (sha256: string, currentTree: object) => {\n      let output = [];\n      Object.entries(currentTree).forEach(([key, val]) => {\n        if (Object.keys(val.children).length !== 0) {\n          output = [...output, ...searchFileTree(sha256, val.children)];\n        }\n        if (key === sha256) {\n          output.push(val);\n        }\n      });\n      return output;\n    };\n\n    const getFilenameFromSHA256 = sha256 => {\n      if (submission !== null) {\n        for (const i in submission.files) {\n          if (submission.files[i].sha256 === sha256) {\n            return submission.files[i].name;\n          }\n        }\n      }\n\n      return null;\n    };\n    Object.entries(results).forEach(([resultKey, result]) => {\n      const key = resultKey.substr(0, 64);\n\n      const toUpdate = searchFileTree(key, tempTree);\n\n      if (toUpdate.length === 0) {\n        const fname = getFilenameFromSHA256(key);\n\n        if (fname != null) {\n          tempTree[key] = { children: {}, name: [fname], score: 0, sha256: key, type: 'N/A' };\n          toUpdate.push(tempTree[key]);\n        } else {\n          if (!Object.hasOwnProperty.call(tempTree, 'TBD')) {\n            tempTree.TBD = { children: {}, name: ['Undetermined Parent'], score: 0, type: 'N/A' };\n          }\n\n          tempTree.TBD.children[key] = { children: {}, name: [key], score: 0, sha256: key, type: 'N/A' };\n          toUpdate.push(tempTree.TBD.children[key]);\n        }\n      }\n      const toDelTDB = [];\n      for (const idx in toUpdate) {\n        if (Object.hasOwnProperty.call(toUpdate, idx)) {\n          const item = toUpdate[idx];\n          if (result.result.score !== undefined) {\n            item.score += result.result.score;\n          }\n\n          for (const i in result.response.extracted) {\n            if (Object.hasOwnProperty.call(result.response.extracted, i)) {\n              const { sha256, name } = result.response.extracted[i];\n\n              if (!Object.hasOwnProperty.call(item.children, sha256)) {\n                if (\n                  Object.hasOwnProperty.call(tempTree, 'TBD') &&\n                  Object.hasOwnProperty.call(tempTree.TBD.children, sha256)\n                ) {\n                  item.children[sha256] = tempTree.TBD.children[sha256];\n                  item.children[sha256].name = [name];\n                  if (toDelTDB.indexOf(sha256) === -1) toDelTDB.push(sha256);\n                } else {\n                  item.children[sha256] = { children: {}, name: [name], score: 0, sha256, type: 'N/A' };\n                }\n              } else {\n                item.children[sha256].name.push(name);\n              }\n            }\n          }\n        }\n      }\n\n      for (const idxDel in toDelTDB) {\n        if (Object.hasOwnProperty.call(toDelTDB, idxDel)) {\n          delete tempTree.TBD.children[toDelTDB[idxDel]];\n        }\n      }\n    });\n\n    if (tempTree.TBD && Object.keys(tempTree.TBD.children).length === 0) delete tempTree.TBD;\n    setTree(tempTree);\n  };\n\n  const getParsedErrors = errorList => {\n    const relevantErrors = errors => {\n      return errors.filter(error => {\n        let eID = error.substr(65, error.length);\n\n        if (eID.indexOf('.e') !== -1) {\n          eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n        }\n\n        return ['20', '21', '12', '10', '11'].indexOf(eID) === -1;\n      });\n    };\n    const futileErrors = errors => {\n      const out = {\n        depth: [],\n        files: [],\n        retry: [],\n        down: [],\n        busy: []\n      };\n      errors.forEach(error => {\n        const srv = getServiceFromKey(error);\n        const eID = getErrorIDFromKey(error);\n\n        if (eID === '20') {\n          if (out.busy.indexOf(srv) === -1) {\n            out.busy.push(srv);\n          }\n        }\n        if (eID === '21') {\n          if (out.down.indexOf(srv) === -1) {\n            out.down.push(srv);\n          }\n        } else if (eID === '12') {\n          if (out.retry.indexOf(srv) === -1) {\n            out.retry.push(srv);\n          }\n        } else if (eID === '10') {\n          if (out.depth.indexOf(srv) === -1) {\n            out.depth.push(srv);\n          }\n        } else if (eID === '11') {\n          if (out.files.indexOf(srv) === -1) {\n            out.files.push(srv);\n          }\n        }\n      });\n\n      out.busy.sort();\n      out.down.sort();\n      out.depth.sort();\n      out.files.sort();\n      out.retry.sort();\n\n      return out;\n    };\n\n    return {\n      aggregated: futileErrors(errorList),\n      listed: relevantErrors(errorList)\n    };\n  };\n\n  const parseSubmissionErrors = currentSubmission => {\n    return {\n      ...currentSubmission,\n      parsed_errors: getParsedErrors(currentSubmission.errors)\n    };\n  };\n\n  const resetLiveMode = useCallback(() => {\n    if (socket) {\n      // Disconnect socket\n      socket.disconnect();\n\n      // Reset all live mode states\n      setLiveResultKeys(null);\n      setLiveErrorKeys(null);\n      setProcessedKeys(null);\n      setLiveResults(null);\n      setLiveErrors(null);\n      setLiveTagMap(null);\n      setSocket(null);\n      setOutstanding(null);\n      incrementLoadTrigger(null);\n      setLastSuccessfulTrigger(0);\n      setWatchQueue(null);\n    }\n  }, [socket]);\n\n  const resubmit = useCallback(() => {\n    if (submission != null) {\n      apiCall({\n        url: `/api/v4/submit/resubmit/${submission.sid}/`,\n        onSuccess: api_data => {\n          showSuccessMessage(t('submit.success'));\n          resetLiveMode();\n          setSubmission(null);\n          setSummary(null);\n          setTree(null);\n          setTimeout(() => {\n            history.push(`/submission/detail/${api_data.api_response.sid}`);\n          }, 500);\n        }\n      });\n    }\n  }, [apiCall, history, resetLiveMode, showSuccessMessage, submission, t]);\n\n  const deleteSubmission = () => {\n    if (submission != null) {\n      apiCall({\n        method: 'DELETE',\n        url: `/api/v4/submission/${submission.sid}/`,\n        onSuccess: api_data => {\n          showSuccessMessage(t('delete.success'));\n          setDeleteDialog(false);\n          setTimeout(() => {\n            history.push('/submissions');\n          }, 500);\n        }\n      });\n    }\n  };\n\n  const setVerdict = useCallback(\n    verdict => {\n      if (submission != null && submission.verdict[verdict].indexOf(currentUser.username) === -1) {\n        apiCall({\n          method: 'PUT',\n          url: `/api/v4/submission/verdict/${submission.sid}/${verdict}/`,\n          onSuccess: api_data => {\n            if (!api_data.api_response.success) {\n              return;\n            }\n            const newSubmission = { ...submission };\n            if (verdict === 'malicious') {\n              if (newSubmission.verdict.malicious.indexOf(currentUser.username) === -1) {\n                newSubmission.verdict.malicious.push(currentUser.username);\n              }\n              if (newSubmission.verdict.non_malicious.indexOf(currentUser.username) !== -1) {\n                newSubmission.verdict.non_malicious.splice(\n                  newSubmission.verdict.non_malicious.indexOf(currentUser.username),\n                  1\n                );\n              }\n            } else {\n              if (newSubmission.verdict.non_malicious.indexOf(currentUser.username) === -1) {\n                newSubmission.verdict.non_malicious.push(currentUser.username);\n              }\n              if (newSubmission.verdict.malicious.indexOf(currentUser.username) !== -1) {\n                newSubmission.verdict.malicious.splice(submission.verdict.malicious.indexOf(currentUser.username), 1);\n              }\n            }\n            setSubmission(newSubmission);\n          }\n        });\n      }\n    },\n    [apiCall, currentUser.username, submission]\n  );\n\n  useEffect(() => {\n    apiCall({\n      url: '/api/v4/help/configuration/',\n      onSuccess: api_data => {\n        setConfiguration(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: `/api/v4/submission/${id}/`,\n      onSuccess: api_data => {\n        setSubmission(parseSubmissionErrors(api_data.api_response));\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    if (submission) {\n      if (submission.state === 'completed') {\n        resetLiveMode();\n        apiCall({\n          url: `/api/v4/submission/summary/${id}/`,\n          onSuccess: summ_data => {\n            setHighlightMap(summ_data.api_response.map);\n            setSummary(summ_data.api_response);\n          }\n        });\n        apiCall({\n          url: `/api/v4/submission/tree/${id}/`,\n          onSuccess: tree_data => {\n            setTree(tree_data.api_response.tree);\n          }\n        });\n      } else {\n        if (!socket) {\n          // eslint-disable-next-line no-console\n          console.debug('SocketIO :: Init => Create SocketIO client...');\n          const tempSocket = io(NAMESPACE);\n          tempSocket.on('connect', () => {\n            // eslint-disable-next-line no-console\n            console.debug('SocketIO :: Conn => Connecting to socketIO server...');\n          });\n          tempSocket.on('disconnect', () => {\n            // eslint-disable-next-line no-console\n            console.debug('SocketIO :: Conn => Disconnected from socketIO server...');\n          });\n          setSocket(tempSocket);\n        }\n        setLoadInterval(setInterval(() => incrementLoadTrigger(1), MESSAGE_TIMEOUT));\n\n        apiCall({\n          url: `/api/v4/live/setup_watch_queue/${id}/`,\n          onSuccess: summ_data => {\n            setWatchQueue(summ_data.api_response.wq_id);\n          }\n        });\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [submission]);\n\n  const handleErrorMessage = useCallback(\n    data => {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: onError => ${data.msg}`);\n      showErrorMessage(t('dispatcher.not_responding'), 15000);\n      apiCall({\n        url: `/api/v4/live/setup_watch_queue/${id}/`,\n        onSuccess: summ_data => {\n          setWatchQueue(summ_data.api_response.wq_id);\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  const handleStartMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onStart => ${data.msg}`);\n    setTimeout(() => incrementLoadTrigger(1), 500);\n  };\n\n  const handleStopMessage = useCallback(\n    data => {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: onStop => ${data.msg}`);\n\n      setTimeout(() => {\n        if (loadInterval) clearInterval(loadInterval);\n        setLoadInterval(null);\n        setOutstanding(null);\n        // Loading final submission\n        apiCall({\n          url: `/api/v4/submission/${id}/`,\n          onSuccess: api_data => {\n            setSubmission(parseSubmissionErrors(api_data.api_response));\n          }\n        });\n      }, 2000);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  const handleCacheKeyMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onCacheKey => ${data.msg}`);\n    setLiveResultKeys([data.msg]);\n  };\n\n  const handleCacheKeyErrrorMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onCacheKeyError => ${data.msg}`);\n    setLiveErrorKeys([data.msg]);\n  };\n\n  const resetOutstanding = () => {\n    setLastSuccessfulTrigger(loadTrigger);\n    setOutstanding(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (loadInterval) clearInterval(loadInterval);\n    };\n  }, [loadInterval]);\n\n  useEffect(() => {\n    if (socket) {\n      // eslint-disable-next-line no-console\n      console.debug('SocketIO :: Init => Registering SocketIO Callbacks...');\n      socket.on('error', handleErrorMessage);\n      socket.on('start', handleStartMessage);\n      socket.on('stop', handleStopMessage);\n      socket.on('cachekey', handleCacheKeyMessage);\n      socket.on('cachekeyerr', handleCacheKeyErrrorMessage);\n    }\n\n    return () => {\n      if (socket) socket.disconnect();\n    };\n  }, [socket, handleErrorMessage, handleStopMessage]);\n\n  useEffect(() => {\n    if (watchQueue && socket) {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: emitListen => Listening for messages on watch queue: ${watchQueue}`);\n      socket.emit('listen', { wq_id: watchQueue, from_start: true });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [watchQueue, socket, handleErrorMessage]);\n\n  useEffect(() => {\n    if (submission !== null && globalDrawer === null && fid !== undefined) {\n      history.push(`/submission/detail/${id}`);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalDrawer]);\n\n  useEffect(() => {\n    if (fid) {\n      if (liveResults) {\n        const curFileLiveResults = [];\n        const curFileLiveErrors = [];\n        Object.entries(liveResults.result).forEach(([resultKey, result]) => {\n          if (resultKey.startsWith(fid)) {\n            curFileLiveResults.push(result);\n          }\n        });\n        Object.entries(liveResults.error).forEach(([errorKey, error]) => {\n          if (errorKey.startsWith(fid)) {\n            curFileLiveErrors.push(error);\n          }\n        });\n        setGlobalDrawer(\n          <FileDetail sha256={fid} sid={id} liveResultKeys={liveResultKeys} liveErrors={curFileLiveErrors} />\n        );\n      } else {\n        setGlobalDrawer(<FileDetail sha256={fid} sid={id} />);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fid]);\n\n  useEffect(() => {\n    if (loadTrigger === 0) return;\n\n    // eslint-disable-next-line no-console\n    console.debug('LIVE :: Checking for new keys to load...');\n    const newResults = liveResultKeys.filter(msg => processedKeys.indexOf(msg) === -1);\n    const newErrors = liveErrorKeys.filter(msg => processedKeys.indexOf(msg) === -1);\n    if (newResults.length !== 0 || newErrors.length !== 0) {\n      // eslint-disable-next-line no-console\n      console.debug(`LIVE :: New Results: ${newResults.join(' | ')} - New Errors: ${newErrors.join(' | ')}`);\n      setLiveErrors(getParsedErrors(liveErrorKeys));\n\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/result/multiple_keys/',\n        body: { error: newErrors, result: newResults },\n        onSuccess: api_data => {\n          setLastSuccessfulTrigger(loadTrigger);\n          setProcessedKeys([...newResults, ...newErrors]);\n          setLiveResults(api_data.api_response);\n          updateLiveFileTree(api_data.api_response.result);\n          updateLiveSumary(api_data.api_response.result);\n        }\n      });\n    } else if (\n      loadTrigger >= lastSuccessfulTrigger + OUTSTANDING_TRIGGER_COUNT &&\n      (!outstanding || loadTrigger % OUTSTANDING_TRIGGER_COUNT === 0)\n    ) {\n      // eslint-disable-next-line no-console\n      console.debug('LIVE :: Finding out oustanding services...');\n\n      apiCall({\n        url: `/api/v4/live/outstanding_services/${id}/`,\n        onSuccess: api_data => {\n          setOutstanding(api_data.api_response);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadTrigger]);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={deleteSubmission}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={outstanding !== null}\n        key=\"outstanding\"\n        style={{ top: theme.spacing(8), zIndex: 100 }}\n      >\n        {outstanding &&\n          (Object.keys(outstanding).length > 0 ? (\n            <Alert\n              elevation={6}\n              severity=\"info\"\n              style={{ textAlign: 'left' }}\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={resetOutstanding}\n                  style={{ alignSelf: 'start', margin: '6px 6px 0 0' }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              <span style={{ fontWeight: 500, textAlign: 'left' }}>{t('outstanding.title')}</span>\n              <Grid container style={{ marginTop: theme.spacing(1) }}>\n                <Grid item xs={6}>\n                  <b>{t('outstanding.services')}</b>\n                </Grid>\n                <Grid item xs={6}>\n                  <b>{t('outstanding.files')}</b>\n                </Grid>\n              </Grid>\n              {Object.keys(outstanding).map(service => {\n                return (\n                  <Grid key={service} container>\n                    <Grid item xs={6}>\n                      <b>{service}</b>\n                    </Grid>\n                    <Grid item xs={6}>\n                      {outstanding[service]}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </Alert>\n          ) : (\n            <Alert\n              elevation={6}\n              severity=\"error\"\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={resetOutstanding}\n                  style={{ alignSelf: 'start', margin: '6px 6px 0 0' }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              <div style={{ textAlign: 'left' }}>{t('outstanding.error')}</div>\n            </Alert>\n          ))}\n      </Snackbar>\n      <div style={{ textAlign: 'left' }}>\n        {useMemo(\n          () => (\n            <>\n              {c12nDef.enforce && (\n                <div style={{ paddingBottom: sp4 }}>\n                  <Classification size=\"tiny\" c12n={submission ? submission.classification : null} />\n                </div>\n              )}\n              <div style={{ paddingBottom: sp4 }}>\n                <Grid container>\n                  <Grid item xs>\n                    <div>\n                      <Typography variant=\"h4\">{t('title')}</Typography>\n                      <Typography variant=\"caption\">\n                        {submission ? submission.sid : <Skeleton style={{ width: '10rem' }} />}\n                      </Typography>\n                    </div>\n                    {socket && (\n                      <div\n                        style={{\n                          paddingBottom: theme.spacing(3),\n                          paddingTop: theme.spacing(2),\n                          color:\n                            theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark\n                        }}\n                      >\n                        <PlayCircleOutlineIcon\n                          style={{\n                            height: theme.spacing(2),\n                            width: theme.spacing(2),\n                            verticalAlign: 'sub',\n                            marginRight: theme.spacing(1)\n                          }}\n                        />\n                        {t('live_mode')}\n                        <LinearProgress />\n                      </div>\n                    )}\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={4}>\n                    <div style={{ textAlign: 'right' }}>\n                      <Tooltip title={t('delete')}>\n                        <IconButton\n                          onClick={() => setDeleteDialog(true)}\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                          }}\n                        >\n                          <RemoveCircleOutlineOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('download')}>\n                        <IconButton\n                          component={MaterialLink}\n                          href={`/api/v4/bundle/${submission ? submission.sid : id}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                        >\n                          <CloudDownloadOutlinedIcon color=\"action\" />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('resubmit')}>\n                        <IconButton onClick={resubmit}>\n                          <ReplayOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('report_view')}>\n                        <IconButton component={Link} to={`/submission/report/${submission ? submission.sid : id}`}>\n                          <ChromeReaderModeOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </div>\n                    <div\n                      style={{\n                        textAlign: 'right',\n                        width: '164px',\n                        marginTop: '8px',\n                        marginLeft: 'auto',\n                        marginRight: '12px'\n                      }}\n                    >\n                      {submission ? <VerdictBar verdicts={submission.verdict} /> : <Skeleton />}\n                      <Grid container>\n                        <Grid item xs={5} style={{ textAlign: 'left' }}>\n                          <Tooltip\n                            title={t(\n                              `verdict.${\n                                submission && submission.verdict.malicious.indexOf(currentUser.username) !== -1\n                                  ? 'is'\n                                  : 'set'\n                              }.malicious`\n                            )}\n                          >\n                            <IconButton size=\"small\" onClick={() => setVerdict('malicious')}>\n                              <BugReportOutlinedIcon\n                                style={{\n                                  color:\n                                    submission && submission.verdict.malicious.indexOf(currentUser.username) !== -1\n                                      ? theme.palette.error.dark\n                                      : null\n                                }}\n                              />\n                            </IconButton>\n                          </Tooltip>\n                        </Grid>\n                        <Grid item xs={2} />\n                        <Grid item xs={5} style={{ textAlign: 'right' }}>\n                          <Tooltip\n                            title={t(\n                              `verdict.${\n                                submission && submission.verdict.non_malicious.indexOf(currentUser.username) !== -1\n                                  ? 'is'\n                                  : 'set'\n                              }.non_malicious`\n                            )}\n                          >\n                            <IconButton size=\"small\" onClick={() => setVerdict('non_malicious')}>\n                              <VerifiedUserOutlinedIcon\n                                style={{\n                                  color:\n                                    submission && submission.verdict.non_malicious.indexOf(currentUser.username) !== -1\n                                      ? theme.palette.success.dark\n                                      : null\n                                }}\n                              />\n                            </IconButton>\n                          </Tooltip>\n                        </Grid>\n                      </Grid>\n                    </div>\n                  </Grid>\n                </Grid>\n              </div>\n            </>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [submission, id, socket, theme, t]\n        )}\n\n        <InfoSection submission={submission} />\n\n        {(!submission || Object.keys(submission.metadata).length !== 0) && (\n          <MetaSection metadata={submission ? submission.metadata : null} />\n        )}\n\n        {(!summary || Object.keys(summary.attack_matrix).length !== 0) && (\n          <AttackSection attack_matrix={summary ? summary.attack_matrix : null} />\n        )}\n\n        {(!summary || Object.keys(summary.heuristics).length !== 0) && (\n          <HeuristicSection heuristics={summary ? summary.heuristics : null} />\n        )}\n\n        {summary &&\n          Object.keys(summary.tags).length !== 0 &&\n          Object.keys(summary.tags).map((tag_group, group_idx) => {\n            return (\n              Object.keys(summary.tags[tag_group]).length !== 0 && (\n                <TagSection key={group_idx} tag_group={tag_group} tags={summary.tags[tag_group]} />\n              )\n            );\n          })}\n\n        {submission && submission.state === 'completed' && Object.keys(submission.errors).length !== 0 && (\n          <ErrorSection sid={id} parsed_errors={submission.parsed_errors} />\n        )}\n\n        {submission && submission.state !== 'completed' && liveErrorKeys.length !== 0 && liveErrors !== null && (\n          <ErrorSection sid={id} parsed_errors={liveErrors} />\n        )}\n\n        <FileTreeSection tree={tree} sid={id} />\n      </div>\n    </PageCenter>\n  );\n}\n","import { Tooltip } from '@material-ui/core';\nimport CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst VERDICT_COLOR_MAP = {\n  info: 'default',\n  safe: 'success',\n  suspicious: 'warning',\n  highly_suspicious: 'warning',\n  malicious: 'error'\n};\n\ntype TextVerdictProps = {\n  verdict: string;\n  variant?: 'outlined' | 'default';\n  size?: 'tiny' | 'small' | 'medium';\n  mono?: boolean;\n  fullWidth?: boolean;\n};\n\nconst WrappedTextVerdict: React.FC<TextVerdictProps> = ({\n  verdict,\n  variant = 'default',\n  size = 'tiny',\n  mono = false,\n  fullWidth = false\n}) => {\n  const { t } = useTranslation();\n  const color = VERDICT_COLOR_MAP[verdict];\n\n  return (\n    <Tooltip title={t(`verdict.${verdict}`)}>\n      <span>\n        <CustomChip\n          type=\"rounded\"\n          variant={variant}\n          size={size}\n          label={t(`verdict.${verdict}.short`)}\n          color={color}\n          mono={mono}\n          fullWidth={fullWidth}\n        />\n      </span>\n    </Tooltip>\n  );\n};\n\nconst TextVerdict = React.memo(WrappedTextVerdict);\nexport default TextVerdict;\n","import { makeStyles, Tooltip, useTheme } from '@material-ui/core';\nimport { scaleLinear } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  circle: {\n    position: 'relative',\n    zIndex: 1,\n    top: '-90px',\n    left: '15px',\n    borderRadius: '50%',\n    width: '70px',\n    height: '70px',\n    boxShadow: theme.shadows[2],\n    backgroundColor: theme.palette.background.paper,\n    textAlign: 'center',\n    '@media print': {\n      backgroundColor: '#FFFFFF'\n    }\n  },\n  text: {\n    fontSize: '30px',\n    lineHeight: '30px',\n    paddingTop: '15px',\n    fontWeight: 900,\n    color: theme.palette.text.secondary,\n    '@media print': {\n      color: '#00000066'\n    }\n  },\n  under_text: {\n    fontSize: '13px',\n    lineHeight: '13px',\n    fontWeight: 300,\n    color: theme.palette.text.secondary,\n    '@media print': {\n      color: '#00000066'\n    }\n  }\n}));\n\ntype VerdictGaugeProps = {\n  verdicts: {\n    malicious: any[];\n    non_malicious: any[];\n  };\n  max?: number;\n  colorBack?: string;\n};\n\nconst VerdictGauge: React.FC<VerdictGaugeProps> = ({ verdicts, max = 20, colorBack = '#68686815' }) => {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const theme = useTheme();\n  const colorMalicious = theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark;\n  const colorNonMalicious = theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark;\n\n  const backgroundArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI)\n    .endAngle(Math.PI)\n    .cornerRadius(0)();\n  const percentScale = scaleLinear().domain([0, max]).range([0, 1]);\n\n  const angleScaleRight = scaleLinear().domain([0, 1]).range([0, Math.PI]).clamp(true);\n  const filledArcRight = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(0)\n    .endAngle(angleScaleRight(percentScale(verdicts.malicious.length)))\n    .cornerRadius(0)();\n\n  const angleScaleLeft = scaleLinear().domain([0, 1]).range([0, -Math.PI]).clamp(true);\n  const filledArcLeft = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(angleScaleLeft(percentScale(verdicts.non_malicious.length)))\n    .endAngle(0)\n    .cornerRadius(0)();\n\n  return (\n    <div>\n      <Tooltip\n        title={`${t('verdict.non_malicious')}: ${verdicts.non_malicious.length} / ${t('verdict.malicious')}: ${\n          verdicts.malicious.length\n        }`}\n      >\n        <div style={{ width: '100px', height: '100px', display: 'block' }}>\n          <svg style={{ position: 'relative', width: '100px', height: '100px' }} viewBox={[-1, -1, 2, 1].join(' ')}>\n            <g style={{ transform: 'translateY(-50%)' }}>\n              <path d={backgroundArc} fill={colorBack} />\n              <path d={filledArcLeft} fill={colorNonMalicious} />\n              <path d={filledArcRight} fill={colorMalicious} />\n            </g>\n          </svg>\n          <div className={classes.circle}>\n            <div\n              className={classes.text}\n              style={{\n                color:\n                  verdicts.non_malicious.length > verdicts.malicious.length\n                    ? colorNonMalicious\n                    : verdicts.malicious.length > verdicts.non_malicious.length\n                    ? colorMalicious\n                    : null\n              }}\n            >\n              {verdicts.non_malicious.length > verdicts.malicious.length\n                ? verdicts.non_malicious.length\n                : verdicts.malicious.length}\n            </div>\n            <div className={classes.under_text}>{`/ ${verdicts.non_malicious.length + verdicts.malicious.length}`}</div>\n          </div>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default VerdictGauge;\n","import {\n  Divider,\n  Grid,\n  Hidden,\n  IconButton,\n  makeStyles,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport MoodBadIcon from '@material-ui/icons/MoodBad';\nimport PrintOutlinedIcon from '@material-ui/icons/PrintOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport TextVerdict from 'components/visual/TextVerdict';\nimport Verdict from 'components/visual/Verdict';\nimport VerdictGauge from 'components/visual/VerdictGauge';\nimport { bytesToSize, scoreToVerdict } from 'helpers/utils';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    display: 'inline-flex',\n    width: theme.spacing(16),\n    height: theme.spacing(16),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.down('xs')]: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n      marginRight: 0\n    }\n  },\n  banner_title: {\n    fontWeight: 500,\n    fontSize: '200%',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '180%'\n    }\n  },\n  divider: {\n    '@media print': {\n      backgroundColor: '#0000001f !important'\n    }\n  },\n  file_details: {\n    fontFamily: 'monospace',\n    color: theme.palette.text.secondary,\n    wordBreak: 'break-word',\n    paddingBottom: '4px',\n    '@media print': {\n      color: 'rgba(0, 0, 0, 0.54)'\n    }\n  },\n  icon: {\n    marginLeft: '24px',\n    marginRight: '36px',\n    fontSize: '400%',\n    [theme.breakpoints.down('xs')]: {\n      marginLeft: '16px',\n      marginRight: '20px',\n      fontSize: '350%'\n    },\n    '@media print': {\n      marginLeft: '24px',\n      marginRight: '36px',\n      fontSize: '400%'\n    }\n  },\n  malicious_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#f2000015 !important',\n    borderBottom: '1px solid #d9534f !important'\n  },\n  suspicious_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#ff970015 !important',\n    borderBottom: '1px solid #f0ad4e !important'\n  },\n  info_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#6e6e6e15 !important',\n    borderBottom: '1px solid #aaa !important'\n  }\n}));\n\nfunction AttributionBanner({ report }) {\n  const { t } = useTranslation(['submissionReport']);\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classes = useStyles();\n  const score = report ? report.max_score : 0;\n\n  const BANNER_COLOR_MAP = {\n    info: {\n      icon: <HelpOutlineIcon className={classes.icon} />,\n      bgColor: '#6e6e6e15',\n      textColor: theme.palette.type === 'dark' ? '#AAA' : '#888'\n    },\n    safe: {\n      icon: <VerifiedUserOutlinedIcon className={classes.icon} />,\n      bgColor: '#00f20015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n    },\n    suspicious: {\n      icon: <MoodBadIcon className={classes.icon} />,\n      bgColor: '#ff970015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    highly_suspicious: {\n      icon: <MoodBadIcon className={classes.icon} />,\n      bgColor: '#ff970015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    malicious: {\n      icon: <BugReportOutlinedIcon className={classes.icon} />,\n      bgColor: '#f2000015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n    }\n  };\n\n  const { bgColor, icon, textColor } = BANNER_COLOR_MAP[scoreToVerdict(score)];\n  const implant =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.implant']\n      ? Object.keys(report.tags.attributions['attribution.implant']).join(' | ')\n      : null;\n  const family =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.family']\n      ? Object.keys(report.tags.attributions['attribution.family']).join(' | ')\n      : null;\n  const actor =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.actor']\n      ? Object.keys(report.tags.attributions['attribution.actor']).join(' | ')\n      : null;\n\n  return (\n    <div\n      style={{\n        marginBottom: sp2,\n        marginTop: sp2,\n        padding: sp1,\n        backgroundColor: bgColor,\n        border: `solid 1px ${textColor}`,\n        borderRadius: '4px'\n      }}\n    >\n      <Grid container alignItems=\"center\" justify=\"center\">\n        <Hidden smDown>\n          <Grid item xs style={{ color: textColor }}>\n            {icon}\n          </Grid>\n        </Hidden>\n        <Grid item xs style={{ flexGrow: 10 }}>\n          <div className={classes.banner_title}>\n            {report ? <Verdict type=\"text\" size=\"medium\" score={report.max_score} /> : <Skeleton />}\n          </div>\n          <table width={report ? null : '100%'} style={{ borderSpacing: 0 }}>\n            <tbody>\n              <tr>\n                {report ? (\n                  implant && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('implant')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.implant']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n              <tr>\n                {report ? (\n                  family && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('family')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.family']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n              <tr>\n                {report ? (\n                  actor && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('actor')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.actor']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n            </tbody>\n          </table>\n        </Grid>\n        <Grid item xs style={{ color: textColor, paddingLeft: sp1, paddingRight: sp1 }}>\n          {report ? (\n            <VerdictGauge verdicts={report.verdict} />\n          ) : (\n            <Skeleton variant=\"circle\" height=\"100px\" width=\"100px\" />\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nfunction TagTable({ group, items }) {\n  const { t } = useTranslation(['submissionReport']);\n  const theme = useTheme();\n  const orderedItems = {};\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classes = useStyles();\n\n  Object.keys(items).map(tagType =>\n    Object.keys(items[tagType]).map(tagValue => {\n      const key = `${items[tagType][tagValue].h_type}_${tagType}`;\n      if (!Object.hasOwnProperty.call(orderedItems, key)) {\n        orderedItems[key] = { verdict: items[tagType][tagValue].h_type, type: tagType, values: [] };\n      }\n      orderedItems[key].values.push(tagValue);\n      return null;\n    })\n  );\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n      <Typography variant=\"h6\">{t(`tag.${group}`)}</Typography>\n      <Divider className={classes.divider} />\n      <div\n        style={{\n          paddingTop: sp2,\n          paddingBottom: sp2,\n          paddingLeft: sp1,\n          paddingRight: sp1\n        }}\n      >\n        <Grid container spacing={1}>\n          {Object.keys(orderedItems).map((k, idx) => {\n            return (\n              <Grid key={idx} style={{ marginBottom: sp2, paddingLeft: sp1, paddingRight: sp1, minWidth: '21rem' }}>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <div style={{ display: 'flex', minWidth: '5rem' }}>\n                      <TextVerdict verdict={orderedItems[k].verdict} mono />\n                      <Tooltip title={orderedItems[k].type}>\n                        <span style={{ fontSize: '110%', flexGrow: 1, textTransform: 'capitalize' }}>\n                          {orderedItems[k].type.split('.').pop().replace('_', ' ')}\n                        </span>\n                      </Tooltip>\n                    </div>\n                  </Grid>\n                  <Grid item>\n                    {orderedItems[k].values.map((v, vidx) => {\n                      return (\n                        <div\n                          key={vidx}\n                          style={{\n                            paddingBottom: '5px',\n                            wordBreak: 'break-word'\n                          }}\n                        >\n                          {v}\n                        </div>\n                      );\n                    })}\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </div>\n  );\n}\n\nfunction AttackMatrixBlock({ attack, items }) {\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  return (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid',\n        paddingBottom: sp2\n      }}\n    >\n      <span style={{ fontSize: '1rem', textTransform: 'capitalize' }}>{attack.replace(/-/g, ' ')}</span>\n      {Object.keys(items).map((cat, idx) => {\n        return (\n          <div key={idx}>\n            <TextVerdict verdict={items[cat].h_type} mono />\n            <span style={{ verticalAlign: 'middle' }}>{cat}</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction AttackMatrixSkel() {\n  return (\n    <div\n      style={{\n        paddingBottom: '1rem',\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid'\n      }}\n    >\n      <Skeleton style={{ height: '2rem' }} />\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '8px' }} />\n        <Skeleton style={{ height: '2rem', flexGrow: 1 }} />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '8px' }} />\n        <Skeleton style={{ height: '2rem', flexGrow: 1 }} />\n      </div>\n    </div>\n  );\n}\n\nfunction HeuristicsList({ verdict, items }) {\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classMap = {\n    malicious: classes.malicious_heur,\n    suspicious: classes.suspicious_heur,\n    info: classes.info_heur\n  };\n\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        minWidth: '200px'\n      }}\n    >\n      <div className={classMap[verdict]} style={{ marginBottom: sp2, marginTop: sp2, fontSize: '1.2rem' }}>\n        {t(`verdict.${verdict}`)}\n      </div>\n      <div style={{ paddingLeft: sp1, paddingRight: sp1 }}>\n        {Object.keys(items).map((heur, idx) => {\n          return (\n            <div key={idx} style={{ fontSize: '1rem', verticalAlign: 'middle', paddingBottom: '2px' }}>\n              {heur}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction HeuristicsListSkel() {\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        margin: 5\n      }}\n    >\n      <Skeleton style={{ height: '3.5rem' }} />\n\n      <Skeleton style={{ height: '2rem' }} />\n      <Skeleton style={{ height: '2rem' }} />\n      <Skeleton style={{ height: '2rem' }} />\n    </div>\n  );\n}\n\nfunction FileTree({ tree, important_files }) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      {Object.keys(tree).map((f, i) => {\n        return important_files.indexOf(f) !== -1 ? (\n          <div key={i} style={{ pageBreakInside: 'avoid' }}>\n            <table style={{ borderSpacing: 0 }}>\n              <tbody>\n                <tr>\n                  <td style={{ verticalAlign: 'top' }}>\n                    <Verdict score={tree[f].score} short mono />\n                  </td>\n                  <td>\n                    <b style={{ fontSize: '110%', wordBreak: 'break-word' }}>{tree[f].name.join(' | ')}</b>\n                  </td>\n                </tr>\n                <tr>\n                  <td />\n                  <td>\n                    <div className={classes.file_details}>\n                      {`${tree[f].sha256} - ${tree[f].type} - `}\n                      <b>{tree[f].size}</b>\n                      <span style={{ fontWeight: 300 }}> ({bytesToSize(tree[f].size)})</span>\n                    </div>\n                  </td>\n                </tr>\n                <tr>\n                  <td />\n                  <td>\n                    <FileTree tree={tree[f].children} important_files={important_files} />\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        ) : null;\n      })}\n    </div>\n  );\n}\n\nfunction FileTreeSkel() {\n  function FileItemSkel() {\n    return (\n      <>\n        <div style={{ display: 'flex' }}>\n          <Skeleton style={{ height: '2rem', width: '2rem' }} />\n          <Skeleton style={{ height: '2rem', marginLeft: '1rem', flexGrow: 1 }} />\n        </div>\n        <Skeleton />\n        <Skeleton />\n        <Skeleton />\n      </>\n    );\n  }\n\n  return (\n    <div>\n      <FileItemSkel />\n      <div style={{ marginLeft: '2rem' }}>\n        <FileItemSkel />\n      </div>\n    </div>\n  );\n}\n\nexport default function SubmissionReport() {\n  const { t } = useTranslation(['submissionReport']);\n  const { id } = useParams<ParamProps>();\n  const { c12nDef } = useALContext();\n  const history = useHistory();\n  const theme = useTheme();\n  const [report, setReport] = useState(null);\n  const apiCall = useMyAPI();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const classes = useStyles();\n  const { showErrorMessage, showWarningMessage } = useMySnackbar();\n  const isPrinting = useMediaQuery('print');\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/submission/report/${id}/`,\n      onSuccess: api_data => {\n        setReport(api_data.api_response);\n      },\n      onFailure: api_data => {\n        if (api_data.api_status_code === 425) {\n          showWarningMessage(t('error.too_early'));\n          history.replace(`/submission/detail/${id}`);\n        } else if (api_data.api_status_code === 404) {\n          showErrorMessage(t('error.notfound'));\n          history.replace('/notfound');\n        } else {\n          showErrorMessage(api_data.api_error_message);\n        }\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter\n      mt={isPrinting ? 0 : 4}\n      mb={isPrinting ? 0 : 4}\n      ml={isPrinting ? 2 : 4}\n      mr={isPrinting ? 2 : 4}\n      width=\"100%\"\n    >\n      <div style={{ textAlign: 'left' }}>\n        {c12nDef.enforce && (\n          <div style={{ paddingBottom: sp4 }}>\n            <Classification size=\"tiny\" c12n={report ? report.classification : null} />\n          </div>\n        )}\n\n        {c12nDef.enforce && (\n          <div className=\"print-footer print-only\">\n            {`${t('title')} :: ${id} :: `}\n            <Classification type=\"text\" size=\"tiny\" c12n={report ? report.classification : null} />\n          </div>\n        )}\n        <div style={{ paddingBottom: sp2 }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <div>\n                <Typography variant=\"h4\">{t('title')}</Typography>\n                <Typography variant=\"caption\">\n                  {report ? report.sid : <Skeleton style={{ width: '10rem' }} />}\n                </Typography>\n              </div>\n            </Grid>\n            <Grid item className=\"print-only\">\n              <img\n                src={`${process.env.PUBLIC_URL}/images/banner.svg`}\n                alt=\"Assemblyline Banner\"\n                style={{ height: '72px' }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} className=\"no-print\">\n              <div style={{ textAlign: 'right' }}>\n                <Tooltip title={t('print')}>\n                  <IconButton onClick={() => window.print()}>\n                    <PrintOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={t('detail_view')}>\n                  <IconButton component={Link} to={`/submission/detail/${report ? report.sid : id}`}>\n                    <ListAltOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n\n        <AttributionBanner report={report} />\n\n        <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n          <Typography variant=\"h6\">{t('general')}</Typography>\n          <Divider className={classes.divider} />\n          <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n            <Grid container spacing={1}>\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.name')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                {report ? report.files[0].name : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.description')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                {report ? report.params.description : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={12}>\n                <div style={{ height: sp2 }} />\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.date')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? <Moment date={report.times.submitted} /> : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.user')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.params.submitter : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.services')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.params.services.selected.join(' | ') : <Skeleton />}\n              </Grid>\n\n              {report && report.params.services.errors.length !== 0 && (\n                <>\n                  <Grid item xs={4} sm={3} lg={2}>\n                    <span style={{ fontWeight: 500 }}>{t('submission.services.errors')}</span>\n                  </Grid>\n                  <Grid item xs={8} sm={9} lg={10}>\n                    <span\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                    >\n                      {report.params.services.errors.join(' | ')}\n                    </span>\n                  </Grid>\n                </>\n              )}\n\n              <Grid item xs={12}>\n                <div style={{ height: sp2 }} />\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.type')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.type : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.mime')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.mime : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.magic')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.magic : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.size')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.size : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.md5')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.md5 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.sha1')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.sha1 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.sha256')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.sha256 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.ssdeep')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.ssdeep : <Skeleton />}\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        {(!report || Object.keys(report.metadata).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('metadata')}</Typography>\n            <Divider className={classes.divider} />\n            <table style={{ paddingBottom: sp2, paddingTop: sp2, width: '100%' }}>\n              <tbody>\n                {report\n                  ? Object.keys(report.metadata).map((meta, i) => {\n                      return (\n                        <tr key={i}>\n                          <td style={{ width: '20%' }}>\n                            <span style={{ fontWeight: 500 }}>{meta}</span>\n                          </td>\n                          <td style={{ paddingLeft: sp1, width: '80%', wordBreak: 'break-word' }}>\n                            {report.metadata[meta]}\n                          </td>\n                        </tr>\n                      );\n                    })\n                  : [...Array(3)].map((_, i) => {\n                      return (\n                        <tr key={i} style={{ width: '100%' }}>\n                          <td width=\"33%\">\n                            <Skeleton />\n                          </td>\n                          <td width=\"67%\">\n                            <Skeleton />\n                          </td>\n                        </tr>\n                      );\n                    })}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {(!report || Object.keys(report.attack_matrix).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('attack')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                paddingTop: sp2,\n                paddingBottom: sp2,\n                columnWidth: '21rem',\n                columnGap: '1rem'\n              }}\n            >\n              {report\n                ? Object.keys(report.attack_matrix).map((att, i) => {\n                    return <AttackMatrixBlock key={i} attack={att} items={report.attack_matrix[att]} />;\n                  })\n                : [...Array(5)].map((_, i) => {\n                    return <AttackMatrixSkel key={i} />;\n                  })}\n            </div>\n          </div>\n        )}\n\n        {(!report ||\n          Object.keys(report.heuristics.malicious).length !== 0 ||\n          Object.keys(report.heuristics.suspicious).length !== 0 ||\n          Object.keys(report.heuristics.info).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('heuristics')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                display: 'flex',\n                flexWrap: 'wrap'\n              }}\n            >\n              {report ? (\n                <>\n                  {Object.keys(report.heuristics.malicious).length !== 0 && (\n                    <HeuristicsList verdict=\"malicious\" items={report.heuristics.malicious} />\n                  )}\n                  {Object.keys(report.heuristics.suspicious).length !== 0 && (\n                    <HeuristicsList verdict=\"suspicious\" items={report.heuristics.suspicious} />\n                  )}\n                  {Object.keys(report.heuristics.info).length !== 0 && (\n                    <HeuristicsList verdict=\"info\" items={report.heuristics.info} />\n                  )}\n                </>\n              ) : (\n                [...Array(3)].map((_, i) => {\n                  return <HeuristicsListSkel key={i} />;\n                })\n              )}\n            </div>\n          </div>\n        )}\n\n        {report &&\n          Object.keys(report.tags).length !== 0 &&\n          Object.keys(report.tags).map((tagGroup, groupIdx) => {\n            return <TagTable key={groupIdx} group={tagGroup} items={report.tags[tagGroup]} />;\n          })}\n\n        {(!report || report.important_files.length !== 0) && (\n          <div style={{ paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('important_files')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                paddingTop: sp2\n              }}\n            >\n              {report ? (\n                <FileTree\n                  tree={report.file_tree[report.files[0].sha256].children}\n                  important_files={report.important_files}\n                />\n              ) : (\n                <FileTreeSkel />\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </PageCenter>\n  );\n}\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport SubmissionsTable, { SubmissionResult } from 'components/visual/SearchResult/submissions';\nimport 'moment/locale/fr';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  }\n}));\n\ntype SearchResults = {\n  items: SubmissionResult[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Submissions() {\n  const { t } = useTranslation(['submissions']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [submissionResults, setSubmissionResults] = useState<SearchResults>(null);\n  const [searching, setSearching] = useState(false);\n  const { user: currentUser, indexes } = useALContext();\n  const history = useHistory();\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const filterValue = useRef<string>('');\n  const classes = useStyles();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.submission).filter(name => {\n      return indexes.submission[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n\n  const onClear = () => {\n    history.push(location.pathname);\n  };\n\n  const onSearch = () => {\n    if (filterValue.current !== '') {\n      query.set('query', filterValue.current);\n      history.push(`${location.pathname}?${query.toString()}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  useEffect(() => {\n    setSearching(true);\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/submission/',\n        body: query.getParams(),\n        onSuccess: api_data => {\n          setSubmissionResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <PersonIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('my_submission'),\n                props: {\n                  onClick: () => {\n                    query.set('query', `params.submitter:\"${currentUser.username}\"`);\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <AssignmentTurnedInIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('completed_submissions'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'state:completed');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <BugReportIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('malicious_submissions'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'max_score:>1000');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {submissionResults !== null && (\n              <div className={classes.searchresult}>\n                {submissionResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {submissionResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${submissionResults.total === 1 ? '' : 's'}`)\n                          : t(`total${submissionResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  total={submissionResults.total}\n                  setResults={setSubmissionResults}\n                  pageSize={pageSize}\n                  index=\"submission\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <SubmissionsTable submissionResults={submissionResults} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useTranslation } from 'react-i18next';\nimport { AiOutlineSecurityScan } from 'react-icons/ai';\n\ntype FileDropperProps = {\n  file: File;\n  setFile: (file: File) => void;\n  disabled: boolean;\n};\n\nexport default function FileDropper({ file, setFile, disabled }: FileDropperProps) {\n  const { t } = useTranslation(['submit']);\n  const { acceptedFiles, getRootProps, getInputProps, isDragActive } = useDropzone({ disabled });\n  const useStyles = ctrlDisabled => {\n    return makeStyles(theme => ({\n      drop_zone: {\n        flex: '1',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: theme.spacing(3),\n        backgroundColor: theme.palette.action.hover,\n        outline: 'none',\n        border: `2px ${theme.palette.action.disabled} dashed`,\n        borderRadius: '6px',\n        color: theme.palette.action.disabled,\n        '&:hover': {\n          border: !ctrlDisabled ? `2px ${theme.palette.text.disabled} dashed` : null,\n          backgroundColor: !ctrlDisabled ? theme.palette.action.selected : null,\n          color: !ctrlDisabled ? theme.palette.text.disabled : null,\n          cursor: !ctrlDisabled ? 'pointer' : null\n        }\n      },\n      drag_enter: {\n        border: `2px ${theme.palette.text.disabled} dashed`,\n        backgroundColor: theme.palette.action.selected,\n        color: theme.palette.text.disabled\n      }\n    }))();\n  };\n  const classes = useStyles(disabled);\n\n  useEffect(() => {\n    if (acceptedFiles.length !== 0) {\n      setFile(acceptedFiles[0]);\n    }\n    // eslint-disable-next-line\n  }, [acceptedFiles]);\n\n  return (\n    <div\n      {...getRootProps()}\n      className={isDragActive && !disabled ? `${classes.drop_zone} ${classes.drag_enter}` : classes.drop_zone}\n    >\n      <input {...getInputProps()} />\n      <AiOutlineSecurityScan style={{ fontSize: '140px' }} />\n      <div style={{ height: '44px', textAlign: 'center' }}>\n        <Typography variant=\"body1\">\n          <b>{isDragActive && !disabled ? t('file.drophere') : file ? file.name : t('file.dragzone')}</b>\n        </Typography>\n        {file && (!isDragActive || disabled) && (\n          <Typography variant=\"body2\" align=\"center\">\n            {file.size} {t('file.dragzone.byte')}\n          </Typography>\n        )}\n      </div>\n    </div>\n  );\n}\n","import {\n  Button,\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  TextField,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport { Alert, Skeleton, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ServiceTree from 'components/layout/serviceTree';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport Empty from 'components/visual/Empty';\nimport FileDropper from 'components/visual/FileDropper';\nimport Flow from 'helpers/flow';\nimport generateUUID from 'helpers/uuid';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction Submit() {\n  const { getBanner } = useAppLayout();\n  const apiCall = useMyAPI();\n  const { t, i18n } = useTranslation(['submit']);\n  const theme = useTheme();\n  const { user: currentUser, c12nDef, configuration } = useALContext();\n  const [uuid, setUUID] = useState(null);\n  const [flow, setFlow] = useState(null);\n  const [settings, setSettings] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(null);\n  const [url, setUrl] = useState('');\n  const [urlHasError, setUrlHasError] = useState(false);\n  const [validate, setValidate] = useState(false);\n  const [validateCB, setValidateCB] = useState(null);\n  const [allowClick, setAllowClick] = useState(true);\n  const [file, setFile] = useState(null);\n  const [value, setValue] = useState('0');\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const md = useMediaQuery(theme.breakpoints.only('md'));\n  const { showErrorMessage, showSuccessMessage, closeSnackbar } = useMySnackbar();\n  const history = useHistory();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const sp8 = theme.spacing(8);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const useStyles = makeStyles(curTheme => ({\n    no_pad: {\n      padding: 0\n    },\n    item: {\n      marginLeft: 0,\n      width: '100%',\n      '&:hover': {\n        background: theme.palette.action.hover\n      }\n    }\n  }));\n  const classes = useStyles();\n\n  const getFileUUID = selectedFile => {\n    const relativePath =\n      selectedFile.relativePath || selectedFile.webkitRelativePath || selectedFile.fileName || selectedFile.name;\n    return `${uuid}_${file.size}_${relativePath.replace(/[^0-9a-zA-Z_-]/gim, '')}`;\n  };\n\n  const cancelUpload = () => {\n    setFile(null);\n    setAllowClick(true);\n    setUploadProgress(null);\n    flow.cancel();\n    flow.off('complete');\n    flow.off('fileError');\n    flow.off('progress');\n  };\n\n  const validateServiceSelection = cbType => {\n    let showPopup = false;\n\n    // Check if we need the popup, and if we do\n    settings.services.forEach(cat => {\n      cat.services.forEach(srv => {\n        if (srv.selected && srv.is_external) {\n          showPopup = true;\n        }\n      });\n    });\n\n    if (showPopup) {\n      // External service selected, show popup\n      setValidateCB(cbType);\n      setValidate(true);\n    } else if (cbType === 'file') {\n      // No external service and file submitted\n      uploadAndScan();\n    } else {\n      // No external service and url submitted\n      analyseUrl();\n    }\n  };\n\n  const cleanupServiceSelection = () => {\n    // eslint-disable-next-line guard-for-in\n    for (const i in settings.services) {\n      const cat = settings.services[i];\n      // eslint-disable-next-line guard-for-in\n      for (const j in settings.services[i].services) {\n        const srv = settings.services[i].services[j];\n        if (srv.selected && srv.is_external) {\n          srv.selected = false;\n        }\n      }\n      cat.selected = cat.services.every(e => e.selected);\n    }\n\n    executeCB();\n  };\n\n  const executeCB = () => {\n    setValidate(false);\n    if (validateCB === 'file') {\n      uploadAndScan();\n    } else {\n      analyseUrl();\n    }\n  };\n\n  const uploadAndScan = () => {\n    flow.opts.generateUniqueIdentifier = getFileUUID;\n    setAllowClick(false);\n    setUploadProgress(0);\n    flow.on('fileError', (event, api_data) => {\n      try {\n        const data = JSON.parse(api_data);\n        if (Object.hasOwnProperty.call(data, 'api_status_code')) {\n          if (data.api_status_code === 401) {\n            window.location.reload(false);\n          }\n        }\n      } catch (ex) {\n        cancelUpload();\n        showErrorMessage(t('submit.file.upload_fail'));\n      }\n    });\n    flow.on('progress', () => {\n      setUploadProgress(Math.trunc(flow.progress() * 100));\n    });\n    flow.on('complete', () => {\n      if (flow.files.length === 0) {\n        return;\n      }\n\n      for (let x = 0; x < flow.files.length; x++) {\n        if (flow.files[x].error) {\n          return;\n        }\n      }\n      apiCall({\n        url: `/api/v4/ui/start/${uuid}/`,\n        method: 'POST',\n        body: settings,\n        onSuccess: api_data => {\n          showSuccessMessage(`${t('submit.success')} ${api_data.api_response.sid}`);\n          setTimeout(() => {\n            history.push(`/submission/detail/${api_data.api_response.sid}`);\n          }, 500);\n        },\n        onFailure: api_data => {\n          if (\n            api_data.api_status_code === 503 ||\n            api_data.api_status_code === 403 ||\n            api_data.api_status_code === 404 ||\n            api_data.api_status_code === 400\n          ) {\n            showErrorMessage(api_data.api_error_message);\n          } else {\n            showErrorMessage(t('submit.file.failure'));\n          }\n          setAllowClick(true);\n          cancelUpload();\n        }\n      });\n    });\n\n    flow.addFile(file);\n    flow.upload();\n  };\n\n  const setFileDropperFile = selectedFile => {\n    setFile(selectedFile);\n  };\n\n  const setParam = (service_idx, param_idx, p_value) => {\n    if (settings) {\n      const newSettings = { ...settings };\n      newSettings.service_spec[service_idx].params[param_idx].value = p_value;\n      setSettings(newSettings);\n    }\n  };\n\n  function setParamAsync(service_idx, param_idx, p_value) {\n    if (settings) {\n      settings.service_spec[service_idx].params[param_idx].value = p_value;\n    }\n  }\n\n  function setSettingValue(field, fieldValue) {\n    if (settings) {\n      setSettings({ ...settings, [field]: fieldValue });\n    }\n  }\n\n  function setSettingAsyncValue(field, fieldValue) {\n    if (settings) {\n      settings[field] = fieldValue;\n    }\n  }\n\n  function setClassification(c12n) {\n    if (settings) {\n      setSettings({ ...settings, classification: c12n });\n    }\n  }\n\n  function handleUrlChange(event) {\n    closeSnackbar();\n    setUrlHasError(false);\n    setUrl(event.target.value);\n  }\n\n  function analyseUrl() {\n    const urlParseRE = /^(((([^:/#?]+:)?(?:(\\/\\/)((?:(([^:@/#?]+)(?::([^:@/#?]+))?)@)?(([^:/#?\\][]+|\\[[^/\\]@#?]+])(?::([0-9]+))?))?)?)?((\\/?(?:[^/?#]+\\/+)*)([^?#]*)))?(\\?[^#]+)?)(#.*)?/;\n    const matches = urlParseRE.exec(url);\n\n    if (matches[15] === undefined || matches[15] === '') {\n      matches[15] = 'file';\n    }\n\n    const data = {\n      name: matches[15],\n      url,\n      ui_params: settings\n    };\n\n    setUrlHasError(false);\n    apiCall({\n      url: '/api/v4/submit/',\n      method: 'POST',\n      body: data,\n      onSuccess: api_data => {\n        setAllowClick(false);\n        showSuccessMessage(`${t('submit.success')} ${api_data.api_response.sid}`);\n        setTimeout(() => {\n          history.push(`/submission/detail/${api_data.api_response.sid}`);\n        }, 500);\n      },\n      onFailure: api_data => {\n        showErrorMessage(t('submit.url.failure'));\n        setUrlHasError(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Setup Flow\n    setFlow(\n      new Flow({\n        target: '/api/v4/ui/flowjs/',\n        permanentErrors: [412, 404, 500],\n        maxChunkRetries: 1,\n        chunkRetryInterval: 500,\n        simultaneousUploads: 4\n      })\n    );\n\n    // Load user on start\n    apiCall({\n      url: `/api/v4/user/settings/${currentUser.username}/`,\n      onSuccess: api_data => {\n        setSettings(api_data.api_response);\n      }\n    });\n    setUUID(generateUUID());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter maxWidth={md ? '800px' : downSM ? '100%' : '1024px'} margin={4} width=\"100%\">\n      <ConfirmationDialog\n        open={validate}\n        handleClose={cleanupServiceSelection}\n        handleAccept={executeCB}\n        title={t('validate.title')}\n        cancelText={t('validate.cancelText')}\n        acceptText={t('validate.acceptText')}\n        text={t('validate.text')}\n      />\n      <div style={{ marginBottom: !downSM && !configuration.ui.banner ? '2rem' : null }}>{getBanner(theme)}</div>\n      {configuration.ui.banner && (\n        <Alert severity={configuration.ui.banner_level} style={{ marginBottom: '2rem' }}>\n          {configuration.ui.banner[i18n.language] ? configuration.ui.banner[i18n.language] : configuration.ui.banner.en}\n        </Alert>\n      )}\n      {c12nDef.enforce ? (\n        <div style={{ paddingBottom: sp8 }}>\n          <div style={{ padding: sp1, fontSize: 16 }}>{t('classification')}</div>\n          <Classification\n            format=\"long\"\n            type=\"picker\"\n            c12n={settings ? settings.classification : null}\n            setClassification={setClassification}\n          />\n        </div>\n      ) : null}\n      <TabContext value={value}>\n        <Paper square>\n          <TabList centered onChange={handleChange} indicatorColor=\"primary\" textColor=\"primary\">\n            <Tab label={t('file')} value=\"0\" />\n            {configuration.ui.allow_url_submissions ? (\n              <Tab label={t('url')} value=\"1\" disabled={!configuration.ui.allow_url_submissions} />\n            ) : (\n              <Empty />\n            )}\n            <Tab label={t('options')} value=\"2\" />\n          </TabList>\n        </Paper>\n        <TabPanel value=\"0\" className={classes.no_pad}>\n          {settings ? (\n            <div style={{ marginTop: '30px' }}>\n              <FileDropper file={file} setFile={setFileDropperFile} disabled={!allowClick} />\n              <div style={{ marginTop: '2rem' }}>\n                {file ? (\n                  <>\n                    <Button\n                      disabled={!allowClick}\n                      color=\"primary\"\n                      variant=\"contained\"\n                      onClick={() => validateServiceSelection('file')}\n                    >\n                      {uploadProgress === null ? t('file.button') : `${uploadProgress}${t('submit.progress')}`}\n                    </Button>\n                    <Button style={{ marginLeft: '16px' }} color=\"secondary\" variant=\"contained\" onClick={cancelUpload}>\n                      {t('file.cancel')}\n                    </Button>\n                  </>\n                ) : null}\n              </div>\n            </div>\n          ) : (\n            <Skeleton style={{ height: '280px' }} />\n          )}\n          {configuration.ui.tos ? (\n            <div style={{ marginTop: '50px', textAlign: 'center' }}>\n              <Typography variant=\"body2\">\n                {t('terms1')}\n                <i>{t('file.button')}</i>\n                {t('terms2')}\n                <Link style={{ textDecoration: 'none', color: theme.palette.primary.main }} to=\"/tos\">\n                  {t('terms3')}\n                </Link>\n                .\n              </Typography>\n            </div>\n          ) : null}\n        </TabPanel>\n        {configuration.ui.allow_url_submissions && (\n          <TabPanel value=\"1\" className={classes.no_pad}>\n            <div style={{ display: 'flex', flexDirection: 'row', marginTop: '30px', alignItems: 'flex-start' }}>\n              {settings ? (\n                <>\n                  <TextField\n                    label={t('url.input')}\n                    error={urlHasError}\n                    size=\"small\"\n                    type=\"url\"\n                    variant=\"outlined\"\n                    value={url}\n                    onChange={handleUrlChange}\n                    style={{ flexGrow: 1, marginRight: '1rem' }}\n                  />\n                  <Button\n                    disabled={!url || !allowClick}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={() => validateServiceSelection('url')}\n                  >\n                    {t('url.button')}\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Skeleton style={{ flexGrow: 1, height: '3rem' }} />\n                  <Skeleton style={{ marginLeft: '16px', height: '3rem', width: '5rem' }} />\n                </>\n              )}\n            </div>\n            {configuration.ui.tos ? (\n              <div style={{ marginTop: '50px', textAlign: 'center' }}>\n                <Typography variant=\"body2\">\n                  {t('terms1')}\n                  <i>{t('url.button')}</i>\n                  {t('terms2')}\n                  <Link style={{ textDecoration: 'none', color: theme.palette.primary.main }} to=\"/tos\">\n                    {t('terms3')}\n                  </Link>\n                  .\n                </Typography>\n              </div>\n            ) : null}\n          </TabPanel>\n        )}\n        <TabPanel value=\"2\" className={classes.no_pad}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} md>\n              <div style={{ paddingLeft: sp2, textAlign: 'left', marginTop: sp4 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('options.service')}\n                </Typography>\n                <ServiceTree size=\"small\" settings={settings} setSettings={setSettings} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md>\n              <div style={{ textAlign: 'left', marginTop: sp4 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('options.submission')}\n                </Typography>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.desc')}\n                  </Typography>\n                  {settings ? (\n                    <TextField\n                      id=\"desc\"\n                      size=\"small\"\n                      type=\"text\"\n                      defaultValue={settings.description}\n                      onChange={event => setSettingAsyncValue('description', event.target.value)}\n                      InputLabelProps={{\n                        shrink: true\n                      }}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.priority')}\n                  </Typography>\n                  {settings ? (\n                    <Select\n                      id=\"priority\"\n                      margin=\"dense\"\n                      value={settings.priority}\n                      variant=\"outlined\"\n                      onChange={event => setSettingValue('priority', event.target.value)}\n                      fullWidth\n                    >\n                      <MenuItem value=\"500\">{t('options.submission.priority.low')}</MenuItem>\n                      <MenuItem value=\"1000\">{t('options.submission.priority.medium')}</MenuItem>\n                      <MenuItem value=\"1500\">{t('options.submission.priority.high')}</MenuItem>\n                    </Select>\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_filtering}\n                          name=\"label\"\n                          onChange={event => setSettingValue('ignore_filtering', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.ignore_filtering')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_cache}\n                          name=\"label\"\n                          onChange={event => setSettingValue('ignore_cache', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.ignore_cache')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_dynamic_recursion_prevention}\n                          name=\"label\"\n                          onChange={event =>\n                            setSettingValue('ignore_dynamic_recursion_prevention', event.target.checked)\n                          }\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={\n                      <Typography variant=\"body2\">\n                        {t('options.submission.ignore_dynamic_recursion_prevention')}\n                      </Typography>\n                    }\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.profile}\n                          name=\"label\"\n                          onChange={event => setSettingValue('profile', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.profile')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.deep_scan}\n                          name=\"label\"\n                          onChange={event => setSettingValue('deep_scan', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.deep_scan')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.ttl')}\n                  </Typography>\n                  {settings ? (\n                    <TextField\n                      id=\"ttl\"\n                      size=\"small\"\n                      type=\"number\"\n                      inputProps={{ min: 0, max: 365 }}\n                      defaultValue={settings.ttl}\n                      onChange={event => setSettingAsyncValue('ttl', event.target.value)}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n              </div>\n\n              {settings && settings.service_spec.length !== 0 ? (\n                <div style={{ textAlign: 'left', marginTop: sp4 }}>\n                  <Typography variant=\"h6\" gutterBottom>\n                    {t('options.service_spec')}\n                  </Typography>\n                  {settings.service_spec.map((service, idx) => {\n                    return (\n                      <div key={idx} style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          {service.name}\n                        </Typography>\n                        {service.params.map((param, pidx) => {\n                          return (\n                            <div key={pidx} style={{ paddingBottom: sp1 }}>\n                              {param.type === 'bool' ? (\n                                <div style={{ paddingLeft: sp1 }}>\n                                  <FormControlLabel\n                                    control={\n                                      <Checkbox\n                                        size=\"small\"\n                                        checked={param.value === 'true' || param.value === true}\n                                        name=\"label\"\n                                        onChange={() => setParam(idx, pidx, !param.value)}\n                                      />\n                                    }\n                                    label={\n                                      <Typography variant=\"body2\" style={{ textTransform: 'capitalize' }}>\n                                        {param.name.replace(/_/g, ' ')}\n                                      </Typography>\n                                    }\n                                    className={classes.item}\n                                  />\n                                </div>\n                              ) : (\n                                <>\n                                  <div>\n                                    <Typography variant=\"caption\" gutterBottom style={{ textTransform: 'capitalize' }}>\n                                      {param.name.replace(/_/g, ' ')}\n                                    </Typography>\n                                  </div>\n                                  {param.type === 'list' ? (\n                                    <Select\n                                      margin=\"dense\"\n                                      value={param.value}\n                                      variant=\"outlined\"\n                                      onChange={event => setParam(idx, pidx, event.target.value)}\n                                      fullWidth\n                                    >\n                                      {param.list.map((item, i) => {\n                                        return (\n                                          <MenuItem key={i} value={item}>\n                                            {item}\n                                          </MenuItem>\n                                        );\n                                      })}\n                                    </Select>\n                                  ) : (\n                                    <TextField\n                                      variant=\"outlined\"\n                                      type={param.type === 'int' ? 'number' : 'text'}\n                                      size=\"small\"\n                                      fullWidth\n                                      defaultValue={param.value}\n                                      onChange={event => setParamAsync(idx, pidx, event.target.value)}\n                                    />\n                                  )}\n                                </>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : null}\n            </Grid>\n          </Grid>\n        </TabPanel>\n      </TabContext>\n    </PageCenter>\n  );\n}\n\nexport default Submit;\n","/* eslint-disable no-bitwise */\n\nexport default function generateUUID() {\n  let d = new Date().getTime();\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : (r & 0x7) | 0x8).toString(16);\n  });\n}\n","import { Button, CircularProgress, Link, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport NotFoundPage from 'components/routes/404_dl';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst Markdown = require('react-markdown');\n\nexport default function Tos() {\n  const { t } = useTranslation(['tos']);\n  const theme = useTheme();\n  const [tos, setTos] = useState('');\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { getBanner } = useAppLayout();\n  const { user: currentUser, configuration } = useALContext();\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    no_pad: {\n      padding: 0\n    },\n    page: {\n      maxWidth: '960px',\n      width: '100%',\n      [curTheme.breakpoints.down('sm')]: {\n        maxWidth: '100%'\n      },\n      [curTheme.breakpoints.only('md')]: {\n        maxWidth: '630px'\n      }\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n  const sp6 = theme.spacing(6);\n\n  function acceptTOS() {\n    apiCall({\n      url: `/api/v4/user/tos/${currentUser.username}/`,\n      onSuccess: () => window.location.reload(false),\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  function cancelTOS() {\n    apiCall({\n      url: '/api/v4/auth/logout/',\n      onSuccess: () => window.location.reload(false),\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  useEffect(() => {\n    if (configuration.ui.tos) {\n      apiCall({\n        url: '/api/v4/help/tos/',\n        onSuccess: api_data => setTos(api_data.api_response)\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return configuration.ui.tos ? (\n    <PageCenter margin={4} width=\"100%\">\n      <div className={classes.page} style={{ display: 'inline-block', textAlign: 'center' }}>\n        <div>{getBanner(theme)}</div>\n        <div style={{ marginBottom: sp6, textAlign: 'left' }}>\n          <Typography variant=\"h3\" gutterBottom>\n            {t('title')}\n          </Typography>\n        </div>\n        {tos ? (\n          <>\n            <div style={{ textAlign: 'left' }}>\n              <Markdown source={tos} renderers={{ link: Link }} />\n            </div>\n            {currentUser.agrees_with_tos ? (\n              <div style={{ marginTop: sp6 }}>\n                <Typography variant=\"subtitle1\" color=\"secondary\">\n                  {t('agreed')}\n                </Typography>\n              </div>\n            ) : (\n              <div>\n                <Button\n                  style={{ marginTop: '3rem', marginBottom: '3rem' }}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={buttonLoading}\n                  onClick={acceptTOS}\n                >\n                  {t('button')}\n                  {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </Button>\n                <Button\n                  style={{ marginLeft: '1rem', marginTop: '3rem', marginBottom: '3rem' }}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled={buttonLoading}\n                  onClick={cancelTOS}\n                >\n                  {t('logout')}\n                  {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </Button>\n              </div>\n            )}\n          </>\n        ) : (\n          <>\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton />\n          </>\n        )}\n      </div>\n    </PageCenter>\n  ) : (\n    <NotFoundPage />\n  );\n}\n","import useALContext from 'components/hooks/useALContext';\nimport ForbiddenPage from 'components/routes/403';\nimport NotFoundPage from 'components/routes/404_dl';\nimport Account from 'components/routes/account';\nimport Admin from 'components/routes/admin';\nimport AdminErrorViewer from 'components/routes/admin/error_viewer';\nimport AdminServices from 'components/routes/admin/services';\nimport Service from 'components/routes/admin/service_detail';\nimport AdminSiteMap from 'components/routes/admin/site_map';\nimport AdminUsers from 'components/routes/admin/users';\nimport AlertDetails from 'components/routes/alerts/alert-details';\nimport Alerts from 'components/routes/alerts/alerts';\nimport AlertsLegacy from 'components/routes/alerts/legacy-alert';\nimport AppRegistration from 'components/routes/authorize';\nimport Dashboard from 'components/routes/dashboard';\nimport FileFullDetail from 'components/routes/file/detail';\nimport FileViewer from 'components/routes/file/viewer';\nimport Help from 'components/routes/help';\nimport HelpApiDoc from 'components/routes/help/api';\nimport HelpClassification from 'components/routes/help/classification';\nimport HelpConfiguration from 'components/routes/help/configuration';\nimport HelpSearch from 'components/routes/help/search';\nimport HelpServices from 'components/routes/help/services';\nimport Logout from 'components/routes/logout';\nimport Manage from 'components/routes/manage';\nimport ManageHeuristics from 'components/routes/manage/heuristics';\nimport HeuristicDetail from 'components/routes/manage/heuristic_detail';\nimport ManageSignatures from 'components/routes/manage/signatures';\nimport SignatureDetail from 'components/routes/manage/signature_detail';\nimport ManageSignatureSources from 'components/routes/manage/signature_sources';\nimport ManageWorkflows from 'components/routes/manage/workflows';\nimport WorkflowDetail from 'components/routes/manage/workflow_detail';\nimport Optout from 'components/routes/optout';\nimport Search from 'components/routes/search';\nimport Settings from 'components/routes/settings';\nimport SubmissionDetail from 'components/routes/submission/detail';\nimport SubmissionReport from 'components/routes/submission/report';\nimport Submissions from 'components/routes/submissions';\nimport Submit from 'components/routes/submit';\nimport Tos from 'components/routes/tos';\nimport User from 'components/routes/user';\nimport React, { useEffect, useState } from 'react';\nimport { matchPath, Redirect, Route, Switch, useLocation } from 'react-router-dom';\n\nconst APP_NAME = 'AL4';\n\nfunction RouteActions() {\n  const { pathname } = useLocation();\n  const [oldID, setOldID] = useState(null);\n\n  useEffect(() => {\n    // Scroll to top\n    const { params } = { params: { id: null }, ...matchPath(pathname, { path: '/submission/detail/:id' }) };\n    // eslint-disable-next-line prefer-destructuring, @typescript-eslint/dot-notation\n    const id = params['id'];\n    if (id === null || id === undefined || id === oldID) {\n      window.scrollTo(0, 0);\n      setOldID(id);\n    }\n\n    // Patch window title\n    const currentLocation = pathname.split('/').join(' ').trim();\n    document.title = `${APP_NAME} | ${\n      currentLocation ? currentLocation.charAt(0).toUpperCase() + currentLocation.slice(1) : 'Submit'\n    }`;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname]);\n\n  return null;\n}\n\nconst WrappedRoutes = () => {\n  const { configuration, settings } = useALContext();\n  return (\n    <>\n      <RouteActions />\n      <Switch>\n        <Route exact path=\"/\" component={Submit} />\n        <Route exact path=\"/account\" component={Account} />\n        <Route exact path=\"/alerts\" component={Alerts} />\n        <Route exact path=\"/alerts/legacy\" component={AlertsLegacy} />\n        <Route exact path=\"/alerts/:id\" component={AlertDetails} />\n        <Route exact path=\"/admin\" component={Admin} />\n        <Route exact path=\"/admin/errors\" component={AdminErrorViewer} />\n        <Route exact path=\"/admin/services\" component={AdminServices} />\n        <Route exact path=\"/admin/services/:svc\" component={Service} />\n        <Route exact path=\"/admin/sitemap\" component={AdminSiteMap} />\n        <Route exact path=\"/admin/users\" component={AdminUsers} />\n        <Route exact path=\"/admin/users/:id\" component={User} />\n        <Route exact path=\"/authorize\" component={AppRegistration} />\n        <Route exact path=\"/dashboard\" component={Dashboard} />\n        <Route exact path=\"/file/detail/:id\" component={FileFullDetail} />\n        <Route exact path=\"/file/viewer/:id\" component={FileViewer} />\n        <Route exact path=\"/help\" component={Help} />\n        <Route exact path=\"/help/api\" component={HelpApiDoc} />\n        <Route exact path=\"/help/classification\" component={HelpClassification} />\n        <Route exact path=\"/help/configuration\" component={HelpConfiguration} />\n        <Route exact path=\"/help/search\" component={HelpSearch} />\n        <Route exact path=\"/help/services\" component={HelpServices} />\n        <Route exact path=\"/logout\" component={Logout} />\n        <Route exact path=\"/manage/heuristics\" component={ManageHeuristics} />\n        <Route exact path=\"/manage/heuristic/:id\" component={HeuristicDetail} />\n        <Route exact path=\"/manage/signatures\" component={ManageSignatures} />\n        <Route exact path=\"/manage/signature/:id\" component={SignatureDetail} />\n        <Route exact path=\"/manage/sources\" component={ManageSignatureSources} />\n        <Route exact path=\"/manage/workflow/:id\" component={WorkflowDetail} />\n        <Route exact path=\"/manage/workflows\" component={ManageWorkflows} />\n        <Route exact path=\"/manage\" component={Manage} />\n        <Route exact path=\"/optout\" component={Optout} />\n        <Route exact path=\"/search\" component={Search} />\n        <Route exact path=\"/search/:id\" component={Search} />\n        <Route exact path=\"/settings\" component={Settings} />\n        <Route exact path=\"/submit\" component={Submit} />\n        <Route exact path=\"/submission/detail/:id/:fid\" component={SubmissionDetail} />\n        <Route exact path=\"/submission/detail/:id\" component={SubmissionDetail} />\n        <Route exact path=\"/submission/report/:id\" component={SubmissionReport} />\n        {settings.submission_view === 'details' ? (\n          <Redirect from=\"/submission/:id\" to=\"/submission/detail/:id\" />\n        ) : (\n          <Redirect from=\"/submission/:id\" to=\"/submission/report/:id\" />\n        )}\n        <Route exact path=\"/submissions\" component={Submissions} />\n        <Route exact path=\"/tos\" component={Tos} />\n        <Route exact path=\"/forbidden\" component={ForbiddenPage} />\n        <Route exact path=\"/notfound\" component={NotFoundPage} />\n        <Redirect to=\"/notfound\" />\n      </Switch>\n      {configuration.system && configuration.system.type !== 'production' && (\n        <div\n          style={{\n            position: 'sticky',\n            bottom: '16px',\n            right: '16px',\n            opacity: '0.4',\n            textAlign: 'right',\n            zIndex: 10000,\n            marginTop: 'auto',\n            marginLeft: 'auto'\n          }}\n        >\n          {`Assemblyline ${configuration.system.version} :: `}\n          <span style={{ textTransform: 'capitalize' }}>{configuration.system.type}</span>\n        </div>\n      )}\n    </>\n  );\n};\n\nconst Routes = React.memo(WrappedRoutes);\nexport default Routes;\n","import AppContextProvider from 'commons/components/app/AppContextProvider';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport AppLayoutProvider from 'commons/components/layout/LayoutProvider';\nimport SiteMapProvider from 'commons/components/sitemap/SitemapProvider';\nimport UserProvider from 'commons/components/user/UserProvider';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport useMySitemap from 'components/hooks/useMySitemap';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport useMyUser from 'components/hooks/useMyUser';\nimport LoadingScreen from 'components/routes/loading';\nimport LockedPage from 'components/routes/locked';\nimport LoginScreen from 'components/routes/login';\nimport Routes from 'components/routes/routes';\nimport Tos from 'components/routes/tos';\nimport DrawerProvider from 'components/visual/DrawerProvider';\nimport HighlightProvider from 'components/visual/HighlightProvider';\nimport { getProvider } from 'helpers/utils';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BrowserRouter } from 'react-router-dom';\n\ntype LoginParamsProps = {\n  oauth_providers: string[];\n  allow_userpass_login: boolean;\n  allow_signup: boolean;\n  allow_pw_rest: boolean;\n};\n\ntype PossibleApps = 'load' | 'locked' | 'login' | 'routes' | 'tos';\n\nconst MyApp = () => {\n  const storedLoginParams = localStorage.getItem('loginParams');\n  const defaultLoginParams = storedLoginParams ? JSON.parse(storedLoginParams) : null;\n\n  const provider = getProvider();\n  const [renderedApp, setRenderedApp] = useState<PossibleApps>(provider ? 'login' : 'load');\n  const [loginParams, setLoginParams] = useState<LoginParamsProps | null>(defaultLoginParams);\n\n  const { t } = useTranslation();\n  const { setUser, setConfiguration } = useALContext();\n  const { setReady } = useAppLayout();\n  const { showErrorMessage } = useMySnackbar();\n\n  const switchRenderedApp = (value: PossibleApps) => {\n    if (renderedApp !== value) {\n      setRenderedApp(value);\n    }\n  };\n\n  useEffect(() => {\n    if (provider) {\n      return;\n    }\n    const requestOptions: RequestInit = {\n      method: 'GET',\n      headers: {\n        'X-XSRF-TOKEN': getXSRFCookie()\n      },\n      credentials: 'same-origin'\n    };\n\n    fetch('/api/v4/user/whoami/', requestOptions)\n      .then(res => {\n        return res.json();\n      })\n      .catch(() => {\n        return {\n          api_error_message: t('api.unreachable'),\n          api_response: '',\n          api_server_version: '4.0.0',\n          api_status_code: 400\n        };\n      })\n      .then(api_data => {\n        // eslint-disable-next-line no-prototype-builtins\n        if (api_data === undefined || !api_data.hasOwnProperty('api_response')) {\n          showErrorMessage(t('api.unreachable'), 30000);\n          switchRenderedApp('load');\n        } else if (api_data.api_status_code === 403) {\n          setConfiguration(api_data.api_response);\n          switchRenderedApp('locked');\n        } else if (api_data.api_status_code === 401) {\n          localStorage.setItem('loginParams', JSON.stringify(api_data.api_response));\n          setLoginParams(api_data.api_response);\n          switchRenderedApp('login');\n        } else if (api_data.api_status_code === 200) {\n          setUser(api_data.api_response);\n          setReady(true);\n          if (!api_data.api_response.agrees_with_tos && api_data.api_response.configuration.ui.tos) {\n            switchRenderedApp('tos');\n          } else {\n            switchRenderedApp('routes');\n          }\n        } else {\n          showErrorMessage(t('api.unreachable'), 30000);\n          switchRenderedApp('load');\n        }\n      });\n    // eslint-disable-next-line\n  }, []);\n  return {\n    load: <LoadingScreen />,\n    locked: <LockedPage />,\n    login: loginParams ? (\n      <LoginScreen\n        oAuthProviders={loginParams.oauth_providers}\n        allowUserPass={loginParams.allow_userpass_login}\n        allowSignup={loginParams.allow_signup}\n        allowPWReset={loginParams.allow_pw_rest}\n      />\n    ) : (\n      <LoadingScreen />\n    ),\n    routes: <Routes />,\n    tos: <Tos />\n  }[renderedApp];\n};\n\nconst AppInit: React.FC = () => {\n  // WARNING: do not use these hooks any other places than here.\n  // Each of these hooks have corresponding hooks in the commons\n  //  that accesses they global state stored in react context providers.\n  const layoutProps = useMyLayout();\n  const sitemapProps = useMySitemap();\n  const userProps = useMyUser();\n  // For src/components/hooks/useMyLayout -[use]-> src/commons/components/hooks/useAppLayout\n  // For src/components/hooks/useMySiteMap -[use]-> src/commons/components/hooks/useAppSiteMap\n  // For src/components/hooks/useMyUser -[use]-> src/commons/components/hooks/useAppUser\n\n  // General TemplateUI layout structure.\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <UserProvider {...userProps}>\n        <SiteMapProvider {...sitemapProps}>\n          <HighlightProvider>\n            <DrawerProvider>\n              <AppLayoutProvider {...layoutProps}>\n                <MyApp />\n              </AppLayoutProvider>\n            </DrawerProvider>\n          </HighlightProvider>\n        </SiteMapProvider>\n      </UserProvider>\n    </BrowserRouter>\n  );\n};\n\n// Main Application entry component.\n// This will initialize things like theme and snackar providers which will then be available\n//  from this point on.\nconst App = () => {\n  const colors = {\n    darkPrimary: '#7c93b9',\n    darkSecondary: '#929cad',\n    lightPrimary: '#0b65a1',\n    lightSecondary: '#939dac'\n  };\n  return (\n    <AppContextProvider defaultTheme=\"light\" colors={colors}>\n      <AppInit />\n    </AppContextProvider>\n  );\n};\n\nexport default App;\n","import AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport BallotOutlinedIcon from '@material-ui/icons/BallotOutlined';\nimport BlockIcon from '@material-ui/icons/Block';\nimport BuildOutlinedIcon from '@material-ui/icons/BuildOutlined';\nimport BusinessOutlinedIcon from '@material-ui/icons/BusinessOutlined';\nimport ChromeReaderModeOutlinedIcon from '@material-ui/icons/ChromeReaderModeOutlined';\nimport CodeOutlinedIcon from '@material-ui/icons/CodeOutlined';\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ListOutlinedIcon from '@material-ui/icons/ListOutlined';\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport PublishOutlinedIcon from '@material-ui/icons/PublishOutlined';\nimport ReceiptOutlinedIcon from '@material-ui/icons/ReceiptOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsApplicationsOutlinedIcon from '@material-ui/icons/SettingsApplicationsOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport SimCardOutlinedIcon from '@material-ui/icons/SimCardOutlined';\nimport SupervisorAccountOutlinedIcon from '@material-ui/icons/SupervisorAccountOutlined';\nimport WebAssetIcon from '@material-ui/icons/WebAsset';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\n\n// SiteMapContextProps configuration properties.\n// exceptLast: boolean = false (default),\n// allLinks: boolean = false (default),\n// lastOnly: boolean = false (default),\n// itemsBefore: number = 1 (default),\n// itemsAfter: number = 1 (default),\n// routes: SiteMapRoute[] = [] (default)\n\n// For each individual SiteMapRoute:\n// path: string -> the react router path to this route.\n// title: string -> the title/lable to display in breadcrumbs for this route.\n// icon?: React.ReactNode -> the icon component to show beside the title/lable.\n// isRoot?: boolean = false -> when true, indicates that the breadcrumbs will reset to this one path each time it is encountered.\n// isLeaf?: boolean = false -> when true, indicates that this path does not aggregate in breadcrumbs, i.e. will be replaced by next path.\n// excluded?: boolean = false -> when true, indicates to breadcrumbs component to not render this route.  This is usefull if you want to use <PageHeader mode='title' />\nexport default function useMySitemap() {\n  const { t } = useTranslation();\n  return {\n    routes: [\n      { path: '/forbidden', title: t('forbidden'), isRoot: true, icon: <BlockIcon /> },\n      { path: '/notfound', title: t('notfound'), isRoot: true, icon: <LinkOffIcon /> },\n\n      { path: '/', title: t('drawer.submit'), isRoot: true, icon: <PublishOutlinedIcon /> },\n      { path: '/submit', title: t('drawer.submit'), isRoot: true, icon: <PublishOutlinedIcon /> },\n      { path: '/submissions', title: t('drawer.submissions'), isRoot: true, icon: <AmpStoriesOutlinedIcon /> },\n      {\n        path: '/submission/detail/:id',\n        title: t('breadcrumb.submission.detail'),\n        icon: <ListAltOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      {\n        path: '/file/detail/:id',\n        title: t('breadcrumb.file.detail'),\n        icon: <DescriptionOutlinedIcon />,\n        isRoot: true\n      },\n      {\n        path: '/file/viewer/:id',\n        title: t('breadcrumb.file.viewer'),\n        icon: <PageviewOutlinedIcon />,\n        isRoot: true\n      },\n      {\n        path: '/submission/detail/:id/:fid',\n        title: t('breadcrumb.submission.detail'),\n        icon: <ListAltOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      {\n        path: '/submission/report/:id',\n        title: t('breadcrumb.submission.report'),\n        icon: <ChromeReaderModeOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      { path: '/alerts', title: t('drawer.alerts'), isRoot: true, icon: <NotificationImportantOutlinedIcon /> },\n      {\n        path: '/alerts/:id',\n        title: t('breadcrumb.alert.detail'),\n        icon: <BallotOutlinedIcon />,\n        breadcrumbs: ['/alerts']\n      },\n      { path: '/dashboard', title: t('drawer.dashboard'), isRoot: true, icon: <DashboardOutlinedIcon /> },\n      { path: '/manage', title: t('drawer.manage'), isRoot: true, icon: <BuildOutlinedIcon /> },\n      {\n        path: '/manage/heuristics',\n        title: t('drawer.manage.heuristics'),\n        icon: <SimCardOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/heuristic/:id',\n        title: t('breadcrumb.heuristic.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/heuristics']\n      },\n      {\n        path: '/manage/signatures',\n        title: t('drawer.manage.signatures'),\n        icon: <FingerprintOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/signature/:id',\n        title: t('breadcrumb.signature.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/signatures']\n      },\n      {\n        path: '/manage/sources',\n        title: t('drawer.manage.source'),\n        icon: <CodeOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/workflow/:id',\n        title: t('breadcrumb.workflow.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/workflows']\n      },\n      {\n        path: '/manage/workflows',\n        title: t('drawer.manage.workflow'),\n        icon: <BiNetworkChart />,\n        breadcrumbs: ['/manage']\n      },\n      { path: '/search', title: t('drawer.search'), isRoot: true, icon: <SearchIcon /> },\n      { path: '/search/alert', title: t('drawer.search.alert'), breadcrumbs: ['/search'] },\n      { path: '/search/file', title: t('drawer.search.file'), breadcrumbs: ['/search'] },\n      { path: '/search/result', title: t('drawer.search.result'), breadcrumbs: ['/search'] },\n      { path: '/search/signature', title: t('drawer.search.signature'), breadcrumbs: ['/search'] },\n      { path: '/search/submission', title: t('drawer.search.submission'), breadcrumbs: ['/search'] },\n      { path: '/help', title: t('drawer.help'), isRoot: true, icon: <HelpOutlineOutlinedIcon /> },\n      { path: '/help/api', title: t('drawer.help.api'), icon: <AssignmentOutlinedIcon />, breadcrumbs: ['/help'] },\n      {\n        path: '/help/classification',\n        title: t('drawer.help.classification'),\n        icon: <LabelOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      {\n        path: '/help/configuration',\n        title: t('drawer.help.configuration'),\n        icon: <SettingsApplicationsOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      { path: '/help/search', title: t('drawer.help.search'), icon: <SearchIcon />, breadcrumbs: ['/help'] },\n      {\n        path: '/help/services',\n        title: t('drawer.help.services'),\n        icon: <AccountTreeOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      { path: '/tos', title: t('breadcrumb.tos'), isRoot: true, icon: <ReceiptOutlinedIcon /> },\n      { path: '/account', title: t('usermenu.account'), isRoot: true, icon: <AccountCircleOutlinedIcon /> },\n      { path: '/settings', title: t('usermenu.settings'), isRoot: true, icon: <SettingsOutlinedIcon /> },\n      { path: '/admin', title: t('adminmenu'), isRoot: true, icon: <BusinessOutlinedIcon /> },\n      {\n        path: '/admin/errors',\n        title: t('adminmenu.errors'),\n        icon: <ErrorOutlineOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/services',\n        title: t('adminmenu.services'),\n        icon: <AccountTreeOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/services/:svc',\n        title: '{:svc}',\n        icon: <WebAssetIcon />,\n        breadcrumbs: ['/admin', '/admin/services']\n      },\n      { path: '/admin/sitemap', title: t('adminmenu.sitemap'), icon: <MapOutlinedIcon />, breadcrumbs: ['/admin'] },\n      {\n        path: '/admin/users',\n        title: t('adminmenu.users'),\n        icon: <SupervisorAccountOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/users/:id',\n        title: '{:id}',\n        isRoot: true,\n        icon: <AccountCircleOutlinedIcon />,\n        breadcrumbs: ['/admin', '/admin/users']\n      }\n    ]\n  };\n}\n","import App from 'components/app/app';\nimport 'fontsource-roboto';\nimport 'i18n';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}