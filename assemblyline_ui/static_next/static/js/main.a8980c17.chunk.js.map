{"version":3,"sources":["helpers/cbor.js","helpers/flow.js","commons/components/hooks/useAppTheme.ts","commons/components/app/AppContextProvider.tsx","commons/components/user/UserProvider.tsx","commons/components/hooks/useAppUser.ts","commons/components/layout/leftnav/LeftNavItem.tsx","commons/components/layout/leftnav/LeftNavGroup.tsx","commons/components/layout/topnav/AppTitle.tsx","commons/components/layout/leftnav/LeftNavDrawer.tsx","commons/components/hooks/useAppBarHeight.tsx","commons/components/hooks/useAppContext.tsx","commons/components/sitemap/SitemapProvider.tsx","i18n.ts","commons/components/hooks/useAppSitemap.ts","commons/components/layout/topnav/ThemeSelection.tsx","commons/components/layout/breadcrumbs/BreadcrumbIcon.tsx","commons/components/layout/breadcrumbs/BreadcrumbLinkItem.tsx","commons/components/layout/breadcrumbs/BreadcrumbLastItem.tsx","commons/components/layout/breadcrumbs/BreadcrumbList.tsx","commons/components/layout/breadcrumbs/Breadcrumbs.tsx","commons/components/layout/topnav/AppSwitcher.tsx","commons/components/layout/topnav/QuickSearch.tsx","commons/components/layout/topnav/ThemeSelectionIcon.tsx","commons/components/hooks/useGravatar.tsx","commons/components/layout/topnav/UserProfile.tsx","commons/components/layout/topnav/TopBar.tsx","commons/components/layout/LayoutProvider.tsx","commons/components/hooks/useAppLayout.ts","components/hooks/useALContext.tsx","components/hooks/useMyLayout.tsx","components/hooks/useMySnackbar.tsx","components/hooks/useMyUser.tsx","components/routes/loading.tsx","commons/components/layout/pages/PageCenter.tsx","components/routes/403.tsx","components/routes/locked.tsx","commons/components/layout/pages/CardCentered.tsx","helpers/xsrf.tsx","components/hooks/useMyAPI.tsx","components/routes/login/oauth.tsx","components/routes/login/otp.tsx","components/routes/login/reset.tsx","helpers/toArrayBuffer.tsx","components/routes/login/sectoken.tsx","components/routes/login/signup.tsx","components/routes/login/userpass.tsx","components/visual/TextDivider.tsx","helpers/utils.ts","components/routes/login.tsx","components/routes/404_dl.tsx","components/routes/user/api_keys.tsx","components/routes/user/disable_otp.tsx","components/routes/user/otp.tsx","components/routes/user/token.tsx","components/visual/CustomChip.tsx","helpers/classificationParser.ts","components/visual/Classification.tsx","components/visual/ConfirmationDialog.tsx","components/routes/user/apps.tsx","components/routes/user.tsx","components/routes/account.tsx","components/layout/linkgrid.tsx","components/routes/admin.tsx","commons/components/hooks/useClipboard.tsx","commons/components/layout/pages/PageFullWidth.tsx","commons/components/layout/pages/PageHeader.tsx","components/visual/DrawerProvider.tsx","components/hooks/useDrawer.tsx","commons/addons/elements/utils/browser.ts","commons/addons/elements/utils/keyboard.ts","components/visual/SearchBar/search-textfield.tsx","components/visual/SearchBar/search-bar.tsx","components/visual/SearchBar/simple-search-query.ts","components/visual/SearchPager.tsx","components/visual/DivTable.tsx","components/visual/InformativeAlert.tsx","components/visual/SearchResult/errors.tsx","components/routes/admin/error_viewer.tsx","components/visual/Empty.tsx","components/routes/admin/service_detail/container_dialog.tsx","components/routes/admin/service_detail/container_card.tsx","components/routes/admin/service_detail/container.tsx","components/routes/admin/service_detail/general.tsx","components/routes/admin/service_detail/multi_type_config.tsx","components/routes/admin/service_detail/multi_type_param.tsx","components/routes/admin/service_detail/parameters.tsx","components/routes/manage/signature_sources.tsx","components/routes/admin/service_detail/source_dialog.tsx","components/routes/admin/service_detail/updater.tsx","components/routes/admin/service_detail.tsx","components/visual/SearchResult/service.tsx","components/routes/admin/services.tsx","components/routes/admin/site_map.tsx","components/visual/SearchResult/users.tsx","components/routes/admin/users.tsx","components/visual/ChipList.tsx","components/visual/Verdict.tsx","components/routes/alerts/alert-priority.tsx","components/routes/alerts/alert-status.tsx","components/routes/alerts/alert-details.tsx","commons/addons/elements/carousel/Carousel.tsx","commons/addons/elements/utils/throttler.ts","commons/addons/elements/lists/hooks/useListNavigator.tsx","commons/addons/elements/lists/carousel/ListCarousel.tsx","commons/addons/elements/lists/navigator/ListNavigator.tsx","commons/addons/elements/lists/hooks/useListKeyboard.tsx","commons/addons/elements/lists/hooks/useListStyles.tsx","commons/addons/elements/lists/item/ListItemBase.tsx","commons/addons/elements/lists/scrollers/SimpleListScroller.ts","commons/addons/elements/lists/simplelist/SimpleList.tsx","components/routes/alerts/alert-list-item.tsx","components/routes/alerts/hooks/usePromiseAPI.tsx","components/routes/alerts/alert-list-item-actions.tsx","components/visual/SearchBar/search-query.ts","components/routes/alerts/alerts-filters.tsx","components/routes/alerts/hooks/useFavorites.tsx","components/routes/alerts/alerts-filters-favorites.tsx","components/routes/alerts/alerts-filters-selected.tsx","components/routes/alerts/alerts-workflow-actions.tsx","components/routes/alerts/hooks/useAlerts.ts","components/routes/alerts/alerts.tsx","components/visual/ExtendedScan.tsx","components/visual/VerdictBar.tsx","components/routes/alerts/alert-card.tsx","components/routes/alerts/legacy-alert.tsx","components/routes/authorize.tsx","commons/components/hooks/useFullscreenStatus.ts","commons/components/layout/pages/PageFullScreen.tsx","components/visual/ArcGauge.tsx","components/routes/dashboard.tsx","components/visual/HighlightProvider.tsx","components/hooks/useHighlighter.tsx","components/visual/ResultCard/extracted_file.tsx","components/visual/ResultCard/extracted.tsx","components/visual/Attack.tsx","components/visual/Heuristic.tsx","components/visual/SectionHighlight.tsx","components/visual/Tag.tsx","components/visual/TitleKey.tsx","components/visual/ResultCard/result_section.tsx","components/visual/ResultCard/supplementary.tsx","components/visual/ResultCard.tsx","components/visual/FileDetail/attacks.tsx","components/visual/FileDetail/childrens.tsx","components/visual/FileDetail/emptys.tsx","components/visual/ErrorCard.tsx","components/visual/FileDetail/errors.tsx","components/visual/FileDetail/freqency.tsx","components/visual/FileDetail/heuristics.tsx","components/visual/FileDetail/indent.tsx","components/visual/FileDetail/metadata.tsx","components/visual/FileDetail/parents.tsx","components/visual/FileDetail/results.tsx","components/visual/FileDetail/tags.tsx","components/visual/FileDetail.tsx","components/routes/file/detail.tsx","components/routes/file/viewer.tsx","components/routes/help.tsx","components/routes/help/api.tsx","components/routes/help/classification.tsx","components/routes/help/configuration.tsx","commons/addons/section/ContentManagedSection.tsx","components/routes/help/search.tsx","components/routes/help/services.tsx","components/routes/logout.tsx","components/routes/manage.tsx","components/visual/SearchResult/heuristics.tsx","components/visual/Histogram.tsx","components/visual/SearchResult/results.tsx","components/routes/manage/heuristic_detail.tsx","components/routes/manage/heuristics.tsx","components/visual/SignatureStatus.tsx","components/visual/SearchResult/signatures.tsx","components/routes/manage/signature_detail.tsx","components/routes/manage/signatures.tsx","components/visual/SearchResult/workflow.tsx","components/routes/manage/workflow_detail.tsx","components/routes/manage/workflows.tsx","components/routes/optout.tsx","components/visual/SearchResult/alerts.tsx","components/visual/SearchResult/files.tsx","components/visual/SubmissionState.tsx","components/visual/SearchResult/submissions.tsx","components/routes/search.tsx","components/layout/serviceTree.tsx","components/routes/settings.tsx","helpers/errors.js","components/routes/submission/detail/attack.tsx","components/routes/submission/detail/errors.tsx","components/routes/submission/detail/file_tree.tsx","components/routes/submission/detail/heuristics.tsx","components/routes/submission/detail/info.tsx","components/routes/submission/detail/meta.tsx","components/routes/submission/detail/tags.tsx","components/routes/submission/detail.tsx","components/visual/TextVerdict.tsx","components/visual/VerdictGauge.tsx","components/routes/submission/report.tsx","components/routes/submissions.tsx","components/visual/FileDropper.tsx","components/routes/submit.tsx","helpers/uuid.js","components/routes/tos.tsx","components/routes/routes.tsx","components/app/app.tsx","components/hooks/useMySitemap.tsx","index.tsx"],"names":["global","undefined","define","encode","value","lastLength","data","ArrayBuffer","dataView","DataView","offset","prepareWrite","length","newByteLength","byteLength","requiredLength","oldDataView","uint32count","i","setUint32","getUint32","commitWrite","writeUint8","setUint8","writeUint8Array","writeTypeAndLength","type","setUint16","writeUint16","writeUint32","low","high","writeUint64","encodeItem","Math","floor","setFloat64","writeFloat64","utf8data","charCode","charCodeAt","push","Array","isArray","Uint8Array","keys","Object","key","slice","ret","retView","getUint8","decode","tagger","simpleValue","commitRead","readArrayBuffer","readUint8","readUint16","getUint16","readUint32","readBreak","readLength","additionalInformation","readIndefiniteStringLength","majorType","initialByte","appendUtf16Data","utf16data","decodeItem","tempArrayBuffer","tempDataView","sign","exponent","fraction","getFloat32","readFloat16","getFloat64","elements","fullArrayLength","fullArray","fullArrayOffset","set","String","fromCharCode","apply","retArray","retObject","window","document","Flow","opts","this","support","File","Blob","FileList","prototype","webkitSlice","mozSlice","supportDirectory","test","navigator","userAgent","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","prioritizeFirstAndLastChunk","target","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","events","$","onDrop","event","stopPropagation","preventDefault","dataTransfer","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","name","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","error","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","FlowChunk","fileObj","fileObjSize","tested","retries","pendingRetry","preprocessState","loaded","total","startByte","endByte","min","xhr","progressHandler","lengthComputable","chunkEvent","testHandler","status","message","uploadNextChunk","send","doneHandler","abort","retryInterval","setTimeout","dst","src","each","arguments","obj","callback","context","call","hasOwnProperty","on","toLowerCase","off","fn","array","index","indexOf","splice","arrayRemove","fire","args","unshift","queue","readSuccess","entries","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","readEntries","decrement","substring","fileError","item","getAsFile","custom","replace","preventEvents","found","chunk","outstanding","isComplete","assignBrowse","domNodes","domNode","input","tagName","createElement","setAttribute","style","position","overflow","verticalAlign","top","right","fontFamily","fontSize","margin","padding","opacity","cursor","appendChild","addEventListener","e","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","upload","started","num","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","getSize","sizeUploaded","timeRemaining","sizeDelta","Number","POSITIVE_INFINITY","measureSpeed","timeSpan","smoothingFactor","uploaded","max","reset","c","retry","round","ceil","bytesLoaded","percent","delta","getType","split","getExtension","substr","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","params","join","XMLHttpRequest","prepareXhrRequest","preprocessFinished","func","bytes","readyState","responseText","s","paramsMethod","blob","v","k","encodeURIComponent","FormData","append","open","setRequestHeader","version","module","exports","useAppTheme","isDark","colors","useMemo","background","darkPrimary","darkSecondary","lightPrimary","lightSecondary","palette","primary","main","secondary","dark","light","createMuiTheme","overrides","MuiCssBaseline","body","width","height","left","bottom","AppContext","React","createContext","useStyles","makeStyles","theme","snackroot","breakpoints","only","wordBreak","AppContextProvider","defaultTheme","defaultContext","children","useState","setContext","classes","prefersDarkMode","useMediaQuery","storedDarkMode","localStorage","getItem","darkMode","JSON","parse","getInitialTheme","setTheme","appTheme","Provider","isDarkTheme","isLightTheme","toggleTheme","newTheme","setItem","stringify","getAppbarStyles","layout","isTopLayout","backgroundColor","default","appbar","sticky","elevation","color","getContrastText","ThemeProvider","root","UserContext","UserProvider","props","contextProps","defaultProps","validateProps","useAppUser","useContext","user","setUser","isReady","createStyles","nested","paddingLeft","spacing","withWidth","useAppLayout","drawerState","hideNestedIcons","toggleDrawer","text","icon","route","userPropValidators","ListItem","button","component","Link","to","dense","className","onClick","isWidthDown","ListItemIcon","ListItemText","Tooltip","title","aria-label","placement","LeftNavGroup","id","popoverTarget","setPopoverTarget","collapseOpen","setCollapseOpen","groupItem","currentTarget","onPopoverClick","Collapse","in","timeout","unmountOnExit","List","disablePadding","map","Popover","onClose","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","topBarTitle","display","alignItems","flex","letterSpacing","minWidth","textDecoration","AppTitle","disabled","noTitle","useTheme","isXs","layoutProps","getLogo","IconButton","edge","appName","drawer","flexShrink","whiteSpace","drawerOver","overflowX","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","leavingScreen","up","border","toolbar","toggler","t","useTranslation","currentLayout","header","Toolbar","Divider","hide","ClickAwayListener","mouseEvent","touchEvent","onClickAway","Drawer","variant","clsx","paper","leftnav","element","Box","useAppBarHeight","setHeight","updateHeight","getElementById","rect","getBoundingClientRect","useLayoutEffect","useAppContext","SiteMapContext","SiteMapProvider","history","useHistory","breadcrumbs","setBreadcrumbs","isUserReady","useEffect","appendRoute","getRoute","routes","location","pathname","listen","_matchedRoute","_breadcrumbs","resources","en","adminErrorViewer","adminErrorViewerEN","adminServices","adminServicesEN","adminSiteMap","adminSiteMapEN","adminUsers","adminUsersEN","authorize","authorizeEN","dashboard","dashboardEN","error403","error403EN","error404","error404EN","fileDetail","fileDetailEN","fileViewer","fileViewerEN","helpAPI","helpAPIEN","helpClassification","helpClassificationEN","helpConfiguration","helpConfigurationEN","helpSearch","helpSearchEN","helpServices","helpServicesEN","locked","lockedEN","login","loginEN","logout","logoutEN","manageHeuristics","manageHeuristicsEN","manageHeuristicDetail","manageHeuristicDetailEN","manageSignatures","manageSignaturesEN","manageSignatureDetail","manageSignatureDetailEN","manageSignatureSources","manageSignatureSourcesEN","manageWorkflowDetail","manageWorkflowDetailEN","manageWorkflows","manageWorkflowsEN","optout","optoutEN","search","searchEN","settings","settingsEN","statisticsHeuristics","statisticsHeuristicsEN","statisticsSignatures","statisticsSignaturesEN","submissions","submissionsEN","submissionDetail","submissionDetailEN","submissionReport","submissionReportEN","submit","submitEN","translation","translationEN","tos","tosEN","userEN","alerts","alertsEN","favorites","favoritesEN","fr","adminErrorViewerFR","adminServicesFR","adminSiteMapFR","adminUsersFR","authorizeFR","dashboardFR","error403FR","error404FR","fileDetailFR","fileViewerFR","helpAPIFR","helpClassificationFR","helpConfigurationFR","helpSearchFR","helpServicesFR","lockedFR","loginFR","logoutFR","manageHeuristicsFR","manageHeuristicDetailFR","manageSignaturesFR","manageSignatureDetailFR","manageSignatureSourcesFR","manageWorkflowDetailFR","manageWorkflowsFR","optoutFR","searchFR","settingsFR","statisticsHeuristicsFR","statisticsSignaturesFR","submissionsFR","submissionDetailFR","submissionReportFR","submitFR","translationFR","tosFR","userFR","alertsFR","favoritesFR","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","keySeparator","interpolation","escapeValue","detection","order","TITLE_404","siteMap","matched","_route","matcher","matchPath","path","filter","m","isExact","console","warn","breadcrumb","isRoot","isLeaf","findIndex","_breadcrumb","is404","useAppSitemap","resolveTitle","forEach","getSiteRoute","last","first","Lang","marginRight","BreadcrumbIcon","link","maxWidth","textOverflow","LinkRouter","RouterLink","BreadcrumbLinkItem","textOnly","url","paddingTop","BreadcrumbLastItem","linkClasses","useLinkStyle","Typography","BreadcrumbsEllipsis","css","expanded","BreadcrumbList","disableStyle","itemsBefore","itemsAfter","allLinks","exceptLast","isStatic","setExpanded","useBreadcrumbStyles","itemsBeforeCount","itemsAfterCount","_items","concat","exclude","before","after","hasEllipsis","splitItems","pop","maxItems","moreicon","flexGrow","marginTop","Breadcrumbs","isMedium","isExpanded","breadcrumbsState","lastOnly","current","staticBreadcrumbs","popper","zIndex","popperAnchorEl","setPopperAnchorEl","isPopperOpen","sp1","topnav","apps","Popper","TransitionProps","Fade","Paper","textAlign","flexDirection","flexWrap","a","Button","newWindow","href","fontWeight","Avatar","alt","img_d","img_l","QuickSearch","breadcrumbsEnabled","borderRadius","shape","fade","marginLeft","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","allowBreadcrumbs","setValue","uri","quickSearchURI","param","quickSearchParam","autoComplete","onSubmit","InputBase","onChange","placeholder","inputProps","isLang","lang","language","valueOf","useApp","showQuickSearch","autoHideAppbar","toggleLayout","toggleQuickSearch","toggleAutoHideAppbar","toggleShowBreadcrumbs","toggleBreadcrumbsState","allowPersonalization","allowAutoHideTopbar","allowQuickSearch","allowReset","allowThemeSelection","allowTopbarModeSelection","allowTranslate","subheader","ListSubheader","disableSticky","changeLanguage","EN","FR","Switch","checked","ListItemSecondaryAction","allowBreadcrumbsMinimize","clear","reload","ThemeSelectionIcon","md5","require","useGravatar","email","appBar","avatarButton","iconButton","down","UserProfile","currentUser","useUser","gravatarUrl","allowGravatar","sp2","sp3","renderMenu","menuItems","avatar","n","toUpperCase","disableGutters","paddingBottom","paddingRight","noWrap","userMenu","userMenuTitle","is_admin","adminMenu","adminMenuTitle","themeSelectionUnder","appBarTopLayout","menuButton","topBarLeft","leftSpacer","SlideIn","show","Slide","appear","direction","mountOnEnter","appbarState","isSm","appbarStyles","leftAfterBreadcrumbs","dispatchEvent","CustomEvent","autoHide","AppBar","isWidthUp","useNewStyles","appVertical","appVerticalLeft","appVerticalRight","appVerticalRightContent","appHorizontal","AppLayoutContext","AppLayoutProvider","initialLayout","storedNavLayout","defaultLayout","storedDrawer","initialDrawer","defaultDrawerOpen","storedQuickSearch","initialQuickSearch","defaultShowQuickSearch","storedAutoHideAppbar","initialAutoHideAppbar","defaultAutoHideAppbar","storedShowBreadcrumbs","initialBreadcrumbsEnabled","defaultShowBreadcrumbs","storedBreadcrumbs","initialBreadcrumbsState","defaultBreadcrumbsOpen","appReady","setAppReady","showMenus","setShowMenus","setDrawer","setAppbarState","setBreadcrumbsEnabled","setBreadcrumbsState","quickSearch","setQuickSearch","setAutoHideAppbar","setLayout","isSM","isPrinting","newClasses","getBanner","curTheme","bannerDark","bannerLight","appIconDark","appIconLight","hideMenus","newLayout","setReady","CssBaseline","useALContext","useMyLayout","isXS","MENU_ITEMS","prop","USER_MENU_ITEMS","ADMIN_MENU_ITEMS","darkLogo","process","lightLogo","darkBanner","useMySnackbar","useSnackbar","enqueueSnackbar","closeSnackbar","snackBarOptions","preventDuplicate","snack","showErrorMessage","autoHideDuration","showWarningMessage","showSuccessMessage","showInfoMessage","useMyUser","setState","c12nDef","setC12nDef","configuration","setConfiguration","indexes","setIndexes","setSettings","flattenedProps","setFlattenedProps","validateProp","propDef","whoAmIData","cfg","c12n","idx","userSettings","curUser","flatten","ob","toReturn","flatObject","x","agrees_with_tos","ui","is_active","some","LoadingScreen","transform","CircularProgress","PageCenter","w","mxw","ta","mb","ml","mr","mt","page","divider","marginBottom","ForbiddenPage","LockedPage","tos_lockout_notify","card","CardCentered","Card","getXSRFCookie","xsrfToken","cookie","find","row","startsWith","ex","useMyAPI","contentType","reloadOnUnauthorize","onSuccess","onFailure","onEnter","onExit","onFinalize","requestOptions","credentials","fetch","then","res","json","catch","err","api_error_message","api_response","api_server_version","api_status_code","api_data","buttonProgress","OAuthLogin","username","oAuthToken","buttonLoading","alignSelf","Skeleton","gutterBottom","OneTimePassLogin","setOneTimePass","TextField","maxLength","autoFocus","label","ResetPasswordNow","setButtonLoading","useLocation","apiCall","URLSearchParams","resetID","setResetID","password","setPassword","passwordConfirm","setPasswordConfirm","done","setDone","get","reset_id","password_confirm","align","ResetPassword","setEmail","toArrayBuffer","uint8Array","CBOR","SecurityTokenLogin","setShownControls","setWebAuthNResponse","arrayData","options","buffer","credentialHelper","assertion","response","assertionData","credentialId","rawId","authenticatorData","clientDataJSON","signature","from","log","SignUp","setUsername","autoCorrect","autoCapitalize","UserPassLogin","TextDivider","forcePaper","borderTop","inner","bytesToSize","pow","scoreToVerdict","score","getValueFromPath","paths","getProvider","LoginScreen","allowUserPass","allowSignup","allowPWReset","oAuthProviders","provider","shownControls","setAvatar","setOAuthToken","oneTimePass","webAuthNResponse","pwPadding","focusTarget","otp","webauthn_auth_resp","oauth_token","select","focus","email_adr","registration_key","date","setTime","getTime","toUTCString","hash","signup","reset_now","oauth","sectoken","NotFoundPage","maxHeight","APIKeys","toggleAPIKey","selectedAPIKey","setSelectedAPIKey","tempAPIKey","setTempAPIKey","tempKeyName","setTempKeyName","tempKeyPriv","setTempKeyPriv","fullScreen","regex","RegExp","sp4","handleNew","apikeys","Chip","onDelete","Select","MenuItem","apikey","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","DisableOTP","setDrawerOpen","set2FAEnabled","OTP","setResponse","tempOTP","setTempOTP","sp6","dangerouslySetInnerHTML","__html","qrcode","secret_key","SecurityToken","toggleToken","selectedToken","setSelectedToken","tempToken","setTempToken","security_tokens","attestationData","attestationObject","ColorMap","info","success","warning","auto_height","wrap","square","rounded","fullWidth","tiny","label_tiny","mono","tiny_mono","common","white","darken","success_outlined","borderColor","info_outlined","warning_outlined","error_outlined","CustomChip","memo","tooltip","otherProps","typeClassMap","sizeLabelClassMap","small","medium","sizeClassMap","colorClassMap","appliedClassName","labelClassName","chip","defaultParts","lvlIdx","lvl","req","groups","subgroups","defaultDisabled","levels","getLevelText","format","isMobile","levels_map","toString","levels_map_stl","getLevelIndex","retIndex","splitIdx","c12nLvl","levels_map_lts","levels_aliases","getRequired","returnSet","partSet","p","access_req_map_lts","access_req_map_stl","access_req_aliases","out","r","sort","getGroups","g1","g2","groupParts","grpPart","tempGroup","tg","trim","g","groups_map_lts","groups_map_stl","groups_aliases","subgroups_map_lts","subgroups_map_stl","subgroups_aliases","sa","g1Out","gr","g2Out","sgr","getParts","grps","normalizedClassification","parts","reqGrp","params_map","is_required_group","rg","group","solitary_display_name","alias","values","levelList","isNaN","parseInt","defaultClassificationValidator","applyClassificationRules","userClassification","requireLvl","limitedToGroup","requireGroup","partsToCheck","retParts","disabledList","require_lvl","limited_to_group","require_group","partName","part","triggerAutoSelect","l","includes","groups_auto_select","classification","inlineSkel","WrappedClassification","inline","setClassification","isUser","isPhone","showPicker","setShowPicker","uParts","setUserParts","validated","setValidated","enforce","computeColor","levelStyles","levels_styles_map","skelheight","useClassification","newC12n","originalC12n","container","xs","md","original_definition","short_name","selected","required","newReq","toggleRequired","grp","newGrp","toggleGroups","sgrp","sg","newSGrp","toggleSubGroups","Classification","ConfirmationDialog","handleClose","handleAccept","cancelText","acceptText","Apps","toggleApp","selectedApp","setSelectedApp","netloc","server","scope","DeleteButton","withStyles","red","User","useParams","inputRef","useRef","drawerType","setDrawerType","deleteDialog","setDeleteDialog","modified","setModified","downSM","skelItem","skelButton","toggleRole","role","newTypes","Fragment","anchor","api_quota","change_password","new_pass","new_pass_confirm","defaultValue","chips","submission_quota","disable_otp","token","newTokens","api_key","apiKey","newKeys","app","newApps","Grid","justify","sm","ref","accept","reader","FileReader","onload","img","result","readAsDataURL","htmlFor","click","uname","TableContainer","Table","TableHead","TableRow","TableCell","colSpan","TableBody","hover","auth","allow_2fa","allow_security_tokens","allow_apikeys","boxShadow","shadows","Account","LinkGrid","action","active","cloneElement","Admin","useClipboard","_snack","copy","targetId","el","copySuccess","execCommand","removeChild","PageFullWidth","PageHeader","actions","isSticky","appBarHeight","barWillHide","minHeight","act","startIcon","btnProp","appMain","appContent","appRightDrawer","DrawerContext","DrawerProvider","globalDrawer","setGlobalDrawer","isMD","isLG","isXL","drawerWidth","closeGlobalDrawer","useDrawer","insertText","browserName","browser","oldText","prefix","suffix","newText","_insertTextFF","setSelectionRange","_insertText","is","check","isArrowUp","isArrowDown","isArrowLeft","isArrowRight","isEscape","isEnter","DEFAULT_SUGGESTION","searchTextFieldOptionsCt","outline","searchTextFieldOptionsInner","searchTextFieldItem","SearchTextOption","onSelection","data-searchtextfieldoption-position","data-searchtextfieldoption-selected","SearchTextField","onSearch","onClear","setCursor","start","end","filteredOptions","setFilteredOptions","setOpen","optionsElement","isLTEMedium","getInputEl","querySelector","onOptionsOpen","onOptionsClose","onOptionSelection","startIndex","endIndex","option","inputEl","scrollTo","_target","scrollIntoView","block","filterOptions","inputValue","selectionOffset","parseFilter","filterValue","thisCursor","insertStartIndex","insertEndIndex","_options","selectionStart","_precursor","_postcursor","filterStartIndex","filterEndIndex","_preParts","_prePartsLast","_postParts","_postPartsFirst","InputProps","disableUnderline","_value","onKeyDown","keyCode","nextIndex","onBlur","searchbar","searchresult","SearchBar","initValue","searching","suggestions","buttons","extras","onValueChange","upMD","_onValueClear","orientation","flexItem","b","LinearProgress","SimpleSearchQuery","baseSearch","defaultParams","deltaParams","output","has","defaultVal","getAll","delete","SearchPager","pageSize","setResults","scrollToTop","setSearching","count","Pagination","pageQuery","getDefaultString","StyledTableCell","head","DivTableCell","other","SortableHeaderCell","sortField","allowSort","searchParams","curSort","dir","TableSortLabel","LinkRow","DivTableRow","DivTableHead","DivTableBody","DivTable","StyledAlert","marginbottom","Alert","InformativeAlert","severity","ErrorsTable","errorResults","errorMap","EXCEPTION","UNKNOWN","created","fromNow","locale","service_name","AlertTitle","fontStyle","drawerPaper","clipboardIcon","ErrorDetail","service_version","service_tool_version","service_debug_info","sha256","ErrorViewer","setErrorResults","setQuery","setSuggestions","indexed","useCallback","setError","getDeltaString","Empty","DEFAULT_ENV","WrappedEnvironment","envVar","onAdd","onUpdate","tempEnvVar","setTempEnvVar","Environment","DEFAULT_VOL","capacity","mount_path","storage_class","WrappedVolumeControl","vol","tempVol","setTempVol","tempName","setTempName","handleValueChange","field","VolumeControl","DEFAULT_CONTAINER","allow_internet_access","command","cpu_cores","environment","image","ports","ram_mb","ram_mb_min","registry_password","registry_username","WrappedContainerDialog","volumes","onSave","tempContainer","setTempContainer","tempVolumes","setTempVolumes","handleContainerValueChange","handleEnvAddUpdate","newEnv","newEnvironment","handleEnvDelete","delEnv","handleVolDelete","vol_name","newVolumes","RadioGroup","FormControlLabel","control","Radio","env","ContainerDialog","card_title","WrappedContainerCard","dialog","setDialog","yesColor","noColor","ContainerCard","ServiceContainer","service","setService","handleDependencyChange","newDep","depList","dependencies","update_channel","docker_config","newContainer","onDependencyDelete","ServiceGeneral","constants","versions","default_result_classification","multiline","rows","description","stage","stages","category","categories","accepts","rejects","licence_count","is_external","disable_cache","DEFAULT_CONFIG","WrappedMultiTypeConfig","config","tempConfig","setTempConfig","jsonTheme","base00","base01","base02","hint","base03","base04","grey","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","parsedConfig","handleConfigUpdate","handleConfigUpdateJSON","updated_src","handleConfigChange","handleConfigChangeJSON","enableClipboard","groupArraysAfterLength","displayDataTypes","displayObjectSize","onEdit","MultiTypeConfig","DEFAULT_USER_PARAM","list","WrappedMultiTypeParam","tempUserParams","setTempUserParams","handleSubmissionParamUpdate","handleSPDefaultChange","newList","newDefault","MultiTypeParam","ServiceParams","onParamAdd","detail","onParamUpdate","onParamDelete","onConfigAddUpdate","onConfigDelete","handleSPAdd","newSP","submission_params","handleSPUpdate","handleSPDelete","handleConfigAddUpdate","handleConfigDelete","newConfig","checkbox","DEFAULT_HEADER","DEFAULT_SOURCE","ca_cert","default_classification","pattern","private_key","ssl_ignore_errors","SourceDetail","base","close","tempHeader","setTempHeader","source","setSource","UNRESTRICTED","newHeaders","removeHeader","addHeader","proxy","Checkbox","SourceCard","float","ServiceDetail","sources","openDrawer","currentService","SignatureSources","setSources","roles","WrappedSourceDialog","tempSource","setTempSource","SourceDialog","ServiceUpdater","editDialog","setEditDialog","editedSourceID","setEditedSourceID","handleSaveSource","newSource","newSources","update_config","update_interval_seconds","run_options","generates_signatures","wait_for_update","source_id","handleDeleteSource","Service","onDeleted","svc","setConstants","setVersions","tab","setTab","enabled","TabContext","TabList","newValue","indicatorColor","textColor","Tab","TabPanel","ServiceTable","serviceResults","updates","update_available","updating","latest_tag","Services","setServiceResults","setUpdates","manifest","setManifest","updateData","update_data","newUpdates","SiteMap","setSiteMap","privMap","R","W","E","reqMapColor","signature_importer","signature_manager","admin","stickyHeader","function","methods","mid","protected","req_priv","priv","pid","required_type","rid","UsersTable","userResults","DEFAULT_USER","Users","setUserResults","newUser","setNewUser","closeDrawer","updateNewUser","my","chiplist","listStyle","ChipSkeleton","ChipSkeletonInline","ChipList","cp","Verdict","short","shortText","safe","suspicious","highly_suspicious","malicious","priority","COLOR_MAP","CRITICAL","chip_color","arrow","HIGH","MEDIUM","LOW","null","AlertPriority","withText","withChip","TRIAGE","MALICIOUS","ASSESS","AlertStatus","section","sectionTitle","sectionContent","SkeletonInline","AlertDetails","alert","paramId","alertId","handleAlertUpdate","changes","sid","filtered","alert_id","al","verdict","non_malicious","ts","reporting_ts","owner","hint_owner","toFixed","sha1","metadata","attrib","av","ip","ip_dynamic","ip_static","domain","domain_dynamic","domain_static","attack","heuristic","behavior","yara","Carousel","enableSwipe","disableArrowUp","disableArrowDown","disableArrowLeft","disableArrowRight","onPrevious","onNext","touchX","touchY","touchStartX","touchStartY","touchDirection","touchStale","tabIndex","onTouchStart","touches","clientX","clientY","onTouchMove","moveX","moveY","nextDirection","abs","onTouchEnd","Throttler","msec","throttleId","delayId","delay","bind","clearTimeout","THROTTLER","useList","listId","throttle","selectNext","selectPrevious","register","handlers","onSelect","onSelectNext","onSelectPrevious","ListCarousel","useListNavigator","ListNavigator","useMetaListStyles","outer","frame","progressCt","progressSpinner","useBooklistStyles","pager","pagerSpacer","pagerItems","pagerItem","useSimpleListStyles","useListItemStyles","itemCt","itemDefaultBackgrounds","itemOuter","itemInner","itemDivider","itemActions","useListStyles","listItemClasses","metaListClasses","booklistClasses","simpleListStyles","ListItemBase","noDivider","disableBackgrounds","onRenderActions","_onClick","onItemActionsClick","data-listitem-position","data-listitem-selected","data-listitem-focus","SimpleListScroller","scrollTarget","listElement","rowHeight","scrollElement","getScrollBlock","offsetTop","offsetHeight","listElementRect","stElementRect","scrollTop","SimpleList","loading","disableProgress","scrollTargetId","scrollInfinite","scrollLoadNextThreshold","scrollReset","emptyValue","onCursorChange","onItemSelected","onLoadNext","outerEL","scrollEL","innerEL","scroller","nextScrollThreshold","infinite","onEscape","updateState","nextCursor","next","previous","useListKeyboard","_cursor","onScrollEnabled","_onRowClick","_item","onScroll","fH","sT","tH","scrollHeight","cP","AlertListItem","infoItems","group_count","usePromiseAPI","fetchAlert","Promise","resolve","reject","onApplyWorkflowAction","selectedStatus","selectedPriority","selectedLabels","statusPromise","buildAPIQueryString","priorityPromise","labelPromise","all","onTakeOwnership","setVerdict","SearchFilterType","verticalSpeedDial","actionsClosed","DEFAULT_OWNER","SpeedDialActionLink","others","SpeedDialAction","AlertListItemActions","currentQuery","onTakeOwnershipComplete","onVerdictComplete","groupBy","getGroupBy","takeOwnershipConfirmation","setTakeOwnershipConfirmation","hasSetMalicious","hasSetNonMalicious","handleVerdict","onTakeOwnershipOkClick","buildActionQuery","_actionQuery","newBase","setGroupBy","SpeedDial","ariaLabel","SpeedDialIcon","openIcon","onOpen","FabProps","tooltipTitle","tooltipPlacement","actionQuery","actionData","labels","focusQuery","build","addFq","buildFocusQuery","buildURLQueryString","BLANK","SearchQuery","setDefaults","hasOffset","setOffset","hasTc","setTc","hasRows","setRows","hasGroupBy","getOffsetNumber","getRows","tc","tcStart","hasTcStart","fq","filters","statuses","priorities","queries","clearQuery","setTcStart","clearFq","getTc","getQuery","q","fqs","getFqList","parseFilterValue","STATUS","PRIORITY","LABEL","QUERY","resolveType","findOption","o","decorateQueryFilters","queryFilters","userFavoritesFilters","qf","isFavorite","vf","AlertsFilters","searchQuery","valueFilters","statusFilters","priorityFilters","labelFilters","userFavorites","globalFavorites","onApplyBtnClick","GROUPBY_OPTIONS","TC_OPTIONS","parseFilters","tcOption","groupByOption","selectedTc","setSelectedTc","selectedGroupBy","setSelectedGroupBy","fav","created_by","selectedStatusFilters","setSelectedStatusFilters","selectedPriorityFilters","setSelectedPriorityFilters","selectedLabelFilters","setSelectedLabelFilters","selectedQueryFilters","setSelectedQueryFilters","isSelected","renderOption","_filters","FormControl","displayEmpty","selectedValue","onTcFilterChange","onGroupByFilterChange","Autocomplete","multiple","getOptionLabel","getOptionSelected","renderInput","selections","_selections","_valueFilters","sf","onFavoriteChange","selection","favoriteFilters","onValueFilterChange","useFavorites","setUserFavorites","setGlobalFavorites","onLoadUserFavorites","onLoadGlobalFavorites","onAddUserFavorite","favorite","onAddGlobalFavorite","onDeleteUserFavorite","onDeleteGlobalFavorite","AlertsFiltersFavorites","onSaved","onSelected","formValid","setFormValid","valid","queryValue","setQueryValue","nameValue","setNameValue","publicSwitch","setPublicSwitch","isPublic","confirmation","setConfirmation","validateForm","_queryValue","_nameValue","_onDeleteClick","_onSelect","onSwitchChange","disableElevation","disableRipple","_onDelete","AlertsFiltersSelected","hideQuery","hideGroupBy","disableActions","_statuses","onDeleteStatus","_priorities","onDeletePriority","_labels","onDeleteLabel","_queries","onDeleteQuery","POSSIBLE_STATUS","POSSIBLE_PRIORITY","DEFAULT_LABELS","AlertsWorkflowActions","applying","setApplying","val","possibleLabels","setSelectedStatus","setSelectedPriority","setSelectedLabels","freeSolo","DEFAULT_STATE","countedTotal","alertStateReducer","state","newState","updateAlert","newAlertList","alertIndex","alertChanges","pageTitle","drawerInner","modeToggler","borderTopLeftRadius","borderBottomLeftRadius","SearchResultLarge","onApplyFilters","SearchResultSmall","hasFilters","Alerts","fieldIndexes","setSearchQuery","fields","setFields","setStatusFilters","setPriorityFilters","setLabelFilters","setValueFilters","useReducer","parseResult","responseItems","buildUrl","onLoad","onComplete","executionTime","tc_start","counted_total","getTcStart","onLoadMore","tickOffset","_offset","parsedItems","onLoadStatuses","msItems","onLoadPriorities","onLoadLabels","onLoadStatisics","statistics","ki","vk","vki","vkv","aFields","updateQuery","useAlerts","setScrollReset","searchTextValue","isMDUp","isLGDown","blur","_onLoadMore","setFilters","onRenderListRow","onDrawerClose","onRenderListActions","Set","_fields","buildSearchSuggestions","deleteQuery","STATE_ICON_MAP","incomplete","completed","submitted","skipped","ExtendedScan","VerdictBar","verdicts","fill","stroke","y","AlertCardItem","isDownSM","newVerdict","Hidden","mdUp","lg","extended_scan","tz","smDown","textTransform","AlertsLegacy","setAlerts","VALID_SCOPES","AppRegistration","rUrl","clientID","Backdrop","transitionDuration","goBack","getBrowserFullscreenElementProp","fullscreenElement","Error","toggle","PageFullscreen","isFullscreen","setIsFullscreen","fullscreenSupported","maximizableElement","elRef","onfullscreenchange","requestFullscreen","useFullscreenStatus","exitFullscreen","caption","graph","gridColumn","gridRow","gridTemplate","placeItems","ArcGauge","pctValue","colorBack","initialized","colorFilled","backgroundArc","arc","innerRadius","outerRadius","startAngle","PI","endAngle","cornerRadius","percentScale","scaleLinear","range","angleScale","clamp","filledArc","lineHeight","viewBox","d","core_card","error_icon","metric","muted","ok","MetricCounter","IngestCard","ingester","timer","setTimer","busyness","metrics","busy_seconds","busy_seconds_count","instances","processing_chance","critical","bytes_completed","bytes_ingested","ingest","queues","processing","inflight","cache_hit","cache_miss","files_completed","submissions_completed","whitelisted","duplicates","DispatcherCard","dispatcher","cpu_seconds","cpu_seconds_count","startQueue","reduce","resultQueue","commandQueue","ExpiryCard","expiry","cached_file","filescore","emptyresult","submission","submission_summary","submission_tree","archive","AlerterCard","alerter","received","updated","ScalerResourcesCard","scaler","cpu_total","cpu_free","memory_total","memory_free","ServiceCard","max_inflight","fail_nonrecoverable","activity","busy","execute","fail_recoverable","basicReducer","serviceReducer","serviceState","hbType","hb","DEFAULT_SERVICE","serviceListReducer","serviceName","timing","curTime","DEFAULT_ALERTER","DEFAULT_DISPATCHER","per_instance","DEFAULT_EXPIRY","DEFAULT_INGESTER","cache_expired","cache_stale","cache_hit_local","submissions_ingested","timed_out","DEFAULT_SCALER","duty_cycle","last_hb","cache_skipped","scored","not_scored","running","minimum","maximum","dynamic_maximum","pressure","idle","DEFAULT_SERVICE_LIST","Dashboard","setAlerter","setDispatcher","setExpiry","setIngester","setScaler","services","setServices","servicesList","setServicesList","handleAlerterHeartbeat","debug","handleArchiveHeartbeat","handleDispatcherHeartbeat","handleExpiryHeartbeat","handleIngestHeartbeat","handleScalerHeartbeat","handleServiceHeartbeat","handleScalerStatusHeartbeat","socket","io","emit","disconnect","xl","HighlightContext","HighlightProvider","highlighted","setHighlighted","relatedHighlighted","setRelatedHighlighted","highlightMap","setHighlightMap","getKey","isHighlighted","hasHighlightedKeys","keyList","triggerHighlight","handleTrigger","newHighlighted","add","newRelatedHighlighted","useHighlighter","ExtractedFile","download","encodeURI","ExtractedSection","extracted","STYLE","SEARCH_ICON","Attack","show_type","highlight_key","handleClick","searchAttack","deleteIcon","Heuristic","SectionHighlight","indent","depth","VERDICT_SCORE_MAP","Tag","short_type","TitleKey","section_title","useTreeItemStyles","TextBody","MemDumpBody","KVBody","cellSpacing","GraphBody","colorRange","itemWidthPct","colorScale","URLBody","arr","listStyleType","paddingInlineStart","marginBlockStart","marginBlockEnd","JSONBody","collapsed","ProcessTreeItem","classMap","TreeItem","nodeId","process_pid","signatures","sum","parseFloat","process_name","command_line","processes","ProcessTreeItemList","ProcessTreeBody","subprocess","TreeView","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","StyledTableRow","StyledTable","TblBody","line","th","hid","ResultSection","section_list","sub_sections","tagList","tags","tag","attack_id","heur_id","title_text","body_format","SupplementarySection","content","emptyResult","sections","supplementary","ResultCard","alternates","empty","displayedResult","setDisplayedResult","expand_min_score","setAnchorEl","setSelected","Boolean","allTags","section_hierarchy","MenuList","service_context","AttackSection","attacks","cat","cid","mat","_","clickable","ChildrenSection","childrens","fileItem","EmptySection","emptys","ErrorCard","ErrorSection","errors","FrequencySection","fileinfo","seen","HeuristicSection","heuristics","hname","IdentificationSection","ssdeep","mime","magic","entropy","MetadataSection","meta","ParentSection","parents","resultKey","parentSHA256","results","meta_key","TagSection","tag_type","FileDetail","liveResultKeys","liveErrors","setFile","scrollToItem","bounding","myElementHeight","myElementWidth","offsetWidth","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","elementInViewport","patchFileDetails","newData","resubmit","extra_result_keys","file_info","MaterialLink","attack_matrix","FileFullDetail","pre","no_pad","AsciiViewer","ascii","setAscii","HexViewer","hex","setHex","StringViewer","string","setString","FileViewer","newTab","Help","api","blueprint","disabledBackground","blueprintSkel","expand","shortest","expandOpen","ApiDoc","apiList","setApiList","apiSelected","setApiSelected","apiDefinition","setApiDefinition","expandMap","setExpandMap","methodColor","DELETE","GET","POST","PUT","privColor","userColor","toggleBlueprintExpand","bp","compare","blueprints","borderBottom","px","apis","blueprintAPIs","midx","complete","htmlColor","require_type","utype","uidx","required_priv","ptype","pidx","met","metid","HelpClassification","Trans","ns","i18nKey","components","bold","RESTRICTED","italic","Configuration","tag_types","max_priority","file_types","sub_key","sub_idx","tocBar","toc","borderLeft","ContentItem","subItems","currentHash","ContentManagedSection","multipleEx","padded","paragraph","Search","setToc","stored","CardHeader","overflowWrap","Logout","Manage","HeuristicsTable","heuristicResults","setHeuristicID","filetype","stats","last_hit","WrappedHistogram","isDate","setMax","histData","setHistData","maintainAspectRatio","responsive","scales","xAxes","gridLines","drawBorder","ticks","fontColor","time","unit","yAxes","beginAtZero","suggestedMax","precision","tempDatasets","maxValue","datasets","dataset","borderWidth","hoverBackgroundColor","redraw","legend","Histogram","ResultsTable","resultResults","preview","HeuristicDetail","setHeuristic","setStats","histogram","setHistogram","mincount","gap","chartData","max_score","signature_score_map","first_hit","avg","Heuristics","setHeuristicResults","onFilterValueChange","DEPLOYED","NOISY","DISABLED","SignatureStatus","SignaturesTable","signatureResults","setSignatureID","signature_id","openPaper","SignatureDetail","onUpdated","setSignature","closeDialog","Signatures","setSignatureResults","handleReload","sig_id","handleSignatureUpdated","handleSignatureDeleted","WorflowTable","workflowResults","setWorkflowID","workflow","workflow_id","creation_date","last_seen","hit_count","MyMenuItem","WorkflowDetail","setWorkflow","DEFAULT_WORKFLOW","creator","edited_by","last_edit","Workflows","setWorkflowResults","wf_id","Optout","AlertsTable","alertResults","FilesTable","fileResults","SubmissionState","error_count","curState","SubmissionsTable","submissionResults","times","submitter","file_count","tweaked_tabs","searchSuggestion","setSearchSuggestion","setSubmissionResults","setFileResults","setResultResults","setAlertResults","stateMap","resMap","searchList","searchIndex","TabSpacer","SpecialTab","Tabs","scrollButtons","ServiceTreeItemSkel","ServiceTreeItem","pageBreakInside","indeterminate","every","service_id","SkelItems","ServiceTree","compressed","handleServiceChange","newServices","srv","sortFunc","nameA","nameB","columnWidth","columnGap","columnRuleWidth","columnRuleStyle","columnRuleColor","cat_id","toggleDynamicPrevention","ignore_dynamic_recursion_prevention","toggleFiltering","ignore_filtering","toggleCaching","ignore_cache","toggleDeepScan","deep_scan","toggleProfile","profile","ttl","view","submission_view","encoding","download_encoding","getServiceFromKey","getHashFromKey","parsed_errors","aggregated","errorType","listed","eID","getErrorTypeFromKey","file_item","noMaxWidth","FileTree","tree","FileTreeSection","InfoSection","MetaSection","tag_group","resultReducer","currentResults","newResults","messageReducer","messages","receivedMessages","newMessages","incrementReducer","old","increment","SubmissionDetail","fid","setSubmission","summary","setSummary","setTree","watchQueue","setWatchQueue","setLiveResultKeys","liveErrorKeys","setLiveErrorKeys","processedKeys","setProcessedKeys","liveResults","setLiveResults","setLiveErrors","liveTagMap","setLiveTagMap","setOutstanding","loadTrigger","incrementLoadTrigger","setSocket","loadInterval","setLoadInterval","lastSuccessfulTrigger","setLastSuccessfulTrigger","updateLiveFileTree","tempTree","toUpdate","searchFileTree","currentTree","fname","getFilenameFromSHA256","TBD","toDelTDB","idxDel","getParsedErrors","errorList","getErrorIDFromKey","futileErrors","parseSubmissionErrors","currentSubmission","resetLiveMode","newSubmission","summ_data","tree_data","tempSocket","setInterval","wq_id","handleErrorMessage","msg","handleStartMessage","handleStopMessage","clearInterval","handleCacheKeyMessage","handleCacheKeyErrrorMessage","resetOutstanding","from_start","curFileLiveResults","curFileLiveErrors","errorKey","newErrors","tempSummary","tempTagMap","sectionID","hType","heurExists","heurItem","heurKey","j","attExists","attackItem","attKey","tagID","summaryType","exists","tagVal","tagKey","updateLiveSumary","Snackbar","group_idx","VERDICT_COLOR_MAP","TextVerdict","circle","under_text","VerdictGauge","colorMalicious","colorNonMalicious","angleScaleRight","filledArcRight","angleScaleLeft","filledArcLeft","banner_title","file_details","malicious_heur","WebkitPrintColorAdjust","suspicious_heur","info_heur","AttributionBanner","report","bgColor","implant","attributions","family","actor","borderSpacing","TagTable","orderedItems","tagType","tagValue","h_type","vidx","AttackMatrixBlock","AttackMatrixSkel","HeuristicsList","heur","HeuristicsListSkel","important_files","FileTreeSkel","FileItemSkel","SubmissionReport","setReport","print","att","tagGroup","groupIdx","file_tree","Submissions","FileDropper","ctrlDisabled","useDropzone","acceptedFiles","getRootProps","getInputProps","isDragActive","drop_zone","drag_enter","Submit","uuid","setUUID","flow","setFlow","uploadProgress","setUploadProgress","setUrl","urlHasError","setUrlHasError","validate","setValidate","validateCB","setValidateCB","allowClick","setAllowClick","sp8","getFileUUID","selectedFile","cancelUpload","validateServiceSelection","cbType","showPopup","uploadAndScan","analyseUrl","executeCB","trunc","setParam","service_idx","param_idx","p_value","newSettings","service_spec","setSettingValue","fieldValue","setSettingAsyncValue","matches","exec","ui_params","random","generateUUID","banner","banner_level","centered","allow_url_submissions","InputLabelProps","shrink","Markdown","Tos","setTos","renderers","RouteActions","oldID","setOldID","currentLocation","charAt","Routes","exact","AdminErrorViewer","AdminServices","AdminSiteMap","AdminUsers","HelpApiDoc","HelpConfiguration","HelpSearch","HelpServices","ManageHeuristics","ManageSignatures","ManageSignatureSources","ManageWorkflows","Settings","system","MyApp","storedLoginParams","defaultLoginParams","renderedApp","setRenderedApp","loginParams","setLoginParams","switchRenderedApp","load","oauth_providers","allow_userpass_login","allow_signup","allow_pw_rest","AppInit","sitemapProps","useMySitemap","userProps","basename","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.a8980c17.chunk.js","sourcesContent":["/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2016 Patrick Gansterer <paroga@paroga.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/*\n  We had to using this basic implementation of CBOR to match\n  what was used in the API but it throws a bunch of warnings\n  in the linter therefor we will disable those checks for this\n  file.\n*/\n/* eslint-disable no-mixed-operators */\n/* eslint-disable no-shadow-restricted-names */\n/* eslint-disable strict */\n/* eslint-disable default-case */\n/* eslint-disable no-throw-literal */\n/* eslint-disable no-undef */\n/* eslint-disable no-bitwise */\n/* eslint-disable no-shadow */\n/* eslint-disable vars-on-top */\n/* eslint-disable consistent-return */\n/* eslint-disable no-var */\n/* eslint-disable no-param-reassign */\n/* eslint-disable func-names */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable @typescript-eslint/no-throw-literal */\n\n(function (global, undefined) {\n  'use strict';\n\n  const POW_2_24 = 5.960464477539063e-8;\n  const POW_2_32 = 4294967296;\n  const POW_2_53 = 9007199254740992;\n\n  function encode(value) {\n    let data = new ArrayBuffer(256);\n    let dataView = new DataView(data);\n    let lastLength;\n    let offset = 0;\n\n    function prepareWrite(length) {\n      let newByteLength = data.byteLength;\n      const requiredLength = offset + length;\n      while (newByteLength < requiredLength) newByteLength <<= 1;\n      if (newByteLength !== data.byteLength) {\n        const oldDataView = dataView;\n        data = new ArrayBuffer(newByteLength);\n        dataView = new DataView(data);\n        const uint32count = (offset + 3) >> 2;\n        for (let i = 0; i < uint32count; ++i) dataView.setUint32(i << 2, oldDataView.getUint32(i << 2));\n      }\n\n      lastLength = length;\n      return dataView;\n    }\n    function commitWrite() {\n      offset += lastLength;\n    }\n    function writeFloat64(value) {\n      commitWrite(prepareWrite(8).setFloat64(offset, value));\n    }\n    function writeUint8(value) {\n      commitWrite(prepareWrite(1).setUint8(offset, value));\n    }\n    function writeUint8Array(value) {\n      const dataView = prepareWrite(value.length);\n      for (let i = 0; i < value.length; ++i) dataView.setUint8(offset + i, value[i]);\n      commitWrite();\n    }\n    function writeUint16(value) {\n      commitWrite(prepareWrite(2).setUint16(offset, value));\n    }\n    function writeUint32(value) {\n      commitWrite(prepareWrite(4).setUint32(offset, value));\n    }\n    function writeUint64(value) {\n      const low = value % POW_2_32;\n      const high = (value - low) / POW_2_32;\n      const dataView = prepareWrite(8);\n      dataView.setUint32(offset, high);\n      dataView.setUint32(offset + 4, low);\n      commitWrite();\n    }\n    function writeTypeAndLength(type, length) {\n      if (length < 24) {\n        writeUint8((type << 5) | length);\n      } else if (length < 0x100) {\n        writeUint8((type << 5) | 24);\n        writeUint8(length);\n      } else if (length < 0x10000) {\n        writeUint8((type << 5) | 25);\n        writeUint16(length);\n      } else if (length < 0x100000000) {\n        writeUint8((type << 5) | 26);\n        writeUint32(length);\n      } else {\n        writeUint8((type << 5) | 27);\n        writeUint64(length);\n      }\n    }\n\n    function encodeItem(value) {\n      let i;\n\n      if (value === false) return writeUint8(0xf4);\n      if (value === true) return writeUint8(0xf5);\n      if (value === null) return writeUint8(0xf6);\n      if (value === undefined) return writeUint8(0xf7);\n\n      switch (typeof value) {\n        case 'number':\n          if (Math.floor(value) === value) {\n            if (value >= 0 && value <= POW_2_53) return writeTypeAndLength(0, value);\n            if (-POW_2_53 <= value && value < 0) return writeTypeAndLength(1, -(value + 1));\n          }\n          writeUint8(0xfb);\n          return writeFloat64(value);\n\n        case 'string':\n          var utf8data = [];\n          for (i = 0; i < value.length; ++i) {\n            let charCode = value.charCodeAt(i);\n            if (charCode < 0x80) {\n              utf8data.push(charCode);\n            } else if (charCode < 0x800) {\n              utf8data.push(0xc0 | (charCode >> 6));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            } else if (charCode < 0xd800) {\n              utf8data.push(0xe0 | (charCode >> 12));\n              utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            } else {\n              charCode = (charCode & 0x3ff) << 10;\n              charCode |= value.charCodeAt(++i) & 0x3ff;\n              charCode += 0x10000;\n\n              utf8data.push(0xf0 | (charCode >> 18));\n              utf8data.push(0x80 | ((charCode >> 12) & 0x3f));\n              utf8data.push(0x80 | ((charCode >> 6) & 0x3f));\n              utf8data.push(0x80 | (charCode & 0x3f));\n            }\n          }\n\n          writeTypeAndLength(3, utf8data.length);\n          return writeUint8Array(utf8data);\n\n        default:\n          var length;\n          if (Array.isArray(value)) {\n            length = value.length;\n            writeTypeAndLength(4, length);\n            for (i = 0; i < length; ++i) encodeItem(value[i]);\n          } else if (value instanceof Uint8Array) {\n            writeTypeAndLength(2, value.length);\n            writeUint8Array(value);\n          } else {\n            const keys = Object.keys(value);\n            length = keys.length;\n            writeTypeAndLength(5, length);\n            for (i = 0; i < length; ++i) {\n              const key = keys[i];\n              encodeItem(key);\n              encodeItem(value[key]);\n            }\n          }\n      }\n    }\n\n    encodeItem(value);\n\n    if ('slice' in data) return data.slice(0, offset);\n\n    const ret = new ArrayBuffer(offset);\n    const retView = new DataView(ret);\n    for (let i = 0; i < offset; ++i) retView.setUint8(i, dataView.getUint8(i));\n    return ret;\n  }\n\n  function decode(data, tagger, simpleValue) {\n    const dataView = new DataView(data);\n    let offset = 0;\n\n    if (typeof tagger !== 'function')\n      tagger = function (value) {\n        return value;\n      };\n    if (typeof simpleValue !== 'function')\n      simpleValue = function () {\n        return undefined;\n      };\n\n    function commitRead(length, value) {\n      offset += length;\n      return value;\n    }\n    function readArrayBuffer(length) {\n      return commitRead(length, new Uint8Array(data, offset, length));\n    }\n    function readFloat16() {\n      const tempArrayBuffer = new ArrayBuffer(4);\n      const tempDataView = new DataView(tempArrayBuffer);\n      const value = readUint16();\n\n      const sign = value & 0x8000;\n      let exponent = value & 0x7c00;\n      const fraction = value & 0x03ff;\n\n      if (exponent === 0x7c00) exponent = 0xff << 10;\n      else if (exponent !== 0) exponent += (127 - 15) << 10;\n      else if (fraction !== 0) return (sign ? -1 : 1) * fraction * POW_2_24;\n\n      tempDataView.setUint32(0, (sign << 16) | (exponent << 13) | (fraction << 13));\n      return tempDataView.getFloat32(0);\n    }\n    function readFloat32() {\n      return commitRead(4, dataView.getFloat32(offset));\n    }\n    function readFloat64() {\n      return commitRead(8, dataView.getFloat64(offset));\n    }\n    function readUint8() {\n      return commitRead(1, dataView.getUint8(offset));\n    }\n    function readUint16() {\n      return commitRead(2, dataView.getUint16(offset));\n    }\n    function readUint32() {\n      return commitRead(4, dataView.getUint32(offset));\n    }\n    function readUint64() {\n      return readUint32() * POW_2_32 + readUint32();\n    }\n    function readBreak() {\n      if (dataView.getUint8(offset) !== 0xff) return false;\n      offset += 1;\n      return true;\n    }\n    function readLength(additionalInformation) {\n      if (additionalInformation < 24) return additionalInformation;\n      if (additionalInformation === 24) return readUint8();\n      if (additionalInformation === 25) return readUint16();\n      if (additionalInformation === 26) return readUint32();\n      if (additionalInformation === 27) return readUint64();\n      if (additionalInformation === 31) return -1;\n      throw 'Invalid length encoding';\n    }\n    function readIndefiniteStringLength(majorType) {\n      const initialByte = readUint8();\n      if (initialByte === 0xff) return -1;\n      const length = readLength(initialByte & 0x1f);\n      if (length < 0 || initialByte >> 5 !== majorType) throw 'Invalid indefinite length element';\n      return length;\n    }\n\n    function appendUtf16Data(utf16data, length) {\n      for (let i = 0; i < length; ++i) {\n        let value = readUint8();\n        if (value & 0x80) {\n          if (value < 0xe0) {\n            value = ((value & 0x1f) << 6) | (readUint8() & 0x3f);\n            length -= 1;\n          } else if (value < 0xf0) {\n            value = ((value & 0x0f) << 12) | ((readUint8() & 0x3f) << 6) | (readUint8() & 0x3f);\n            length -= 2;\n          } else {\n            value =\n              ((value & 0x0f) << 18) |\n              ((readUint8() & 0x3f) << 12) |\n              ((readUint8() & 0x3f) << 6) |\n              (readUint8() & 0x3f);\n            length -= 3;\n          }\n        }\n\n        if (value < 0x10000) {\n          utf16data.push(value);\n        } else {\n          value -= 0x10000;\n          utf16data.push(0xd800 | (value >> 10));\n          utf16data.push(0xdc00 | (value & 0x3ff));\n        }\n      }\n    }\n\n    function decodeItem() {\n      const initialByte = readUint8();\n      const majorType = initialByte >> 5;\n      const additionalInformation = initialByte & 0x1f;\n      let i;\n      let length;\n\n      if (majorType === 7) {\n        switch (additionalInformation) {\n          case 25:\n            return readFloat16();\n          case 26:\n            return readFloat32();\n          case 27:\n            return readFloat64();\n        }\n      }\n\n      length = readLength(additionalInformation);\n      if (length < 0 && (majorType < 2 || majorType > 6)) throw 'Invalid length';\n\n      switch (majorType) {\n        case 0:\n          return length;\n        case 1:\n          return -1 - length;\n        case 2:\n          if (length < 0) {\n            const elements = [];\n            let fullArrayLength = 0;\n            while ((length = readIndefiniteStringLength(majorType)) >= 0) {\n              fullArrayLength += length;\n              elements.push(readArrayBuffer(length));\n            }\n            const fullArray = new Uint8Array(fullArrayLength);\n            let fullArrayOffset = 0;\n            for (i = 0; i < elements.length; ++i) {\n              fullArray.set(elements[i], fullArrayOffset);\n              fullArrayOffset += elements[i].length;\n            }\n            return fullArray;\n          }\n          return readArrayBuffer(length);\n        case 3:\n          var utf16data = [];\n          if (length < 0) {\n            while ((length = readIndefiniteStringLength(majorType)) >= 0) appendUtf16Data(utf16data, length);\n          } else appendUtf16Data(utf16data, length);\n          return String.fromCharCode.apply(null, utf16data);\n        case 4:\n          var retArray;\n          if (length < 0) {\n            retArray = [];\n            while (!readBreak()) retArray.push(decodeItem());\n          } else {\n            retArray = new Array(length);\n            for (i = 0; i < length; ++i) retArray[i] = decodeItem();\n          }\n          return retArray;\n        case 5:\n          var retObject = {};\n          for (i = 0; i < length || (length < 0 && !readBreak()); ++i) {\n            const key = decodeItem();\n            retObject[key] = decodeItem();\n          }\n          return retObject;\n        case 6:\n          return tagger(decodeItem(), length);\n        case 7:\n          switch (length) {\n            case 20:\n              return false;\n            case 21:\n              return true;\n            case 22:\n              return null;\n            case 23:\n              return undefined;\n            default:\n              return simpleValue(length);\n          }\n      }\n    }\n\n    const ret = decodeItem();\n    if (offset !== data.byteLength) throw 'Remaining bytes';\n    return ret;\n  }\n\n  const obj = { encode, decode };\n\n  if (typeof define === 'function' && define.amd) define('cbor/cbor', obj);\n  else if (typeof module !== 'undefined' && module.exports) module.exports = obj;\n  else if (!global.CBOR) global.CBOR = obj;\n})(this);\n","/**\n * @license MIT\n */\n\n/*\n  We had to using this current implementation of flow.js to match\n  what was used in the API but it throws a bunch of warnings\n  in the linter therefor we will disable those checks for this\n  file.\n*/\n/* eslint-disable no-shadow-restricted-names */\n/* eslint-disable default-case */\n/* eslint-disable no-undef */\n/* eslint-disable no-bitwise */\n/* eslint-disable vars-on-top */\n/* eslint-disable consistent-return */\n/* eslint-disable no-var */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable prefer-rest-params */\n/* eslint-disable func-names */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable prefer-spread */\n\n(function (window, document, undefined) {\n  /**\n   * Flow.js is a library providing multiple simultaneous, stable and\n   * resumable uploads via the HTML5 File API.\n   * @param [opts]\n   * @param {number} [opts.chunkSize]\n   * @param {bool} [opts.forceChunkSize]\n   * @param {number} [opts.simultaneousUploads]\n   * @param {bool} [opts.singleFile]\n   * @param {string} [opts.fileParameterName]\n   * @param {number} [opts.progressCallbacksInterval]\n   * @param {number} [opts.speedSmoothingFactor]\n   * @param {Object|Function} [opts.query]\n   * @param {Object} [opts.headers]\n   * @param {bool} [opts.withCredentials]\n   * @param {Function} [opts.preprocess]\n   * @param {string} [opts.method]\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\n   * @param {string} [opts.target]\n   * @param {number} [opts.maxChunkRetries]\n   * @param {number} [opts.chunkRetryInterval]\n   * @param {Array.<number>} [opts.permanentErrors]\n   * @param {Function} [opts.generateUniqueIdentifier]\n   * @constructor\n   */\n  function Flow(opts) {\n    /**\n     * Supported by browser?\n     * @type {boolean}\n     */\n    this.support =\n      typeof File !== 'undefined' &&\n      typeof Blob !== 'undefined' &&\n      typeof FileList !== 'undefined' &&\n      (!!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice || false); // slicing files support\n\n    if (!this.support) {\n      return;\n    }\n\n    /**\n     * Check if directory upload is supported\n     * @type {boolean}\n     */\n    this.supportDirectory = /WebKit/.test(window.navigator.userAgent);\n\n    /**\n     * List of FlowFile objects\n     * @type {Array.<FlowFile>}\n     */\n    this.files = [];\n\n    /**\n     * Default options for flow.js\n     * @type {Object}\n     */\n    this.defaults = {\n      chunkSize: 1024 * 1024,\n      forceChunkSize: false,\n      simultaneousUploads: 3,\n      singleFile: false,\n      fileParameterName: 'file',\n      progressCallbacksInterval: 500,\n      speedSmoothingFactor: 0.1,\n      query: {},\n      headers: {},\n      withCredentials: false,\n      preprocess: null,\n      method: 'multipart',\n      prioritizeFirstAndLastChunk: false,\n      target: '/',\n      testChunks: true,\n      generateUniqueIdentifier: null,\n      maxChunkRetries: 0,\n      chunkRetryInterval: null,\n      permanentErrors: [404, 415, 500, 501]\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = {};\n\n    /**\n     * List of events:\n     *  key stands for event name\n     *  value array list of callbacks\n     * @type {}\n     */\n    this.events = {};\n\n    const $ = this;\n\n    /**\n     * On drop event\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.onDrop = function (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      const { dataTransfer } = event;\n      if (dataTransfer.items && dataTransfer.items[0] && dataTransfer.items[0].webkitGetAsEntry) {\n        $.webkitReadDataTransfer(event);\n      } else {\n        $.addFiles(dataTransfer.files, event);\n      }\n    };\n\n    /**\n     * Prevent default\n     * @function\n     * @param {MouseEvent} event\n     */\n    this.preventEvent = function (event) {\n      event.preventDefault();\n    };\n\n    /**\n     * Current options\n     * @type {Object}\n     */\n    this.opts = Flow.extend({}, this.defaults, opts || {});\n  }\n\n  Flow.prototype = {\n    /**\n     * Set a callback for an event, possible events:\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\n     * fileRetry(file), fileError(file, message), complete(),\n     * progress(), error(message, file), pause()\n     * @function\n     * @param {string} event\n     * @param {Function} callback\n     */\n    on(event, callback) {\n      event = event.toLowerCase();\n      if (!this.events.hasOwnProperty(event)) {\n        this.events[event] = [];\n      }\n      this.events[event].push(callback);\n    },\n\n    /**\n     * Remove event callback\n     * @function\n     * @param {string} [event] removes all events if not specified\n     * @param {Function} [fn] removes all callbacks of event if not specified\n     */\n    off(event, fn) {\n      if (event !== undefined) {\n        event = event.toLowerCase();\n        if (fn !== undefined) {\n          if (this.events.hasOwnProperty(event)) {\n            arrayRemove(this.events[event], fn);\n          }\n        } else {\n          delete this.events[event];\n        }\n      } else {\n        this.events = {};\n      }\n    },\n\n    /**\n     * Fire an event\n     * @function\n     * @param {string} event event name\n     * @param {...} args arguments of a callback\n     * @return {bool} value is false if at least one of the event handlers which handled this event\n     * returned false. Otherwise it returns true.\n     */\n    fire(event, args) {\n      // `arguments` is an object, not array, in FF, so:\n      args = Array.prototype.slice.call(arguments);\n      event = event.toLowerCase();\n      let preventDefault = false;\n      if (this.events.hasOwnProperty(event)) {\n        each(this.events[event], function (callback) {\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\n        });\n      }\n      if (event !== 'catchall') {\n        args.unshift('catchAll');\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\n      }\n      return !preventDefault;\n    },\n\n    /**\n     * Read webkit dataTransfer object\n     * @param event\n     */\n    webkitReadDataTransfer(event) {\n      const $ = this;\n      let queue = event.dataTransfer.items.length;\n      const files = [];\n      each(event.dataTransfer.items, function (item) {\n        const entry = item.webkitGetAsEntry();\n        if (!entry) {\n          decrement();\n          return;\n        }\n        if (entry.isFile) {\n          // due to a bug in Chrome's File System API impl - #149735\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\n        } else {\n          entry.createReader().readEntries(readSuccess, readError);\n        }\n      });\n      function readSuccess(entries) {\n        queue += entries.length;\n        each(entries, function (entry) {\n          if (entry.isFile) {\n            const { fullPath } = entry;\n            entry.file(function (file) {\n              fileReadSuccess(file, fullPath);\n            }, readError);\n          } else if (entry.isDirectory) {\n            entry.createReader().readEntries(readSuccess, readError);\n          }\n        });\n        decrement();\n      }\n      function fileReadSuccess(file, fullPath) {\n        // relative path should not start with \"/\"\n        file.relativePath = fullPath.substring(1);\n        files.push(file);\n        decrement();\n      }\n      function readError(fileError) {\n        throw fileError;\n      }\n      function decrement() {\n        if (--queue === 0) {\n          $.addFiles(files, event);\n        }\n      }\n    },\n\n    /**\n     * Generate unique identifier for a file\n     * @function\n     * @param {FlowFile} file\n     * @returns {string}\n     */\n    generateUniqueIdentifier(file) {\n      const custom = this.opts.generateUniqueIdentifier;\n      if (typeof custom === 'function') {\n        return custom(file);\n      }\n      // Some confusion in different versions of Firefox\n      const relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\n      return `${file.size}-${relativePath.replace(/[^0-9a-zA-Z_-]/gim, '')}`;\n    },\n\n    /**\n     * Upload next chunk from the queue\n     * @function\n     * @returns {boolean}\n     * @private\n     */\n    uploadNextChunk(preventEvents) {\n      // In some cases (such as videos) it's really handy to upload the first\n      // and last chunk of a file quickly; this let's the server check the file's\n      // metadata and determine if there's even a point in continuing.\n      let found = false;\n      if (this.opts.prioritizeFirstAndLastChunk) {\n        each(this.files, function (file) {\n          if (\n            !file.paused &&\n            file.chunks.length &&\n            file.chunks[0].status() === 'pending' &&\n            file.chunks[0].preprocessState === 0\n          ) {\n            file.chunks[0].send();\n            found = true;\n            return false;\n          }\n          if (\n            !file.paused &&\n            file.chunks.length > 1 &&\n            file.chunks[file.chunks.length - 1].status() === 'pending' &&\n            file.chunks[0].preprocessState === 0\n          ) {\n            file.chunks[file.chunks.length - 1].send();\n            found = true;\n            return false;\n          }\n        });\n        if (found) {\n          return found;\n        }\n      }\n\n      // Now, simply look for the next, best thing to upload\n      each(this.files, function (file) {\n        if (!file.paused) {\n          each(file.chunks, function (chunk) {\n            if (chunk.status() === 'pending' && chunk.preprocessState === 0) {\n              chunk.send();\n              found = true;\n              return false;\n            }\n          });\n        }\n        if (found) {\n          return false;\n        }\n      });\n      if (found) {\n        return true;\n      }\n\n      // The are no more outstanding chunks to upload, check is everything is done\n      let outstanding = false;\n      each(this.files, function (file) {\n        if (!file.isComplete()) {\n          outstanding = true;\n          return false;\n        }\n      });\n      if (!outstanding && !preventEvents) {\n        // All chunks have been uploaded, complete\n        this.fire('complete');\n      }\n      return false;\n    },\n\n    /**\n     * Assign a browse action to one or more DOM nodes.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     * @param {boolean} isDirectory Pass in true to allow directories to\n     * @param {boolean} singleFile prevent multi file upload\n     * be selected (Chrome only).\n     */\n    assignBrowse(domNodes, isDirectory, singleFile) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n\n      // We will create an <input> and overlay it on the domNode\n      // (crappy, but since HTML5 doesn't have a cross-browser.browse() method\n      // we haven't a choice. FF4+ allows click() for this though:\n      // https://developer.mozilla.org/en/using_files_from_web_applications)\n      each(\n        domNodes,\n        function (domNode) {\n          let input;\n          if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\n            input = domNode;\n          } else {\n            input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            // input fill entire dom node\n            extend(domNode.style, {\n              // display: 'inline-block',\n              position: 'relative',\n              overflow: 'hidden',\n              verticalAlign: 'top'\n            });\n            // in Opera only 'browse' button\n            // is clickable and it is located at\n            // the right side of the input\n            extend(input.style, {\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              fontFamily: 'Arial',\n              // 4 persons reported this, the max values that worked for them were 243, 236, 236, 118\n              fontSize: '140px',\n              margin: 0,\n              padding: 0,\n              opacity: 0,\n              cursor: 'pointer'\n            });\n            domNode.appendChild(input);\n          }\n          if (!this.opts.singleFile && !singleFile) {\n            input.setAttribute('multiple', 'multiple');\n          }\n          if (isDirectory) {\n            input.setAttribute('webkitdirectory', 'webkitdirectory');\n          }\n          // When new files are added, simply append them to the overall list\n          const $ = this;\n          input.addEventListener(\n            'change',\n            function (e) {\n              $.addFiles(e.target.files, e);\n              e.target.value = '';\n            },\n            false\n          );\n        },\n        this\n      );\n    },\n\n    /**\n     * Assign one or more DOM nodes as a drop target.\n     * @function\n     * @param {Element|Array.<Element>} domNodes\n     */\n    assignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(\n        domNodes,\n        function (domNode) {\n          domNode.addEventListener('dragover', this.preventEvent, false);\n          domNode.addEventListener('dragenter', this.preventEvent, false);\n          domNode.addEventListener('drop', this.onDrop, false);\n        },\n        this\n      );\n    },\n\n    /**\n     * Un-assign drop event from DOM nodes\n     * @function\n     * @param domNodes\n     */\n    unAssignDrop(domNodes) {\n      if (typeof domNodes.length === 'undefined') {\n        domNodes = [domNodes];\n      }\n      each(\n        domNodes,\n        function (domNode) {\n          domNode.removeEventListener('dragover', this.preventEvent);\n          domNode.removeEventListener('dragenter', this.preventEvent);\n          domNode.removeEventListener('drop', this.onDrop);\n        },\n        this\n      );\n    },\n\n    /**\n     * Returns a boolean indicating whether or not the instance is currently\n     * uploading anything.\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false;\n      each(this.files, function (file) {\n        if (file.isUploading()) {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Start or resume uploading.\n     * @function\n     */\n    upload() {\n      // Make sure we don't start too many uploads at once\n      if (this.isUploading()) {\n        return;\n      }\n      // Kick off the queue\n      this.fire('uploadStart');\n      let started = false;\n      for (let num = 1; num <= this.opts.simultaneousUploads; num++) {\n        started = this.uploadNextChunk(true) || started;\n      }\n      if (!started) {\n        this.fire('complete');\n      }\n    },\n\n    /**\n     * Resume uploading.\n     * @function\n     */\n    resume() {\n      each(this.files, function (file) {\n        file.resume();\n      });\n    },\n\n    /**\n     * Pause uploading.\n     * @function\n     */\n    pause() {\n      each(this.files, function (file) {\n        file.pause();\n      });\n    },\n\n    /**\n     * Cancel upload of all FlowFile objects and remove them from the list.\n     * @function\n     */\n    cancel() {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        this.files[i].cancel();\n      }\n    },\n\n    /**\n     * Returns a number between 0 and 1 indicating the current upload progress\n     * of all files.\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      let totalDone = 0;\n      let totalSize = 0;\n      // Resume all chunks currently being uploaded\n      each(this.files, function (file) {\n        totalDone += file.progress() * file.size;\n        totalSize += file.size;\n      });\n      return totalSize > 0 ? totalDone / totalSize : 0;\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {File} file\n     * @param {Event} [event] event is optional\n     */\n    addFile(file, event) {\n      this.addFiles([file], event);\n    },\n\n    /**\n     * Add a HTML5 File object to the list of files.\n     * @function\n     * @param {FileList|Array} fileList\n     * @param {Event} [event] event is optional\n     */\n    addFiles(fileList, event) {\n      const files = [];\n      each(\n        fileList,\n        function (file) {\n          // Directories have size `0` and name `.`\n          // Ignore already added files\n          if (\n            !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.')) &&\n            !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file))\n          ) {\n            const f = new FlowFile(this, file);\n            if (this.fire('fileAdded', f, event)) {\n              files.push(f);\n            }\n          }\n        },\n        this\n      );\n      if (this.fire('filesAdded', files, event)) {\n        each(\n          files,\n          function (file) {\n            if ((this.opts.singleFile && this.files.length === 0) || !this.opts.singleFile) {\n              this.files.push(file);\n            }\n          },\n          this\n        );\n      }\n      this.fire('filesSubmitted', files, event);\n    },\n\n    /**\n     * Cancel upload of a specific FlowFile object from the list.\n     * @function\n     * @param {FlowFile} file\n     */\n    removeFile(file) {\n      for (let i = this.files.length - 1; i >= 0; i--) {\n        if (this.files[i] === file) {\n          this.files.splice(i, 1);\n          file.abort();\n        }\n      }\n    },\n\n    /**\n     * Look up a FlowFile object by its unique identifier.\n     * @function\n     * @param {string} uniqueIdentifier\n     * @returns {boolean|FlowFile} false if file was not found\n     */\n    getFromUniqueIdentifier(uniqueIdentifier) {\n      let ret = false;\n      each(this.files, function (file) {\n        if (file.uniqueIdentifier === uniqueIdentifier) {\n          ret = file;\n        }\n      });\n      return ret;\n    },\n\n    /**\n     * Returns the total size of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    getSize() {\n      let totalSize = 0;\n      each(this.files, function (file) {\n        totalSize += file.size;\n      });\n      return totalSize;\n    },\n\n    /**\n     * Returns the total size uploaded of all files in bytes.\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0;\n      each(this.files, function (file) {\n        size += file.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      let sizeDelta = 0;\n      let averageSpeed = 0;\n      each(this.files, function (file) {\n        if (!file.paused && !file.error) {\n          sizeDelta += file.size - file.sizeUploaded();\n          averageSpeed += file.averageSpeed;\n        }\n      });\n      if (sizeDelta && !averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!sizeDelta && !averageSpeed) {\n        return 0;\n      }\n      return Math.floor(sizeDelta / averageSpeed);\n    }\n  };\n\n  /**\n   * FlowFile class\n   * @name FlowFile\n   * @param {Flow} flowObj\n   * @param {File} file\n   * @constructor\n   */\n  function FlowFile(flowObj, file) {\n    /**\n     * Reference to parent Flow instance\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to file\n     * @type {File}\n     */\n    this.file = file;\n\n    /**\n     * File name. Some confusion in different versions of Firefox\n     * @type {string}\n     */\n    this.name = file.fileName || file.name;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.size = file.size;\n\n    /**\n     * Relative file path\n     * @type {string}\n     */\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\n\n    /**\n     * File unique identifier\n     * @type {string}\n     */\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file);\n\n    /**\n     * List of chunks\n     * @type {Array.<FlowChunk>}\n     */\n    this.chunks = [];\n\n    /**\n     * Indicated if file is paused\n     * @type {boolean}\n     */\n    this.paused = false;\n\n    /**\n     * Indicated if file has encountered an error\n     * @type {boolean}\n     */\n    this.error = false;\n\n    /**\n     * Average upload speed\n     * @type {number}\n     */\n    this.averageSpeed = 0;\n\n    /**\n     * Current upload speed\n     * @type {number}\n     */\n    this.currentSpeed = 0;\n\n    /**\n     * Date then progress was called last time\n     * @type {number}\n     * @private\n     */\n    this._lastProgressCallback = Date.now();\n\n    /**\n     * Previously uploaded file size\n     * @type {number}\n     * @private\n     */\n    this._prevUploadedSize = 0;\n\n    /**\n     * Holds previous progress\n     * @type {number}\n     * @private\n     */\n    this._prevProgress = 0;\n\n    this.bootstrap();\n  }\n\n  FlowFile.prototype = {\n    /**\n     * Update speed parameters\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\n     * @function\n     */\n    measureSpeed() {\n      const timeSpan = Date.now() - this._lastProgressCallback;\n      if (!timeSpan) {\n        return;\n      }\n      const smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\n      const uploaded = this.sizeUploaded();\n      // Prevent negative upload speed after file upload resume\n      this.currentSpeed = Math.max(((uploaded - this._prevUploadedSize) / timeSpan) * 1000, 0);\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\n      this._prevUploadedSize = uploaded;\n    },\n\n    /**\n     * For internal usage only.\n     * Callback when something happens within the chunk.\n     * @function\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\n     * @param {string} [message]\n     */\n    chunkEvent(event, message) {\n      switch (event) {\n        case 'progress':\n          if (Date.now() - this._lastProgressCallback < this.flowObj.opts.progressCallbacksInterval) {\n            break;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          break;\n        case 'error':\n          this.error = true;\n          this.abort(true);\n          this.flowObj.fire('fileError', this, message);\n          this.flowObj.fire('error', message, this);\n          break;\n        case 'success':\n          if (this.error) {\n            return;\n          }\n          this.measureSpeed();\n          this.flowObj.fire('fileProgress', this);\n          this.flowObj.fire('progress');\n          this._lastProgressCallback = Date.now();\n          if (this.isComplete()) {\n            this.currentSpeed = 0;\n            this.averageSpeed = 0;\n            this.flowObj.fire('fileSuccess', this, message);\n          }\n          break;\n        case 'retry':\n          this.flowObj.fire('fileRetry', this);\n          break;\n      }\n    },\n\n    /**\n     * Pause file upload\n     * @function\n     */\n    pause() {\n      this.paused = true;\n      this.abort();\n    },\n\n    /**\n     * Resume file upload\n     * @function\n     */\n    resume() {\n      this.paused = false;\n      this.flowObj.upload();\n    },\n\n    /**\n     * Abort current upload\n     * @function\n     */\n    abort(reset) {\n      this.currentSpeed = 0;\n      this.averageSpeed = 0;\n      const { chunks } = this;\n      if (reset) {\n        this.chunks = [];\n      }\n      each(\n        chunks,\n        function (c) {\n          if (c.status() === 'uploading') {\n            c.abort();\n            this.flowObj.uploadNextChunk();\n          }\n        },\n        this\n      );\n    },\n\n    /**\n     * Cancel current upload and remove from a list\n     * @function\n     */\n    cancel() {\n      this.flowObj.removeFile(this);\n    },\n\n    /**\n     * Retry aborted file upload\n     * @function\n     */\n    retry() {\n      this.bootstrap();\n      this.flowObj.upload();\n    },\n\n    /**\n     * Clear current chunks and slice file again\n     * @function\n     */\n    bootstrap() {\n      this.abort(true);\n      this.error = false;\n      // Rebuild stack of chunks from file\n      this._prevProgress = 0;\n      const round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\n      const chunks = Math.max(round(this.file.size / this.flowObj.opts.chunkSize), 1);\n      for (let offset = 0; offset < chunks; offset++) {\n        this.chunks.push(new FlowChunk(this.flowObj, this, offset));\n      }\n    },\n\n    /**\n     * Get current upload progress status\n     * @function\n     * @returns {number} from 0 to 1\n     */\n    progress() {\n      if (this.error) {\n        return 0;\n      }\n      if (this.chunks.length === 1) {\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\n        return this._prevProgress;\n      }\n      // Sum up progress across everything\n      let bytesLoaded = 0;\n      each(this.chunks, function (c) {\n        // get chunk progress relative to entire file\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\n      });\n      const percent = bytesLoaded / this.size;\n      // We don't want to lose percentages when an upload is paused\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.999 ? 1 : percent);\n      return this._prevProgress;\n    },\n\n    /**\n     * Indicates if file is being uploaded at the moment\n     * @function\n     * @returns {boolean}\n     */\n    isUploading() {\n      let uploading = false;\n      each(this.chunks, function (chunk) {\n        if (chunk.status() === 'uploading') {\n          uploading = true;\n          return false;\n        }\n      });\n      return uploading;\n    },\n\n    /**\n     * Indicates if file is has finished uploading and received a response\n     * @function\n     * @returns {boolean}\n     */\n    isComplete() {\n      let outstanding = false;\n      each(this.chunks, function (chunk) {\n        const status = chunk.status();\n        if (status === 'pending' || status === 'uploading' || chunk.preprocessState === 1) {\n          outstanding = true;\n          return false;\n        }\n      });\n      return !outstanding;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = 0;\n      each(this.chunks, function (chunk) {\n        size += chunk.sizeUploaded();\n      });\n      return size;\n    },\n\n    /**\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\n     * @function\n     * @returns {number}\n     */\n    timeRemaining() {\n      if (this.paused || this.error) {\n        return 0;\n      }\n      const delta = this.size - this.sizeUploaded();\n      if (delta && !this.averageSpeed) {\n        return Number.POSITIVE_INFINITY;\n      }\n      if (!delta && !this.averageSpeed) {\n        return 0;\n      }\n      return Math.floor(delta / this.averageSpeed);\n    },\n\n    /**\n     * Get file type\n     * @function\n     * @returns {string}\n     */\n    getType() {\n      return this.file.type && this.file.type.split('/')[1];\n    },\n\n    /**\n     * Get file extension\n     * @function\n     * @returns {string}\n     */\n    getExtension() {\n      return this.name.substr((~-this.name.lastIndexOf('.') >>> 0) + 2).toLowerCase();\n    }\n  };\n\n  /**\n   * Class for storing a single chunk\n   * @name FlowChunk\n   * @param {Flow} flowObj\n   * @param {FlowFile} fileObj\n   * @param {number} offset\n   * @constructor\n   */\n  function FlowChunk(flowObj, fileObj, offset) {\n    /**\n     * Reference to parent flow object\n     * @type {Flow}\n     */\n    this.flowObj = flowObj;\n\n    /**\n     * Reference to parent FlowFile object\n     * @type {FlowFile}\n     */\n    this.fileObj = fileObj;\n\n    /**\n     * File size\n     * @type {number}\n     */\n    this.fileObjSize = fileObj.size;\n\n    /**\n     * File offset\n     * @type {number}\n     */\n    this.offset = offset;\n\n    /**\n     * Indicates if chunk existence was checked on the server\n     * @type {boolean}\n     */\n    this.tested = false;\n\n    /**\n     * Number of retries performed\n     * @type {number}\n     */\n    this.retries = 0;\n\n    /**\n     * Pending retry\n     * @type {boolean}\n     */\n    this.pendingRetry = false;\n\n    /**\n     * Preprocess state\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\n     */\n    this.preprocessState = 0;\n\n    /**\n     * Bytes transferred from total request size\n     * @type {number}\n     */\n    this.loaded = 0;\n\n    /**\n     * Total request size\n     * @type {number}\n     */\n    this.total = 0;\n\n    /**\n     * Size of a chunk\n     * @type {number}\n     */\n    const { chunkSize } = this.flowObj.opts;\n\n    /**\n     * Chunk start byte in a file\n     * @type {number}\n     */\n    this.startByte = this.offset * chunkSize;\n\n    /**\n     * Chunk end byte in a file\n     * @type {number}\n     */\n    this.endByte = Math.min(this.fileObjSize, (this.offset + 1) * chunkSize);\n\n    /**\n     * XMLHttpRequest\n     * @type {XMLHttpRequest}\n     */\n    this.xhr = null;\n\n    if (this.fileObjSize - this.endByte < chunkSize && !this.flowObj.opts.forceChunkSize) {\n      // The last chunk will be bigger than the chunk size,\n      // but less than 2*chunkSize\n      this.endByte = this.fileObjSize;\n    }\n\n    const $ = this;\n\n    /**\n     * Catch progress event\n     * @param {ProgressEvent} event\n     */\n    this.progressHandler = function (event) {\n      if (event.lengthComputable) {\n        $.loaded = event.loaded;\n        $.total = event.total;\n      }\n      $.fileObj.chunkEvent('progress');\n    };\n\n    /**\n     * Catch test event\n     * @param {Event} event\n     */\n    this.testHandler = function (event) {\n      const status = $.status();\n      if (status === 'success') {\n        $.tested = true;\n        $.fileObj.chunkEvent(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else if (!$.fileObj.paused) {\n        // Error might be caused by file pause method\n        $.tested = true;\n        $.send();\n      }\n    };\n\n    /**\n     * Upload has stopped\n     * @param {Event} event\n     */\n    this.doneHandler = function (event) {\n      const status = $.status();\n      if (status === 'success' || status === 'error') {\n        $.fileObj.chunkEvent(status, $.message());\n        $.flowObj.uploadNextChunk();\n      } else {\n        $.fileObj.chunkEvent('retry', $.message());\n        $.pendingRetry = true;\n        $.abort();\n        $.retries++;\n        const retryInterval = $.flowObj.opts.chunkRetryInterval;\n        if (retryInterval !== null) {\n          setTimeout(function () {\n            $.send();\n          }, retryInterval);\n        } else {\n          $.send();\n        }\n      }\n    };\n  }\n\n  FlowChunk.prototype = {\n    /**\n     * Get params for a request\n     * @function\n     */\n    getParams() {\n      return {\n        flowChunkNumber: this.offset + 1,\n        flowChunkSize: this.flowObj.opts.chunkSize,\n        flowCurrentChunkSize: this.endByte - this.startByte,\n        flowTotalSize: this.fileObjSize,\n        flowIdentifier: this.fileObj.uniqueIdentifier,\n        flowFilename: this.fileObj.name,\n        flowRelativePath: this.fileObj.relativePath,\n        flowTotalChunks: this.fileObj.chunks.length\n      };\n    },\n\n    /**\n     * Get target option with query params\n     * @function\n     * @param params\n     * @returns {string}\n     */\n    getTarget(params) {\n      let { target } = this.flowObj.opts;\n      if (target.indexOf('?') < 0) {\n        target += '?';\n      } else {\n        target += '&';\n      }\n      return target + params.join('&');\n    },\n\n    /**\n     * Makes a GET request without any data to see if the chunk has already\n     * been uploaded in a previous session\n     * @function\n     */\n    test() {\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.addEventListener('load', this.testHandler, false);\n      this.xhr.addEventListener('error', this.testHandler, false);\n      const data = this.prepareXhrRequest('GET');\n      this.xhr.send(data);\n    },\n\n    /**\n     * Finish preprocess state\n     * @function\n     */\n    preprocessFinished() {\n      this.preprocessState = 2;\n      this.send();\n    },\n\n    /**\n     * Uploads the actual data in a POST call\n     * @function\n     */\n    send() {\n      const { preprocess } = this.flowObj.opts;\n      if (typeof preprocess === 'function') {\n        switch (this.preprocessState) {\n          case 0:\n            preprocess(this);\n            this.preprocessState = 1;\n            return;\n          case 1:\n            return;\n          case 2:\n            break;\n        }\n      }\n      if (this.flowObj.opts.testChunks && !this.tested) {\n        this.test();\n        return;\n      }\n\n      this.loaded = 0;\n      this.total = 0;\n      this.pendingRetry = false;\n\n      const func = this.fileObj.file.slice\n        ? 'slice'\n        : this.fileObj.file.mozSlice\n        ? 'mozSlice'\n        : this.fileObj.file.webkitSlice\n        ? 'webkitSlice'\n        : 'slice';\n      const bytes = this.fileObj.file[func](this.startByte, this.endByte);\n\n      // Set up request and listen for event\n      this.xhr = new XMLHttpRequest();\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\n      this.xhr.addEventListener('load', this.doneHandler, false);\n      this.xhr.addEventListener('error', this.doneHandler, false);\n\n      const data = this.prepareXhrRequest('POST', this.flowObj.opts.method, bytes);\n\n      this.xhr.send(data);\n    },\n\n    /**\n     * Abort current xhr request\n     * @function\n     */\n    abort() {\n      // Abort and reset\n      const { xhr } = this;\n      this.xhr = null;\n      if (xhr) {\n        xhr.abort();\n      }\n    },\n\n    /**\n     * Retrieve current chunk upload status\n     * @function\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\n     */\n    status() {\n      if (this.pendingRetry) {\n        // if pending retry then that's effectively the same as actively uploading,\n        // there might just be a slight delay before the retry starts\n        return 'uploading';\n      }\n      if (!this.xhr) {\n        return 'pending';\n      }\n      if (this.xhr.readyState < 4) {\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\n        // or 'LOADING' - meaning that stuff is happening\n        return 'uploading';\n      }\n      if (this.xhr.status === 200) {\n        // HTTP 200, perfect\n        return 'success';\n      }\n      if (\n        this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\n        this.retries >= this.flowObj.opts.maxChunkRetries\n      ) {\n        // HTTP 415/500/501, permanent error\n        return 'error';\n      }\n      // this should never happen, but we'll reset and queue a retry\n      // a likely case for this would be 503 service unavailable\n      this.abort();\n      return 'pending';\n    },\n\n    /**\n     * Get response from xhr request\n     * @function\n     * @returns {String}\n     */\n    message() {\n      return this.xhr ? this.xhr.responseText : '';\n    },\n\n    /**\n     * Get upload progress\n     * @function\n     * @returns {number}\n     */\n    progress() {\n      if (this.pendingRetry) {\n        return 0;\n      }\n      const s = this.status();\n      if (s === 'success' || s === 'error') {\n        return 1;\n      }\n      if (s === 'pending') {\n        return 0;\n      }\n      return this.total > 0 ? this.loaded / this.total : 0;\n    },\n\n    /**\n     * Count total size uploaded\n     * @function\n     * @returns {number}\n     */\n    sizeUploaded() {\n      let size = this.endByte - this.startByte;\n      // can't return only chunk.loaded value, because it is bigger than chunk size\n      if (this.status() !== 'success') {\n        size *= this.progress();\n      }\n      return size;\n    },\n\n    /**\n     * Prepare Xhr request. Set query, headers and data\n     * @param {string} method GET or POST\n     * @param {string} [paramsMethod] octet or form\n     * @param {Blob} [blob] to send\n     * @returns {FormData|Blob|Null} data to send\n     */\n    prepareXhrRequest(method, paramsMethod, blob) {\n      // Add data from the query options\n      let { query } = this.flowObj.opts;\n      if (typeof query === 'function') {\n        query = query(this.fileObj, this);\n      }\n      query = extend(this.getParams(), query);\n\n      let { target } = this.flowObj.opts;\n      let data = null;\n      if (method === 'GET' || paramsMethod === 'octet') {\n        // Add data from the query options\n        const params = [];\n        each(query, function (v, k) {\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\n        });\n        target = this.getTarget(params);\n        data = blob || null;\n      } else {\n        // Add data from the query options\n        data = new FormData();\n        each(query, function (v, k) {\n          data.append(k, v);\n        });\n        data.append(this.flowObj.opts.fileParameterName, blob);\n      }\n\n      this.xhr.open(method, target);\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\n\n      // Add data from header options\n      each(\n        this.flowObj.opts.headers,\n        function (v, k) {\n          this.xhr.setRequestHeader(k, v);\n        },\n        this\n      );\n\n      return data;\n    }\n  };\n\n  /**\n   * Remove value from array\n   * @param array\n   * @param value\n   */\n  function arrayRemove(array, value) {\n    const index = array.indexOf(value);\n    if (index > -1) {\n      array.splice(index, 1);\n    }\n  }\n\n  /**\n   * Extends the destination object `dst` by copying all of the properties from\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\n   * @function\n   * @param {Object} dst Destination object.\n   * @param {...Object} src Source object(s).\n   * @returns {Object} Reference to `dst`.\n   */\n  function extend(dst, src) {\n    each(arguments, function (obj) {\n      if (obj !== dst) {\n        each(obj, function (value, key) {\n          dst[key] = value;\n        });\n      }\n    });\n    return dst;\n  }\n  Flow.extend = extend;\n\n  /**\n   * Iterate each element of an object\n   * @function\n   * @param {Array|Object} obj object or an array to iterate\n   * @param {Function} callback first argument is a value and second is a key.\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\n   */\n  function each(obj, callback, context) {\n    if (!obj) {\n      return;\n    }\n    let key;\n    // Is Array?\n    if (typeof obj.length !== 'undefined') {\n      for (key = 0; key < obj.length; key++) {\n        if (callback.call(context, obj[key], key) === false) {\n          return;\n        }\n      }\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\n          return;\n        }\n      }\n    }\n  }\n  Flow.each = each;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowFile}\n   */\n  Flow.FlowFile = FlowFile;\n\n  /**\n   * FlowFile constructor\n   * @type {FlowChunk}\n   */\n  Flow.FlowChunk = FlowChunk;\n\n  /**\n   * Library version\n   * @type {string}\n   */\n  Flow.version = '2.1.0';\n\n  if (typeof module === 'object' && module && typeof module.exports === 'object') {\n    // Expose Flow as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = Flow;\n  } else {\n    // Otherwise expose Flow to the global object as usual\n    window.Flow = Flow;\n\n    // Register as a named AMD module, since Flow can be concatenated with other\n    // files that may use define, but not via a proper concatenation script that\n    // understands anonymous AMD modules. A named AMD is safest and most robust\n    // way to register. Lowercase flow is used because AMD module names are\n    // derived from file names, and Flow is normally delivered in a lowercase\n    // file name. Do this after creating the global so that if an AMD module wants\n    // to call noConflict to hide this version of Flow, it will work.\n    if (typeof define === 'function' && define.amd) {\n      define('flow', [], function () {\n        return Flow;\n      });\n    }\n  }\n})(window, document);\n","import { createMuiTheme, PaletteType } from '@material-ui/core';\nimport { useMemo } from 'react';\n\nexport type AppThemeProps = {\n  background?: {\n    dark?: {\n      default: string;\n      paper: string;\n    };\n    light?: {\n      default: string;\n      paper: string;\n    };\n  };\n  darkPrimary?: string;\n  darkSecondary?: string;\n  lightPrimary?: string;\n  lightSecondary?: string;\n  appbar?: {\n    sticky?: {\n      elevation?: number;\n      dark?: {\n        backgroundColor: string;\n      };\n      light?: {\n        backgroundColor: string;\n      };\n    };\n  };\n};\n\nconst useAppTheme = (isDark: boolean, colors: AppThemeProps) => {\n  const theme = useMemo(() => {\n    const { background, darkPrimary, darkSecondary, lightPrimary, lightSecondary } = colors;\n\n    const primaryMain = isDark ? darkPrimary : lightPrimary;\n    const secondaryMain = isDark ? darkSecondary : lightSecondary;\n\n    const palette = {\n      primary: {\n        main: primaryMain\n      },\n      secondary: {\n        main: secondaryMain\n      },\n      type: isDark ? ('dark' as PaletteType) : ('light' as PaletteType)\n    };\n\n    if (background) {\n      if (isDark && background.dark) {\n        // eslint-disable-next-line @typescript-eslint/dot-notation\n        palette['background'] = background.dark;\n      } else if (!isDark && background.light) {\n        // eslint-disable-next-line @typescript-eslint/dot-notation\n        palette['background'] = background.light;\n      }\n    }\n\n    return createMuiTheme({\n      overrides: {\n        MuiCssBaseline: {\n          '@global': {\n            body: {\n              width: '100%',\n              height: '100%'\n            },\n            '#root': {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0\n            }\n          }\n        }\n      },\n      palette\n    });\n  }, [colors, isDark]);\n  return [theme];\n};\nexport default useAppTheme;\n","import { makeStyles, ThemeProvider, useMediaQuery } from '@material-ui/core';\nimport useAppTheme, { AppThemeProps } from 'commons/components/hooks/useAppTheme';\nimport { SnackbarProvider } from 'notistack';\nimport React, { useState } from 'react';\n\n//\ninterface AppbarStyles {\n  color: string;\n  backgroundColor: string;\n  elevation: number;\n}\n\n// Specification interface of the component properties.\ninterface AppProviderProps {\n  children: React.ReactNode;\n  colors: AppThemeProps;\n  defaultTheme: 'light' | 'dark';\n  defaultContext?: any;\n}\n\n// Specification interface of the contex provider.\nexport interface AppContextProps {\n  context?: any;\n  theme: 'light' | 'dark';\n  colors: AppThemeProps;\n  isDarkTheme: boolean;\n  isLightTheme: boolean;\n  toggleTheme: () => void;\n  setContext: (context: any) => void;\n  getAppbarStyles: (currentLayout: 'side' | 'top') => AppbarStyles;\n}\n\n// React context instantiation.\nexport const AppContext = React.createContext<AppContextProps>(null);\n\n// Figure what the initial theme to use.\nconst getInitialTheme = (defaultTheme, prefersDarkMode) => {\n  // Figure out initial theme.\n  let initialTheme;\n  const storedDarkMode = localStorage.getItem('darkMode');\n  const darkMode = storedDarkMode ? !!JSON.parse(storedDarkMode) : null;\n  if (darkMode !== null && darkMode === true) {\n    initialTheme = 'dark' as 'dark';\n  } else if (darkMode !== null && darkMode === false) {\n    initialTheme = 'light' as 'light';\n  } else if (prefersDarkMode) {\n    initialTheme = 'dark' as 'dark';\n  } else {\n    initialTheme = defaultTheme;\n  }\n  return initialTheme;\n};\n\nconst useStyles = makeStyles(theme => ({\n  snackroot: {\n    [theme.breakpoints.only('xs')]: { wordBreak: 'break-all' }\n  }\n}));\n\n// Implementation of the AppContext provider component.\n// This should be the root application component renderered by the index.tsx into the dom element-id 'root'\nconst AppContextProvider: React.FC<AppProviderProps> = ({ defaultTheme, colors, defaultContext, children }) => {\n  // Application provided context.\n  const [context, setContext] = useState<any>(defaultContext);\n  const classes = useStyles();\n\n  // Theme state.\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const [theme, setTheme] = useState<'dark' | 'light'>(getInitialTheme(defaultTheme, prefersDarkMode));\n\n  // Theme toggle handler.\n  const toggleTheme = () => {\n    const newTheme = theme === 'dark' ? 'light' : 'dark';\n    localStorage.setItem('darkMode', JSON.stringify(newTheme === 'dark'));\n    setTheme(newTheme);\n  };\n\n  // Build the theme.\n  const [appTheme] = useAppTheme(theme === 'dark', colors);\n\n  // Compute appbar styles for specified layout.\n  const getAppbarStyles = (layout: 'side' | 'top'): AppbarStyles => {\n    const isTopLayout = layout === 'top';\n    const isDarkTheme = theme === 'dark';\n    const isLightTheme = theme === 'light';\n\n    // Compute background color.\n    let backgroundColor = isTopLayout ? appTheme.palette.primary.dark : appTheme.palette.background.default;\n    if (isTopLayout) {\n      if (isDarkTheme && colors.appbar?.sticky?.dark) {\n        backgroundColor = colors.appbar.sticky.dark.backgroundColor;\n      }\n      if (isLightTheme && colors.appbar?.sticky?.light) {\n        backgroundColor = colors.appbar.sticky.light.backgroundColor;\n      }\n    }\n\n    // Compute elevation.\n    const elevation = isTopLayout\n      ? colors.appbar?.sticky?.elevation !== undefined\n        ? colors.appbar?.sticky?.elevation\n        : 2\n      : 0;\n\n    // Wrap it up and send-it!\n    return {\n      color: appTheme.palette.getContrastText(backgroundColor),\n      backgroundColor,\n      elevation\n    };\n  };\n\n  // Initialize app context provider, theme, snackbar and render children component.\n  // Snackbar needs to be rendered as child of theme provider.  CSS glitches ensues if not the case.\n  return (\n    <AppContext.Provider\n      value={{\n        context,\n        theme,\n        colors,\n        isDarkTheme: theme === 'dark',\n        isLightTheme: theme === 'light',\n        toggleTheme,\n        setContext,\n        getAppbarStyles\n      }}\n    >\n      <ThemeProvider theme={appTheme}>\n        <SnackbarProvider classes={{ root: classes.snackroot }}>{children}</SnackbarProvider>\n      </ThemeProvider>\n    </AppContext.Provider>\n  );\n};\n\nexport default AppContextProvider;\n","import React from 'react';\n\nexport type UserProfileProps = {\n  username: string;\n  email: string;\n  name: string;\n  avatar: string;\n  is_admin: boolean;\n};\n\nexport type ValidatedProp = {\n  prop: string;\n  value: any;\n};\n\nexport interface UserContextProps<U extends UserProfileProps> {\n  user: U;\n  setUser: (user: U) => void;\n  isReady: () => boolean;\n  validateProps?: (props: ValidatedProp[]) => boolean;\n}\n\nexport interface UserProviderProps<U extends UserProfileProps> extends UserContextProps<U> {\n  children: React.ReactNode;\n}\n\nexport const UserContext = React.createContext<UserContextProps<UserProfileProps>>(null);\n\nfunction UserProvider<U extends UserProfileProps>(props: UserProviderProps<U>) {\n  const { children, ...contextProps } = props;\n  return <UserContext.Provider value={contextProps}>{children}</UserContext.Provider>;\n}\n\nUserProvider.defaultProps = {\n  validateProps: () => true\n};\n\nexport default UserProvider;\n","import { UserContext, UserContextProps, UserProfileProps } from 'commons/components/user/UserProvider';\nimport { useContext } from 'react';\n\nexport default function useAppUser<U extends UserProfileProps>(): UserContextProps<U> {\n  const context = useContext(UserContext) as UserContextProps<U>;\n  if (context) {\n    return context;\n  }\n  return {\n    user: null,\n    setUser: user => null,\n    isReady: () => false\n  };\n}\n","import { ListItem, ListItemIcon, ListItemText, Tooltip } from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useAppUser from 'commons/components/hooks/useAppUser';\nimport { LeftNavItemProps } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    nested: {\n      paddingLeft: theme.spacing(4)\n    }\n  })\n);\n\nconst LeftNavItem: React.FC<LeftNavItemProps> = props => {\n  const classes = useStyles();\n  const { drawerState, hideNestedIcons, toggleDrawer } = useAppLayout();\n  const { text, icon, nested, route, userPropValidators } = props;\n  const { validateProps } = useAppUser();\n\n  const onCloseDrawerIfOpen = () => {\n    if (isWidthDown('sm', props.width) && drawerState) {\n      setTimeout(toggleDrawer, 150);\n    }\n  };\n\n  const item = (\n    <ListItem\n      button\n      component={route ? Link : null}\n      to={route}\n      dense={!!nested}\n      className={nested ? classes.nested : null}\n      key={text}\n      onClick={onCloseDrawerIfOpen}\n    >\n      {((icon && !nested) || (!hideNestedIcons && icon && nested)) && <ListItemIcon>{icon}</ListItemIcon>}\n      <ListItemText primary={text} />\n    </ListItem>\n  );\n\n  return validateProps(userPropValidators) ? (\n    drawerState || nested ? (\n      item\n    ) : (\n      <Tooltip title={text} aria-label={text} placement=\"right\">\n        {item}\n      </Tooltip>\n    )\n  ) : null;\n};\n\nexport default withWidth()(LeftNavItem);\n","import { Collapse, List, ListItem, ListItemIcon, ListItemText, Popover, Tooltip } from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport { LeftNavGroupProps } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport LeftNavItem from 'commons/components/layout/leftnav/LeftNavItem';\nimport React, { useState } from 'react';\n\nconst LeftNavGroup: React.FC<LeftNavGroupProps> = ({ open = true, id, title, icon, items }) => {\n  const { drawerState } = useAppLayout();\n  const [popoverTarget, setPopoverTarget] = useState<(EventTarget & Element) | undefined>();\n\n  const onPopoverClick = (event: React.MouseEvent) => {\n    setPopoverTarget(event ? event.currentTarget : undefined);\n  };\n\n  const [collapseOpen, setCollapseOpen] = React.useState(false);\n  const handleClick = (event: React.MouseEvent) => {\n    if (open) {\n      setCollapseOpen(!collapseOpen);\n    } else {\n      onPopoverClick(event);\n    }\n  };\n\n  const groupItem = (\n    <ListItem button key={id} onClick={handleClick}>\n      <ListItemIcon>{icon}</ListItemIcon>\n      <ListItemText primary={title} />\n      {collapseOpen ? <ExpandLess color=\"action\" /> : <ExpandMore color=\"action\" />}\n    </ListItem>\n  );\n\n  return (\n    <div>\n      {drawerState ? (\n        groupItem\n      ) : (\n        <Tooltip title={title} aria-label={title} placement=\"right\">\n          {groupItem}\n        </Tooltip>\n      )}\n      <Collapse in={collapseOpen && open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          {items.map(i => (\n            <LeftNavItem key={i.id} {...i} />\n          ))}\n        </List>\n      </Collapse>\n      <Popover\n        open={!!popoverTarget}\n        onClose={() => setPopoverTarget(undefined)}\n        onClick={() => setPopoverTarget(undefined)}\n        anchorEl={popoverTarget}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left'\n        }}\n      >\n        <List disablePadding>\n          {items.map(i => (\n            <LeftNavItem key={i.id} {...i} />\n          ))}\n        </List>\n      </Popover>\n    </div>\n  );\n};\n\nexport default LeftNavGroup;\n","import { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  topBarTitle: {\n    display: 'flex',\n    alignItems: 'center',\n    flex: '0 0 auto',\n    fontSize: '1.5rem',\n    letterSpacing: '-1px'\n  },\n  icon: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0',\n    minWidth: theme.spacing(7)\n  },\n  title: {\n    color: 'inherit',\n    textDecoration: 'none'\n  }\n}));\n\nexport default function AppTitle({ disabled = false, noTitle = false }) {\n  const theme = useTheme();\n  const classes = useStyles();\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const { layoutProps, getLogo, toggleDrawer } = useAppLayout();\n\n  if (!disabled) {\n    return isXs ? (\n      <div className={classes.topBarTitle} style={{ paddingLeft: theme.spacing(2) }}>\n        <div className={classes.icon}>\n          <IconButton aria-label=\"open drawer\" edge=\"start\" color=\"inherit\" onClick={toggleDrawer}>\n            <MenuIcon />\n          </IconButton>\n        </div>\n        {!noTitle && (\n          <Link to=\"/\" className={classes.title} onClick={toggleDrawer}>\n            {layoutProps.appName}\n          </Link>\n        )}\n      </div>\n    ) : (\n      <Link to=\"/\" className={classes.title} style={{ paddingLeft: theme.spacing(2) }}>\n        <div className={classes.topBarTitle}>\n          <div className={classes.icon}>{getLogo(theme)}</div>\n          {!noTitle && <div>{layoutProps.appName}</div>}\n        </div>\n      </Link>\n    );\n  }\n  return null;\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport {\n  Box,\n  ClickAwayListener,\n  Divider,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Toolbar,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport clsx from 'clsx';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport LeftNavGroup from 'commons/components/layout/leftnav/LeftNavGroup';\nimport LeftNavItem from 'commons/components/layout/leftnav/LeftNavItem';\nimport { ValidatedProp } from 'commons/components/user/UserProvider';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AppTitle from '../topnav/AppTitle';\n\nconst drawerWidth = 240;\n\nexport const useStyles = makeStyles(theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap',\n    '@media print': {\n      display: 'none !important'\n    }\n  },\n  drawerOver: {\n    overflowX: 'hidden'\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    overflowX: 'hidden',\n    width: 0,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(7) + 1\n    },\n    [theme.breakpoints.only('xs')]: {\n      border: 'none'\n    }\n  },\n  toolbar: {\n    [theme.breakpoints.up('xs')]: {\n      padding: 0\n    }\n  },\n  title: {\n    alignItems: 'center',\n    display: 'inline-flex',\n    flex: '0 0 auto',\n    fontSize: '1.5rem',\n    letterSpacing: '-1px',\n    textDecoration: 'none',\n    color: theme.palette.text.primary\n  },\n  toggler: {\n    height: '100%',\n    width: '100%',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\nexport type LeftNavElement = {\n  type: 'item' | 'group' | 'divider';\n  element: LeftNavItemProps | LeftNavGroupProps | null;\n};\n\nexport type LeftNavItemProps = {\n  id: number | string;\n  text: string;\n  userPropValidators?: ValidatedProp[];\n  icon?: React.ReactElement<any>;\n  route?: string;\n  nested?: boolean;\n  width?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nexport type LeftNavGroupProps = {\n  open?: boolean;\n  id: number | string;\n  title: string;\n  icon: React.ReactElement<any>;\n  items: LeftNavItemProps[];\n};\n\ntype LeftNavDrawerProps = {\n  width?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst LeftNavDrawer: React.FC<LeftNavDrawerProps> = props => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const classes = useStyles();\n  const { layoutProps, drawerState, currentLayout, toggleDrawer } = useAppLayout();\n  const isTopLayout = currentLayout === 'top';\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n\n  const onCloseDrawerIfOpen = () => {\n    if (isWidthDown('sm', props.width) && drawerState) {\n      toggleDrawer();\n    }\n  };\n\n  const header = (\n    <div>\n      <Toolbar className={classes.toolbar}>\n        <AppTitle />\n      </Toolbar>\n      <Divider style={{ backgroundColor: isTopLayout && !isXs ? 'transparent' : null }} />\n    </div>\n  );\n\n  const hide = (\n    <List disablePadding>\n      <ListItem button key=\"chevron\" onClick={toggleDrawer}>\n        <ListItemIcon>{drawerState ? <ChevronLeftIcon /> : <ChevronRightIcon />}</ListItemIcon>\n        <ListItemText primary={t('drawer.collapse')} />\n      </ListItem>\n    </List>\n  );\n\n  return (\n    <ClickAwayListener mouseEvent=\"onMouseDown\" touchEvent=\"onTouchStart\" onClickAway={onCloseDrawerIfOpen}>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: drawerState,\n          [classes.drawerClose]: !drawerState\n        })}\n        classes={{\n          paper: clsx(classes.drawerOver, {\n            [classes.drawerOpen]: drawerState,\n            [classes.drawerClose]: !drawerState\n          })\n        }}\n      >\n        {drawerState ? (\n          header\n        ) : (\n          <Tooltip title={layoutProps.appName} aria-label={layoutProps.appName} placement=\"right\">\n            {header}\n          </Tooltip>\n        )}\n        <List disablePadding>\n          {layoutProps.leftnav.elements.map((e, i) => {\n            const key = `{navel-${i}}`;\n            if (e.type === 'item') {\n              return <LeftNavItem key={key} {...(e.element as LeftNavItemProps)} />;\n            }\n            if (e.type === 'group') {\n              return <LeftNavGroup key={key} open={drawerState} {...(e.element as LeftNavGroupProps)} />;\n            }\n            if (e.type === 'divider') {\n              return <Divider key={key} />;\n            }\n\n            return null;\n          })}\n        </List>\n        <Divider />\n        {drawerState ? (\n          hide\n        ) : (\n          <Tooltip title={t('drawer.expand')} aria-label={t('drawer.expand')} placement=\"right\">\n            {hide}\n          </Tooltip>\n        )}\n        <Box className={clsx(classes.toggler)} onClick={toggleDrawer} />\n      </Drawer>\n    </ClickAwayListener>\n  );\n};\n\nexport default withWidth()(LeftNavDrawer);\n","import { useLayoutEffect, useState } from 'react';\n\nexport const APPBAR_READY_EVENT = 'tui.event.appbar.ready';\n\nexport default function useAppBarHeight(): number {\n  const [height, setHeight] = useState<number>(-1);\n\n  const updateHeight = () => {\n    const appbar = document.getElementById('appbar');\n    if (appbar) {\n      const rect = appbar.getBoundingClientRect();\n      setHeight(rect.height);\n    }\n  };\n\n  useLayoutEffect(() => {\n    updateHeight();\n    window.addEventListener('resize', updateHeight);\n    window.addEventListener(APPBAR_READY_EVENT, updateHeight);\n    return () => {\n      window.removeEventListener('resize', updateHeight);\n      window.removeEventListener(APPBAR_READY_EVENT, updateHeight);\n    };\n  }, []);\n\n  return height;\n}\n","import { useContext } from 'react';\nimport { AppContext, AppContextProps } from '../app/AppContextProvider';\n\nexport default function useAppContext(): AppContextProps {\n  return useContext(AppContext);\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { appendRoute, BreadcrumbItem, getRoute } from 'commons/components/hooks/useAppSitemap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useAppUser from '../hooks/useAppUser';\n\nexport type SiteMapRoute = {\n  path: string;\n  title: string;\n  icon?: React.ReactNode;\n  isRoot?: boolean;\n  isLeaf?: boolean;\n  exclude?: boolean;\n  breadcrumbs?: string[];\n};\n\nexport interface SiteMapContextProps {\n  lastOnly?: boolean;\n  exceptLast?: boolean;\n  allLinks?: boolean;\n  itemsBefore?: number;\n  itemsAfter?: number;\n  routes: SiteMapRoute[];\n}\n\ninterface SiteMapProviderProps extends SiteMapContextProps {\n  children: React.ReactNode;\n}\n\nexport interface SitemapProviderContextProps extends SiteMapContextProps {\n  breadcrumbs: BreadcrumbItem[];\n}\n\nexport const SiteMapContext = React.createContext<SitemapProviderContextProps>(null);\n\nfunction SiteMapProvider(props: SiteMapProviderProps) {\n  const { children, ...contextProps } = props;\n  const history = useHistory();\n  const { isReady } = useAppUser();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const isUserReady = isReady();\n\n  // Reset the breadcrumbs if the user ready state changes.\n  useEffect(() => {\n    setBreadcrumbs(\n      appendRoute([getRoute('/', contextProps.routes)], getRoute(history.location.pathname, contextProps.routes))\n    );\n  }, [isUserReady]);\n\n  useEffect(() => {\n    // The return callback will ensure the event handler deregisters when component\n    //  is unmounted.  Failure to do this will result in an event handler\n    //  being registered each time this component renders.\n    return history.listen(location => {\n      const _matchedRoute = getRoute(location.pathname, contextProps.routes);\n      const _breadcrumbs = appendRoute(breadcrumbs, _matchedRoute);\n      setBreadcrumbs(_breadcrumbs);\n    });\n  });\n\n  return <SiteMapContext.Provider value={{ breadcrumbs, ...contextProps }}>{children}</SiteMapContext.Provider>;\n}\n\nexport default SiteMapProvider;\n","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport error403EN from 'locales/en/403.json';\nimport error404EN from 'locales/en/404.json';\nimport adminErrorViewerEN from 'locales/en/admin/error_viewer.json';\nimport adminServicesEN from 'locales/en/admin/services.json';\nimport adminSiteMapEN from 'locales/en/admin/site_map.json';\nimport adminUsersEN from 'locales/en/admin/users.json';\nimport alertsEN from 'locales/en/alerts.json';\nimport authorizeEN from 'locales/en/authorize.json';\nimport dashboardEN from 'locales/en/dashboard.json';\nimport favoritesEN from 'locales/en/favorites.json';\nimport fileDetailEN from 'locales/en/file/detail.json';\nimport fileViewerEN from 'locales/en/file/viewer.json';\nimport helpAPIEN from 'locales/en/help/api.json';\nimport helpClassificationEN from 'locales/en/help/classification.json';\nimport helpConfigurationEN from 'locales/en/help/configuration.json';\nimport helpSearchEN from 'locales/en/help/search.json';\nimport helpServicesEN from 'locales/en/help/services.json';\nimport lockedEN from 'locales/en/locked.json';\nimport loginEN from 'locales/en/login.json';\nimport logoutEN from 'locales/en/logout.json';\nimport manageHeuristicsEN from 'locales/en/manage/heuristics.json';\nimport manageHeuristicDetailEN from 'locales/en/manage/heuristic_detail.json';\nimport manageSignaturesEN from 'locales/en/manage/signatures.json';\nimport manageSignatureDetailEN from 'locales/en/manage/signature_detail.json';\nimport manageSignatureSourcesEN from 'locales/en/manage/signature_sources.json';\nimport manageWorkflowsEN from 'locales/en/manage/workflows.json';\nimport manageWorkflowDetailEN from 'locales/en/manage/workflow_detail.json';\nimport optoutEN from 'locales/en/optout.json';\nimport searchEN from 'locales/en/search.json';\nimport settingsEN from 'locales/en/settings.json';\nimport statisticsHeuristicsEN from 'locales/en/statistics/heuristics.json';\nimport statisticsSignaturesEN from 'locales/en/statistics/signatures.json';\nimport submissionDetailEN from 'locales/en/submission/detail.json';\nimport submissionReportEN from 'locales/en/submission/report.json';\nimport submissionsEN from 'locales/en/submissions.json';\nimport submitEN from 'locales/en/submit.json';\nimport tosEN from 'locales/en/tos.json';\nimport translationEN from 'locales/en/translation.json';\nimport userEN from 'locales/en/user.json';\nimport error403FR from 'locales/fr/403.json';\nimport error404FR from 'locales/fr/404.json';\nimport adminErrorViewerFR from 'locales/fr/admin/error_viewer.json';\nimport adminServicesFR from 'locales/fr/admin/services.json';\nimport adminSiteMapFR from 'locales/fr/admin/site_map.json';\nimport adminUsersFR from 'locales/fr/admin/users.json';\nimport alertsFR from 'locales/fr/alerts.json';\nimport authorizeFR from 'locales/fr/authorize.json';\nimport dashboardFR from 'locales/fr/dashboard.json';\nimport favoritesFR from 'locales/fr/favorites.json';\nimport fileDetailFR from 'locales/fr/file/detail.json';\nimport fileViewerFR from 'locales/fr/file/viewer.json';\nimport helpAPIFR from 'locales/fr/help/api.json';\nimport helpClassificationFR from 'locales/fr/help/classification.json';\nimport helpConfigurationFR from 'locales/fr/help/configuration.json';\nimport helpSearchFR from 'locales/fr/help/search.json';\nimport helpServicesFR from 'locales/fr/help/services.json';\nimport lockedFR from 'locales/fr/locked.json';\nimport loginFR from 'locales/fr/login.json';\nimport logoutFR from 'locales/fr/logout.json';\nimport manageHeuristicsFR from 'locales/fr/manage/heuristics.json';\nimport manageHeuristicDetailFR from 'locales/fr/manage/heuristic_detail.json';\nimport manageSignaturesFR from 'locales/fr/manage/signatures.json';\nimport manageSignatureDetailFR from 'locales/fr/manage/signature_detail.json';\nimport manageSignatureSourcesFR from 'locales/fr/manage/signature_sources.json';\nimport manageWorkflowsFR from 'locales/fr/manage/workflows.json';\nimport manageWorkflowDetailFR from 'locales/fr/manage/workflow_detail.json';\nimport optoutFR from 'locales/fr/optout.json';\nimport searchFR from 'locales/fr/search.json';\nimport settingsFR from 'locales/fr/settings.json';\nimport statisticsHeuristicsFR from 'locales/fr/statistics/heuristics.json';\nimport statisticsSignaturesFR from 'locales/fr/statistics/signatures.json';\nimport submissionDetailFR from 'locales/fr/submission/detail.json';\nimport submissionReportFR from 'locales/fr/submission/report.json';\nimport submissionsFR from 'locales/fr/submissions.json';\nimport submitFR from 'locales/fr/submit.json';\nimport tosFR from 'locales/fr/tos.json';\nimport translationFR from 'locales/fr/translation.json';\nimport userFR from 'locales/fr/user.json';\nimport { initReactI18next } from 'react-i18next';\n\nconst resources = {\n  en: {\n    adminErrorViewer: adminErrorViewerEN,\n    adminServices: adminServicesEN,\n    adminSiteMap: adminSiteMapEN,\n    adminUsers: adminUsersEN,\n    authorize: authorizeEN,\n    dashboard: dashboardEN,\n    error403: error403EN,\n    error404: error404EN,\n    fileDetail: fileDetailEN,\n    fileViewer: fileViewerEN,\n    helpAPI: helpAPIEN,\n    helpClassification: helpClassificationEN,\n    helpConfiguration: helpConfigurationEN,\n    helpSearch: helpSearchEN,\n    helpServices: helpServicesEN,\n    locked: lockedEN,\n    login: loginEN,\n    logout: logoutEN,\n    manageHeuristics: manageHeuristicsEN,\n    manageHeuristicDetail: manageHeuristicDetailEN,\n    manageSignatures: manageSignaturesEN,\n    manageSignatureDetail: manageSignatureDetailEN,\n    manageSignatureSources: manageSignatureSourcesEN,\n    manageWorkflowDetail: manageWorkflowDetailEN,\n    manageWorkflows: manageWorkflowsEN,\n    optout: optoutEN,\n    search: searchEN,\n    settings: settingsEN,\n    statisticsHeuristics: statisticsHeuristicsEN,\n    statisticsSignatures: statisticsSignaturesEN,\n    submissions: submissionsEN,\n    submissionDetail: submissionDetailEN,\n    submissionReport: submissionReportEN,\n    submit: submitEN,\n    translation: translationEN,\n    tos: tosEN,\n    user: userEN,\n    alerts: alertsEN,\n    favorites: favoritesEN\n  },\n  fr: {\n    adminErrorViewer: adminErrorViewerFR,\n    adminServices: adminServicesFR,\n    adminSiteMap: adminSiteMapFR,\n    adminUsers: adminUsersFR,\n    authorize: authorizeFR,\n    dashboard: dashboardFR,\n    error403: error403FR,\n    error404: error404FR,\n    fileDetail: fileDetailFR,\n    fileViewer: fileViewerFR,\n    helpAPI: helpAPIFR,\n    helpClassification: helpClassificationFR,\n    helpConfiguration: helpConfigurationFR,\n    helpSearch: helpSearchFR,\n    helpServices: helpServicesFR,\n    locked: lockedFR,\n    login: loginFR,\n    logout: logoutFR,\n    manageHeuristics: manageHeuristicsFR,\n    manageHeuristicDetail: manageHeuristicDetailFR,\n    manageSignatures: manageSignaturesFR,\n    manageSignatureDetail: manageSignatureDetailFR,\n    manageSignatureSources: manageSignatureSourcesFR,\n    manageWorkflowDetail: manageWorkflowDetailFR,\n    manageWorkflows: manageWorkflowsFR,\n    optout: optoutFR,\n    search: searchFR,\n    settings: settingsFR,\n    statisticsHeuristics: statisticsHeuristicsFR,\n    statisticsSignatures: statisticsSignaturesFR,\n    submissions: submissionsFR,\n    submissionDetail: submissionDetailFR,\n    submissionReport: submissionReportFR,\n    submit: submitFR,\n    translation: translationFR,\n    tos: tosFR,\n    user: userFR,\n    alerts: alertsFR,\n    favorites: favoritesFR\n  }\n};\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false\n    },\n    detection: {\n      order: ['localStorage', 'cookie']\n    },\n    resources\n  });\n\nexport default i18n;\n","import { SiteMapContext, SiteMapContextProps, SiteMapRoute } from 'commons/components/sitemap/SitemapProvider';\nimport i18n from 'i18n';\nimport { useContext } from 'react';\nimport { match, matchPath } from 'react-router-dom';\n\nconst TITLE_404 = i18n.t('breadcrumb.404');\n\nexport type BreadcrumbItem = { route: SiteMapRoute; matcher: match };\n\ntype SitemapProps = {\n  breadcrumbs: BreadcrumbItem[];\n  props: SiteMapContextProps;\n  resolveTitle: (breadcrumb: BreadcrumbItem) => string;\n  getSiteRoute: (path: string) => BreadcrumbItem;\n  last: () => BreadcrumbItem;\n  first: () => BreadcrumbItem;\n  is404: (breadcrumb: BreadcrumbItem) => boolean;\n};\n\nexport const getRoute = (route: string, siteMap: SiteMapRoute[]): BreadcrumbItem => {\n  // match all the route provide in sitemap with current route.\n  const matchers = siteMap.map(_route => {\n    const matcher = matchPath(route, { path: _route.path });\n    return { route: _route, matcher };\n  });\n\n  // only keep the exact matched routes.\n  const matched = matchers.filter(m => m.matcher && m.matcher.isExact);\n\n  // hopefully, we only have a single match.\n  if (matched && matched.length > 1) {\n    // eslint-disable-next-line no-console\n    console.warn(`Found more than one sitemap route match for: ${route}`);\n  }\n  return matched && matched[0] ? matched[0] : { route: { path: route, title: TITLE_404 }, matcher: null };\n};\n\nexport const appendRoute = (breadcrumbs: BreadcrumbItem[], breadcrumb: BreadcrumbItem): BreadcrumbItem[] => {\n  // If the 'siteRoute' is null/undefined, we ignore it.\n  if (breadcrumb) {\n    // If a root route, then we reset the breadcrumbs.\n    if (breadcrumb.route.isRoot) {\n      return [breadcrumb];\n    }\n    // If the last element of bread is a leaf, then we remove it.\n    if (breadcrumbs[breadcrumbs.length - 1].route.isLeaf) {\n      // eslint-disable-next-line no-param-reassign\n      breadcrumbs = breadcrumbs.slice(0, breadcrumbs.length - 1);\n    }\n    // See if the route is already in the breadcrumbs.\n    const index = breadcrumbs.findIndex(_breadcrumb => _breadcrumb.route.path === breadcrumb.route.path);\n    // If the route is already in breacrumbs, then we slice off what comes after,\n    //  if not then we append it to the end.\n    return index > -1 ? [...breadcrumbs.slice(0, index), breadcrumb] : [...breadcrumbs, breadcrumb];\n  }\n  return breadcrumbs;\n};\n\n// We need to dynamically build the title since it will be language/locale specific and therefore we cannot\n//  rely on the cached version since language might have changed since then.\nconst resolveTitle = (breadcrumb: BreadcrumbItem, siteMap: SiteMapRoute[]) => {\n  // we need to refetch the route in order to ensure we have the correct language.\n  let title = breadcrumb.route.path ? getRoute(breadcrumb.route.path, siteMap).route.title : breadcrumb.route.title;\n  // if there are any parameters in match, replace them in title.\n  if (breadcrumb.matcher && breadcrumb.matcher.params) {\n    const { params } = breadcrumb.matcher;\n    Object.keys(params).forEach(k => {\n      title = title.replace(`{:${k}}`, params[k]);\n    });\n  }\n  return title;\n};\n\nconst is404 = (breadcrumb: BreadcrumbItem) => {\n  return breadcrumb.route.title === TITLE_404;\n};\n\nexport default function useAppSitemap(): SitemapProps {\n  const { breadcrumbs, ...props } = useContext(SiteMapContext);\n  return {\n    breadcrumbs,\n    props,\n    resolveTitle: (breadcrumb: BreadcrumbItem) => resolveTitle(breadcrumb, props.routes),\n    getSiteRoute: (path: string) => getRoute(path, props.routes),\n    last: () => (breadcrumbs.length > 0 ? breadcrumbs[breadcrumbs.length - 1] : breadcrumbs[0]),\n    first: () => breadcrumbs[0],\n    is404\n  };\n}\n","import {\n  Divider,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  ListSubheader,\n  Switch,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport useApp from 'commons/components/hooks/useAppContext';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport i18n from 'i18next';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport enum Lang {\n  EN = 'en',\n  FR = 'fr'\n}\n\nconst isLang = (lang: Lang): boolean => {\n  return i18n.language === lang.valueOf();\n};\n\nconst ThemeSelection = ({ width }) => {\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const { toggleTheme } = useApp();\n  const {\n    currentLayout,\n    showQuickSearch,\n    autoHideAppbar,\n    layoutProps,\n    breadcrumbsEnabled,\n    breadcrumbsState,\n    toggleLayout,\n    toggleQuickSearch,\n    toggleAutoHideAppbar,\n    toggleShowBreadcrumbs,\n    toggleBreadcrumbsState\n  } = useAppLayout();\n\n  const onToggleLanguage = () => {\n    i18n.changeLanguage(isLang(Lang.EN) ? Lang.FR.valueOf() : Lang.EN.valueOf());\n  };\n\n  const clearStorage = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  return (\n    <div>\n      {layoutProps.allowTranslate && (\n        <List dense subheader={<ListSubheader disableSticky>{t('app.language')}</ListSubheader>}>\n          <ListItem dense button onClick={onToggleLanguage}>\n            <ListItemText style={{ margin: 0 }}>\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  flexDirection: 'row',\n                  width: '100%',\n                  textAlign: 'center',\n                  cursor: 'pointer'\n                }}\n              >\n                <Typography component=\"div\" variant=\"body2\">\n                  English\n                </Typography>\n                <div style={{ flexGrow: 1 }}>\n                  <Switch checked={isLang(Lang.FR)} name=\"langSwitch\" />\n                </div>\n                <Typography component=\"div\" variant=\"body2\">\n                  Français\n                </Typography>\n              </div>\n            </ListItemText>\n          </ListItem>\n        </List>\n      )}\n      {layoutProps.allowTranslate && allowPersonalization && <Divider />}\n      {allowPersonalization && (\n        <List dense subheader={<ListSubheader disableSticky>{t('personalization')}</ListSubheader>}>\n          {layoutProps.allowThemeSelection && (\n            <ListItem button onClick={toggleTheme}>\n              <ListItemText>{t('personalization.dark')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch edge=\"end\" onChange={toggleTheme} checked={theme.palette.type === 'dark'} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowTopbarModeSelection && (\n            <ListItem button onClick={toggleLayout}>\n              <ListItemText>{t('personalization.sticky')}</ListItemText>\n              <ListItemSecondaryAction onClick={toggleLayout}>\n                <Switch edge=\"end\" checked={currentLayout === 'top'} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowQuickSearch && !isWidthDown('xs', width) && (\n            <ListItem button onClick={toggleQuickSearch}>\n              <ListItemText>{t('personalization.quicksearch')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch edge=\"end\" checked={showQuickSearch} onClick={toggleQuickSearch} />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowAutoHideTopbar && (\n            <ListItem button disabled={currentLayout === 'top'} onClick={toggleAutoHideAppbar}>\n              <ListItemText>{t('personalization.autohideappbar')}</ListItemText>\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  disabled={currentLayout === 'top'}\n                  checked={autoHideAppbar && currentLayout !== 'top'}\n                  onClick={toggleAutoHideAppbar}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          )}\n          {layoutProps.allowBreadcrumbs && !isWidthDown('sm', width) && (\n            <>\n              <ListItem button onClick={toggleShowBreadcrumbs}>\n                <ListItemText>{t('personalization.showbreadcrumbs')}</ListItemText>\n                <ListItemSecondaryAction>\n                  <Switch edge=\"end\" checked={breadcrumbsEnabled} onClick={toggleShowBreadcrumbs} />\n                </ListItemSecondaryAction>\n              </ListItem>\n              {layoutProps.allowBreadcrumbsMinimize && (\n                <ListItem button onClick={toggleBreadcrumbsState} disabled={!breadcrumbsEnabled}>\n                  <ListItemText>{t('personalization.minimizebreadcrumbs')}</ListItemText>\n                  <ListItemSecondaryAction>\n                    <Switch\n                      edge=\"end\"\n                      disabled={!breadcrumbsEnabled}\n                      checked={breadcrumbsEnabled && !breadcrumbsState}\n                      onClick={toggleBreadcrumbsState}\n                    />\n                  </ListItemSecondaryAction>\n                </ListItem>\n              )}\n            </>\n          )}\n        </List>\n      )}\n\n      {(layoutProps.allowTranslate || allowPersonalization) && layoutProps.allowReset && <Divider />}\n\n      {layoutProps.allowReset && (\n        <List dense>\n          <ListItem dense button onClick={clearStorage}>\n            <ListItemText>{t('personalization.reset_text')}</ListItemText>\n          </ListItem>\n        </List>\n      )}\n    </div>\n  );\n};\n\nexport default withWidth()(ThemeSelection);\n","import { makeStyles } from '@material-ui/core';\nimport { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    '& svg': {\n      marginRight: theme.spacing(0.5),\n      width: 20,\n      height: 20\n    }\n  }\n}));\n\ntype BreadcrumbIconProps = {\n  item: BreadcrumbItem;\n};\n\nconst BreadcrumbIcon: React.FC<BreadcrumbIconProps> = ({ item }) => {\n  const {\n    route: { icon }\n  } = item;\n  const classes = useStyles();\n  return icon ? <span className={classes.icon}>{icon}</span> : null;\n};\n\nexport default BreadcrumbIcon;\n","import { Link, makeStyles } from '@material-ui/core';\nimport useAppSitemap, { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbIcon from 'commons/components/layout/breadcrumbs/BreadcrumbIcon';\nimport React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const useStyles = makeStyles({\n  link: {\n    display: 'flex'\n    // alignItems: 'center'\n  },\n  text: {\n    maxWidth: '200px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap'\n  }\n});\n\ntype BreadcrumbLinkItemProps = {\n  textOnly?: boolean;\n  item: BreadcrumbItem;\n};\n\nconst LinkRouter = props => <Link {...props} component={RouterLink} />;\n\nconst BreadcrumbLinkItem: React.FC<BreadcrumbLinkItemProps> = ({ item, textOnly = false }) => {\n  const classes = useStyles();\n  const { route, matcher } = item;\n  const { resolveTitle } = useAppSitemap();\n  const url = matcher ? matcher.url : route.path;\n  return (\n    <LinkRouter\n      style={route.icon ? { paddingTop: '3px' } : null}\n      key={`bcrumb-${url}`}\n      color=\"inherit\"\n      to={url}\n      className={classes.link}\n    >\n      {!textOnly && <BreadcrumbIcon item={item} />}\n      {/* <Tooltip title={url}> */}\n      <span className={classes.text}>{resolveTitle(item)}</span>\n      {/* </Tooltip> */}\n    </LinkRouter>\n  );\n};\n\nexport default BreadcrumbLinkItem;\n","import { Tooltip, Typography } from '@material-ui/core';\nimport useAppSitemap, { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbIcon from 'commons/components/layout/breadcrumbs/BreadcrumbIcon';\nimport { useStyles as useLinkStyle, useStyles } from 'commons/components/layout/breadcrumbs/BreadcrumbLinkItem';\nimport React from 'react';\n\ntype BreadcrumbLastItemProps = {\n  textOnly?: boolean;\n  item: BreadcrumbItem;\n};\n\nconst BreadcrumbLastItem: React.FC<BreadcrumbLastItemProps> = ({ item, textOnly = false }) => {\n  const classes = useStyles();\n  const { route, matcher } = item;\n  const linkClasses = useLinkStyle();\n  const { resolveTitle } = useAppSitemap();\n  const url = matcher ? matcher.url : route.path;\n\n  return (\n    <Typography\n      style={route.icon ? { paddingTop: '3px' } : null}\n      key={`bcrumb-${url}`}\n      // color=\"textPrimary\"\n      className={linkClasses.link}\n    >\n      {!textOnly && <BreadcrumbIcon item={item} />}\n      <Tooltip title={url}>\n        <span className={classes.text}>{resolveTitle(item)}</span>\n      </Tooltip>\n    </Typography>\n  );\n};\n\nexport default BreadcrumbLastItem;\n","import { Tooltip } from '@material-ui/core';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { BreadcrumbItem } from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbLastItem from 'commons/components/layout/breadcrumbs/BreadcrumbLastItem';\nimport BreadcrumbLinkItem from 'commons/components/layout/breadcrumbs/BreadcrumbLinkItem';\nimport { useStyles as useBreadcrumbStyles } from 'commons/components/layout/breadcrumbs/Breadcrumbs';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype BreadcrumbListProps = {\n  compact?: boolean;\n  disableStyle?: boolean;\n  disableEllipsis?: boolean;\n  allLinks?: boolean;\n  textOnly?: boolean;\n  exceptLast?: boolean;\n  isStatic?: boolean;\n  itemsBefore?: number;\n  itemsAfter?: number;\n  items: BreadcrumbItem[];\n};\n\nconst splitItems = (\n  items: BreadcrumbItem[],\n  itemsBeforeCount: number,\n  itemsAfterCount: number,\n  expanded: boolean,\n  isStatic: boolean\n): { before: BreadcrumbItem[]; after: BreadcrumbItem[]; hasEllipsis: boolean } => {\n  const _items = items.concat().filter(i => !i.route.exclude);\n  if (_items.length <= itemsBeforeCount + itemsAfterCount + 1 || isStatic) {\n    return { before: null, after: _items, hasEllipsis: false };\n  }\n  const before = _items.slice(0, itemsBeforeCount);\n  const after = expanded ? _items.slice(itemsBeforeCount) : _items.slice(_items.length - itemsAfterCount);\n  return { before, after, hasEllipsis: before.length + after.length + 1 < _items.length || expanded };\n};\n\nconst BreadcrumbList: React.FC<BreadcrumbListProps> = ({\n  items,\n  disableStyle,\n  itemsBefore = 1,\n  itemsAfter = 1,\n  allLinks = false,\n  textOnly = false,\n  exceptLast = false,\n  isStatic = false\n}) => {\n  const [expanded, setExpanded] = useState<boolean>(false);\n  const classes = useBreadcrumbStyles();\n  const { before, after, hasEllipsis } = splitItems(\n    exceptLast ? items.slice(0, items.length - 1) : items,\n    itemsBefore,\n    itemsAfter,\n    expanded,\n    isStatic\n  );\n  const last = after.length > 0 && !allLinks ? after.pop() : before ? before.pop() : null;\n  return (\n    <MuiBreadcrumbs\n      aria-label=\"breadcrumb\"\n      className={!disableStyle ? classes.breadcrumbs : ''}\n      maxItems={1000}\n      // classes={{ root: { color: 'inherit' } }}\n    >\n      {before &&\n        before.map(item => <BreadcrumbLinkItem key={`bcrumb-${item.route.path}`} item={item} textOnly={textOnly} />)}\n      {hasEllipsis && (\n        <BreadcrumbsEllipsis expanded={expanded} onClick={() => setExpanded(!expanded)} css={classes.moreicon} />\n      )}\n      {after &&\n        after.map(item => <BreadcrumbLinkItem key={`bcrumb-${item.route.path}`} item={item} textOnly={textOnly} />)}\n      {last && <BreadcrumbLastItem item={last} textOnly={textOnly} />}\n    </MuiBreadcrumbs>\n  );\n};\n\nconst BreadcrumbsEllipsis = ({ onClick, css, expanded }) => {\n  const { t } = useTranslation();\n  return (\n    <Tooltip title={t(expanded ? 'tooltip.breadcrumbs.min' : 'tooltip.breadcrumbs.max')}>\n      <MoreHorizIcon fontSize=\"small\" className={css} onClick={onClick} />\n    </Tooltip>\n  );\n};\n\nexport default BreadcrumbList;\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useAppSitemap from 'commons/components/hooks/useAppSitemap';\nimport BreadcrumbList from 'commons/components/layout/breadcrumbs/BreadcrumbList';\nimport React from 'react';\n\nexport const useStyles = makeStyles(theme => ({\n  breadcrumbs: {\n    color: 'inherit',\n    display: 'flex',\n    alignItems: 'center',\n    flexGrow: 2\n  },\n  moreicon: {\n    verticalAlign: 'bottom',\n    marginTop: '5px',\n    display: 'inline-flex',\n    '&:hover': {\n      cursor: 'pointer'\n    }\n  }\n}));\n\ntype BreadcrumbsProps = {\n  disableStyle?: boolean;\n};\n\nconst Breadcrumbs: React.FC<BreadcrumbsProps> = ({ disableStyle }) => {\n  const theme = useTheme();\n  const isMedium = useMediaQuery(theme.breakpoints.up('md'));\n  const { breadcrumbsState } = useAppLayout();\n  const isExpanded = breadcrumbsState && isMedium;\n  const {\n    breadcrumbs,\n    props: { lastOnly, exceptLast, allLinks, itemsBefore = 1, itemsAfter = 1 },\n    getSiteRoute,\n    last,\n    is404\n  } = useAppSitemap();\n\n  const current = last();\n  const isStatic = !!current.route.breadcrumbs;\n\n  let items = null;\n  if (lastOnly || is404(current)) {\n    items = [current];\n  } else if (isStatic) {\n    const staticBreadcrumbs = current.route.breadcrumbs.map(path => getSiteRoute(path));\n    items = [...staticBreadcrumbs, current];\n  } else {\n    items = exceptLast ? (breadcrumbs.length > 1 ? breadcrumbs.slice(0, breadcrumbs.length - 1) : []) : breadcrumbs;\n  }\n\n  return (\n    <BreadcrumbList\n      items={items}\n      disableStyle={disableStyle}\n      allLinks={allLinks}\n      isStatic={isStatic}\n      itemsBefore={isExpanded ? itemsBefore : 0}\n      itemsAfter={isExpanded ? itemsAfter : 1}\n    />\n  );\n};\n\nexport default Breadcrumbs;\n","import {\n  Avatar,\n  Button,\n  ClickAwayListener,\n  Fade,\n  IconButton,\n  Link,\n  makeStyles,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React, { useState } from 'react';\n\nexport type AppElement = {\n  alt: string;\n  name: string;\n  img_d: React.ReactElement<any> | string;\n  img_l: React.ReactElement<any> | string;\n  route: string;\n  newWindow?: boolean;\n};\n\nconst useStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: theme.zIndex.drawer + 2\n  }\n}));\n\ntype AppsSwitcherProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst AppSwitcher: React.FC<AppsSwitcherProps> = props => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const { layoutProps } = useAppLayout();\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const isDarkTheme = theme.palette.type === 'dark';\n  const isPopperOpen = !!popperAnchorEl;\n  const onTogglePopper = event => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n  const onClickAway = () => setPopperAnchorEl(null);\n  const sp1 = theme.spacing(1);\n\n  if (layoutProps.topnav.apps.length === 0) {\n    return null;\n  }\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton color=\"inherit\" onClick={onTogglePopper}>\n        <AppsIcon />\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          placement=\"bottom-end\"\n          className={classes.popper}\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ textAlign: 'center', padding: theme.spacing(1) }} elevation={4}>\n                <div\n                  style={{\n                    maxWidth: layoutProps.topnav.apps.length <= 4 || isWidthDown('xs', props.width) ? '240px' : '360px',\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flexWrap: 'wrap'\n                  }}\n                >\n                  {layoutProps.topnav.apps.map((a, i) => (\n                    <div key={`box-${i}`} style={{ width: '120px', padding: sp1, overflow: 'hidden' }}>\n                      <Button\n                        component={Link}\n                        target={a.newWindow ? '_blank' : null}\n                        href={a.route}\n                        key={`button-${i}`}\n                        style={{ display: 'inherit', textDecoration: 'none', fontWeight: 400 }}\n                      >\n                        <div style={{ display: 'inline-flex' }}>\n                          <Avatar\n                            key={`avatar-${i}`}\n                            variant=\"rounded\"\n                            alt={a.name}\n                            src={\n                              isDarkTheme\n                                ? typeof a.img_d === 'string'\n                                  ? a.img_d\n                                  : null\n                                : typeof a.img_l === 'string'\n                                ? a.img_l\n                                : null\n                            }\n                            style={\n                              a.img_d === null || typeof a.img_d === 'string'\n                                ? { width: theme.spacing(8), height: theme.spacing(8) }\n                                : { backgroundColor: 'transparent', width: theme.spacing(8), height: theme.spacing(8) }\n                            }\n                          >\n                            {isDarkTheme\n                              ? a.img_d !== null && typeof a.img_d !== 'string'\n                                ? a.img_d\n                                : a.alt\n                              : a.img_l !== null && typeof a.img_l !== 'string'\n                              ? a.img_l\n                              : a.alt}\n                          </Avatar>\n                        </div>\n                        <Typography key={`text-${i}`} variant=\"caption\">\n                          {a.name}\n                        </Typography>\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  );\n};\n\nexport default withWidth()(AppSwitcher);\n","import { fade, InputBase, makeStyles } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = breadcrumbsEnabled => {\n  return makeStyles(theme => ({\n    search: {\n      flexGrow: 1,\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.text.primary, 0.04),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.text.primary, 0.06)\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: 'auto'\n      },\n      [theme.breakpoints.up('md')]: {\n        maxWidth: breadcrumbsEnabled ? 300 : 'inherit'\n      }\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit',\n      width: '100%'\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%'\n    }\n  }))();\n};\n\nconst QuickSearch = () => {\n  const { t } = useTranslation();\n  const { layoutProps, breadcrumbsEnabled } = useAppLayout();\n  const classes = useStyles(layoutProps.allowBreadcrumbs && breadcrumbsEnabled);\n  const [value, setValue] = useState('');\n  const history = useHistory();\n\n  const uri = layoutProps.topnav.quickSearchURI ? layoutProps.topnav.quickSearchURI : '/search/';\n  const param = layoutProps.topnav.quickSearchParam ? layoutProps.topnav.quickSearchParam : 'q';\n\n  const submit = event => {\n    event.preventDefault();\n    history.push(`${uri}?${param}=${encodeURIComponent(value)}`);\n    setValue('');\n  };\n\n  return (\n    <div className={classes.search}>\n      <form autoComplete=\"off\" onSubmit={submit}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          onChange={event => setValue(event.target.value)}\n          placeholder={t('quicksearch.placeholder')}\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput\n          }}\n          value={value}\n          inputProps={{ 'aria-label': t('quicksearch.aria') }}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default QuickSearch;\n","import { ClickAwayListener, Fade, IconButton, makeStyles, Paper, Popper, useTheme } from '@material-ui/core';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport ThemeSelection from 'commons/components/layout/topnav/ThemeSelection';\nimport React, { useState } from 'react';\n\nconst useStyles = () => {\n  return makeStyles(theme => ({\n    popper: {\n      zIndex: theme.zIndex.drawer + 2,\n      minWidth: '280px'\n    }\n  }))();\n};\n\nconst ThemeSelectionIcon = () => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const { layoutProps } = useAppLayout();\n\n  const onThemeSelectionClick = (event: React.MouseEvent) => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n\n  const onClickAway = () => setPopperAnchorEl(null);\n  const isPopperOpen = !!popperAnchorEl;\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  return allowPersonalization || layoutProps.allowTranslate || layoutProps.allowReset ? (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton color=\"inherit\" aria-label=\"open drawer\" onClick={onThemeSelectionClick} edge=\"start\">\n        <TuneIcon />\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          className={classes.popper}\n          placement=\"bottom-end\"\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ padding: theme.spacing(1) }} elevation={4}>\n                <ThemeSelection />\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  ) : null;\n};\n\nexport default ThemeSelectionIcon;\n","import { useMemo } from 'react';\n\nconst md5 = require('md5');\n\nconst useGravatar = (email: string) => {\n  return useMemo(() => {\n    if (email !== null) {\n      return `https://s.gravatar.com/avatar/${md5(email)}?d=404`;\n    }\n    return null;\n  }, [email]);\n};\n\nexport default useGravatar;\n","import {\n  Avatar,\n  ClickAwayListener,\n  Divider,\n  Fade,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListSubheader,\n  makeStyles,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport useGravatar from 'commons/components/hooks/useGravatar';\nimport ThemeSelection from 'commons/components/layout/topnav/ThemeSelection';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const useStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: theme.zIndex.appBar + 200,\n    minWidth: '280px'\n  },\n  avatarButton: {\n    padding: 0,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  iconButton: {\n    width: theme.spacing(5),\n    height: theme.spacing(5),\n    [theme.breakpoints.down('xs')]: {\n      width: theme.spacing(4),\n      height: theme.spacing(4)\n    }\n  }\n}));\n\nexport type UserMenuElement = {\n  name: string;\n  route: string;\n  icon?: React.ReactElement<any>;\n};\n\nconst UserProfile = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { user: currentUser } = useUser();\n  const { layoutProps } = useAppLayout();\n  const gravatarUrl = useGravatar(layoutProps.allowGravatar ? currentUser.email : null);\n  const [popperAnchorEl, setPopperAnchorEl] = useState(null);\n  const sp2 = theme.spacing(2);\n  const sp3 = theme.spacing(3);\n\n  const allowPersonalization =\n    layoutProps.allowAutoHideTopbar ||\n    layoutProps.allowBreadcrumbs ||\n    layoutProps.allowQuickSearch ||\n    layoutProps.allowReset ||\n    layoutProps.allowThemeSelection ||\n    layoutProps.allowTopbarModeSelection;\n\n  const onProfileClick = (event: React.MouseEvent) => {\n    setPopperAnchorEl(popperAnchorEl ? null : event.currentTarget);\n  };\n\n  const onClickAway = () => setPopperAnchorEl(null);\n  const isPopperOpen = !!popperAnchorEl;\n\n  const renderThemeSelection = enabled => {\n    if (enabled && (allowPersonalization || layoutProps.allowTranslate || layoutProps.allowReset)) {\n      return (\n        <div>\n          <Divider />\n          <ThemeSelection />\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const renderMenu = (type, menuItems, title) => {\n    if (menuItems !== undefined && menuItems !== null && menuItems.length !== 0) {\n      return (\n        <div>\n          <Divider />\n          <List dense subheader={<ListSubheader disableSticky>{title}</ListSubheader>}>\n            {menuItems.map((a, i) => (\n              <ListItem button component={Link} to={a.route} key={`${type}-${i}`}>\n                {a.icon && <ListItemIcon>{a.icon}</ListItemIcon>}\n                <ListItemText>{a.name}</ListItemText>\n              </ListItem>\n            ))}\n          </List>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <IconButton edge=\"end\" className={classes.avatarButton} onClick={onProfileClick}>\n        <Avatar\n          className={classes.iconButton}\n          alt={currentUser.name}\n          src={currentUser.avatar ? currentUser.avatar : gravatarUrl}\n        >\n          {currentUser.name\n            .split(' ', 2)\n            .map(n => n[0].toUpperCase())\n            .join('')}\n        </Avatar>\n        <Popper\n          open={isPopperOpen}\n          anchorEl={popperAnchorEl}\n          className={classes.popper}\n          placement=\"bottom-end\"\n          transition\n        >\n          {({ TransitionProps }) => (\n            <Fade {...TransitionProps} timeout={250}>\n              <Paper style={{ padding: theme.spacing(1) }} elevation={4}>\n                <List disablePadding>\n                  <ListItem disableGutters dense>\n                    <div\n                      style={{\n                        display: 'flex',\n                        paddingTop: sp2,\n                        paddingBottom: sp2,\n                        paddingLeft: sp3,\n                        paddingRight: sp3,\n                        alignItems: 'center'\n                      }}\n                    >\n                      <Avatar\n                        style={{\n                          width: theme.spacing(8),\n                          height: theme.spacing(8)\n                        }}\n                        alt={currentUser.name}\n                        src={currentUser.avatar ? currentUser.avatar : gravatarUrl}\n                      >\n                        {currentUser.name\n                          .split(' ', 2)\n                          .map(n => n[0].toUpperCase())\n                          .join('')}\n                      </Avatar>\n                      <div style={{ paddingLeft: sp2 }}>\n                        <Typography variant=\"body1\" noWrap>\n                          <b>{currentUser.name}</b>\n                        </Typography>\n                        <Typography variant=\"caption\" noWrap>\n                          {currentUser.email}\n                        </Typography>\n                      </div>\n                    </div>\n                  </ListItem>\n                </List>\n                {renderMenu('usermenu', layoutProps.topnav.userMenu, layoutProps.topnav.userMenuTitle)}\n                {currentUser.is_admin &&\n                  renderMenu('adminmenu', layoutProps.topnav.adminMenu, layoutProps.topnav.adminMenuTitle)}\n                {renderThemeSelection(layoutProps.topnav.themeSelectionUnder === 'profile')}\n              </Paper>\n            </Fade>\n          )}\n        </Popper>\n      </IconButton>\n    </ClickAwayListener>\n  );\n};\n\nexport default UserProfile;\n","import { AppBar, makeStyles, Slide, Toolbar, useMediaQuery, useTheme } from '@material-ui/core';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\nimport { APPBAR_READY_EVENT } from 'commons/components/hooks/useAppBarHeight';\nimport useAppContext from 'commons/components/hooks/useAppContext';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport Breadcrumbs from 'commons/components/layout/breadcrumbs/Breadcrumbs';\nimport AppSwitcher from 'commons/components/layout/topnav/AppSwitcher';\nimport QuickSearch from 'commons/components/layout/topnav/QuickSearch';\nimport ThemeSelectionIcon from 'commons/components/layout/topnav/ThemeSelectionIcon';\nimport UserProfile from 'commons/components/layout/topnav/UserProfile';\nimport React, { useLayoutEffect } from 'react';\nimport AppTitle from './AppTitle';\n\nconst useStyles = makeStyles(theme => ({\n  appBarTopLayout: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  appBar: {\n    '@media print': {\n      display: 'none !important'\n    },\n    [theme.breakpoints.only('xs')]: {\n      zIndex: theme.zIndex.drawer - 1\n    }\n  },\n  toolbar: {\n    [theme.breakpoints.only('xs')]: {}\n  },\n  menuButton: {\n    display: 'none',\n    [theme.breakpoints.down('xs')]: {\n      display: 'inline-block'\n    }\n  },\n  topBarLeft: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  leftSpacer: {\n    marginLeft: theme.spacing(3)\n  }\n}));\n\ntype AppBarProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nconst TopBar: React.FC<AppBarProps> = ({ width }) => {\n  const {\n    currentLayout,\n    layoutProps,\n    showQuickSearch,\n    autoHideAppbar,\n    breadcrumbsEnabled,\n    appbarState\n  } = useAppLayout();\n  const theme = useTheme();\n  const { getAppbarStyles } = useAppContext();\n  const classes = useStyles(currentLayout);\n  const isTopLayout = currentLayout === 'top';\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const isSm = useMediaQuery(theme.breakpoints.down('sm'));\n  const { elevation, ...appbarStyles } = getAppbarStyles(currentLayout as 'side' | 'top');\n  const { left, leftAfterBreadcrumbs } = layoutProps.topnav;\n\n  // Once the dom is mounted, dispatch event to let listeners know\n  //  that the apppbar/topbar dom is available.\n  // Primary usecase if to initialize the 'useAppBarHeight' hook\n  //  which didn't initialize properly because it will typically be\n  //  call before the appbar is ready, because the appbar/top bar\n  //  is conditionally rendered on app/user ready state.\n  useLayoutEffect(() => {\n    window.dispatchEvent(new CustomEvent(APPBAR_READY_EVENT));\n  }, []);\n\n  const renderLeft = () => {\n    return (\n      <div className={classes.topBarLeft}>\n        <AppTitle disabled={!isTopLayout && !isXs} noTitle={isXs} />\n        <div className={isTopLayout ? classes.leftSpacer : null} />\n        {left}\n        {breadcrumbsEnabled && !isSm && <Breadcrumbs />}\n        {leftAfterBreadcrumbs}\n      </div>\n    );\n  };\n\n  const autoHide = !isTopLayout && autoHideAppbar;\n\n  return (\n    <SlideIn show={appbarState}>\n      <AppBar\n        elevation={elevation}\n        position={autoHide && !isTopLayout ? 'relative' : 'sticky'}\n        id=\"appbar\"\n        className={`${classes.appBar} ${isTopLayout && classes.appBarTopLayout}`}\n        style={appbarStyles}\n      >\n        <Toolbar\n          disableGutters\n          className={classes.toolbar}\n          style={{ paddingLeft: !isXs && !isTopLayout ? theme.spacing(2) : null, paddingRight: theme.spacing(1) }}\n        >\n          {renderLeft()}\n          {(isXs ||\n            left ||\n            leftAfterBreadcrumbs ||\n            (breadcrumbsEnabled && !isSm) ||\n            (!showQuickSearch && !breadcrumbsEnabled) ||\n            (!showQuickSearch && breadcrumbsEnabled && isSm)) && <div style={{ flexGrow: 1 }} />}\n          {showQuickSearch && isWidthUp('sm', width) && <QuickSearch />}\n          {layoutProps.topnav.themeSelectionUnder === 'icon' && <ThemeSelectionIcon />}\n          {layoutProps.topnav.right}\n          <AppSwitcher />\n          <UserProfile />\n        </Toolbar>\n      </AppBar>\n    </SlideIn>\n  );\n};\n\nfunction SlideIn({ children, show }) {\n  return (\n    <Slide appear={false} direction=\"down\" in={show} mountOnEnter unmountOnExit>\n      {children}\n    </Slide>\n  );\n}\n\nexport default withWidth()(TopBar);\n","import { CssBaseline, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport useAppUser from 'commons/components/hooks/useAppUser';\nimport LeftNavDrawer, { LeftNavElement } from 'commons/components/layout/leftnav/LeftNavDrawer';\nimport { AppElement } from 'commons/components/layout/topnav/AppSwitcher';\nimport TopBar from 'commons/components/layout/topnav/TopBar';\nimport { UserMenuElement } from 'commons/components/layout/topnav/UserProfile';\nimport React, { useState } from 'react';\n\nconst useNewStyles = makeStyles(theme => ({\n  appVertical: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    position: 'relative'\n  },\n  appVerticalLeft: {\n    height: '100%',\n    [theme.breakpoints.down('sm')]: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0\n    }\n  },\n  appVerticalRight: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    flex: 1,\n    height: '100%'\n  },\n  appVerticalRightContent: {\n    height: 'auto',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1\n  },\n  appHorizontal: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}));\n\nexport type AppLayoutContextProps = {\n  autoHideAppbar: boolean;\n  appbarState: boolean;\n  currentLayout: string;\n  drawerState: boolean;\n  breadcrumbsEnabled: boolean;\n  breadcrumbsState: boolean;\n  hideNestedIcons: boolean;\n  layoutProps: AppLayoutProps;\n  showQuickSearch: boolean;\n  getBanner: (theme) => React.ReactElement<any>;\n  getLogo: (theme) => React.ReactElement<any>;\n  hideMenus: () => void;\n  toggleLayout: () => void;\n  toggleDrawer: () => void;\n  toggleQuickSearch: () => void;\n  toggleAutoHideAppbar: () => void;\n  toggleShowBreadcrumbs: () => void;\n  toggleBreadcrumbsState: () => void;\n  isReady: () => boolean;\n  setReady: (isReady: boolean) => void;\n  setAppbarState: (show: boolean) => void;\n};\n\nexport interface AppLayoutProps {\n  appName: string;\n  allowAutoHideTopbar?: boolean;\n  allowBreadcrumbs?: boolean;\n  allowBreadcrumbsMinimize?: boolean;\n  allowGravatar?: boolean;\n  allowQuickSearch?: boolean;\n  allowReset?: boolean;\n  allowTopbarModeSelection?: boolean;\n  allowThemeSelection?: boolean;\n  allowTranslate?: boolean;\n  appIconDark: React.ReactElement<any>;\n  appIconLight: React.ReactElement<any>;\n  bannerDark: React.ReactElement<any>;\n  bannerLight: React.ReactElement<any>;\n  defaultLayout: 'top' | 'side';\n  defaultDrawerOpen?: boolean;\n  defaultShowQuickSearch?: boolean;\n  defaultAutoHideAppbar?: boolean;\n  defaultShowBreadcrumbs?: boolean;\n  defaultBreadcrumbsOpen?: boolean;\n  topnav: {\n    apps?: AppElement[];\n    userMenu?: UserMenuElement[];\n    userMenuTitle?: string;\n    adminMenu?: UserMenuElement[];\n    adminMenuTitle?: string;\n    quickSearchURI?: string;\n    quickSearchParam?: string;\n    themeSelectionUnder: 'profile' | 'icon';\n    left?: React.ReactNode;\n    leftAfterBreadcrumbs?: React.ReactNode;\n    right?: React.ReactNode;\n  };\n  leftnav: {\n    elements: LeftNavElement[];\n    hideNestedIcons?: boolean;\n  };\n}\n\ninterface LayoutProviderProps extends AppLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AppLayoutContext = React.createContext<AppLayoutContextProps>(null);\n\nfunction AppLayoutProvider(props: LayoutProviderProps) {\n  const { children, ...layoutProps } = props;\n  const { isReady: isUserReady } = useAppUser();\n\n  // Load Initial Layout Default\n  let initialLayout;\n  const storedNavLayout = localStorage.getItem('navLayout');\n  if (storedNavLayout && storedNavLayout === 'top') {\n    initialLayout = 'top' as 'top';\n  } else if (storedNavLayout && storedNavLayout === 'side') {\n    initialLayout = 'side' as 'side';\n  } else {\n    initialLayout = layoutProps.defaultLayout;\n  }\n\n  // Load Nav Drawer Default State\n  const storedDrawer = localStorage.getItem('drawerOpen');\n  const initialDrawer = storedDrawer ? !!JSON.parse(storedDrawer) : layoutProps.defaultDrawerOpen;\n\n  // Load Quick Search Default State\n  const storedQuickSearch = localStorage.getItem('showQuickSearch');\n  const initialQuickSearch = storedQuickSearch ? !!JSON.parse(storedQuickSearch) : layoutProps.defaultShowQuickSearch;\n\n  // Load Auto hide Topbar default state\n  const storedAutoHideAppbar = localStorage.getItem('autoHideAppbar');\n  const initialAutoHideAppbar = storedAutoHideAppbar\n    ? !!JSON.parse(storedAutoHideAppbar)\n    : layoutProps.defaultAutoHideAppbar;\n\n  // Load Breadcrumbs Default State\n  const storedShowBreadcrumbs = localStorage.getItem('breadcrumbsEnabled');\n  const initialBreadcrumbsEnabled = storedShowBreadcrumbs\n    ? !!JSON.parse(storedShowBreadcrumbs)\n    : layoutProps.defaultShowBreadcrumbs;\n\n  // Load Breadcrumbs Default Expanded/Minimize State\n  const storedBreadcrumbs = localStorage.getItem('breadcrumbsState');\n  const initialBreadcrumbsState = storedBreadcrumbs\n    ? !!JSON.parse(storedBreadcrumbs)\n    : layoutProps.defaultBreadcrumbsOpen;\n\n  // Hooks...\n  const [appReady, setAppReady] = useState<boolean>(false);\n  const [showMenus, setShowMenus] = useState<boolean>(true);\n  const [drawer, setDrawer] = useState<boolean>(initialDrawer);\n  const [appbarState, setAppbarState] = useState<boolean>(true);\n  const [breadcrumbsEnabled, setBreadcrumbsEnabled] = useState<boolean>(initialBreadcrumbsEnabled);\n  const [breadcrumbsState, setBreadcrumbsState] = useState<boolean>(initialBreadcrumbsState);\n  const [quickSearch, setQuickSearch] = useState<boolean>(initialQuickSearch);\n  const [autoHideAppbar, setAutoHideAppbar] = useState<boolean>(initialAutoHideAppbar);\n  const [layout, setLayout] = useState<'top' | 'side'>(initialLayout);\n  const theme = useTheme();\n  const isSM = useMediaQuery(theme.breakpoints.only('sm'));\n  const isPrinting = useMediaQuery('print');\n\n  const onToggleLayout = () => {\n    const newLayout = layout === 'top' ? 'side' : 'top';\n    localStorage.setItem('navLayout', newLayout);\n    setLayout(newLayout);\n  };\n\n  const onToggleDrawer = () => {\n    localStorage.setItem('drawerOpen', JSON.stringify(!drawer));\n    setDrawer(!drawer);\n  };\n\n  const onToggleQuickSearch = () => {\n    localStorage.setItem('showQuickSearch', JSON.stringify(!quickSearch));\n    setQuickSearch(!quickSearch);\n  };\n\n  const onToggleAutoHideAppbar = () => {\n    localStorage.setItem('autoHideAppbar', JSON.stringify(!autoHideAppbar));\n    setAutoHideAppbar(!autoHideAppbar);\n  };\n\n  const onToggleShowBreadcrumbs = () => {\n    localStorage.setItem('breadcrumbsEnabled', JSON.stringify(!breadcrumbsEnabled));\n    setBreadcrumbsEnabled(!breadcrumbsEnabled);\n  };\n\n  const onToggleBreadcrumbsState = () => {\n    localStorage.setItem('breadcrumbsState', JSON.stringify(!breadcrumbsState));\n    setBreadcrumbsState(!breadcrumbsState);\n  };\n\n  const newClasses = useNewStyles();\n\n  return (\n    <AppLayoutContext.Provider\n      value={{\n        autoHideAppbar,\n        appbarState,\n        currentLayout: layout,\n        drawerState: drawer,\n        breadcrumbsEnabled,\n        breadcrumbsState,\n        hideNestedIcons: !!layoutProps.leftnav.hideNestedIcons,\n        layoutProps: {\n          allowAutoHideTopbar: true,\n          allowBreadcrumbs: true,\n          allowBreadcrumbsMinimize: true,\n          allowQuickSearch: true,\n          allowReset: true,\n          allowTopbarModeSelection: true,\n          allowThemeSelection: true,\n          allowTranslate: true,\n          ...layoutProps\n        },\n        showQuickSearch: quickSearch,\n        getBanner: curTheme => {\n          return curTheme.palette.type === 'dark' ? layoutProps.bannerDark : layoutProps.bannerLight;\n        },\n        getLogo: curTheme => {\n          return curTheme.palette.type === 'dark' ? layoutProps.appIconDark : layoutProps.appIconLight;\n        },\n        hideMenus: () => setShowMenus(false),\n        toggleLayout: onToggleLayout,\n        toggleDrawer: onToggleDrawer,\n        toggleQuickSearch: onToggleQuickSearch,\n        toggleAutoHideAppbar: onToggleAutoHideAppbar,\n        toggleShowBreadcrumbs: onToggleShowBreadcrumbs,\n        toggleBreadcrumbsState: onToggleBreadcrumbsState,\n        isReady: () => appReady,\n        setReady: (isReady: boolean) => setAppReady(isReady),\n        setAppbarState\n      }}\n    >\n      <>\n        <CssBaseline />\n        {layout === 'side' ? (\n          <div className={newClasses.appVertical}>\n            <div className={newClasses.appVerticalLeft}>\n              {isUserReady() && appReady && showMenus && <LeftNavDrawer />}\n            </div>\n            <div\n              id=\"app-scrollct\"\n              className={newClasses.appVerticalRight}\n              style={{ overflow: 'auto', paddingLeft: showMenus && isSM && !isPrinting ? theme.spacing(7) : 0 }}\n            >\n              {isUserReady() && appReady && showMenus && <TopBar />}\n              {children}\n            </div>\n          </div>\n        ) : (\n          <div id=\"app-scrollct\" className={newClasses.appHorizontal} style={{ overflow: 'auto' }}>\n            {isUserReady() && appReady && showMenus && <TopBar />}\n            <div className={newClasses.appVertical}>\n              <div className={newClasses.appVerticalLeft}>\n                {isUserReady() && appReady && showMenus && <LeftNavDrawer />}\n              </div>\n              <div\n                className={newClasses.appVerticalRight}\n                style={{ paddingLeft: showMenus && isSM && !isPrinting ? theme.spacing(7) : 0 }}\n              >\n                {children}\n              </div>\n            </div>\n          </div>\n        )}\n      </>\n    </AppLayoutContext.Provider>\n  );\n}\n\nexport default AppLayoutProvider;\n","import { AppLayoutContext, AppLayoutContextProps } from 'commons/components/layout/LayoutProvider';\nimport { useContext } from 'react';\n\nexport default function useAppLayout(): AppLayoutContextProps {\n  return useContext(AppLayoutContext);\n}\n","import { UserContext } from 'commons/components/user/UserProvider';\nimport { CustomUserContextProps } from 'components/hooks/useMyUser';\nimport { useContext } from 'react';\n\nexport default function useALContext(): CustomUserContextProps {\n  return useContext(UserContext) as CustomUserContextProps;\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport BuildOutlinedIcon from '@material-ui/icons/BuildOutlined';\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\nimport CodeOutlinedIcon from '@material-ui/icons/CodeOutlined';\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport PublishOutlinedIcon from '@material-ui/icons/PublishOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsApplicationsOutlinedIcon from '@material-ui/icons/SettingsApplicationsOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport SimCardOutlinedIcon from '@material-ui/icons/SimCardOutlined';\nimport SupervisorAccountOutlinedIcon from '@material-ui/icons/SupervisorAccountOutlined';\nimport { AppLayoutProps } from 'commons/components/layout/LayoutProvider';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\n\nconst useMyLayout = (): AppLayoutProps => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const isXS = useMediaQuery(theme.breakpoints.only('xs'));\n  const MENU_ITEMS = [\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'submit',\n        text: t('drawer.submit'),\n        icon: <PublishOutlinedIcon />,\n        route: '/submit',\n        nested: false\n      }\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'submissions',\n        text: t('drawer.submissions'),\n        icon: <AmpStoriesOutlinedIcon />,\n        route: '/submissions',\n        nested: false\n      }\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'alerts',\n        text: t('drawer.alerts'),\n        icon: <NotificationImportantOutlinedIcon />,\n        route: '/alerts',\n        nested: false\n      }\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'search',\n        title: t('drawer.search'),\n        icon: <SearchIcon />,\n        items: [\n          {\n            id: 'search.all',\n            text: t('drawer.search.all'),\n            route: '/search',\n            nested: true\n          },\n          {\n            id: 'search.alert',\n            text: t('drawer.search.alert'),\n            route: '/search/alert',\n            nested: true\n          },\n          {\n            id: 'search.file',\n            text: t('drawer.search.file'),\n            route: '/search/file',\n            nested: true\n          },\n          {\n            id: 'search.result',\n            text: t('drawer.search.result'),\n            route: '/search/result',\n            nested: true\n          },\n          {\n            id: 'search.signature',\n            text: t('drawer.search.signature'),\n            route: '/search/signature',\n            nested: true\n          },\n          {\n            id: 'search.submission',\n            text: t('drawer.search.submission'),\n            route: '/search/submission',\n            nested: true\n          }\n        ]\n      }\n    },\n    {\n      type: 'divider' as 'divider',\n      element: null\n    },\n    {\n      type: 'item' as 'item',\n      element: {\n        id: 'dashboard',\n        text: t('drawer.dashboard'),\n        icon: <DashboardOutlinedIcon />,\n        route: '/dashboard',\n        nested: false\n      }\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'manage',\n        title: t('drawer.manage'),\n        icon: <BuildOutlinedIcon />,\n        items: [\n          {\n            id: 'manage.heuristics',\n            text: t('drawer.manage.heuristics'),\n            icon: <SimCardOutlinedIcon />,\n            route: '/manage/heuristics',\n            nested: true\n          },\n          {\n            id: 'manage.signatures',\n            text: t('drawer.manage.signatures'),\n            icon: <FingerprintOutlinedIcon />,\n            route: '/manage/signatures',\n            nested: true\n          },\n          {\n            id: 'manage.source',\n            text: t('drawer.manage.source'),\n            userPropValidators: [\n              { prop: 'user.is_admin', value: true },\n              { prop: 'user.roles', value: 'signature_manager' }\n            ],\n            icon: <CodeOutlinedIcon />,\n            route: '/manage/sources',\n            nested: true\n          },\n          {\n            id: 'manage.workflow',\n            text: t('drawer.manage.workflow'),\n            icon: <BiNetworkChart />,\n            route: '/manage/workflows',\n            nested: true\n          }\n        ]\n      }\n    },\n    {\n      type: 'divider' as 'divider',\n      element: null\n    },\n    {\n      type: 'group' as 'group',\n      element: {\n        id: 'help',\n        title: t('drawer.help'),\n        icon: <HelpOutlineOutlinedIcon />,\n        items: [\n          {\n            id: 'help.api',\n            text: t('drawer.help.api'),\n            icon: <AssignmentOutlinedIcon />,\n            route: '/help/api',\n            nested: true\n          },\n          {\n            id: 'help.classification',\n            text: t('drawer.help.classification'),\n            userPropValidators: [{ prop: 'c12nDef.enforce', value: true }],\n            icon: <LabelOutlinedIcon />,\n            route: '/help/classification',\n            nested: true\n          },\n          {\n            id: 'help.configuration',\n            text: t('drawer.help.configuration'),\n            icon: <SettingsApplicationsOutlinedIcon />,\n            route: '/help/configuration',\n            nested: true\n          },\n          {\n            id: 'help.search',\n            text: t('drawer.help.search'),\n            icon: <SearchIcon />,\n            route: '/help/search',\n            nested: true\n          },\n          {\n            id: 'help.services',\n            text: t('drawer.help.services'),\n            icon: <AccountTreeOutlinedIcon />,\n            route: '/help/services',\n            nested: true\n          }\n        ]\n      }\n    }\n  ];\n\n  const APP_SWITCHER_ITEMS = [\n    //  {\n    //    alt: \"AL\",\n    //    name: \"Assemblyline\",\n    //    img_d: \"/images/al_dark.svg\",\n    //    img_l: \"/images/al.svg\",\n    //    route: \"https://localhost\"\n    //  },\n  ];\n\n  const USER_MENU_ITEMS = [\n    {\n      name: t('usermenu.account'),\n      route: '/account',\n      icon: <AccountCircleOutlinedIcon />\n    },\n    {\n      name: t('usermenu.settings'),\n      route: '/settings',\n      icon: <SettingsOutlinedIcon />\n    },\n    {\n      name: t('usermenu.optout'),\n      route: '/optout',\n      icon: <CancelPresentationIcon />\n    },\n    {\n      name: t('usermenu.logout'),\n      route: '/logout',\n      icon: <ExitToAppIcon />\n    }\n  ];\n\n  const ADMIN_MENU_ITEMS = [\n    {\n      name: t('adminmenu.errors'),\n      route: '/admin/errors',\n      icon: <ErrorOutlineOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.services'),\n      route: '/admin/services',\n      icon: <AccountTreeOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.sitemap'),\n      route: '/admin/sitemap',\n      icon: <MapOutlinedIcon />\n    },\n    {\n      name: t('adminmenu.users'),\n      route: '/admin/users',\n      icon: <SupervisorAccountOutlinedIcon />\n    }\n  ];\n\n  const darkLogo = (\n    <img\n      alt={t('logo.alt')}\n      src={`${process.env.PUBLIC_URL}/images/al_dark.svg`}\n      width=\"40\"\n      height=\"32\"\n      style={{ marginLeft: '-5px' }}\n    />\n  );\n  const lightLogo = (\n    <img\n      alt={t('logo.alt')}\n      src={`${process.env.PUBLIC_URL}/images/al.svg`}\n      width=\"40\"\n      height=\"32\"\n      style={{ marginLeft: '-5px' }}\n    />\n  );\n  const darkBanner = (\n    <img\n      style={{ display: 'inline-block', width: '100%', margin: `${isXS ? 2 : 3}rem 0` }}\n      src={`${process.env.PUBLIC_URL}/images/banner_dark.svg`}\n      alt={t('banner.alt')}\n    />\n  );\n  const lightBanner = (\n    <img\n      style={{ display: 'inline-block', width: '100%', margin: `${isXS ? 2 : 3}rem 0` }}\n      src={`${process.env.PUBLIC_URL}/images/banner.svg`}\n      alt={t('banner.alt')}\n    />\n  );\n\n  return {\n    appName: 'Assemblyline',\n    allowBreadcrumbsMinimize: false,\n    allowReset: false,\n    appIconDark: darkLogo,\n    appIconLight: lightLogo,\n    bannerLight: lightBanner,\n    bannerDark: darkBanner,\n    defaultLayout: 'side' as 'side',\n    defaultDrawerOpen: false,\n    defaultShowQuickSearch: true,\n    defaultAutoHideAppbar: true,\n    defaultShowBreadcrumbs: true,\n    defaultBreadcrumbsOpen: true,\n    leftnav: {\n      elements: MENU_ITEMS,\n      hideNestedIcons: true\n    },\n    topnav: {\n      adminMenu: ADMIN_MENU_ITEMS,\n      adminMenuTitle: t('adminmenu'),\n      apps: APP_SWITCHER_ITEMS,\n      quickSearchURI: '/search',\n      quickSearchParam: 'query',\n      themeSelectionUnder: 'icon' as 'icon',\n      userMenu: USER_MENU_ITEMS,\n      userMenuTitle: t('usermenu')\n    }\n  };\n};\n\nexport default useMyLayout;\n","import { OptionsObject, useSnackbar } from 'notistack';\n\nexport default function useMySnackbar() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const snackBarOptions: OptionsObject = {\n    preventDuplicate: true,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    onClick: snack => {\n      closeSnackbar();\n    }\n  };\n\n  function showErrorMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'error', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showWarningMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'warning', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showSuccessMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'success', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  function showInfoMessage(message, timeout = 5000) {\n    enqueueSnackbar(message, { variant: 'info', autoHideDuration: timeout, ...snackBarOptions });\n  }\n\n  return {\n    showErrorMessage,\n    showWarningMessage,\n    showSuccessMessage,\n    showInfoMessage,\n    closeSnackbar\n  };\n}\n","import { UserContextProps, UserProfileProps, ValidatedProp } from 'commons/components/user/UserProvider';\nimport { ClassificationDefinition } from 'helpers/classificationParser';\nimport { useState } from 'react';\n\nexport type ALField = {\n  name: string;\n  indexed: boolean;\n  stored: boolean;\n  type: string;\n  default: boolean;\n  list: boolean;\n};\n\ntype IndexDefinition = {\n  [propName: string]: ALField;\n};\n\ntype IndexDefinitionMap = {\n  alert: IndexDefinition;\n  file: IndexDefinition;\n  heuristic: IndexDefinition;\n  result: IndexDefinition;\n  signature: IndexDefinition;\n  submission: IndexDefinition;\n  workflow: IndexDefinition;\n};\n\ntype SettingsDefinition = {\n  classification: string;\n  deep_scan: boolean;\n  description: string;\n  download_encoding: string;\n  expand_min_score: number;\n  ignore_cache: boolean;\n  ignore_dynamic_recursion_prevention: boolean;\n  ignore_filtering: boolean;\n  priority: number;\n  profile: boolean;\n  service_spec: any[];\n  services: any[];\n  submission_view: string;\n  ttl: number;\n};\n\nexport type ConfigurationDefinition = {\n  auth: {\n    allow_2fa: boolean;\n    allow_apikeys: boolean;\n    allow_security_tokens: boolean;\n  };\n  system: {\n    organisation: string;\n    type: string;\n    version: string;\n  };\n  ui: {\n    allow_url_submissions: boolean;\n    banner: {\n      [lang: string]: string;\n    };\n    banner_level: 'info' | 'warning' | 'error' | 'success';\n    read_only: boolean;\n    tos: boolean;\n    tos_lockout: boolean;\n    tos_lockout_notify: boolean;\n  };\n};\n\nexport interface CustomUser extends UserProfileProps {\n  // Al specific props\n  agrees_with_tos: boolean;\n  classification: string;\n  default_view?: string;\n  groups: string[];\n  is_active: boolean;\n  roles: string[];\n}\n\nexport interface CustomUserContextProps extends UserContextProps<CustomUser> {\n  c12nDef: ClassificationDefinition;\n  configuration: ConfigurationDefinition;\n  indexes: IndexDefinitionMap;\n  settings: SettingsDefinition;\n  setConfiguration: (cfg: ConfigurationDefinition) => void;\n}\n\ninterface WhoAmIProps extends CustomUser {\n  c12nDef: ClassificationDefinition;\n  configuration: ConfigurationDefinition;\n  indexes: IndexDefinitionMap;\n  settings: SettingsDefinition;\n}\n\n// Application specific hook that will provide configuration to commons [useUser] hook.\nexport default function useMyUser(): CustomUserContextProps {\n  const [user, setState] = useState<CustomUser>(null);\n  const [c12nDef, setC12nDef] = useState<ClassificationDefinition>(null);\n  const [configuration, setConfiguration] = useState<ConfigurationDefinition>(null);\n  const [indexes, setIndexes] = useState<IndexDefinitionMap>(null);\n  const [settings, setSettings] = useState<SettingsDefinition>(null);\n  const [flattenedProps, setFlattenedProps] = useState(null);\n\n  function flatten(ob) {\n    const toReturn = {};\n\n    for (const i in ob) {\n      if ({}.hasOwnProperty.call(ob, i)) {\n        if (typeof ob[i] == 'object') {\n          const flatObject = flatten(ob[i]);\n          for (const x in flatObject) {\n            if ({}.hasOwnProperty.call(flatObject, x)) {\n              toReturn[`${i}.${x}`] = flatObject[x];\n            }\n          }\n        } else {\n          toReturn[i] = ob[i];\n        }\n      }\n    }\n    return toReturn;\n  }\n\n  const setUser = (whoAmIData: WhoAmIProps) => {\n    const { configuration: cfg, c12nDef: c12n, indexes: idx, settings: userSettings, ...curUser } = whoAmIData;\n    setC12nDef(c12n);\n    setConfiguration(cfg);\n    setIndexes(idx);\n    setState(curUser);\n    setSettings(userSettings);\n    setFlattenedProps(\n      flatten({ user: curUser, c12nDef: c12n, configuration: cfg, indexes: idx, settings: userSettings })\n    );\n  };\n\n  const validateProp = (propDef: ValidatedProp) => {\n    const obj = flattenedProps[propDef.prop];\n    if (Array.isArray(obj)) {\n      return obj.indexOf(propDef.value) !== -1;\n    }\n    return obj === propDef.value;\n  };\n\n  const validateProps = (props: ValidatedProp[]) => {\n    if (props === undefined) return true;\n    return props.some(validateProp);\n  };\n\n  const isReady = () => {\n    if (user === null || (!user.agrees_with_tos && configuration.ui.tos) || !user.is_active) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return {\n    c12nDef,\n    configuration,\n    indexes,\n    settings,\n    user,\n    setUser,\n    setConfiguration,\n    isReady,\n    validateProps\n  };\n}\n","import { CircularProgress, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\n\nfunction LoadingScreen() {\n  const theme = useTheme();\n  const { getBanner } = useAppLayout();\n\n  return (\n    <div\n      style={{\n        textAlign: 'center',\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)'\n      }}\n    >\n      {getBanner(theme)}\n      <CircularProgress variant=\"indeterminate\" />\n    </div>\n  );\n}\n\nexport default LoadingScreen;\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = (w, mxw, ta) => {\n  return makeStyles(theme => ({\n    page: {\n      textAlign: ta,\n      margin: '0 auto auto auto',\n      width: w,\n      maxWidth: mxw,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: '100%'\n      }\n    }\n  }))();\n};\n\ntype PageCenterProps = {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n  maxWidth?: string;\n  width?: string;\n  textAlign?: string;\n};\n\nconst PageCenter: React.FC<PageCenterProps> = ({\n  children,\n  margin = null,\n  maxWidth = '1200px',\n  mb = 2,\n  ml = 2,\n  mr = 2,\n  mt = 2,\n  width = '95%',\n  textAlign = 'center'\n}) => {\n  const classes = useStyles(width, maxWidth, textAlign);\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  return (\n    <div className={classes.page}>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageCenter;\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype ForbiddenPageProps = {\n  disabled?: boolean;\n};\n\nconst ForbiddenPage: React.FC<ForbiddenPageProps> = ({ disabled = false }) => {\n  const { t } = useTranslation(['error403']);\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n        <BlockIcon\n          style={{ color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark }}\n          fontSize=\"inherit\"\n        />\n      </div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h3\">{t('title')}</Typography>\n      </div>\n      {disabled ? (\n        <div>\n          <Typography variant=\"h6\">{t('disabled')}</Typography>\n        </div>\n      ) : (\n        <div>\n          <Typography variant=\"h6\">{t('not_allowed')}</Typography>\n        </div>\n      )}\n    </PageCenter>\n  );\n};\n\nexport default ForbiddenPage;\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport HourglassEmptyOutlinedIcon from '@material-ui/icons/HourglassEmptyOutlined';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport ForbiddenPage from 'components/routes/403';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst LockedPage = () => {\n  const { t } = useTranslation(['locked']);\n  const { configuration } = useALContext();\n  const theme = useTheme();\n\n  return (\n    <>\n      {configuration.ui.tos ? (\n        <PageCenter width=\"65%\" margin={4}>\n          <div style={{ paddingTop: theme.spacing(10), fontSize: 200 }}>\n            <HourglassEmptyOutlinedIcon color=\"secondary\" fontSize=\"inherit\" />\n          </div>\n          <div style={{ paddingBottom: theme.spacing(2) }}>\n            <Typography variant=\"h3\">{t('title')}</Typography>\n          </div>\n          {configuration.ui.tos_lockout_notify ? (\n            <div>\n              <Typography variant=\"h6\">{t('auto_notify')}</Typography>\n            </div>\n          ) : (\n            <div>\n              <Typography variant=\"h6\">{t('contact_admin')}</Typography>\n            </div>\n          )}\n        </PageCenter>\n      ) : (\n        <ForbiddenPage disabled />\n      )}\n    </>\n  );\n};\n\nexport default LockedPage;\n","import { Card, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    left: '50%', // X\n    top: '50%', // Y\n    transform: 'translate(-50%, -50%)',\n    maxWidth: '22rem',\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: '4px',\n    [theme.breakpoints.down('xs')]: {\n      backgroundColor: theme.palette.background.default,\n      width: '100%',\n      maxWidth: '22rem',\n      padding: '0rem 1rem 3rem'\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '22rem',\n      padding: '0 2rem 3rem'\n    }\n  }\n}));\n\nfunction CardCentered({ children }) {\n  const theme = useTheme();\n  const isXs = useMediaQuery(theme.breakpoints.only('xs'));\n  const classes = useStyles();\n\n  return (\n    <Card elevation={isXs ? 0 : 4} className={classes.card}>\n      {children}\n    </Card>\n  );\n}\n\nexport default CardCentered;\n","export default function getXSRFCookie() {\n  let xsrfToken = null;\n  if (document.cookie !== undefined) {\n    try {\n      // eslint-disable-next-line prefer-destructuring\n      xsrfToken = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('XSRF-TOKEN'))\n        .split('=')[1];\n    } catch (ex) {\n      // Ignore... we will return null\n    }\n  }\n  return xsrfToken;\n}\n","import getXSRFCookie from 'helpers/xsrf';\nimport { useTranslation } from 'react-i18next';\nimport useMySnackbar from './useMySnackbar';\n\nexport type APIResponseProps = {\n  api_error_message: string;\n  api_response: any;\n  api_server_version: string;\n  api_status_code: number;\n};\n\nexport default function useMyAPI() {\n  const { t } = useTranslation();\n  const { showErrorMessage } = useMySnackbar();\n\n  type APICallProps = {\n    url: string;\n    contentType?: string;\n    method?: string;\n    body?: any;\n    reloadOnUnauthorize?: boolean;\n    onSuccess?: (api_data: APIResponseProps) => void;\n    onFailure?: (api_data: APIResponseProps) => void;\n    onEnter?: () => void;\n    onExit?: () => void;\n    onFinalize?: (api_data: APIResponseProps) => void;\n  };\n\n  function apiCall({\n    url,\n    contentType = 'application/json',\n    method = 'GET',\n    body = null,\n    reloadOnUnauthorize = true,\n    onSuccess,\n    onFailure,\n    onEnter,\n    onExit,\n    onFinalize\n  }: APICallProps) {\n    const requestOptions: RequestInit = {\n      method,\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': contentType,\n        'X-XSRF-TOKEN': getXSRFCookie()\n      },\n      body: body !== null ? (contentType === 'application/json' ? JSON.stringify(body) : body) : null\n    };\n\n    // Run enter callback\n    if (onEnter) onEnter();\n\n    // Fetch the URL\n    fetch(url, requestOptions)\n      .then(res => {\n        if (res.status === 401 && reloadOnUnauthorize) {\n          // Trigger a page reload, we're not logged in anymore\n          window.location.reload(false);\n        }\n        return res.json();\n      })\n      .catch(err => {\n        // eslint-disable-next-line no-console\n        console.error(err);\n        return {\n          api_error_message: t('api.unreachable'),\n          api_response: '',\n          api_server_version: '4.0.0',\n          api_status_code: 400\n        };\n      })\n      .then(api_data => {\n        // Run finished Callback\n        if (onExit) onExit();\n\n        // Check Api response validity\n        // eslint-disable-next-line no-prototype-builtins\n        if (api_data === undefined || !api_data.hasOwnProperty('api_status_code')) {\n          showErrorMessage(t('api.invalid'));\n        } else if (api_data.api_status_code === 401 && reloadOnUnauthorize) {\n          // Detect login request\n          // Do nothing... we are reloading the page\n          return;\n        } else if (api_data.api_status_code !== 200) {\n          // Handle errors\n          // Run failure callback\n          if (onFailure) {\n            onFailure(api_data);\n          } else {\n            // Default failure handler, show toast error\n            showErrorMessage(api_data.api_error_message);\n          }\n        } else if (onSuccess) {\n          // Handle success\n          // Run success callback\n          onSuccess(api_data);\n        }\n        if (onFinalize) onFinalize(api_data);\n      });\n  }\n\n  return apiCall;\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport {\n  Avatar,\n  Button,\n  CircularProgress,\n  createStyles,\n  Link,\n  makeStyles,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype OAuthProps = {\n  avatar: string;\n  username: string;\n  email: string;\n  oAuthToken: string;\n  buttonLoading: boolean;\n  onSubmit: (event) => void;\n  reset: (event) => void;\n};\n\nexport function OAuthLogin({ avatar, username, email, oAuthToken, buttonLoading, onSubmit, reset }: OAuthProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center', justifyContent: 'center' }}>\n        {!oAuthToken ? (\n          <Skeleton variant=\"circle\" style={{ alignSelf: 'center' }} width={144} height={144} />\n        ) : (\n          <Avatar style={{ alignSelf: 'center', width: theme.spacing(18), height: theme.spacing(18) }} src={avatar} />\n        )}\n        <Typography color=\"textPrimary\">{!oAuthToken ? <Skeleton /> : username}</Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n          {!oAuthToken ? <Skeleton /> : email}\n        </Typography>\n        {!oAuthToken ? (\n          <Skeleton variant=\"rect\" style={{ height: '36px', marginTop: '1.5rem', marginBottom: '1.5rem' }} />\n        ) : (\n          <Button\n            type=\"submit\"\n            style={{ marginTop: '1.5rem', marginBottom: '1.5rem' }}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={buttonLoading}\n          >\n            {t('button')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        )}\n        {!oAuthToken ? (\n          <Skeleton />\n        ) : (\n          <Link variant=\"body2\" href=\"#\" onClick={reset}>\n            {t('other')}\n          </Link>\n        )}\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype OTPProps = {\n  onSubmit: (event) => void;\n  buttonLoading: boolean;\n  setOneTimePass: (value: string) => void;\n};\n\nexport function OneTimePassLogin({ onSubmit, buttonLoading, setOneTimePass }: OTPProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <TextField\n          inputProps={{ maxLength: 6 }}\n          autoFocus\n          variant=\"outlined\"\n          size=\"small\"\n          label={t('otp')}\n          onChange={event => setOneTimePass(event.target.value)}\n        />\n        <Button\n          type=\"submit\"\n          style={{ marginTop: '1.5rem' }}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={buttonLoading}\n        >\n          {t('button')}\n          {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField, Typography } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype ResetPasswordNowProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function ResetPasswordNow({ buttonLoading, setButtonLoading }: ResetPasswordNowProps) {\n  const location = useLocation();\n  const history = useHistory();\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const params = new URLSearchParams(location.search);\n  const [resetID, setResetID] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/reset_pwd/',\n      method: 'POST',\n      body: {\n        reset_id: resetID,\n        password,\n        password_confirm: passwordConfirm\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => {\n        setDone(true);\n        setTimeout(() => window.location.reload(false), 7000);\n      }\n    });\n    event.preventDefault();\n  }\n\n  useEffect(() => {\n    setResetID(params.get('reset_id'));\n\n    if (params.get('reset_id')) {\n      history.push('/');\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <>\n            <Typography align=\"center\" variant=\"h6\" gutterBottom>\n              {t('reset_now.done')}\n            </Typography>\n            <Typography align=\"center\" variant=\"caption\">\n              {t('reset_now.redirect')}\n            </Typography>\n          </>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset_now.password')}\n              onChange={event => setPassword(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset_now.password_confirm')}\n              onChange={event => setPasswordConfirm(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('reset_now.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n\ntype ResetPasswordProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function ResetPassword({ buttonLoading, setButtonLoading }: ResetPasswordProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [email, setEmail] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/get_reset_link/',\n      method: 'POST',\n      body: { email },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => setDone(true)\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <Typography align=\"center\">{t('reset.done')}</Typography>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              type=\"email\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('reset.email')}\n              onChange={event => setEmail(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('reset.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n","export default function toArrayBuffer(data) {\n  const uint8Array = new Uint8Array(data.length);\n  for (let i = 0; i < uint8Array.length; i++) {\n    uint8Array[i] = data[i];\n  }\n\n  return uint8Array;\n}\n","import { Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport toArrayBuffer from 'helpers/toArrayBuffer';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst CBOR = require('helpers/cbor.js');\n\ntype SecTokenProps = {\n  setShownControls: (value: string) => void;\n  setWebAuthNResponse: (value) => void;\n  username: string;\n};\n\nexport function SecurityTokenLogin({ username, setShownControls, setWebAuthNResponse }: SecTokenProps) {\n  const { t } = useTranslation(['login']);\n  const apiCall = useMyAPI();\n  const { showErrorMessage } = useMySnackbar();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/webauthn/authenticate/begin/${username}/`,\n      onSuccess: api_data => {\n        const arrayData = toArrayBuffer(api_data.api_response);\n        const options = CBOR.decode(arrayData.buffer);\n        const credentialHelper = navigator.credentials;\n        if (credentialHelper !== undefined) {\n          credentialHelper\n            .get(options)\n            .then((assertion: PublicKeyCredential) => {\n              const response = assertion.response as AuthenticatorAssertionResponse;\n              const assertionData = CBOR.encode({\n                credentialId: new Uint8Array(assertion.rawId),\n                authenticatorData: new Uint8Array(response.authenticatorData),\n                clientDataJSON: new Uint8Array(response.clientDataJSON),\n                signature: new Uint8Array(response.signature)\n              });\n\n              setWebAuthNResponse(Array.from(new Uint8Array(assertionData)));\n            })\n            .catch(ex => {\n              // eslint-disable-next-line no-console\n              console.log(`${ex.name}: ${ex.message}`);\n              setShownControls('otp');\n              showErrorMessage(t('securitytoken.error'));\n            });\n        } else {\n          setShownControls('otp');\n          showErrorMessage(t('securitytoken.unavailable'));\n        }\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center' }}>\n      <div>\n        <LockOutlinedIcon style={{ fontSize: '108pt' }} color=\"action\" />\n      </div>\n      <Typography variant=\"h6\" color=\"textSecondary\">\n        {t('securitytoken')}\n      </Typography>\n    </div>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField, Typography } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype SignUpProps = {\n  buttonLoading: boolean;\n  setButtonLoading: (value: boolean) => void;\n};\n\nexport function SignUp({ buttonLoading, setButtonLoading }: SignUpProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [done, setDone] = useState(false);\n\n  function onSubmit(event) {\n    apiCall({\n      url: '/api/v4/auth/signup/',\n      method: 'POST',\n      body: {\n        user: username,\n        password,\n        password_confirm: passwordConfirm,\n        email\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onSuccess: () => setDone(true)\n    });\n    event.preventDefault();\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        {done ? (\n          <>\n            <Typography align=\"center\">{t('signup.done')}</Typography>\n          </>\n        ) : (\n          <>\n            <TextField\n              autoFocus\n              inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.username')}\n              onChange={event => setUsername(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.password')}\n              onChange={event => setPassword(event.target.value)}\n            />\n            <TextField\n              style={{ marginTop: '.5rem' }}\n              type=\"password\"\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.password_confirm')}\n              onChange={event => setPasswordConfirm(event.target.value)}\n            />\n            <TextField\n              inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n              style={{ marginTop: '.5rem' }}\n              variant=\"outlined\"\n              size=\"small\"\n              label={t('signup.email')}\n              onChange={event => setEmail(event.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              style={{ marginTop: '1.5rem' }}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={buttonLoading}\n            >\n              {t('signup.button')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </>\n        )}\n      </div>\n    </form>\n  );\n}\n","import { Button, CircularProgress, createStyles, makeStyles, TextField } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype UserPassLoginProps = {\n  onSubmit: (event) => void;\n  buttonLoading: boolean;\n  setPassword: (value: string) => void;\n  setUsername: (value: string) => void;\n};\n\nexport function UserPassLogin({ onSubmit, buttonLoading, setPassword, setUsername }: UserPassLoginProps) {\n  const { t } = useTranslation(['login']);\n  const classes = useStyles();\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <TextField\n          autoFocus\n          inputProps={{ autoCorrect: 'off', autoCapitalize: 'off' }}\n          variant=\"outlined\"\n          size=\"small\"\n          label={t('username')}\n          onChange={event => setUsername(event.target.value)}\n        />\n        <TextField\n          style={{ marginTop: '.5rem' }}\n          variant=\"outlined\"\n          size=\"small\"\n          type=\"password\"\n          label={t('password')}\n          onChange={event => setPassword(event.target.value)}\n        />\n        <Button\n          type=\"submit\"\n          style={{ marginTop: '1.5rem' }}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={buttonLoading}\n        >\n          {t('button')}\n          {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface TextDividerProps {\n  forcePaper?: boolean;\n}\n\nconst TextDivider: React.FC<TextDividerProps> = ({ forcePaper = false }) => {\n  const { t } = useTranslation();\n  const useStyles = makeStyles(theme => ({\n    divider: {\n      display: 'inline-block',\n      textAlign: 'center',\n      width: '100%',\n      margin: '30px 0',\n      position: 'relative',\n      borderTop: `1px solid ${theme.palette.divider}`\n    },\n    inner: {\n      backgroundColor: theme.palette.background.paper,\n      left: '50%',\n      marginLeft: '-30px',\n      position: 'absolute',\n      top: '-10px',\n      width: '60px',\n      [theme.breakpoints.down('xs')]: {\n        backgroundColor: forcePaper ? theme.palette.background.paper : theme.palette.background.default\n      }\n    }\n  }));\n  const classes = useStyles();\n  return (\n    <div>\n      <div className={classes.divider}>\n        <div className={classes.inner}>{t('divider')}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default TextDivider;\n","export function bytesToSize(bytes: number | null) {\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n  if (bytes === 0 || bytes === null) return '0 B';\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n  return `${Math.round(bytes / Math.pow(1024, i))} ${sizes[i]}`;\n}\n\nexport function scoreToVerdict(score: number | null) {\n  // More then 1000 => Malicious\n  if (score >= 1000) {\n    return 'malicious';\n  }\n\n  // Between 500 - 999 => highly suspicious\n  if (score >= 500) {\n    return 'highly_suspicious';\n  }\n\n  // Between 100 - 999 => suspicious\n  if (score >= 100) {\n    return 'suspicious';\n  }\n\n  // Smaller then 0 => Safe\n  if (score < 0) {\n    return 'safe';\n  }\n\n  // Between 0 and 99 => Unknown\n  return 'info';\n}\n\nexport function getValueFromPath(obj: object, path: string) {\n  const paths = path.split('.');\n  let current = obj;\n  let i;\n\n  for (i = 0; i < paths.length; ++i) {\n    if (current[paths[i]] === undefined) {\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\n\nexport function getProvider() {\n  if (window.location.pathname.indexOf(`${process.env.PUBLIC_URL}/oauth/`) !== -1) {\n    return window.location.pathname.split(`${process.env.PUBLIC_URL}/oauth/`).pop().slice(0, -1);\n  }\n  const params = new URLSearchParams(window.location.search);\n  return params.get('provider');\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport {\n  Box,\n  Button,\n  CircularProgress,\n  createStyles,\n  Link,\n  makeStyles,\n  Theme,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { OAuthLogin } from 'components/routes/login/oauth';\nimport { OneTimePassLogin } from 'components/routes/login/otp';\nimport { ResetPassword, ResetPasswordNow } from 'components/routes/login/reset';\nimport { SecurityTokenLogin } from 'components/routes/login/sectoken';\nimport { SignUp } from 'components/routes/login/signup';\nimport { UserPassLogin } from 'components/routes/login/userpass';\nimport TextDivider from 'components/visual/TextDivider';\nimport { getProvider } from 'helpers/utils';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype LoginScreenProps = {\n  allowUserPass: boolean;\n  allowSignup: boolean;\n  allowPWReset: boolean;\n  oAuthProviders: string[];\n};\n\nexport default function LoginScreen({ allowUserPass, allowSignup, allowPWReset, oAuthProviders }: LoginScreenProps) {\n  const location = useLocation();\n  const history = useHistory();\n  const params = new URLSearchParams(location.search);\n  const { t } = useTranslation(['login']);\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const { getBanner } = useAppLayout();\n  const provider = getProvider();\n  const [shownControls, setShownControls] = useState(\n    provider ? 'oauth' : params.get('reset_id') ? 'reset_now' : 'login'\n  );\n  const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [avatar, setAvatar] = useState('');\n  const [oAuthToken, setOAuthToken] = useState('');\n  const [oneTimePass, setOneTimePass] = useState('');\n  const [webAuthNResponse, setWebAuthNResponse] = useState(null);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const pwPadding = allowSignup ? 1 : 2;\n\n  function onSubmit(event) {\n    login(event.target[0]);\n    event.preventDefault();\n  }\n\n  function reset(event) {\n    if ((shownControls === 'oauth' && oAuthToken) || shownControls !== 'oauth') {\n      setWebAuthNResponse(null);\n      setShownControls('login');\n      setUsername('');\n      setEmail('');\n      setPassword('');\n      setAvatar('');\n      setOAuthToken('');\n      setOneTimePass('');\n    }\n    if (event) {\n      event.preventDefault();\n    }\n  }\n\n  function resetPW(event) {\n    setShownControls('reset');\n    event.preventDefault();\n  }\n\n  function signup(event) {\n    setShownControls('signup');\n    event.preventDefault();\n  }\n\n  function login(focusTarget) {\n    if (buttonLoading) {\n      return;\n    }\n\n    const data = {\n      user: username,\n      password,\n      otp: oneTimePass,\n      webauthn_auth_resp: webAuthNResponse,\n      oauth_token: oAuthToken\n    };\n\n    apiCall({\n      url: '/api/v4/auth/login/',\n      method: 'POST',\n      body: data,\n      reloadOnUnauthorize: false,\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false),\n      onFailure: api_data => {\n        if (api_data.api_error_message === 'Wrong OTP token' && shownControls !== 'otp') {\n          setShownControls('otp');\n        } else if (api_data.api_error_message === 'Wrong Security Token' && shownControls === 'sectoken') {\n          setShownControls('otp');\n          showErrorMessage(t('securitytoken.error'));\n        } else if (api_data.api_error_message === 'Wrong Security Token' && shownControls !== 'sectoken') {\n          setShownControls('sectoken');\n        } else if (shownControls === 'oauth') {\n          showErrorMessage(api_data.api_error_message);\n          reset(null);\n        } else {\n          showErrorMessage(api_data.api_error_message);\n          if (focusTarget !== null) {\n            // eslint-disable-next-line no-prototype-builtins\n            if (focusTarget.hasOwnProperty('select')) {\n              focusTarget.select();\n              focusTarget.focus();\n            }\n          }\n        }\n      },\n      onSuccess: () => {\n        window.location.reload(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (webAuthNResponse !== null) {\n      login(null);\n    } else if (shownControls === 'oauth') {\n      apiCall({\n        url: `/api/v4/auth/oauth/${\n          provider && location.search.indexOf('provider=') === -1\n            ? `${location.search}&provider=${provider}`\n            : location.search\n        }`,\n        reloadOnUnauthorize: false,\n        onSuccess: api_data => {\n          setAvatar(api_data.api_response.avatar);\n          setUsername(api_data.api_response.username);\n          setEmail(api_data.api_response.email_adr || '');\n          setOAuthToken(api_data.api_response.oauth_token);\n        },\n        onFailure: api_data => {\n          showErrorMessage(api_data.api_error_message);\n          setShownControls('login');\n        },\n        onFinalize: () => {\n          if (provider) {\n            history.push(localStorage.getItem('nextLocation') || '/');\n          }\n        }\n      });\n    } else if (params.get('registration_key')) {\n      apiCall({\n        url: '/api/v4/auth/signup_validate/',\n        method: 'POST',\n        body: { registration_key: params.get('registration_key') },\n        onSuccess: () => showSuccessMessage(t('signup.completed'), 10000),\n        onFinalize: () => history.push('/')\n      });\n    }\n    // eslint-disable-next-line\n  }, [webAuthNResponse, shownControls]);\n\n  return (\n    <CardCentered>\n      <Box style={{ cursor: 'pointer' }} onClick={reset}>\n        {getBanner(theme)}\n      </Box>\n      {\n        {\n          login: (\n            <>\n              {allowUserPass ? (\n                <UserPassLogin\n                  onSubmit={onSubmit}\n                  buttonLoading={buttonLoading}\n                  setPassword={setPassword}\n                  setUsername={setUsername}\n                />\n              ) : null}\n              {allowSignup ? (\n                <Typography align=\"center\" variant=\"caption\" style={{ marginTop: theme.spacing(2) }}>\n                  {t('signup')}&nbsp;&nbsp;\n                  <Link href=\"#\" onClick={signup}>\n                    {t('signup.link')}\n                  </Link>\n                </Typography>\n              ) : null}\n              {allowPWReset ? (\n                <Typography align=\"center\" variant=\"caption\" style={{ marginTop: theme.spacing(pwPadding) }}>\n                  {t('reset.desc')}&nbsp;&nbsp;\n                  <Link href=\"#\" onClick={resetPW}>\n                    {t('reset.link')}\n                  </Link>\n                </Typography>\n              ) : null}\n              {oAuthProviders !== undefined && oAuthProviders.length !== 0 ? (\n                <>\n                  {allowUserPass ? <TextDivider /> : null}\n                  <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n                    {oAuthProviders.map((item, idx) => (\n                      <Button\n                        key={idx}\n                        style={idx !== 0 ? { marginTop: '1.5rem' } : null}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={buttonLoading}\n                        onClick={() => {\n                          const date = new Date();\n                          date.setTime(date.getTime() + 5 * 60 * 1000);\n                          document.cookie = `ui4_path=${process.env.PUBLIC_URL}; expires=${date.toUTCString()}; path=/`;\n                          localStorage.setItem(\n                            'nextLocation',\n                            `${location.pathname}${location.search}${location.hash}`\n                          );\n                        }}\n                        href={`/api/v4/auth/login/?oauth_provider=${item}`}\n                      >\n                        {`${t('button_oauth')} ${item.replace(/_/g, ' ')}`}\n                        {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                      </Button>\n                    ))}\n                  </div>\n                </>\n              ) : null}\n            </>\n          ),\n          signup: <SignUp setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          reset: <ResetPassword setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          reset_now: <ResetPasswordNow setButtonLoading={setButtonLoading} buttonLoading={buttonLoading} />,\n          oauth: (\n            <OAuthLogin\n              reset={reset}\n              oAuthToken={oAuthToken}\n              avatar={avatar}\n              username={username}\n              email={email}\n              onSubmit={onSubmit}\n              buttonLoading={buttonLoading}\n            />\n          ),\n          otp: <OneTimePassLogin onSubmit={onSubmit} buttonLoading={buttonLoading} setOneTimePass={setOneTimePass} />,\n          sectoken: (\n            <SecurityTokenLogin\n              setShownControls={setShownControls}\n              setWebAuthNResponse={setWebAuthNResponse}\n              username={username}\n            />\n          )\n        }[shownControls]\n      }\n    </CardCentered>\n  );\n}\n","import { useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst NotFoundPage = () => {\n  const { t } = useTranslation(['error404']);\n  const theme = useTheme();\n  return (\n    <PageCenter width=\"65%\" margin={4}>\n      <div style={{ paddingTop: theme.spacing(10), paddingBottom: theme.spacing(6) }}>\n        <img\n          alt={t('dl.alt')}\n          src={`${process.env.PUBLIC_URL}/images/dead_link.png`}\n          style={{ maxHeight: '300px', maxWidth: '90%' }}\n        />\n      </div>\n      <div>\n        <Typography variant=\"h6\">{t('dl.description')}</Typography>\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  Button,\n  Card,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype APIKeysProps = {\n  user: any;\n  toggleAPIKey: (apiKey: string) => void;\n};\n\nexport default function APIKeys({ user, toggleAPIKey }: APIKeysProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedAPIKey, setSelectedAPIKey] = useState(null);\n  const [tempAPIKey, setTempAPIKey] = useState(null);\n  const [tempKeyName, setTempKeyName] = useState('');\n  const [tempKeyPriv, setTempKeyPriv] = useState('READ');\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showSuccessMessage } = useMySnackbar();\n  const regex = RegExp('^[a-zA-Z][a-zA-Z0-9_]*$');\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/auth/apikey/${selectedAPIKey}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        toggleAPIKey(selectedAPIKey);\n        setSelectedAPIKey(null);\n        showSuccessMessage(t('apikeys.removed'));\n      }\n    });\n  }\n\n  function handleCreate() {\n    apiCall({\n      url: `/api/v4/auth/apikey/${tempKeyName}/${tempKeyPriv}/`,\n      onSuccess: api_data => {\n        setTempAPIKey(api_data.api_response.apikey);\n        toggleAPIKey(tempKeyName);\n      }\n    });\n  }\n\n  function handleKeyNameChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempKeyName(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleSelectChange(event) {\n    setTempKeyPriv(event.target.value);\n  }\n\n  function handleNew() {\n    setTempAPIKey(null);\n    setTempKeyName('');\n    setTempKeyPriv('READ');\n  }\n\n  function askForDelete(securityToken) {\n    setSelectedAPIKey(securityToken);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('apikeys.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('apikeys.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {t('apikeys.list')}\n        </Typography>\n        {user.apikeys.length !== 0 ? (\n          user.apikeys.map((e, i) => (\n            <Chip key={i} label={e} onDelete={() => askForDelete(e)} style={{ marginRight: sp1, marginBottom: sp1 }} />\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('apikeys.none')}\n          </Typography>\n        )}\n      </div>\n\n      <div style={{ paddingTop: sp4 }}>\n        <TextField\n          style={{ width: '100%' }}\n          size=\"small\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('apikeys.temp_token')}\n          onChange={handleKeyNameChange}\n          value={tempKeyName}\n        />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row', width: '100%' }}>\n        <div style={{ alignSelf: 'center', flexGrow: 2 }}>\n          <Select id=\"priv\" value={tempKeyPriv} onChange={handleSelectChange} variant=\"outlined\" margin=\"dense\">\n            <MenuItem value=\"READ\">{t('apikeys.r_token')}</MenuItem>\n            <MenuItem value=\"READ_WRITE\">{t('apikeys.rw_token')}</MenuItem>\n            <MenuItem value=\"WRITE\">{t('apikeys.w_token')}</MenuItem>\n          </Select>\n        </div>\n        <div style={{ alignSelf: 'flex-end', paddingLeft: sp1 }}>\n          <Button disabled={tempKeyName === ''} onClick={() => handleCreate()} color=\"primary\" variant=\"contained\">\n            {t('apikeys.add')}\n          </Button>\n        </div>\n      </div>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={tempAPIKey !== null}\n        onClose={() => handleNew()}\n        aria-labelledby=\"new-dialog-title\"\n        aria-describedby=\"new-dialog-description\"\n      >\n        <DialogTitle id=\"new-dialog-title\">{t('apikeys.new_title')}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"new-dialog-description\" component=\"div\">\n            <div style={{ paddingTop: sp2, paddingBottom: sp4 }}>\n              <Card variant=\"outlined\" style={{ backgroundColor: theme.palette.background.default }}>\n                <div style={{ padding: sp2 }}>\n                  <Typography style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{tempAPIKey}</Typography>\n                </div>\n              </Card>\n            </div>\n          </DialogContentText>\n          <DialogContentText id=\"new-dialog-notice-title\" component=\"div\">\n            <Typography variant=\"subtitle2\" color=\"textPrimary\">\n              {t('apikeys.new_notice_title')}\n            </Typography>\n          </DialogContentText>\n          <DialogContentText id=\"new-dialog-notice-texte\" component=\"div\">\n            <Typography variant=\"body2\">{t('apikeys.new_notice_text')}</Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => handleNew()} color=\"primary\" autoFocus>\n            {t('done')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={selectedAPIKey !== null}\n        onClose={() => setSelectedAPIKey(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {t('apikeys.remove_title')}: {selectedAPIKey}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('apikeys.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedAPIKey(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('apikeys.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Button, Typography, useTheme } from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype DisableOTPProps = {\n  setDrawerOpen: (value: boolean) => void;\n  set2FAEnabled: (value: boolean) => void;\n};\n\nexport default function DisableOTP({ setDrawerOpen, set2FAEnabled }: DisableOTPProps) {\n  const apiCall = useMyAPI();\n  const { t } = useTranslation(['user']);\n  const theme = useTheme();\n\n  function disableOTP() {\n    apiCall({\n      url: '/api/v4/auth/disable_otp/',\n      onSuccess: api_data => {\n        setDrawerOpen(false);\n        set2FAEnabled(false);\n      }\n    });\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('2fa_disable_title')}\n      </Typography>\n      <Typography>{t('2fa_disable_desc')}</Typography>\n      <div style={{ textAlign: 'end', paddingTop: theme.spacing(6) }}>\n        <Button style={{ marginRight: '8px' }} variant=\"contained\" onClick={() => setDrawerOpen(false)}>\n          {t('cancel')}\n        </Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={() => disableOTP()}>\n          {t('2fa_disable')}\n        </Button>\n      </div>\n    </>\n  );\n}\n","import { Button, TextField, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport TextDivider from 'components/visual/TextDivider';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype OTPProps = {\n  setDrawerOpen: (value: boolean) => void;\n  set2FAEnabled: (value: boolean) => void;\n};\n\nexport default function OTP({ setDrawerOpen, set2FAEnabled }: OTPProps) {\n  const apiCall = useMyAPI();\n  const [response, setResponse] = useState(null);\n  const [tempOTP, setTempOTP] = useState('');\n  const { t } = useTranslation(['user']);\n  const regex = RegExp('^[0-9]{1,6}$');\n  const theme = useTheme();\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  function handleOTPChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempOTP(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function validateOTP() {\n    apiCall({\n      url: `/api/v4/auth/validate_otp/${tempOTP}/`,\n      onSuccess: () => {\n        setDrawerOpen(false);\n        set2FAEnabled(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Load OTP setup on start\n    apiCall({\n      url: '/api/v4/auth/setup_otp/',\n      onSuccess: api_data => {\n        setResponse(api_data.api_response);\n      },\n      onFailure: () => {\n        set2FAEnabled(true);\n        setTimeout(() => {\n          setDrawerOpen(false);\n        }, 1000);\n      }\n    });\n\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('2fa_setup_title')}\n      </Typography>\n      <div style={{ textAlign: 'center' }}>\n        <Typography>{t('2fa_scan')}</Typography>\n        <div\n          style={{\n            paddingTop: sp4,\n            paddingBottom: sp4,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'center'\n          }}\n        >\n          {response ? (\n            <div\n              style={{ backgroundColor: 'white' }}\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{\n                __html: response.qrcode\n              }}\n            />\n          ) : (\n            <Skeleton variant=\"rect\" style={{ width: '195px', height: '195px' }} />\n          )}\n        </div>\n        <TextDivider forcePaper />\n        <Typography gutterBottom>{t('2fa_manual')}</Typography>\n        <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n          <Typography variant=\"caption\">{response ? response.secret_key : <Skeleton />}</Typography>\n        </div>\n        <TextField\n          disabled={response === null}\n          style={{ width: '100%' }}\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('2fa_temp_otp')}\n          onChange={handleOTPChange}\n          value={tempOTP}\n        />\n\n        <div style={{ paddingTop: sp6, textAlign: 'end' }}>\n          <Button style={{ marginRight: '8px' }} variant=\"contained\" onClick={() => setDrawerOpen(false)}>\n            {t('cancel')}\n          </Button>\n          <Button\n            disabled={response === null || tempOTP === ''}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => validateOTP()}\n          >\n            {t('validate')}\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport toArrayBuffer from 'helpers/toArrayBuffer';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst CBOR = require('helpers/cbor.js');\n\ntype SecurityTokenProps = {\n  user: any;\n  toggleToken: (token: string) => void;\n};\n\nexport default function SecurityToken({ user, toggleToken }: SecurityTokenProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedToken, setSelectedToken] = useState(null);\n  const [tempToken, setTempToken] = useState('');\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const regex = RegExp('^[a-zA-Z][a-zA-Z0-9_ ]*$');\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n\n  function handleTokenChange(event) {\n    if (regex.test(event.target.value) || event.target.value === '') {\n      setTempToken(event.target.value);\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/webauthn/remove/${selectedToken}/`,\n      onSuccess: () => {\n        toggleToken(selectedToken);\n        setSelectedToken(null);\n        showSuccessMessage(t('token.removed'));\n      }\n    });\n  }\n\n  function handleNew() {\n    apiCall({\n      url: '/api/v4/webauthn/register/begin/',\n      method: 'POST',\n      onSuccess: api_data => {\n        const arrayData = toArrayBuffer(api_data.api_response);\n        const options = CBOR.decode(arrayData.buffer);\n        const credentialHelper = navigator.credentials;\n        if (credentialHelper !== undefined) {\n          credentialHelper\n            .create(options)\n            .then((assertion: PublicKeyCredential) => {\n              const response = assertion.response as AuthenticatorAttestationResponse;\n              const attestationData = CBOR.encode({\n                attestationObject: new Uint8Array(response.attestationObject),\n                clientDataJSON: new Uint8Array(response.clientDataJSON)\n              });\n              apiCall({\n                url: `/api/v4/webauthn/register/complete/${tempToken}/`,\n                method: 'POST',\n                body: Array.from(new Uint8Array(attestationData)),\n                onSuccess: () => {\n                  toggleToken(tempToken);\n                  setTempToken('');\n                  showSuccessMessage(t('token.added'));\n                }\n              });\n            })\n            .catch(ex => {\n              // eslint-disable-next-line no-console\n              setTempToken('');\n              showErrorMessage(`${ex.name}: ${ex.message}`);\n            });\n        }\n      }\n    });\n  }\n\n  function askForDelete(securityToken) {\n    setSelectedToken(securityToken);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('token.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('token.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          {t('token.list')}\n        </Typography>\n        {user.security_tokens.length !== 0 ? (\n          user.security_tokens.map((e, i) => (\n            <Chip key={i} label={e} onDelete={() => askForDelete(e)} style={{ marginRight: sp1, marginBottom: sp1 }} />\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('token.none')}\n          </Typography>\n        )}\n      </div>\n\n      <div style={{ width: '100%' }}>\n        <TextField\n          style={{ width: '100%' }}\n          size=\"small\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          label={t('token.temp_token')}\n          onChange={handleTokenChange}\n          value={tempToken}\n        />\n      </div>\n      <div style={{ alignSelf: 'flex-end' }}>\n        <Button disabled={tempToken === ''} onClick={() => handleNew()} color=\"primary\" variant=\"contained\">\n          {t('token.add')}\n        </Button>\n      </div>\n\n      <Dialog\n        open={selectedToken !== null}\n        onClose={() => setSelectedToken(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {t('token.remove_title')}: {selectedToken}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('token.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedToken(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('token.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Tooltip } from '@material-ui/core';\nimport Chip from '@material-ui/core/Chip';\nimport { darken, makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport React, { ReactNode } from 'react';\n\nexport const ColorMap = {\n  'label-default': 'default' as 'default',\n  'label-primary': 'primary' as 'primary',\n  'label-secondary': 'secondary' as 'secondary',\n  'label-info': 'info' as 'info',\n  'label-success': 'success' as 'success',\n  'label-warning': 'warning' as 'warning',\n  'label-error': 'error' as 'error',\n  default: 'default' as 'default',\n  primary: 'primary' as 'primary',\n  secondary: 'secondary' as 'secondary',\n  info: 'info' as 'info',\n  success: 'success' as 'success',\n  warning: 'warning' as 'warning',\n  error: 'error' as 'error'\n};\nexport type PossibleColors = 'default' | 'primary' | 'secondary' | 'info' | 'success' | 'warning' | 'error';\n\nexport interface CustomChipProps {\n  className?: string;\n  type?: 'round' | 'square' | 'rounded';\n  size?: 'tiny' | 'small' | 'medium';\n  color?: PossibleColors;\n  variant?: 'default' | 'outlined';\n  mono?: boolean;\n  wrap?: boolean;\n  tooltip?: string;\n  fullWidth?: boolean;\n  children?: ReactNode;\n  [propName: string]: any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  auto_height: {\n    height: 'auto'\n  },\n  wrap: {\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word',\n    paddingTop: '2px',\n    paddingBottom: '2px'\n  },\n  square: {\n    borderRadius: '0px',\n    margin: '2px 4px 2px 0'\n  },\n  rounded: {\n    borderRadius: '3px',\n    margin: '2px 4px 2px 0'\n  },\n  fullWidth: {\n    width: '100%'\n  },\n  tiny: {\n    height: '20px',\n    fontSize: '0.725rem'\n  },\n  label_tiny: {\n    paddingLeft: '6px',\n    paddingRight: '6px'\n  },\n  mono: {\n    fontFamily: 'monospace',\n    fontSize: '1.15rem'\n  },\n  tiny_mono: {\n    fontFamily: 'monospace',\n    fontSize: '1rem'\n  },\n  // Filled\n  default: {\n    backgroundColor: theme.palette.type === 'dark' ? '#616161' : '#999',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#616161' : '#999', 0.15)\n    }\n  },\n  primary: {\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.primary.main, 0.15)\n    }\n  },\n  secondary: {\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.secondary.main, 0.15)\n    }\n  },\n  success: {\n    backgroundColor: theme.palette.success.main,\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.success.main, 0.15)\n    }\n  },\n  info: {\n    backgroundColor: theme.palette.type === 'dark' ? '#28abd2' : '#00baf1',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#28abd2' : '#00baf1', 0.15)\n    }\n  },\n  warning: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ed8b00' : '#ff9d12',\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.type === 'dark' ? '#ed8b00' : '#ff9d12', 0.15)\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n    color: theme.palette.common.white,\n    '[role=button]&:hover, [role=button]&:focus': {\n      backgroundColor: darken(theme.palette.error.dark, 0.15)\n    }\n  },\n  // Outlined\n  success_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n  },\n  info_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light\n  },\n  warning_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n  },\n  error_outlined: {\n    borderColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light,\n    color: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n  },\n  icon: { color: theme.palette.common.white }\n}));\n\nconst WrappedCustomChip: React.FC<CustomChipProps> = ({\n  className = null,\n  type = 'round',\n  size = 'medium',\n  color = 'default',\n  variant = 'default',\n  mono = false,\n  wrap = false,\n  tooltip = null,\n  fullWidth = false,\n  children,\n  ...otherProps\n}) => {\n  const classes = useStyles();\n\n  // Define classnames maps\n  const typeClassMap = {\n    square: classes.square,\n    rounded: classes.rounded,\n    round: null\n  };\n  const sizeLabelClassMap = {\n    tiny: classes.label_tiny,\n    small: null,\n    medium: null\n  };\n  const sizeClassMap = {\n    tiny: classes.tiny,\n    small: null,\n    medium: null\n  };\n  const colorClassMap = {\n    success: classes.success,\n    warning: classes.warning,\n    error: classes.error,\n    info: classes.info,\n    success_outlined: classes.success_outlined,\n    warning_outlined: classes.warning_outlined,\n    error_outlined: classes.error_outlined,\n    info_outlined: classes.info_outlined,\n    default: classes.default,\n    primary: classes.primary,\n    secondary: classes.secondary\n  };\n  const colorMap = {\n    primary: 'primary',\n    secondary: 'secondary'\n  };\n  const sizeMap = {\n    small: 'small',\n    medium: 'medium'\n  };\n\n  // Compute values applied to the original chip component\n  const appliedClassName = clsx(\n    mono ? (size === 'tiny' ? classes.tiny_mono : classes.mono) : null,\n    wrap ? classes.auto_height : null,\n    fullWidth ? classes.fullWidth : null,\n    typeClassMap[type],\n    sizeClassMap[size],\n    variant === 'outlined' ? colorClassMap[`${color}_outlined`] : colorClassMap[color],\n    className\n  );\n  const labelClassName = clsx(sizeLabelClassMap[size], wrap ? classes.wrap : null);\n\n  // Build chip based on computed values\n  const chip = (\n    <Chip\n      classes={{ label: labelClassName, icon: variant !== 'outlined' ? classes.icon : null }}\n      className={appliedClassName}\n      size={sizeMap[size]}\n      color={colorMap[color]}\n      variant={variant}\n      {...otherProps}\n    />\n  );\n\n  // Do we have a tooltip?\n  return tooltip ? <Tooltip title={tooltip}>{chip}</Tooltip> : chip;\n};\n\nconst CustomChip = React.memo(WrappedCustomChip);\nexport default CustomChip;\n","export type FormatProp = 'long' | 'short';\n\ntype LevelStylesheet = {\n  banner: string;\n  label: string;\n  text: string;\n  color?: string;\n};\n\ntype ClassificationLevel = {\n  aliases: string[];\n  css: LevelStylesheet;\n  description: string;\n  lvl: number;\n  name: string;\n  short_name: string;\n};\n\ntype ClassificationRequired = {\n  aliases: string[];\n  description: string;\n  name: string;\n  is_required_group?: boolean;\n  require_lvl?: number;\n  short_name: string;\n};\n\ntype ClassificationGroup = {\n  aliases: string[];\n  auto_select?: boolean;\n  description: string;\n  name: string;\n  short_name: string;\n  solitary_display_name?: string;\n};\n\ntype ClassificationSubGroup = {\n  aliases: string[];\n  auto_select?: boolean;\n  description: string;\n  limited_to_group?: string;\n  name: string;\n  require_group?: string;\n  short_name: string;\n  solitary_display_name?: string;\n};\n\ntype ClassificationYAMLDefinition = {\n  enforce: boolean;\n  groups: ClassificationGroup[];\n  levels: ClassificationLevel[];\n  required: ClassificationRequired[];\n  restricted: string;\n  subgroups: ClassificationSubGroup[];\n  unrestricted: string;\n};\n\ntype StringMap = {\n  [propName: string]: string;\n};\n\ntype StringMapArray = {\n  [propName: string]: string[];\n};\n\ntype StylesheetMap = {\n  [propName: string]: LevelStylesheet;\n};\n\ntype ParamsMap = {\n  is_required_group?: boolean;\n  solitary_display_name?: string;\n  require_group?: string;\n  limited_to_group?: string;\n};\n\nexport type ClassificationDefinition = {\n  RESTRICTED: string;\n  UNRESTRICTED: string;\n  access_req_aliases: StringMapArray;\n  access_req_map_lts: StringMap;\n  access_req_map_stl: StringMap;\n  description: StringMap;\n  enforce: boolean;\n  groups_aliases: StringMapArray;\n  groups_auto_select: string[];\n  groups_auto_select_short: string[];\n  groups_map_lts: StringMap;\n  groups_map_stl: StringMap;\n  invalid_mode: boolean;\n  levels_aliases: StringMap;\n  levels_map: StringMap;\n  levels_map_lts: StringMap;\n  levels_map_stl: StringMap;\n  levels_styles_map: StylesheetMap;\n  original_definition: ClassificationYAMLDefinition;\n  params_map: ParamsMap;\n  subgroups_aliases: StringMapArray;\n  subgroups_auto_select: string[];\n  subgroups_auto_select_short: string[];\n  subgroups_map_lts: StringMap;\n  subgroups_map_stl: StringMap;\n};\n\nexport type ClassificationParts = {\n  lvlIdx: number;\n  lvl: string;\n  req: string[];\n  groups: string[];\n  subgroups: string[];\n};\n\ntype ClassificationGroups = {\n  groups: string[];\n  subgroups: string[];\n};\n\nexport const defaultParts: ClassificationParts = {\n  lvlIdx: 0,\n  lvl: '',\n  req: [],\n  groups: [],\n  subgroups: []\n};\n\ntype DisabledControls = {\n  levels: string[];\n  groups: string[];\n};\n\nexport const defaultDisabled: DisabledControls = {\n  groups: [],\n  levels: []\n};\n\nexport function getLevelText(\n  lvl: number,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): string {\n  let text = null;\n  if (c12nDef != null) {\n    text = c12nDef.levels_map[lvl.toString()];\n  }\n\n  if (text === undefined || text == null) {\n    text = '';\n  }\n\n  if (format === 'long' && !isMobile) {\n    return c12nDef.levels_map_stl[text];\n  }\n\n  return text;\n}\n\nfunction getLevelIndex(c12n: string, c12nDef: ClassificationDefinition): number {\n  let retIndex = null;\n  const splitIdx = c12n.indexOf('//');\n  let c12nLvl = c12n;\n  if (splitIdx !== -1) {\n    c12nLvl = c12n.slice(0, splitIdx);\n  }\n\n  if (c12nDef.levels_map[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nLvl];\n  } else if (c12nDef.levels_map_lts[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nDef.levels_map_lts[c12nLvl]];\n  } else if (c12nDef.levels_aliases[c12nLvl] !== undefined) {\n    retIndex = c12nDef.levels_map[c12nDef.levels_aliases[c12nLvl]];\n  }\n\n  return retIndex;\n}\n\nfunction getRequired(c12n: string, c12nDef: ClassificationDefinition, format: FormatProp, isMobile: boolean): string[] {\n  const returnSet = [];\n  const partSet = c12n.split('/');\n  for (const p of partSet) {\n    if (p in c12nDef.access_req_map_lts) {\n      returnSet.push(c12nDef.access_req_map_lts[p]);\n    } else if (p in c12nDef.access_req_map_stl) {\n      returnSet.push(p);\n    } else if (p in c12nDef.access_req_aliases) {\n      for (const a of c12nDef.access_req_aliases[p]) {\n        returnSet.push(a);\n      }\n    }\n  }\n\n  if (format === 'long' && !isMobile) {\n    const out = [];\n    for (const r of returnSet) {\n      out.push(c12nDef.access_req_map_stl[r]);\n    }\n\n    return out.sort();\n  }\n\n  return returnSet.sort();\n}\n\nfunction getGroups(\n  c12n: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): ClassificationGroups {\n  const g1 = [];\n  const g2 = [];\n\n  const groupParts = c12n.split('//');\n  let groups = [];\n  for (let grpPart of groupParts) {\n    grpPart = grpPart.replace('REL TO ', '');\n    const tempGroup = grpPart.split(',');\n    for (const tg of tempGroup) {\n      groups = groups.concat(tg.trim().split('/'));\n    }\n  }\n\n  for (const g of groups) {\n    if (g in c12nDef.groups_map_lts) {\n      g1.push(c12nDef.groups_map_lts[g]);\n    } else if (g in c12nDef.groups_map_stl) {\n      g1.push(g);\n    } else if (g in c12nDef.groups_aliases) {\n      for (const a of c12nDef.groups_aliases[g]) {\n        g1.push(a);\n      }\n    } else if (g in c12nDef.subgroups_map_lts) {\n      g2.push(c12nDef.subgroups_map_lts[g]);\n    } else if (g in c12nDef.subgroups_map_stl) {\n      g2.push(g);\n    } else if (g in c12nDef.subgroups_aliases) {\n      for (const sa of c12nDef.subgroups_aliases[g]) {\n        g2.push(sa);\n      }\n    }\n  }\n\n  if (format === 'long' && !isMobile) {\n    const g1Out = [];\n    for (const gr of g1) {\n      g1Out.push(c12nDef.groups_map_stl[gr]);\n    }\n\n    const g2Out = [];\n    for (const sgr of g2) {\n      g2Out.push(c12nDef.subgroups_map_stl[sgr]);\n    }\n\n    return { groups: g1Out.sort(), subgroups: g2Out.sort() };\n  }\n\n  return { groups: g1.sort(), subgroups: g2.sort() };\n}\n\nexport function getParts(\n  c12n: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): ClassificationParts {\n  const grps = getGroups(c12n, c12nDef, format, isMobile);\n  const lvlIdx = getLevelIndex(c12n, c12nDef);\n  return {\n    lvlIdx,\n    lvl: getLevelText(lvlIdx, c12nDef, format, isMobile),\n    req: getRequired(c12n, c12nDef, format, isMobile),\n    groups: grps.groups,\n    subgroups: grps.subgroups\n  };\n}\n\nexport function normalizedClassification(\n  parts: ClassificationParts,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n): string {\n  const { lvl, req, subgroups } = parts;\n  let { groups } = parts;\n\n  let out = lvl;\n\n  const reqGrp = [];\n  for (const r of req) {\n    if (c12nDef.params_map[r] !== undefined) {\n      if (c12nDef.params_map[r].is_required_group !== undefined) {\n        if (c12nDef.params_map[r].is_required_group) {\n          reqGrp.push(r);\n        }\n      }\n    }\n  }\n\n  for (const rg of reqGrp) {\n    req.splice(req.indexOf(rg), 1);\n  }\n\n  if (req.length > 0) {\n    out += `//${req.join('/')}`;\n  }\n  if (reqGrp.length > 0) {\n    out += `//${reqGrp.join('/')}`;\n  }\n\n  if (groups.length > 0) {\n    if (reqGrp.length > 0) {\n      out += '/';\n    } else {\n      out += '//';\n    }\n\n    if (groups.length === 1) {\n      const group = groups[0];\n      if (c12nDef.params_map[group] !== undefined) {\n        if (c12nDef.params_map[group].solitary_display_name !== undefined) {\n          out += c12nDef.params_map[group].solitary_display_name;\n        } else {\n          out += `REL TO ${group}`;\n        }\n      } else {\n        out += `REL TO ${group}`;\n      }\n    } else {\n      if (format === 'short' || isMobile) {\n        for (const alias in c12nDef.groups_aliases) {\n          if ({}.hasOwnProperty.call(c12nDef.groups_aliases, alias)) {\n            const values = c12nDef.groups_aliases[alias];\n            if (values.length > 1) {\n              if (JSON.stringify(values.sort()) === JSON.stringify(groups)) {\n                groups = [alias];\n              }\n            }\n          }\n        }\n      }\n      out += `REL TO ${groups.join(', ')}`;\n    }\n  }\n\n  if (subgroups.length > 0) {\n    if (groups.length > 0 || reqGrp.length > 0) {\n      out += '/';\n    } else {\n      out += '//';\n    }\n    out += subgroups.join('/');\n  }\n\n  return out;\n}\n\nfunction levelList(c12nDef: ClassificationDefinition) {\n  const out = [];\n  for (const i in c12nDef.levels_map) {\n    if (!isNaN(parseInt(i))) {\n      out.push(c12nDef.levels_map[i]);\n    }\n  }\n  return out;\n}\n\ntype ClassificationValidator = {\n  disabled: DisabledControls;\n  parts: ClassificationParts;\n};\n\nexport const defaultClassificationValidator: ClassificationValidator = {\n  disabled: defaultDisabled,\n  parts: defaultParts\n};\n\nexport function applyClassificationRules(\n  parts: ClassificationParts,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean,\n  userClassification: boolean = false\n): ClassificationValidator {\n  const requireLvl = {};\n  const limitedToGroup = {};\n  const requireGroup = {};\n  const partsToCheck = ['req', 'groups', 'subgroups'];\n  const retParts = { ...parts };\n  const disabledList = {\n    levels: [],\n    groups: []\n  };\n\n  for (const item in c12nDef.params_map) {\n    if ({}.hasOwnProperty.call(c12nDef.params_map, item)) {\n      const data = c12nDef.params_map[item];\n      if ('require_lvl' in data) {\n        requireLvl[item] = data.require_lvl;\n      }\n      if ('limited_to_group' in data) {\n        limitedToGroup[item] = data.limited_to_group;\n      }\n      if ('require_group' in data) {\n        requireGroup[item] = data.require_group;\n      }\n    }\n  }\n\n  for (const partName in partsToCheck) {\n    if ({}.hasOwnProperty.call(partsToCheck, partName)) {\n      const part = retParts[partsToCheck[partName]];\n      for (const value of part) {\n        let triggerAutoSelect = false;\n        if (value) {\n          if (value in requireLvl) {\n            if (retParts.lvlIdx < requireLvl[value]) {\n              retParts.lvlIdx = requireLvl[value];\n              retParts.lvl = getLevelText(requireLvl[value], c12nDef, format, isMobile);\n            }\n            const levels = levelList(c12nDef);\n            for (const l of levels) {\n              if (c12nDef.levels_map[l] < requireLvl[value]) {\n                disabledList.levels.push(l);\n              }\n            }\n          }\n          if (value in requireGroup) {\n            if (!retParts.groups.includes(requireGroup[value])) {\n              retParts.groups.push(requireGroup[value]);\n              for (const group of c12nDef.groups_auto_select) {\n                if (!retParts.groups.includes(group)) retParts.groups.push(group);\n              }\n            }\n          }\n          if (value in limitedToGroup) {\n            for (const g in c12nDef.groups_map_stl) {\n              if (g !== limitedToGroup[value]) {\n                disabledList.groups.push(g);\n                if (retParts.groups.includes(g)) {\n                  retParts.groups.splice(retParts.groups.indexOf(g), 1);\n                }\n              }\n            }\n          }\n          if (!userClassification && partsToCheck[partName] === 'groups') {\n            triggerAutoSelect = true;\n          }\n        }\n        if (triggerAutoSelect) {\n          for (const group of c12nDef.groups_auto_select) {\n            if (!retParts.groups.includes(group)) retParts.groups.push(group);\n          }\n        }\n      }\n    }\n  }\n\n  // Sort all lists\n  retParts.req = retParts.req.sort();\n  retParts.groups = retParts.groups.sort();\n  retParts.subgroups = retParts.subgroups.sort();\n\n  return {\n    disabled: disabledList,\n    parts: retParts\n  };\n}\n\nexport function getMaxClassification(\n  c12n_1: string,\n  c12n_2: string,\n  c12nDef: ClassificationDefinition,\n  format: FormatProp,\n  isMobile: boolean\n) {\n  const lvlIdx = Math.max(getLevelIndex(c12n_1, c12nDef), getLevelIndex(c12n_2, c12nDef));\n  const out = {\n    lvlIdx,\n    lvl: getLevelText(lvlIdx, c12nDef, format, isMobile),\n    req: [\n      ...Array.from(\n        new Set(getRequired(c12n_1, c12nDef, format, isMobile).concat(getRequired(c12n_1, c12nDef, format, isMobile)))\n      )\n    ],\n    groups: null,\n    subgroups: null\n  };\n\n  const grps1 = getGroups(c12n_1, c12nDef, format, isMobile);\n  const grps2 = getGroups(c12n_2, c12nDef, format, isMobile);\n  if (grps1.groups.length > 0 && grps2.groups.length > 0) {\n    out.groups = grps1.groups.filter(value => grps2.groups.includes(value));\n  } else {\n    out.groups = [...Array.from(new Set(grps1.groups.concat(grps2.groups)))];\n  }\n  if (grps1.subgroups.length > 0 && grps2.subgroups.length > 0) {\n    out.subgroups = grps1.subgroups.filter(value => grps2.subgroups.includes(value));\n  } else {\n    out.subgroups = [...Array.from(new Set(grps1.subgroups.concat(grps2.subgroups)))];\n  }\n\n  return normalizedClassification(out, c12nDef, format, isMobile);\n}\n","import {\n  Button,\n  Card,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemText,\n  useMediaQuery\n} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useALContext from 'components/hooks/useALContext';\nimport CustomChip, { ColorMap, PossibleColors } from 'components/visual/CustomChip';\nimport {\n  applyClassificationRules,\n  defaultClassificationValidator,\n  defaultDisabled,\n  defaultParts,\n  FormatProp,\n  getLevelText,\n  getParts,\n  normalizedClassification\n} from 'helpers/classificationParser';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface ClassificationProps {\n  c12n: string;\n  setClassification?: (classification: string) => void;\n  size?: 'medium' | 'small' | 'tiny';\n  type?: 'picker' | 'pill' | 'outlined' | 'text';\n  format?: FormatProp;\n  inline: boolean;\n  isUser: boolean;\n  fullWidth?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  classification: {\n    fontWeight: 500\n  },\n  inlineSkel: {\n    display: 'inline-block',\n    width: '8rem',\n    verticalAlign: 'bottom'\n  },\n  // Text Color\n  default: {\n    fontWeight: 500,\n    color: theme.palette.type === 'dark' ? '#AAA' : '#888'\n  },\n  primary: {\n    fontWeight: 500,\n    color: theme.palette.primary.main\n  },\n  secondary: {\n    fontWeight: 500,\n    color: theme.palette.secondary.main\n  },\n  success: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n  },\n  info: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.info.dark : theme.palette.info.light\n  },\n  warning: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n  },\n  error: {\n    fontWeight: 500,\n    color: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n  }\n}));\n\nfunction WrappedClassification({\n  c12n,\n  format,\n  inline,\n  setClassification,\n  size,\n  type,\n  isUser,\n  fullWidth\n}: ClassificationProps) {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const { user: currentUser, c12nDef } = useALContext();\n  const isPhone = useMediaQuery(theme.breakpoints.down('xs'));\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [showPicker, setShowPicker] = useState(false);\n  const [uParts, setUserParts] = useState(defaultParts);\n  const [validated, setValidated] = useState(defaultClassificationValidator);\n  const sp2 = theme.spacing(2);\n\n  useEffect(() => {\n    if (c12nDef && c12nDef.enforce && c12n) {\n      const parts = getParts(c12n, c12nDef, format, isMobile);\n      if (type === 'picker') {\n        setUserParts(getParts(currentUser.classification, c12nDef, format, isMobile));\n        setValidated(applyClassificationRules(parts, c12nDef, format, isMobile, isUser));\n      } else {\n        setValidated({\n          disabled: defaultDisabled,\n          parts\n        });\n      }\n    }\n    // eslint-disable-next-line\n  }, [c12n, currentUser, isMobile]);\n\n  function toggleGroups(grp) {\n    const newGrp = validated.parts.groups;\n\n    if (newGrp.indexOf(grp.name) === -1 && newGrp.indexOf(grp.short_name) === -1) {\n      newGrp.push(format === 'long' && !isMobile ? grp.name : grp.short_name);\n    } else if (newGrp.indexOf(grp.name) !== -1) {\n      newGrp.splice(newGrp.indexOf(grp.name), 1);\n    } else {\n      newGrp.splice(newGrp.indexOf(grp.short_name), 1);\n    }\n\n    setValidated(applyClassificationRules({ ...validated.parts, groups: newGrp }, c12nDef, format, isMobile, isUser));\n  }\n\n  function toggleSubGroups(sgrp) {\n    const newSGrp = validated.parts.subgroups;\n\n    if (newSGrp.indexOf(sgrp.name) === -1 && newSGrp.indexOf(sgrp.short_name) === -1) {\n      newSGrp.push(format === 'long' && !isMobile ? sgrp.name : sgrp.short_name);\n    } else if (newSGrp.indexOf(sgrp.name) !== -1) {\n      newSGrp.splice(newSGrp.indexOf(sgrp.name), 1);\n    } else {\n      newSGrp.splice(newSGrp.indexOf(sgrp.short_name), 1);\n    }\n\n    setValidated(\n      applyClassificationRules({ ...validated.parts, subgroups: newSGrp }, c12nDef, format, isMobile, isUser)\n    );\n  }\n\n  function toggleRequired(req) {\n    const newReq = validated.parts.req;\n\n    if (newReq.indexOf(req.name) === -1 && newReq.indexOf(req.short_name) === -1) {\n      newReq.push(format === 'long' && !isMobile ? req.name : req.short_name);\n    } else if (newReq.indexOf(req.name) !== -1) {\n      newReq.splice(newReq.indexOf(req.name), 1);\n    } else {\n      newReq.splice(newReq.indexOf(req.short_name), 1);\n    }\n\n    setValidated(applyClassificationRules({ ...validated.parts, req: newReq }, c12nDef, format, isMobile, isUser));\n  }\n\n  function selectLevel(lvlIdx) {\n    setValidated(\n      applyClassificationRules(\n        { ...validated.parts, lvlIdx, lvl: getLevelText(lvlIdx, c12nDef, format, isMobile) },\n        c12nDef,\n        format,\n        isMobile,\n        isUser\n      )\n    );\n  }\n\n  const computeColor = (): PossibleColors => {\n    const levelStyles = c12nDef.levels_styles_map[validated.parts.lvl];\n    if (!levelStyles) {\n      return 'default' as 'default';\n    }\n    return ColorMap[levelStyles.color || levelStyles.label.replace('label-', '')] || ('default' as 'default');\n  };\n\n  const skelheight = {\n    medium: theme.spacing(4),\n    small: theme.spacing(3.5),\n    tiny: theme.spacing(3)\n  };\n\n  const useClassification = () => {\n    const newC12n = normalizedClassification(validated.parts, c12nDef, format, isMobile);\n    const originalParts = getParts(c12n, c12nDef, format, isMobile);\n    const originalC12n = normalizedClassification(originalParts, c12nDef, format, isMobile);\n    if (setClassification && newC12n !== originalC12n) {\n      setClassification(newC12n);\n    }\n    setShowPicker(false);\n  };\n  // Build chip based on computed values\n  return (\n    c12nDef &&\n    c12nDef.enforce &&\n    (c12n ? (\n      <>\n        {type === 'text' ? (\n          <span className={classes[computeColor()]}>\n            {normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n          </span>\n        ) : (\n          <div style={{ display: inline ? 'inline-block' : null }}>\n            <CustomChip\n              type=\"rounded\"\n              variant={type === 'outlined' ? 'outlined' : 'default'}\n              size={size}\n              color={computeColor()}\n              className={classes.classification}\n              label={normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n              onClick={type === 'picker' ? () => setShowPicker(true) : null}\n              fullWidth={fullWidth}\n            />\n          </div>\n        )}\n        {type === 'picker' ? (\n          <Dialog\n            fullScreen={isPhone}\n            fullWidth\n            maxWidth={isMobile ? 'xs' : 'md'}\n            open={showPicker}\n            onClose={useClassification}\n          >\n            <DialogTitle>\n              <CustomChip\n                type=\"rounded\"\n                variant=\"outlined\"\n                size={size}\n                color={computeColor()}\n                className={classes.classification}\n                label={normalizedClassification(validated.parts, c12nDef, format, isMobile)}\n                fullWidth={fullWidth}\n              />\n            </DialogTitle>\n            <DialogContent>\n              <Grid container spacing={2}>\n                <Grid item xs={12} md>\n                  <Card variant=\"outlined\">\n                    <List disablePadding style={{ borderRadius: '6px' }}>\n                      {c12nDef.original_definition.levels.map((lvl, idx) => {\n                        return (\n                          (isUser || lvl.lvl <= uParts.lvlIdx) && (\n                            <ListItem\n                              key={idx}\n                              button\n                              disabled={\n                                validated.disabled.levels.includes(lvl.name) ||\n                                validated.disabled.levels.includes(lvl.short_name)\n                              }\n                              selected={validated.parts.lvlIdx === lvl.lvl}\n                              onClick={() => selectLevel(lvl.lvl)}\n                            >\n                              <ListItemText style={{ textAlign: 'center' }} primary={lvl.name} />\n                            </ListItem>\n                          )\n                        );\n                      })}\n                    </List>\n                  </Card>\n                </Grid>\n                {(isUser || uParts.req.length !== 0) && (\n                  <Grid item xs={12} md>\n                    <Card variant=\"outlined\">\n                      <List disablePadding>\n                        {c12nDef.original_definition.required.map((req, idx) => {\n                          return (\n                            (isUser || [req.name, req.short_name].some(r => uParts.req.includes(r))) && (\n                              <ListItem\n                                key={idx}\n                                button\n                                selected={\n                                  validated.parts.req.includes(req.name) || validated.parts.req.includes(req.short_name)\n                                }\n                                onClick={() => toggleRequired(req)}\n                              >\n                                <ListItemText style={{ textAlign: 'center' }} primary={req.name} />\n                              </ListItem>\n                            )\n                          );\n                        })}\n                      </List>\n                    </Card>\n                  </Grid>\n                )}\n                {(isUser || uParts.groups.length !== 0 || uParts.subgroups.length !== 0) && (\n                  <Grid item xs={12} md>\n                    {(isUser || uParts.groups.length !== 0) && (\n                      <div style={{ paddingBottom: sp2 }}>\n                        <Card variant=\"outlined\">\n                          <List disablePadding>\n                            {c12nDef.original_definition.groups.map((grp, idx) => {\n                              return (\n                                (isUser || [grp.name, grp.short_name].some(g => uParts.groups.includes(g))) && (\n                                  <ListItem\n                                    key={idx}\n                                    button\n                                    disabled={\n                                      validated.disabled.groups.includes(grp.name) ||\n                                      validated.disabled.groups.includes(grp.short_name)\n                                    }\n                                    selected={\n                                      validated.parts.groups.includes(grp.name) ||\n                                      validated.parts.groups.includes(grp.short_name)\n                                    }\n                                    onClick={() => toggleGroups(grp)}\n                                  >\n                                    <ListItemText style={{ textAlign: 'center' }} primary={grp.name} />\n                                  </ListItem>\n                                )\n                              );\n                            })}\n                          </List>\n                        </Card>\n                      </div>\n                    )}\n                    {(isUser || uParts.subgroups.length !== 0) && (\n                      <Card variant=\"outlined\">\n                        <List disablePadding>\n                          {c12nDef.original_definition.subgroups.map((sgrp, idx) => {\n                            return (\n                              (isUser || [sgrp.name, sgrp.short_name].some(sg => uParts.subgroups.includes(sg))) && (\n                                <ListItem\n                                  key={idx}\n                                  button\n                                  selected={\n                                    validated.parts.subgroups.includes(sgrp.name) ||\n                                    validated.parts.subgroups.includes(sgrp.short_name)\n                                  }\n                                  onClick={() => toggleSubGroups(sgrp)}\n                                >\n                                  <ListItemText style={{ textAlign: 'center' }} primary={sgrp.name} />\n                                </ListItem>\n                              )\n                            );\n                          })}\n                        </List>\n                      </Card>\n                    )}\n                  </Grid>\n                )}\n              </Grid>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={useClassification} color=\"primary\" autoFocus>\n                {t('classification.done')}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        ) : null}\n      </>\n    ) : (\n      <Skeleton\n        variant={type === 'text' ? 'text' : 'rect'}\n        className={inline ? classes.inlineSkel : null}\n        height={type !== 'text' ? skelheight[size] : null}\n        style={{ borderRadius: theme.spacing(0.5) }}\n      />\n    ))\n  );\n}\n\nWrappedClassification.defaultProps = {\n  setClassification: null,\n  size: 'medium' as 'medium',\n  type: 'pill' as 'pill',\n  format: 'short' as 'short',\n  inline: false,\n  isUser: false,\n  fullWidth: true\n};\n\nconst Classification = React.memo(WrappedClassification);\nexport default Classification;\n","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport React from 'react';\n\nconst ConfirmationDialog = ({ open, handleClose, handleAccept, title, cancelText, acceptText, text = null }) => {\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      {text && (\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{text}</DialogContentText>\n        </DialogContent>\n      )}\n      <DialogActions>\n        <Button onClick={handleClose} color=\"secondary\">\n          {cancelText}\n        </Button>\n        <Button onClick={handleAccept} color=\"primary\" autoFocus>\n          {acceptText}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ConfirmationDialog;\n","import {\n  Button,\n  Chip,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype APIKeysProps = {\n  user: any;\n  toggleApp: (apiKey: string) => void;\n};\n\nexport default function Apps({ user, toggleApp }: APIKeysProps) {\n  const { t } = useTranslation(['user']);\n  const [selectedApp, setSelectedApp] = useState(null);\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n\n  function handleDelete() {\n    apiCall({\n      url: `/api/v4/auth/obo_token/${selectedApp}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        toggleApp(selectedApp);\n        setSelectedApp(null);\n        showSuccessMessage(t('apps.removed'));\n      },\n      onFailure: api_data => {\n        setSelectedApp(null);\n        showErrorMessage(api_data.api_error_message);\n      }\n    });\n  }\n\n  function askForDelete(app) {\n    setSelectedApp(app);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h4\" gutterBottom>\n        {t('apps.title')}\n      </Typography>\n      <Typography variant=\"caption\" gutterBottom>\n        {t('apps.desc')}\n      </Typography>\n      <div style={{ paddingTop: sp4, paddingBottom: sp4 }}>\n        {user.apps && Object.keys(user.apps).length !== 0 ? (\n          Object.keys(user.apps).map(e => (\n            <Tooltip key={e} title={user.apps[e].netloc}>\n              <Chip\n                label={`${user.apps[e].server} [${user.apps[e].scope.toUpperCase()}]`}\n                onDelete={() => askForDelete(e)}\n                style={{ marginRight: sp1, marginBottom: sp1 }}\n              />\n            </Tooltip>\n          ))\n        ) : (\n          <Typography variant=\"subtitle2\" color=\"secondary\">\n            {t('apps.none')}\n          </Typography>\n        )}\n      </div>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={selectedApp !== null}\n        onClose={() => setSelectedApp(null)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {`${t('apps.remove_title')}: ${\n            selectedApp &&\n            user.apps[selectedApp] &&\n            `${user.apps[selectedApp].server} [${user.apps[selectedApp].scope.toUpperCase()}]`\n          }`}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{t('apps.remove_text')}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSelectedApp(null)} color=\"primary\" autoFocus>\n            {t('cancel')}\n          </Button>\n          <Button onClick={() => handleDelete()} color=\"primary\">\n            {t('apps.remove')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import {\n  Avatar,\n  Button,\n  CircularProgress,\n  Drawer,\n  Grid,\n  IconButton,\n  isWidthDown,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n  withStyles,\n  withWidth\n} from '@material-ui/core';\nimport { red } from '@material-ui/core/colors';\nimport ChevronRightOutlinedIcon from '@material-ui/icons/ChevronRightOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport APIKeys from 'components/routes/user/api_keys';\nimport DisableOTP from 'components/routes/user/disable_otp';\nimport OTP from 'components/routes/user/otp';\nimport SecurityToken from 'components/routes/user/token';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport CustomChip from 'components/visual/CustomChip';\nimport ChipInput from 'material-ui-chip-input';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useLocation, useParams } from 'react-router-dom';\nimport Apps from './user/apps';\n\ntype UserProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n  username?: string | null;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\nconst DeleteButton = withStyles((theme: Theme) => ({\n  root: {\n    color: theme.palette.getContrastText(red[500]),\n    backgroundColor: red[500],\n    '&:hover': {\n      backgroundColor: red[700]\n    },\n    minWidth: theme.spacing(16)\n  }\n}))(Button);\n\nfunction User({ width, username }: UserProps) {\n  const { id } = useParams<ParamProps>();\n  const location = useLocation();\n  const inputRef = useRef(null);\n  const { t } = useTranslation(['user']);\n  const theme = useTheme();\n  const history = useHistory();\n  const [drawerType, setDrawerType] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [user, setUser] = useState(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, configuration } = useALContext();\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const { showErrorMessage, showSuccessMessage, showWarningMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    drawer: {\n      width: '500px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100vw'\n      }\n    },\n    row: {\n      height: '62px'\n    },\n    group: {\n      marginTop: '1rem'\n    },\n    skelItem: {\n      display: 'inline-block'\n    },\n    skelButton: {\n      display: 'inline-block',\n      width: '9rem',\n      height: '4rem'\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n\n  const doDeleteUser = () => {\n    apiCall({\n      url: `/api/v4/user/${username || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        history.push('/admin/users');\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const handleDeleteUser = () => {\n    setDeleteDialog(true);\n  };\n\n  function saveUser() {\n    apiCall({\n      url: `/api/v4/user/${username || id}/`,\n      method: 'POST',\n      body: user,\n      onSuccess: () => {\n        setModified(false);\n        showSuccessMessage(t('success_save'));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  function toggleToken(token) {\n    const newTokens = user.security_tokens;\n    if (newTokens.indexOf(token) === -1) {\n      newTokens.push(token);\n    } else {\n      newTokens.splice(newTokens.indexOf(token), 1);\n    }\n    setUser({ ...user, security_tokens: newTokens });\n  }\n\n  function toggleApp(app) {\n    const newApps = user.apps;\n    delete newApps[app];\n    setUser({ ...user, apps: newApps });\n  }\n\n  function toggleAPIKey(apiKey) {\n    const newKeys = user.apikeys;\n    if (newKeys.indexOf(apiKey) === -1) {\n      newKeys.push(apiKey);\n    } else {\n      newKeys.splice(newKeys.indexOf(apiKey), 1);\n    }\n    setUser({ ...user, apikeys: newKeys });\n  }\n\n  function setName(value) {\n    setModified(true);\n    setUser({ ...user, name: value });\n  }\n\n  function setGroups(value) {\n    setModified(true);\n    setUser({ ...user, groups: value });\n  }\n\n  function set2FAEnabled(value) {\n    if (value && user['2fa_enabled']) {\n      showErrorMessage(t('2fa_already_enabled'));\n    } else if (value) {\n      showSuccessMessage(t('2fa_enabled'));\n    } else {\n      showWarningMessage(t('2fa_disabled'));\n    }\n    setUser({ ...user, '2fa_enabled': value });\n  }\n\n  function setClassification(value) {\n    setModified(true);\n    setUser({ ...user, classification: value });\n  }\n\n  function setConfirmPassword(value) {\n    setModified(true);\n    setUser({ ...user, new_pass_confirm: value });\n  }\n\n  function setNewPassword(value) {\n    setModified(true);\n    setUser({ ...user, new_pass: value });\n  }\n\n  function setAPIQuota(value) {\n    setModified(true);\n    setUser({ ...user, api_quota: value });\n  }\n\n  function setSubmissionQuota(value) {\n    setModified(true);\n    setUser({ ...user, submission_quota: value });\n  }\n\n  function toggleAccountEnabled() {\n    setModified(true);\n    setUser({ ...user, is_active: !user.is_active });\n  }\n\n  function toggleDrawer(type) {\n    if (user) {\n      setDrawerType(type);\n      setDrawerOpen(true);\n    }\n  }\n\n  function toggleRole(role) {\n    const newTypes = user.type;\n    if (newTypes.indexOf(role) === -1) {\n      newTypes.push(role);\n    } else {\n      newTypes.splice(newTypes.indexOf(role), 1);\n    }\n    setModified(true);\n    setUser({ ...user, type: newTypes });\n  }\n\n  function handleAvatar(e) {\n    const reader = new FileReader();\n    const file = e.target.files[0];\n\n    if (!file) return;\n\n    reader.onload = img => {\n      setModified(true);\n      setUser({ ...user, avatar: img.target.result.toString() });\n    };\n    reader.readAsDataURL(file);\n  }\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin || !location.pathname.includes('/admin/')) {\n      apiCall({\n        url: `/api/v4/user/${username || id}/?load_avatar`,\n        onSuccess: api_data => {\n          setUser(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return !currentUser.is_admin && location.pathname.includes('/admin/') ? (\n    <Redirect to=\"/forbidden\" />\n  ) : (\n    <PageCenter margin={4} width=\"100%\">\n      <React.Fragment key=\"right\">\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n          <div style={{ alignSelf: 'flex-end' }}>\n            <IconButton onClick={() => setDrawerOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n          <div\n            style={{\n              paddingTop: sp4,\n              paddingBottom: sp6,\n              paddingLeft: sp4,\n              paddingRight: sp4,\n              display: 'flex',\n              flexDirection: 'column'\n            }}\n            className={classes.drawer}\n          >\n            {drawerType && user\n              ? {\n                  api_quota: (\n                    <>\n                      <Typography variant=\"h4\">{t('api_quota')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('api_quota_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"number\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setAPIQuota(event.target.value)}\n                        value={user.api_quota}\n                      />\n                    </>\n                  ),\n                  change_password: (\n                    <>\n                      <Typography variant=\"h4\" gutterBottom>\n                        {t('change_password')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        label={t('new_password')}\n                        onChange={event => setNewPassword(event.target.value)}\n                      />\n                      <TextField\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        label={t('confirm_password')}\n                        onChange={event => setConfirmPassword(event.target.value)}\n                      />\n                    </>\n                  ),\n                  groups: (\n                    <>\n                      <Typography variant=\"h4\">{t('groups')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('groups_edit_title')}\n                      </Typography>\n                      <ChipInput\n                        margin=\"normal\"\n                        defaultValue={user.groups}\n                        onChange={chips => setGroups(chips)}\n                        variant=\"outlined\"\n                      />\n                    </>\n                  ),\n                  name: (\n                    <>\n                      <Typography variant=\"h4\">{t('name')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('name_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setName(event.target.value)}\n                        value={user.name}\n                      />\n                    </>\n                  ),\n                  submission_quota: (\n                    <>\n                      <Typography variant=\"h4\">{t('submission_quota')}</Typography>\n                      <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                        {t('submission_quota_edit_title')}\n                      </Typography>\n                      <TextField\n                        autoFocus\n                        type=\"number\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={event => setSubmissionQuota(event.target.value)}\n                        value={user.submission_quota}\n                      />\n                    </>\n                  ),\n                  otp: <OTP setDrawerOpen={setDrawerOpen} set2FAEnabled={set2FAEnabled} />,\n                  disable_otp: <DisableOTP setDrawerOpen={setDrawerOpen} set2FAEnabled={set2FAEnabled} />,\n                  token: <SecurityToken user={user} toggleToken={toggleToken} />,\n                  api_key: <APIKeys user={user} toggleAPIKey={toggleAPIKey} />,\n                  apps: <Apps user={user} toggleApp={toggleApp} />\n                }[drawerType]\n              : null}\n          </div>\n        </Drawer>\n      </React.Fragment>\n\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={doDeleteUser}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      <Grid container spacing={2} justify=\"center\">\n        <Grid item xs={12} sm={12} md={3}>\n          <Grid container className={classes.group}>\n            {id && (\n              <Grid item xs={12}>\n                <div style={{ paddingBottom: sp4 }}>\n                  {user ? (\n                    <DeleteButton\n                      fullWidth={downSM}\n                      disabled={buttonLoading}\n                      variant=\"contained\"\n                      onClick={handleDeleteUser}\n                    >\n                      {t('remove')}\n                      {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                    </DeleteButton>\n                  ) : (\n                    <Skeleton\n                      className={classes.skelButton}\n                      style={{ minWidth: theme.spacing(16), width: downSM ? '100%' : null }}\n                    />\n                  )}\n                </div>\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              {user ? (\n                <>\n                  <input\n                    ref={inputRef}\n                    accept=\"image/*\"\n                    id=\"contained-button-file\"\n                    type=\"file\"\n                    style={{ display: 'none' }}\n                    onChange={handleAvatar}\n                  />\n                  <label htmlFor=\"contained-button-file\">\n                    <IconButton\n                      onClick={e => {\n                        inputRef.current.click();\n                      }}\n                    >\n                      <Avatar\n                        style={{\n                          width: downSM ? theme.spacing(24) : theme.spacing(16),\n                          height: downSM ? theme.spacing(24) : theme.spacing(16)\n                        }}\n                        alt={user.name}\n                        src={user.avatar}\n                      >\n                        {user.name\n                          .split(' ', 2)\n                          .map(n => (n ? n[0].toUpperCase() : ''))\n                          .join('')}\n                      </Avatar>\n                    </IconButton>\n                  </label>\n                </>\n              ) : (\n                <Skeleton\n                  className={classes.skelItem}\n                  variant=\"circle\"\n                  width={downSM ? theme.spacing(24) : theme.spacing(16)}\n                  height={downSM ? theme.spacing(24) : theme.spacing(16)}\n                />\n              )}\n              <Typography gutterBottom>{user ? user.uname : <Skeleton />}</Typography>\n            </Grid>\n            <Grid item style={{ marginTop: '2rem' }} xs={12}>\n              <div style={{ paddingBottom: id ? 0 : sp4 }}>\n                {user ? (\n                  <CustomChip\n                    fullWidth={downSM}\n                    color={user.is_active ? 'primary' : 'default'}\n                    onClick={currentUser.username !== user.uname ? toggleAccountEnabled : null}\n                    label={user.is_active ? t('enabled') : t('disabled')}\n                    type=\"rounded\"\n                    style={{ minWidth: theme.spacing(16) }}\n                  />\n                ) : (\n                  <Skeleton\n                    className={classes.skelButton}\n                    style={{ minWidth: theme.spacing(16), width: downSM ? '100%' : null }}\n                  />\n                )}\n              </div>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item sm={12} md={9} style={{ width: '100%' }}>\n          <Classification\n            type={currentUser.is_admin ? 'picker' : 'pill'}\n            size=\"medium\"\n            format=\"long\"\n            c12n={user && user.classification}\n            setClassification={setClassification}\n            isUser\n          />\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('profile')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={isWidthDown('xs', width) ? 2 : 3}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('profile')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow className={classes.row}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('uname')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('uname')}</Typography>}\n                    {user ? <div>{user.uname}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('name')}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('name')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('name')}</Typography>}\n                    {user ? <div>{user.name}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('groups')}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('groups')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('groups')}</Typography>}\n                    {user ? <div>{user.groups.join(' | ')}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                <TableRow className={classes.row}>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('email')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('email')}</Typography>}\n                    {user ? <div>{user.email}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('options')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={3}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('options')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow>\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('roles')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('roles')}</Typography>}\n                    {user ? (\n                      <div>\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('user') ? 'primary' : 'default'}\n                          onClick={\n                            currentUser.username !== user.uname && currentUser.is_admin\n                              ? () => toggleRole('user')\n                              : null\n                          }\n                          label={t('normal_user')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('admin') ? 'primary' : 'default'}\n                          onClick={\n                            currentUser.username !== user.uname && currentUser.is_admin\n                              ? () => toggleRole('admin')\n                              : null\n                          }\n                          label={t('admin')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('signature_manager') ? 'primary' : 'default'}\n                          onClick={currentUser.is_admin ? () => toggleRole('signature_manager') : null}\n                          label={t('signature_manager')}\n                        />\n                        <CustomChip\n                          type=\"rounded\"\n                          size=\"small\"\n                          color={user.type.includes('signature_importer') ? 'primary' : 'default'}\n                          onClick={currentUser.is_admin ? () => toggleRole('signature_importer') : null}\n                          label={t('signature_importer')}\n                        />\n                      </div>\n                    ) : (\n                      <Skeleton />\n                    )}\n                  </TableCell>\n                  <TableCell align=\"right\" />\n                </TableRow>\n                <TableRow\n                  hover={currentUser.is_admin}\n                  style={{ cursor: currentUser.is_admin ? 'pointer' : 'default' }}\n                  onClick={currentUser.is_admin ? event => toggleDrawer('api_quota') : null}\n                >\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('api_quota')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : <Typography variant=\"caption\">{t('api_quota')}</Typography>}\n                    {user ? <div>{user.api_quota}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">{currentUser.is_admin ? <ChevronRightOutlinedIcon /> : null}</TableCell>\n                </TableRow>\n                <TableRow\n                  hover={currentUser.is_admin}\n                  style={{ cursor: currentUser.is_admin ? 'pointer' : 'default' }}\n                  onClick={currentUser.is_admin ? event => toggleDrawer('submission_quota') : null}\n                >\n                  {isWidthDown('xs', width) ? null : (\n                    <TableCell style={{ whiteSpace: 'nowrap' }}>{t('submission_quota')}</TableCell>\n                  )}\n                  <TableCell width=\"100%\">\n                    {!isWidthDown('xs', width) ? null : (\n                      <Typography variant=\"caption\">{t('submission_quota')}</Typography>\n                    )}\n                    {user ? <div>{user.submission_quota}</div> : <Skeleton />}\n                  </TableCell>\n                  <TableCell align=\"right\">{currentUser.is_admin ? <ChevronRightOutlinedIcon /> : null}</TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          <TableContainer className={classes.group} component={Paper}>\n            <Table aria-label={t('security')}>\n              <TableHead>\n                <TableRow>\n                  <TableCell colSpan={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {t('security')}\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('change_password')}>\n                  <TableCell width=\"100%\">{user ? t('change_password') : <Skeleton />}</TableCell>\n                  <TableCell align=\"right\">\n                    <ChevronRightOutlinedIcon />\n                  </TableCell>\n                </TableRow>\n                {user && currentUser.username === user.uname && configuration.auth.allow_2fa && (\n                  <TableRow\n                    hover\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => toggleDrawer(user && user['2fa_enabled'] ? 'disable_otp' : 'otp')}\n                  >\n                    <TableCell width=\"100%\">\n                      {user ? user['2fa_enabled'] ? t('2fa_off') : t('2fa_on') : <Skeleton />}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n                {user &&\n                  currentUser.username === user.uname &&\n                  user['2fa_enabled'] &&\n                  configuration.auth.allow_security_tokens && (\n                    <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('token')}>\n                      <TableCell width=\"100%\">{t('token')}</TableCell>\n                      <TableCell align=\"right\">\n                        <ChevronRightOutlinedIcon />\n                      </TableCell>\n                    </TableRow>\n                  )}\n                {user && currentUser.username === user.uname && configuration.auth.allow_apikeys && (\n                  <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('api_key')}>\n                    <TableCell width=\"100%\">{t('apikeys')}</TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n                {user && currentUser.username === user.uname && (\n                  <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDrawer('apps')}>\n                    <TableCell width=\"100%\">{t('apps')}</TableCell>\n                    <TableCell align=\"right\">\n                      <ChevronRightOutlinedIcon />\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n\n          {user && modified ? (\n            <div\n              style={{\n                paddingTop: sp1,\n                paddingBottom: sp1,\n                position: 'fixed',\n                bottom: 0,\n                left: 0,\n                width: '100%',\n                zIndex: theme.zIndex.drawer - 1,\n                backgroundColor: theme.palette.background.default,\n                boxShadow: theme.shadows[4]\n              }}\n            >\n              <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveUser}>\n                {t('save')}\n                {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n              </Button>\n            </div>\n          ) : null}\n        </Grid>\n      </Grid>\n    </PageCenter>\n  );\n}\n\nUser.defaultProps = {\n  username: null\n};\n\nexport default withWidth()(User);\n","import useUser from 'commons/components/hooks/useAppUser';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport User from 'components/routes/user';\nimport React from 'react';\n\nexport default function Account() {\n  const { user: currentUser } = useUser<CustomUser>();\n  return <User username={currentUser.username} />;\n}\n","import { Button, useTheme } from '@material-ui/core';\nimport LinkIcon from '@material-ui/icons/Link';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\ntype LinkGridProps = {\n  items: {\n    route: string;\n    icon?: React.ReactElement<any>;\n    name?: string;\n    text?: string;\n  }[];\n};\n\nexport default function LinkGrid({ items }: LinkGridProps) {\n  const theme = useTheme();\n  const color = theme.palette.action.active;\n  const padding = theme.spacing(10);\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n      {items.map((e, i) => {\n        return (\n          <Button key={i} component={Link} to={e.route}>\n            <div style={{ height: '300px', width: '300px', padding, textAlign: 'center', color }}>\n              {e.icon ? (\n                React.cloneElement(e.icon, { style: { fontSize: '8rem' } }, null)\n              ) : (\n                <LinkIcon style={{ fontSize: '8rem' }} />\n              )}\n              <span style={{ fontSize: 'medium' }}>{e.name || e.text}</span>\n            </div>\n          </Button>\n        );\n      })}\n    </div>\n  );\n}\n","import useUser from 'commons/components/hooks/useAppUser';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Admin() {\n  const layout = useMyLayout();\n  const { user: currentUser } = useUser<CustomUser>();\n\n  return currentUser.is_admin ? (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={layout.topnav.adminMenu} />\n    </PageCenter>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import { OptionsObject, useSnackbar } from 'notistack';\n\nexport default function useClipboard() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const snackBarOptions: OptionsObject = {\n    preventDuplicate: true,\n    autoHideDuration: 5000,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    onClick: _snack => {\n      closeSnackbar();\n    }\n  };\n\n  const copy = (text: string, targetId = 'root') => {\n    const el = document.createElement('textarea');\n    const target = document.getElementById(targetId) || document.body;\n    el.value = text;\n    target.appendChild(el);\n    el.focus();\n    el.select();\n    const copySuccess = document.execCommand('copy');\n    target.removeChild(el);\n    if (copySuccess) {\n      enqueueSnackbar(text, { variant: 'success', ...snackBarOptions });\n    } else {\n      enqueueSnackbar(text, { variant: 'error', ...snackBarOptions });\n    }\n  };\n \n  return { copy };\n}","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  page: {\n    width: '100%'\n  }\n}));\n\ntype PageFullWidthProps = {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n};\n\nconst PageFullWidth: React.FC<PageFullWidthProps> = ({ children, margin = null, mb = 2, ml = 2, mr = 2, mt = 2 }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  return (\n    <div className={classes.page}>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageFullWidth;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  AppBar,\n  Button,\n  ButtonProps,\n  IconButton,\n  IconButtonProps,\n  Toolbar,\n  Tooltip,\n  useTheme\n} from '@material-ui/core';\nimport useAppBarHeight from 'commons/components/hooks/useAppBarHeight';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport React from 'react';\n\nexport type PageHeaderAction = {\n  key?: string;\n  title?: string;\n  tooltip?: string;\n  icon?: React.ReactNode;\n  color?: 'primary' | 'secondary';\n  action?: () => void;\n  btnProp?: ButtonProps | IconButtonProps;\n};\n\ntype PageHeaderProps = {\n  children?: React.ReactNode;\n  left?: React.ReactNode;\n  right?: React.ReactNode;\n  actions?: PageHeaderAction[];\n  isSticky?: boolean;\n  top?: number;\n  elevation?: number;\n  backgroundColor?: string;\n};\n\nconst PageHeader: React.FC<PageHeaderProps> = ({\n  children,\n  left,\n  right,\n  actions,\n  isSticky = false,\n  top,\n  backgroundColor = null,\n  elevation = 0\n}) => {\n  const theme = useTheme();\n  const { currentLayout, autoHideAppbar } = useAppLayout();\n  const appBarHeight = useAppBarHeight();\n\n  const barWillHide = currentLayout !== 'top' && autoHideAppbar;\n\n  return (\n    <AppBar\n      id=\"header1\"\n      position={isSticky ? 'sticky' : 'relative'}\n      style={{\n        top: top !== undefined ? top : isSticky ? (barWillHide ? 0 : appBarHeight) : null,\n        backgroundColor: backgroundColor || theme.palette.background.default,\n        zIndex: !isSticky ? theme.zIndex.appBar - 100 : null\n      }}\n      elevation={elevation}\n      color=\"inherit\"\n    >\n      {children}\n      {(left || right || actions) && (\n        <Toolbar style={{ minHeight: 0 }} disableGutters>\n          <div style={{ flexGrow: 1 }}>{left}</div>\n          <div>\n            {actions &&\n              actions.map((a, i) => {\n                let act = null;\n                if (a.title) {\n                  act = (\n                    <Button\n                      key={a.tooltip ? null : a.key ? a.key : `ph-action-${i}`}\n                      startIcon={a.icon}\n                      color={a.color}\n                      onClick={a.action}\n                      {...(a.btnProp as ButtonProps)}\n                      style={{ marginRight: theme.spacing(1) }}\n                    >\n                      {a.title}\n                    </Button>\n                  );\n                } else {\n                  act = (\n                    <IconButton\n                      key={a.tooltip ? null : a.key ? a.key : `ph-action-${i}`}\n                      color={a.color}\n                      onClick={a.action}\n                      {...(a.btnProp as IconButtonProps)}\n                      style={{ marginRight: theme.spacing(1) }}\n                    >\n                      {a.icon}\n                    </IconButton>\n                  );\n                }\n                return a.tooltip ? (\n                  <Tooltip key={a.key ? a.key : `ph-action-${i}`} title={a.tooltip}>\n                    {act}\n                  </Tooltip>\n                ) : (\n                  act\n                );\n              })}\n          </div>\n          <div>{right}</div>\n        </Toolbar>\n      )}\n    </AppBar>\n  );\n};\n\nexport default PageHeader;\n","import { Drawer, IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport React, { useMemo, useState } from 'react';\n\nconst XLWidth = '45vw';\nconst LGWidth = '85%';\nconst MDWidth = '85%';\nconst SMWidth = '100%';\n\nconst useStyles = makeStyles(theme => ({\n  appMain: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    position: 'relative',\n    overflowX: 'hidden'\n  },\n  appContent: {\n    '@media print': {\n      overflow: 'unset !important'\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    flex: 1,\n    height: '100%',\n    overflowX: 'hidden'\n  },\n  appRightDrawer: {\n    '@media print': {\n      display: 'none'\n    },\n    transition: 'width 225ms cubic-bezier(0, 0, 0.2, 1) 0ms'\n  },\n  paper: {\n    [theme.breakpoints.only('xl')]: {\n      width: XLWidth\n    },\n    [theme.breakpoints.only('lg')]: {\n      width: LGWidth\n    },\n    [theme.breakpoints.only('md')]: {\n      width: MDWidth\n    },\n    [theme.breakpoints.down('sm')]: {\n      width: SMWidth\n    }\n  }\n}));\n\nexport type DrawerContextProps = {\n  closeGlobalDrawer: () => void;\n  setGlobalDrawer: (elements: React.ReactElement<any>) => void;\n  globalDrawer: React.ReactElement<any>;\n};\n\nexport interface DrawerProviderProps {\n  children: React.ReactNode;\n}\n\nexport const DrawerContext = React.createContext<DrawerContextProps>(null);\n\nfunction DrawerProvider(props: DrawerProviderProps) {\n  const { children } = props;\n  const [globalDrawer, setGlobalDrawer] = useState(null);\n  const theme = useTheme();\n  const classes = useStyles();\n  const isMD = useMediaQuery(theme.breakpoints.only('md'));\n  const isLG = useMediaQuery(theme.breakpoints.only('lg'));\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n\n  const drawerWidth = isXL ? XLWidth : isLG ? LGWidth : isMD ? MDWidth : SMWidth;\n  const closeGlobalDrawer = () => {\n    setGlobalDrawer(null);\n  };\n\n  return (\n    <DrawerContext.Provider\n      value={{\n        closeGlobalDrawer,\n        setGlobalDrawer,\n        globalDrawer\n      }}\n    >\n      <div className={classes.appMain}>\n        {useMemo(\n          () => (\n            <div className={classes.appContent}>{children}</div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [children]\n        )}\n        <Drawer\n          open={globalDrawer !== null}\n          className={classes.appRightDrawer}\n          style={{\n            width: globalDrawer ? drawerWidth : 0,\n            zIndex: theme.zIndex.drawer + 100\n          }}\n          classes={{ paper: classes.paper }}\n          anchor=\"right\"\n          variant={isXL ? 'persistent' : 'temporary'}\n          onClose={closeGlobalDrawer}\n        >\n          {useMemo(\n            () => (\n              <>\n                <div\n                  id=\"drawerTop\"\n                  style={{\n                    backgroundColor: theme.palette.background.paper,\n                    padding: theme.spacing(1),\n                    position: 'sticky',\n                    top: 0,\n                    zIndex: 1\n                  }}\n                >\n                  <IconButton onClick={closeGlobalDrawer}>\n                    <CloseOutlinedIcon />\n                  </IconButton>\n                </div>\n                <div\n                  style={{\n                    paddingLeft: theme.spacing(2),\n                    paddingRight: theme.spacing(2)\n                  }}\n                >\n                  {globalDrawer}\n                </div>\n              </>\n            ),\n            [globalDrawer, theme]\n          )}\n        </Drawer>\n      </div>\n    </DrawerContext.Provider>\n  );\n}\n\nexport default DrawerProvider;\n","import { DrawerContext, DrawerContextProps } from 'components/visual/DrawerProvider';\nimport { useContext } from 'react';\n\nexport default function useDrawer(): DrawerContextProps {\n  return useContext(DrawerContext) as DrawerContextProps;\n}\n","/* eslint-disable no-param-reassign */\nimport browser from 'browser-detect';\n\nexport function insertText(input, from, to, text) {\n  const browserName = browser().name;\n  // execCommand doesn't work in FF.\n  input.focus();\n  if (browserName === 'firefox') {\n    _insertTextFF(input, from, to, text);\n  } else {\n    _insertText(input, from, to, text);\n  }\n}\n\nfunction _insertText(input, from, to, text) {\n  // const thisCursor = input.selectionStart;\n  // const nextCursor = thisCursor + text.length;\n  input.setSelectionRange(from, to);\n  document.execCommand('insertText', false, text);\n}\n\nfunction _insertTextFF(input, from, to, text) {\n  // UNDO is broken in FF.\n  const oldText = input.value;\n  const prefix = oldText.substring(0, from);\n  const suffix = oldText.substring(to);\n  const newText = `${prefix}${text}${suffix}`;\n  input.value = newText;\n}\n","export const ENTER = 'Enter';\nexport const ESCAPE = 'Escape';\nexport const ARROW_LEFT = 'ArrowLeft';\nexport const ARROW_UP = 'ArrowUp';\nexport const ARROW_RIGHT = 'ArrowRight';\nexport const ARROW_DOWN = 'ArrowDown';\n\nexport function is(key: string, check: string) {\n  return key === check;\n}\n\nexport function isArrowUp(key: string) {\n  return is(key, ARROW_UP);\n}\n\nexport function isArrowDown(key: string) {\n  return is(key, ARROW_DOWN);\n}\n\nexport function isArrowLeft(key: string) {\n  return is(key, ARROW_LEFT);\n}\n\nexport function isArrowRight(key: string) {\n  return is(key, ARROW_RIGHT);\n}\n\nexport function isEscape(key: string) {\n  return is(key, ESCAPE);\n}\n\nexport function isEnter(key: string) {\n  return is(key, ENTER);\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { Box, makeStyles, TextField, useMediaQuery, useTheme } from '@material-ui/core';\nimport { insertText } from 'commons/addons/elements/utils/browser';\nimport {\n  isArrowDown,\n  isArrowLeft,\n  isArrowRight,\n  isArrowUp,\n  isEnter,\n  isEscape\n} from 'commons/addons/elements/utils/keyboard';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const DEFAULT_SUGGESTION = ['OR', 'AND', 'NOT', 'TO', 'now', 'd', 'M', 'y', 'h', 'm'];\n\nconst useStyles = makeStyles(theme => ({\n  searchTextFieldOptionsCt: {\n    textAlign: 'left',\n    position: 'relative',\n    height: 0,\n    outline: 'none',\n    borderRadius: '0 0 4px 4px'\n  },\n  searchTextFieldOptionsInner: {\n    display: 'inline-block',\n    position: 'absolute',\n    overflow: 'auto',\n    zIndex: 1,\n    top: theme.spacing(1),\n    minWidth: '100%',\n    maxHeight: 250,\n    backgroundColor: theme.palette.background.default,\n    boxShadow: theme.shadows[4],\n    borderRadius: '0 0 4px 4px'\n  },\n  searchTextFieldItem: {\n    padding: theme.spacing(1),\n    '&:hover': {\n      cursor: 'pointer',\n      backgroundColor: theme.palette.action.hover\n    },\n    '&[data-searchtextfieldoption-selected=\"true\"]': {\n      backgroundColor: theme.palette.action.selected\n    }\n  }\n}));\n\ninterface SearchTextFieldProps {\n  value: string;\n  options: string[];\n  placeholder?: string;\n  disabled?: boolean;\n  onChange: (value: string) => void;\n  onClear: () => void;\n  onSearch: (query: string) => void;\n  onSelection?: (selected: string) => void;\n}\n\nconst SearchTextField: React.FC<SearchTextFieldProps> = ({\n  value,\n  options,\n  placeholder = null,\n  disabled = false,\n  onSearch,\n  onChange,\n  onSelection,\n  onClear\n}) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [cursor, setCursor] = useState<number>(-1);\n  const [filteredOptions, setFilteredOptions] = useState<{ start: number; end: number; items: string[] }>({\n    start: 0,\n    end: 0,\n    items: options\n  });\n  const { t } = useTranslation();\n  const [open, setOpen] = useState<boolean>(false);\n  const element = useRef<HTMLDivElement>();\n  const optionsElement = useRef<HTMLDivElement>();\n  const isLTEMedium = useMediaQuery(theme.breakpoints.up('md'));\n\n  // Ensure we update options if a new list is provided.\n  useEffect(() => setFilteredOptions({ start: 0, end: 0, items: options }), [options]);\n\n  // Get the the text input element.\n  const getInputEl = () => {\n    return element.current.querySelector('input');\n  };\n\n  // Automatically close the options box with losing focus.\n  const _onBlur = () => {\n    // setOpen(false);\n  };\n\n  // Handler for when the value of the text input changes.\n  const _onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value: _value } = event.currentTarget;\n    onChange(_value);\n    filterOptions(_value);\n  };\n\n  // Handler for KeyDown event on either the text input of the options menu.\n  const _onKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n    const { key: keyCode } = event;\n\n    if (isEnter(keyCode)) {\n      // key[ENTER ]: handler\n      if (open && cursor !== -1) {\n        onOptionSelection(filteredOptions.start, filteredOptions.end, filteredOptions.items[cursor]);\n      } else {\n        onSearch(value);\n        if (open) onOptionsClose();\n      }\n    } else if (isEscape(keyCode)) {\n      // key[ESCAPE]: handler\n      if (open) {\n        onOptionsClose();\n      } else {\n        onClear();\n      }\n    } else if (isArrowUp(keyCode)) {\n      // key[ARROW_UP]: handler\n      event.preventDefault();\n      if (open) {\n        const nextIndex = cursor - 1 > -1 ? cursor - 1 : filteredOptions.items.length - 1;\n        setCursor(nextIndex);\n        scrollTo(nextIndex);\n      }\n    } else if (isArrowDown(keyCode)) {\n      // key[ARROW_DOWN]: handler\n      event.preventDefault();\n      if (open) {\n        const nextIndex = cursor + 1 < filteredOptions.items.length ? cursor + 1 : 0;\n        setCursor(nextIndex);\n        scrollTo(nextIndex);\n      } else {\n        onOptionsOpen();\n      }\n    } else if (isArrowLeft(keyCode)) {\n      // key[ARROW_LEFT]: handler\n      filterOptions(value, -1);\n    } else if (isArrowRight(keyCode)) {\n      // key[ARROW_RIGHT]: handler\n      filterOptions(value, 1);\n    } else if (!open) {\n      onOptionsOpen();\n    }\n  };\n\n  // Handler for when the options box opens.\n  const onOptionsOpen = () => {\n    setOpen(true);\n  };\n\n  // Handler for when the options box closes.\n  const onOptionsClose = () => {\n    setOpen(false);\n    setCursor(-1);\n    getInputEl().focus();\n  };\n\n  // Handler for when an option is selected.\n  const onOptionSelection = (startIndex: number, endIndex: number, option: string) => {\n    if (option) {\n      const inputEl = getInputEl();\n      insertText(inputEl, startIndex, endIndex + 1, `${option}${DEFAULT_SUGGESTION.indexOf(option) === -1 ? ':' : ''}`);\n      onOptionsClose();\n      onChange(inputEl.value);\n      if (onSelection) {\n        onSelection(option);\n      }\n    }\n  };\n\n  // Scroll options element to the element at specified position.\n  const scrollTo = (position: number) => {\n    const _target = optionsElement.current.querySelector(`[data-searchtextfieldoption-position=\"${position}\"`);\n    if (_target) {\n      _target.scrollIntoView({ block: 'nearest' });\n    }\n  };\n\n  // Filter the options.\n  // Split filter value by single space.\n  // Grab nearest group to the left of cursor.\n  // Filter entire list with that value if not empty.\n  const filterOptions = (inputValue: string, selectionOffset = 0) => {\n    //\n    const {\n      value: filterValue,\n      cursor: thisCursor,\n      startIndex: insertStartIndex,\n      endIndex: insertEndIndex\n    } = parseFilter(inputValue, selectionOffset);\n\n    // Filter options.\n    const _options =\n      filterValue.length > 0\n        ? options.filter(option => option.toLowerCase().includes(filterValue.toLowerCase()))\n        : options;\n\n    // If filtered options is empty, then we return all options..\n    setFilteredOptions({\n      start: insertStartIndex > -1 ? insertStartIndex : thisCursor,\n      end: insertEndIndex > -1 ? insertEndIndex : thisCursor,\n      items: _options\n    });\n\n    // Update state of content assist opptions if no options are avaiable.\n    if (_options.length === 0) {\n      setOpen(false);\n    }\n  };\n\n  const parseFilter = (\n    inputValue: string,\n    offset = 0\n  ): { value: string; cursor: number; startIndex: number; endIndex: number } => {\n    // With left/right arrow keys, the cursor isn't yet updated to new position\n    //  when the event is received, therefore we use offset.\n    //  +1 for right arrow, -1 for left arrow.\n    const thisCursor = getInputEl().selectionStart + offset;\n\n    // We'll split the inptu text in two parts, before and after cursor.\n    const _precursor = inputValue.substr(0, thisCursor);\n    const _postcursor = inputValue.substr(thisCursor);\n\n    // Intialize the start and end indexes of filter value.\n    let filterStartIndex = -1;\n    let filterEndIndex = -1;\n\n    // Grab the last substring of text from precursor.\n    const _preParts = _precursor.split(' ');\n    const _prePartsLast = _preParts[_preParts.length - 1];\n\n    // Grab the first substring of text from postcursor.\n    const _postParts = _postcursor.split(' ');\n    const _postPartsFirst = _postParts[0];\n\n    // If what preceeds the cursor isn't an empty string, we compute the new start position of filterValue.\n    if (_prePartsLast !== '') {\n      filterStartIndex = thisCursor - _prePartsLast.length;\n    }\n\n    // If what fallows the cursor isn't an empty string, we compute the new end position of filterValue.\n    if (_postPartsFirst !== '') {\n      filterEndIndex = thisCursor + _postPartsFirst.length - 1;\n    } else {\n      // Ensure that if we have a what preceed cursor isn't empty, to set end position to cursor.\n      filterEndIndex = filterStartIndex > -1 ? thisCursor - 1 : -1;\n    }\n\n    // If the preceeding part of cursor is empty but not the folowing part, then set start position to cursor.\n    if (filterStartIndex === -1 && filterEndIndex > -1) {\n      filterStartIndex = thisCursor;\n    }\n\n    // Give it back.\n    return {\n      value: _prePartsLast,\n      cursor: thisCursor,\n      startIndex: filterStartIndex,\n      endIndex: filterEndIndex\n    };\n  };\n\n  return (\n    <div ref={element}>\n      <TextField\n        placeholder={placeholder || t('filter')}\n        value={value}\n        color=\"secondary\"\n        InputProps={{ disableUnderline: true }}\n        disabled={disabled}\n        onChange={_onChange}\n        onKeyDown={_onKeyDown}\n        onBlur={_onBlur}\n        autoFocus\n        fullWidth\n      />\n      {open && isLTEMedium ? (\n        <div ref={optionsElement} className={classes.searchTextFieldOptionsCt}>\n          <div className={classes.searchTextFieldOptionsInner}>\n            {filteredOptions.items.map((item, index) => (\n              <SearchTextOption\n                key={`SearchTextField-item-${index}`}\n                text={item}\n                position={index}\n                onSelection={() => onOptionSelection(filteredOptions.start, filteredOptions.end, item)}\n                selected={index === cursor}\n              />\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nconst SearchTextOption: React.FC<{\n  text: string;\n  position: number;\n  selected: boolean;\n  onSelection: () => void;\n}> = ({ text, position, selected = false, onSelection }) => {\n  const classes = useStyles();\n  return (\n    <Box\n      className={classes.searchTextFieldItem}\n      data-searchtextfieldoption-position={position}\n      data-searchtextfieldoption-selected={selected}\n      onClick={() => onSelection()}\n    >\n      {text}\n    </Box>\n  );\n};\n\nexport default SearchTextField;\n","import {\n  Box,\n  Divider,\n  fade,\n  IconButton,\n  IconButtonProps,\n  LinearProgress,\n  makeStyles,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport BackspaceIcon from '@material-ui/icons/Backspace';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport SearchTextField from './search-textfield';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& button': {\n      marginRight: theme.spacing(1)\n    }\n  },\n  searchbar: {\n    borderRadius: '4px',\n    paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(0.5),\n    backgroundColor: fade(theme.palette.text.primary, 0.04),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.text.primary, 0.06)\n    },\n    '& input': {\n      color: theme.palette.text.secondary\n    }\n  },\n  searchresult: {\n    color: theme.palette.primary.light,\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  }\n}));\n\nexport interface SearchBarButton {\n  icon: React.ReactNode;\n  props: IconButtonProps;\n  tooltip?: string;\n}\n\ninterface SearchBarProps {\n  initValue: string;\n  placeholder?: string;\n  searching?: boolean;\n  buttons?: SearchBarButton[];\n  extras?: React.ReactNode;\n  suggestions?: string[];\n  onValueChange?: (filterValue: string) => void;\n  onSearch: (filterValue: string, inputElement: HTMLInputElement) => void;\n  onClear: (inputElement: HTMLInputElement) => void;\n}\n\nconst SearchBar: React.FC<SearchBarProps> = ({\n  initValue,\n  children,\n  placeholder,\n  searching = false,\n  suggestions = [],\n  buttons = [],\n  extras,\n  onValueChange,\n  onSearch,\n  onClear\n}) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const classes = useStyles();\n  const element = useRef<HTMLInputElement>();\n  const [value, setValue] = useState<string>(initValue);\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n\n  //\n  const getInputEl = () => {\n    return element.current.querySelector('input');\n  };\n\n  // handler[onchange]: textfield change handler.\n  // track value of filter..\n  const _onValueChange = (_value: string) => {\n    setValue(_value);\n    onValueChange(_value);\n  };\n\n  // When clearing the filter value.\n  const _onValueClear = () => {\n    // textFieldEl.current.querySelector('input').focus();\n    setValue('');\n    onClear(getInputEl());\n  };\n\n  // When requesting a search.\n  const _onSearch = () => {\n    onSearch(value, getInputEl());\n  };\n\n  //\n  useEffect(() => {\n    setValue(initValue);\n  }, [initValue]);\n\n  return (\n    <div ref={element} className={classes.root}>\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        className={classes.searchbar}\n        alignItems=\"center\"\n        style={{ paddingRight: !extras ? theme.spacing(0.5) : null }}\n      >\n        <Box flex={1} display=\"relative\">\n          <SearchTextField\n            value={value}\n            placeholder={placeholder}\n            options={suggestions}\n            disabled={searching}\n            onChange={_onValueChange}\n            onSearch={_onSearch}\n            onClear={_onValueClear}\n          />\n        </Box>\n        <IconButton\n          onClick={_onValueClear}\n          edge=\"end\"\n          size={!upMD ? 'small' : null}\n          style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n        >\n          <Tooltip title={t('clear_filter')}>\n            <BackspaceIcon fontSize={!upMD ? 'small' : 'default'} />\n          </Tooltip>\n        </IconButton>\n        {buttons.length !== 0 && (\n          <Divider\n            orientation=\"vertical\"\n            flexItem\n            style={{ marginLeft: theme.spacing(upMD ? 0 : 0.5), marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n          />\n        )}\n        {buttons.map((b, i) => {\n          return b.tooltip ? (\n            <Tooltip key={`searchbar-button-${i}`} title={b.tooltip}>\n              <IconButton\n                {...b.props}\n                edge=\"end\"\n                size={!upMD ? 'small' : null}\n                style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n              >\n                {b.icon}\n              </IconButton>\n            </Tooltip>\n          ) : (\n            <IconButton\n              key={`searchbar-button-${i}`}\n              {...b.props}\n              edge=\"end\"\n              size={!upMD ? 'small' : null}\n              style={{ marginRight: theme.spacing(upMD ? 1 : 0.5) }}\n            >\n              {b.icon}\n            </IconButton>\n          );\n        })}\n        {extras}\n      </Box>\n      {searching && (\n        <LinearProgress\n          style={{\n            position: 'absolute',\n            height: theme.spacing(upMD ? 0.5 : 0.25),\n            marginTop: theme.spacing(upMD ? -0.5 : -0.25),\n            width: '100%',\n            borderRadius: '0 0 4px 4px'\n          }}\n        />\n      )}\n      <div className={classes.searchresult}>{children}</div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","export default class SimpleSearchQuery {\n  private params: URLSearchParams = null;\n\n  private defaultParams: URLSearchParams = null;\n\n  constructor(baseSearch: string, defaults: string = 'rows=25&offset=0') {\n    this.params = new URLSearchParams(baseSearch);\n    this.defaultParams = new URLSearchParams(defaults);\n  }\n\n  public getDefaultString() {\n    return this.defaultParams.toString();\n  }\n\n  public getDeltaString() {\n    const deltaParams = new URLSearchParams();\n    this.params.forEach((value, key) => {\n      if (this.defaultParams.get(key) !== value) {\n        deltaParams.append(key, value);\n      }\n    });\n    return deltaParams.toString();\n  }\n\n  public getParams() {\n    const output = {};\n    this.defaultParams.forEach((value, key) => {\n      if (!(key in output) && !this.params.has(key)) {\n        if (key !== 'fq') {\n          output[key] = value;\n        } else {\n          output[key] = [value];\n        }\n      } else if (key === 'fq') {\n        output[key].push(value);\n      }\n    });\n\n    this.params.forEach((value, key) => {\n      if (!(key in output)) {\n        if (key !== 'fq') {\n          output[key] = value;\n        } else {\n          output[key] = [value];\n        }\n      } else if (key === 'fq') {\n        output[key].push(value);\n      }\n    });\n    return output;\n  }\n\n  public get(key: string, defaultVal = null) {\n    return this.params.get(key) || defaultVal;\n  }\n\n  public set(key: string, value) {\n    this.params.set(key, value);\n  }\n\n  public getAll(key: string, defaultVal = null) {\n    return this.params.getAll(key) || defaultVal;\n  }\n\n  public delete(key: string) {\n    this.params.delete(key);\n  }\n\n  public has(key: string): boolean {\n    return this.params.has(key);\n  }\n\n  public toString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('group_by');\n    return params.toString();\n  }\n}\n","import { Pagination } from '@material-ui/lab';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport React from 'react';\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport interface SearchPagerProps {\n  total: number;\n  pageSize: number;\n  index: string;\n  method?: 'POST' | 'GET';\n  query: SimpleSearchQuery;\n  setResults: (data: SearchResults) => void;\n  scrollToTop?: boolean;\n  size?: 'small' | 'large' | null;\n  setSearching?: (value: boolean) => void | null;\n  url?: string;\n  [propName: string]: any;\n}\n\nconst WrappedSearchPager: React.FC<SearchPagerProps> = ({\n  total,\n  pageSize,\n  index,\n  method = 'POST',\n  query,\n  setResults,\n  scrollToTop = true,\n  size = 'small',\n  setSearching = null,\n  url = null,\n  children,\n  ...otherProps\n}) => {\n  const apiCall = useMyAPI();\n  const count = Math.ceil(total / pageSize);\n\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\n    if (setSearching) {\n      setSearching(true);\n    }\n    const pageQuery = new SimpleSearchQuery(query.toString(), query.getDefaultString());\n    pageQuery.set('rows', pageSize);\n    pageQuery.set('offset', (value - 1) * pageSize);\n\n    apiCall({\n      method,\n      url: `${url || `/api/v4/search/${index}/`}${method === 'GET' ? `?${pageQuery.toString()}` : ''}`,\n      body: method === 'POST' ? pageQuery.getParams() : null,\n      onSuccess: api_data => {\n        setResults(api_data.api_response);\n        if (scrollToTop) {\n          window.scrollTo(0, 0);\n        }\n      },\n      onFinalize: () => {\n        if (setSearching) {\n          setSearching(false);\n        }\n      }\n    });\n  };\n\n  return count > 1 ? (\n    <Pagination {...otherProps} count={count} onChange={handleChange} shape=\"rounded\" size={size} />\n  ) : null;\n};\n\nconst SearchPager = React.memo(WrappedSearchPager);\nexport default SearchPager;\n","import {\n  createStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableSortLabel,\n  Theme,\n  withStyles\n} from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: '8px',\n      paddingLeft: '8px'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\ntype CellProps = {\n  children?: React.ReactNode;\n  [key: string]: any;\n};\n\nexport const DivTableCell = ({ children, ...other }: CellProps) => {\n  return (\n    <StyledTableCell {...other} component=\"div\">\n      {children}\n    </StyledTableCell>\n  );\n};\n\nDivTableCell.defaultProps = {\n  children: null\n};\n\nexport const SortableHeaderCell = ({ children, sortField, allowSort = true, ...other }) => {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const curSort = searchParams.get('sort');\n  const history = useHistory();\n  const active = curSort && curSort.indexOf(sortField) !== -1;\n  const dir = active && curSort.indexOf('asc') !== -1 ? 'asc' : 'desc';\n\n  const triggerSort = () => {\n    if (curSort && curSort.indexOf(sortField) !== -1 && curSort.indexOf('asc') === -1) {\n      searchParams.set('sort', `${sortField} asc`);\n    } else {\n      searchParams.set('sort', `${sortField} desc`);\n    }\n    history.push(`${location.pathname}?${searchParams.toString()}`);\n  };\n  return (\n    <StyledTableCell {...other} component=\"div\">\n      {allowSort ? (\n        <TableSortLabel active={active} direction={dir} onClick={triggerSort}>\n          {children}\n        </TableSortLabel>\n      ) : (\n        children\n      )}\n    </StyledTableCell>\n  );\n};\n\nexport const LinkRow = ({ children, to, ...other }) => {\n  return (\n    <TableRow component={Link} {...other} to={to} style={{ cursor: 'pointer', textDecoration: 'none' }}>\n      {children}\n    </TableRow>\n  );\n};\n\nexport const DivTableRow = ({ children, ...other }) => {\n  return (\n    <TableRow {...other} component=\"div\">\n      {children}\n    </TableRow>\n  );\n};\n\nexport const DivTableHead = ({ children, ...other }) => {\n  return (\n    <TableHead {...other} component=\"div\">\n      {children}\n    </TableHead>\n  );\n};\n\nexport const DivTableBody = ({ children, ...other }) => {\n  return (\n    <TableBody {...other} component=\"div\">\n      {children}\n    </TableBody>\n  );\n};\n\nexport const DivTable = ({ children, size = 'small' as 'small', ...other }) => {\n  return (\n    <Table size={size} {...other} component=\"div\">\n      {children}\n    </Table>\n  );\n};\n","import { createStyles, fade, Theme, withStyles } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React from 'react';\n\nconst StyledAlert = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginbottom: theme.spacing(2),\n      marginTop: theme.spacing(4),\n      color: theme.palette.text.secondary,\n      backgroundColor: fade(theme.palette.text.primary, 0.04)\n    },\n    icon: {\n      color: `${theme.palette.text.secondary} !important`\n    },\n    message: {\n      width: '100%',\n      textAlign: 'left'\n    }\n  })\n)(Alert);\n\nconst InformativeAlert = ({ children, ...props }) => {\n  return (\n    <StyledAlert {...props} severity=\"info\">\n      {children}\n    </StyledAlert>\n  );\n};\n\nexport default InformativeAlert;\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport PanToolOutlinedIcon from '@material-ui/icons/PanToolOutlined';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  SortableHeaderCell\n} from 'components/visual/DivTable';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ErrorResult = {\n  created: string;\n  id: string;\n  response: {\n    message: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    status: string;\n  };\n  sha256: string;\n  type: string;\n};\n\ntype SearchResults = {\n  items: ErrorResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype ErrorsTableProps = {\n  errorResults: SearchResults;\n  onClick: (error: ErrorResult) => void;\n};\n\nconst WrappedErrorsTable: React.FC<ErrorsTableProps> = ({ errorResults, onClick }) => {\n  const { t, i18n } = useTranslation(['adminErrorViewer']);\n  const theme = useTheme();\n\n  const errorMap = {\n    'MAX DEPTH REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX RETRY REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    EXCEPTION: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'TASK PRE-EMPTED': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE DOWN': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE BUSY': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX FILES REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    UNKNOWN: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />\n  };\n\n  return errorResults ? (\n    errorResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable size=\"small\">\n          <DivTableHead>\n            <DivTableRow style={{ whiteSpace: 'nowrap' }}>\n              <SortableHeaderCell sortField=\"created\">{t('header.time')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"response.service_name\">{t('header.service')}</SortableHeaderCell>\n              <DivTableCell>{t('header.message')}</DivTableCell>\n              <SortableHeaderCell sortField=\"type\">{t('header.type')}</SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {errorResults.items.map(error => (\n              <DivTableRow key={error.id} hover onClick={() => onClick(error)} style={{ cursor: 'pointer' }}>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  <Tooltip title={error.created}>\n                    <Moment fromNow locale={i18n.language}>\n                      {error.created}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{error.response.service_name}</DivTableCell>\n                <DivTableCell>{error.response.message}</DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  <Tooltip title={t(`type.${error.type}`)}>\n                    <span>{errorMap[error.type]}</span>\n                  </Tooltip>\n                </DivTableCell>\n              </DivTableRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_errors_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ErrorsTable = React.memo(WrappedErrorsTable);\nexport default ErrorsTable;\n","import { Card, Grid, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport CancelOutlinedIcon from '@material-ui/icons/CancelOutlined';\nimport PanToolOutlinedIcon from '@material-ui/icons/PanToolOutlined';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport useClipboard from 'commons/components/hooks/useClipboard';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport ErrorsTable from 'components/visual/SearchResult/errors';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BsClipboard } from 'react-icons/bs';\nimport Moment from 'react-moment';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  clipboardIcon: {\n    marginLeft: theme.spacing(1),\n    '&:hover': {\n      cursor: 'pointer',\n      transform: 'scale(1.1)'\n    }\n  }\n}));\n\nfunction ErrorDetail({ error }) {\n  const { t, i18n } = useTranslation(['adminErrorViewer']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const { copy } = useClipboard();\n\n  const errorMap = {\n    'MAX DEPTH REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX RETRY REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    EXCEPTION: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'TASK PRE-EMPTED': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE DOWN': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'SERVICE BUSY': <CancelOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    'MAX FILES REACHED': <PanToolOutlinedIcon style={{ color: theme.palette.action.active }} />,\n    UNKNOWN: <ReportProblemOutlinedIcon style={{ color: theme.palette.action.active }} />\n  };\n\n  return (\n    <div style={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n      <Grid container spacing={1} style={{ paddingBottom: theme.spacing(1) }}>\n        <Grid item xs={6} sm={8}>\n          <Typography variant=\"h5\">{error.response.service_name}</Typography>\n          <Typography variant=\"caption\">\n            {`${error.response.service_version}${\n              error.response.service_tool_version && ` (${error.response.service_tool_version})`\n            }`}\n          </Typography>\n        </Grid>\n        <Grid item xs={6} sm={4}>\n          <div style={{ display: 'inline-block', textAlign: 'start' }}>\n            <Typography component=\"div\" variant=\"body1\">\n              <Moment fromNow locale={i18n.language}>\n                {error.created}\n              </Moment>\n            </Typography>\n            <Typography component=\"div\" variant=\"caption\">\n              <Moment format=\"YYYY-MM-DD HH:mm:ss\">{error.created}</Moment>\n            </Typography>\n          </div>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={1} style={{ paddingBottom: theme.spacing(1) }}>\n        <Grid item xs={6} sm={8}>\n          <span style={{ verticalAlign: 'middle' }}>{errorMap[error.type]}&nbsp;</span>\n          <span style={{ verticalAlign: 'middle' }}>{t(`type.${error.type}`)}</span>\n        </Grid>\n        <Grid item xs={6} sm={4} style={{ alignSelf: 'center' }}>\n          <span style={{ verticalAlign: 'middle' }}>{t(`fail.${error.response.status}`)}</span>\n        </Grid>\n      </Grid>\n\n      <div style={{ marginBottom: theme.spacing(1) }}>\n        <label>{t('message')}</label>\n        <Card variant=\"outlined\">\n          <pre\n            style={{\n              paddingLeft: theme.spacing(1),\n              paddingRight: theme.spacing(1),\n              whiteSpace: 'pre-wrap',\n              minHeight: '10rem'\n            }}\n          >\n            {error.response.message}\n          </pre>\n        </Card>\n      </div>\n\n      {error.response.service_debug_info && (\n        <div style={{ marginBottom: theme.spacing(1) }}>\n          <label>{t('debug_info')}</label>\n          <Card variant=\"outlined\">\n            <pre\n              style={{\n                paddingLeft: theme.spacing(1),\n                paddingRight: theme.spacing(1),\n                whiteSpace: 'pre-wrap'\n              }}\n            >\n              {error.response.service_debug_info}\n            </pre>\n          </Card>\n        </div>\n      )}\n\n      <div style={{ marginBottom: theme.spacing(1) }}>\n        <label>{t('file_info')}</label>\n        <div style={{ wordBreak: 'break-all' }}>\n          {error.sha256}\n          <BsClipboard className={classes.clipboardIcon} onClick={() => copy(error.sha256, 'drawerTop')} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ErrorViewer() {\n  const { t } = useTranslation(['adminErrorViewer']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const [errorResults, setErrorResults] = useState(null);\n  const classes = useStyles();\n  const history = useHistory();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n  const [suggestions, setSuggestions] = useState(DEFAULT_SUGGESTION);\n  const location = useLocation();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const filterValue = useRef<string>('');\n  const { setGlobalDrawer } = useDrawer();\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query && currentUser.is_admin) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        url: `/api/v4/error/list/?${query.toString()}`,\n        onSuccess: api_data => {\n          setErrorResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    apiCall({\n      url: '/api/v4/search/fields/error/',\n      onSuccess: api_data => {\n        setSuggestions([\n          ...Object.keys(api_data.api_response).filter(name => {\n            return api_data.api_response[name].indexed;\n          }),\n          ...DEFAULT_SUGGESTION\n        ]);\n      }\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setError = useCallback(\n    error => {\n      setGlobalDrawer(<ErrorDetail error={error} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <ReportProblemOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('exception'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:EXCEPTION OR type:UNKNOWN');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <CancelOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('canceled'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:SERVICE* OR type:TASK*');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <PanToolOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('maxed'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:MAX*');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {errorResults !== null && (\n              <div className={classes.searchresult}>\n                {errorResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {errorResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${errorResults.total === 1 ? '' : 's'}`)\n                          : t(`total${errorResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  method=\"GET\"\n                  url=\"/api/v4/error/list/\"\n                  total={errorResults.total}\n                  setResults={setErrorResults}\n                  pageSize={pageSize}\n                  index=\"user\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <ErrorsTable errorResults={errorResults} onClick={setError} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import React from 'react';\n\ntype EmptyProps = {\n  [string: string]: any;\n};\n\nfunction Empty(props: EmptyProps) {\n  return <div />;\n}\n\nexport default Empty;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  Radio,\n  RadioGroup,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Container, Volume } from '../service_detail';\n\ntype EnvironmentVar = {\n  name: string;\n  value: string;\n};\n\ntype EnvironmentProps = {\n  envVar?: EnvironmentVar;\n  onAdd?: (envVar: EnvironmentVar) => void;\n  onUpdate?: (envVar: EnvironmentVar) => void;\n  onDelete?: (envVar: EnvironmentVar) => void;\n};\n\nconst DEFAULT_ENV = { name: '', value: '' };\n\nconst WrappedEnvironment = ({ envVar, onAdd, onUpdate, onDelete }: EnvironmentProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempEnvVar, setTempEnvVar] = useState(DEFAULT_ENV);\n  const theme = useTheme();\n\n  const handleValueUpdate = event => {\n    onUpdate({ ...envVar, value: event.target.value });\n  };\n\n  const addEnvironment = () => {\n    onAdd(tempEnvVar);\n    setTempEnvVar(DEFAULT_ENV);\n  };\n\n  const handleNameChange = event => {\n    setTempEnvVar({ ...tempEnvVar, name: event.target.value });\n  };\n\n  const handleValueChange = event => {\n    setTempEnvVar({ ...tempEnvVar, value: event.target.value });\n  };\n\n  return envVar ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${envVar.name} :`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={envVar.value}\n          onChange={handleValueUpdate}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(envVar)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.environment.name')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleNameChange}\n          value={tempEnvVar.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.environment.value')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempEnvVar.value}\n          onChange={handleValueChange}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempEnvVar.name !== '' && tempEnvVar.value !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addEnvironment}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedEnvironment.defaultProps = {\n  envVar: null,\n  // eslint-disable-next-line no-console\n  onAdd: envVar => console.log('ADD', envVar),\n  // eslint-disable-next-line no-console\n  onUpdate: envVar => console.log('UPDATE', envVar),\n  // eslint-disable-next-line no-console\n  onDelete: envVar => console.log('DELETE', envVar)\n};\n\nconst Environment = React.memo(WrappedEnvironment);\n\ntype VolumeControlProps = {\n  name?: string;\n  vol?: Volume;\n  onAdd?: (name: string, vol: Volume) => void;\n  onDelete?: (name: string) => void;\n};\n\nconst DEFAULT_VOL = {\n  capacity: '',\n  mount_path: '',\n  storage_class: ''\n};\n\nconst WrappedVolumeControl = ({ name, vol, onAdd, onDelete }: VolumeControlProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempVol, setTempVol] = useState(DEFAULT_VOL);\n  const [tempName, setTempName] = useState('');\n  const theme = useTheme();\n\n  const addVolume = () => {\n    onAdd(tempName, tempVol);\n    setTempVol(DEFAULT_VOL);\n    setTempName('');\n  };\n\n  const handleNameChange = event => {\n    setTempName(event.target.value);\n  };\n\n  const handleValueChange = (field, value) => {\n    setTempVol({ ...tempVol, [field]: value });\n  };\n\n  return name && vol ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${name} :`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        {`${vol.mount_path} (${vol.capacity})`}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(name)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.name')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleNameChange}\n          value={tempName}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.mount_path')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.mount_path}\n          onChange={event => handleValueChange('mount_path', event.target.value)}\n          style={{ margin: 0 }}\n        />\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.capacity')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.capacity}\n          onChange={event => handleValueChange('capacity', event.target.value)}\n          style={{ margin: 0 }}\n        />\n        <TextField\n          fullWidth\n          placeholder={t('container.dialog.volumes.storage_class')}\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          value={tempVol.storage_class}\n          onChange={event => handleValueChange('storage_class', event.target.value)}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempName !== '' && tempVol.capacity !== '' && tempVol.mount_path !== '' && tempVol.storage_class !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addVolume}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedVolumeControl.defaultProps = {\n  name: null,\n  vol: null,\n  // eslint-disable-next-line no-console\n  onAdd: (name, vol) => console.log('ADD', name, vol),\n  // eslint-disable-next-line no-console\n  onDelete: name => console.log('DELETE', name)\n};\n\nconst VolumeControl = React.memo(WrappedVolumeControl);\n\nconst DEFAULT_CONTAINER: Container = {\n  allow_internet_access: false,\n  command: null,\n  cpu_cores: 1,\n  environment: [],\n  image: '',\n  ports: [],\n  ram_mb: 512,\n  ram_mb_min: 128,\n  registry_password: '',\n  registry_username: ''\n};\n\ntype ContainerDialogProps = {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n  container?: Container;\n  name?: string;\n  volumes?: { [name: string]: Volume };\n  onSave: (newContainer: Container, name?: string, newVolumes?: { [name: string]: Volume }) => void;\n};\n\nconst WrappedContainerDialog = ({ open, setOpen, container, name, volumes, onSave }: ContainerDialogProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [modified, setModified] = useState(false);\n  const [tempContainer, setTempContainer] = useState(container || DEFAULT_CONTAINER);\n  const [tempName, setTempName] = useState(name);\n  const [tempVolumes, setTempVolumes] = useState(volumes);\n  const theme = useTheme();\n\n  const handleSave = () => {\n    setModified(false);\n    setOpen(false);\n    onSave(tempContainer, tempName, tempVolumes);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setModified(false);\n    setTempContainer(container || DEFAULT_CONTAINER);\n    setTempName(name);\n    setTempVolumes(volumes);\n  };\n\n  const handleInternetToggle = () => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, allow_internet_access: !tempContainer.allow_internet_access });\n  };\n\n  const handleContainerValueChange = (field, value) => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, [field]: value });\n  };\n\n  const handleContainerCommandChange = event => {\n    setModified(true);\n    setTempContainer({ ...tempContainer, command: event.target.value.split(' ') });\n  };\n\n  const handleEnvAddUpdate = newEnv => {\n    const newEnvironment = [...tempContainer.environment];\n    let index = -1;\n    newEnvironment.forEach((element, i) => {\n      if (element.name === newEnv.name) {\n        index = i;\n      }\n    });\n\n    if (index === -1) {\n      newEnvironment.push(newEnv);\n    } else {\n      newEnvironment[index] = newEnv;\n    }\n\n    setModified(true);\n    setTempContainer({ ...tempContainer, environment: newEnvironment });\n  };\n\n  const handleEnvDelete = delEnv => {\n    const newEnvironment = [...tempContainer.environment];\n    let index = -1;\n    newEnvironment.forEach((element, i) => {\n      if (element.name === delEnv.name) {\n        index = i;\n      }\n    });\n    if (index !== -1) {\n      newEnvironment.splice(index, 1);\n      setModified(true);\n      setTempContainer({ ...tempContainer, environment: newEnvironment });\n    }\n  };\n\n  const handleVolAdd = (vol_name, vol) => {\n    setModified(true);\n    setTempVolumes({ ...tempVolumes, [vol_name]: vol });\n  };\n  const handleVolDelete = vol_name => {\n    const newVolumes = { ...tempVolumes };\n    delete newVolumes[vol_name];\n\n    setModified(true);\n    setTempVolumes(newVolumes);\n  };\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n        <DialogTitle id=\"form-dialog-title\">\n          {t(`container.dialog.title.${name === null ? 'container' : 'dependency'}`)}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2}>\n            {name !== null && (\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle2\">{t('container.dialog.name')}</Typography>\n                <TextField\n                  fullWidth\n                  size=\"small\"\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  onChange={event => setTempName(event.target.value)}\n                  value={tempName}\n                />\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.image')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('image', event.target.value)}\n                value={tempContainer.image}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.cpu')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('cpu_cores', event.target.value)}\n                value={tempContainer.cpu_cores}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.ram')}</Typography>\n              <Grid container spacing={1}>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    size=\"small\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={event => handleContainerValueChange('ram_mb_min', event.target.value)}\n                    value={tempContainer.ram_mb_min}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    fullWidth\n                    type=\"number\"\n                    size=\"small\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    onChange={event => handleContainerValueChange('ram_mb', event.target.value)}\n                    value={tempContainer.ram_mb}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.registry_username')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('registry_username', event.target.value)}\n                value={tempContainer.registry_username}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.registry_password')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => handleContainerValueChange('registry_password', event.target.value)}\n                value={tempContainer.registry_password}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.command')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleContainerCommandChange}\n                value={tempContainer.command ? tempContainer.command.join(' ') : ''}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.allow_internet')}</Typography>\n              <RadioGroup value={tempContainer.allow_internet_access} onChange={handleInternetToggle}>\n                <FormControlLabel value control={<Radio />} label={t('container.dialog.allow_internet.yes')} />\n                <FormControlLabel value={false} control={<Radio />} label={t('container.dialog.allow_internet.no')} />\n              </RadioGroup>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle2\">{t('container.dialog.environment')}</Typography>\n              {tempContainer.environment.map((env, i) => {\n                return <Environment key={i} envVar={env} onUpdate={handleEnvAddUpdate} onDelete={handleEnvDelete} />;\n              })}\n            </Grid>\n            <Grid item xs={12}>\n              <Environment onAdd={handleEnvAddUpdate} />\n            </Grid>\n            {name !== null && (\n              <>\n                <Grid item xs={12}>\n                  <Typography variant=\"subtitle2\">{t('container.dialog.volumes')}</Typography>\n                  {Object.keys(tempVolumes).map(vol_name => {\n                    return (\n                      <VolumeControl\n                        key={vol_name}\n                        name={vol_name}\n                        vol={tempVolumes[vol_name]}\n                        onDelete={handleVolDelete}\n                      />\n                    );\n                  })}\n                </Grid>\n\n                <Grid item xs={12}>\n                  <VolumeControl onAdd={handleVolAdd} />\n                </Grid>\n              </>\n            )}\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"secondary\">\n            {t('container.dialog.cancelText')}\n          </Button>\n          <Button onClick={handleSave} color=\"primary\" disabled={!modified || tempContainer.image === ''}>\n            {t('container.dialog.acceptText')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nWrappedContainerDialog.defaultProps = {\n  container: null,\n  name: null,\n  volumes: null\n};\n\nconst ContainerDialog = React.memo(WrappedContainerDialog);\nexport default ContainerDialog;\n","import { Card, Grid, makeStyles, Tooltip, useTheme } from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CgSmartphoneChip, CgSmartphoneRam } from 'react-icons/cg';\nimport { Container, Volume } from '../service_detail';\nimport ContainerDialog from './container_dialog';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    padding: '8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#ffffff10' : '#00000005',\n      cursor: 'pointer'\n    }\n  },\n  card_title: {\n    fontSize: 'large',\n    fontFamily: 'monospace'\n  },\n  label: {\n    fontWeight: 500\n  },\n  mono: {\n    fontSize: 'larger',\n    fontFamily: 'monospace'\n  }\n}));\n\ntype ContainerCardProps = {\n  container: Container;\n  name?: string;\n  volumes?: { [name: string]: Volume };\n  onChange: (newContainer: Container, name?: string, newVolumes?: { [name: string]: Volume }) => void;\n};\n\nconst WrappedContainerCard = ({ container, name, volumes, onChange }: ContainerCardProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const theme = useTheme();\n  const classes = useStyles();\n  const yesColor = theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark;\n  const noColor = theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark;\n\n  const handleContainerChange = (tempContainer, tempName, tempVolumes) => {\n    onChange(tempContainer, tempName, tempVolumes);\n  };\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <ContainerDialog\n        open={dialog}\n        setOpen={setDialog}\n        name={name}\n        container={container}\n        volumes={volumes}\n        onSave={handleContainerChange}\n      />\n      <Card className={classes.card} onClick={() => setDialog(true)}>\n        <Grid container>\n          {name && (\n            <Grid item xs={12} className={classes.card_title} style={{ fontWeight: 700 }}>\n              {name}\n            </Grid>\n          )}\n          <Grid item xs={12} className={classes.card_title}>\n            {container.image}\n          </Grid>\n          {container.registry_password && container.registry_username && (\n            <Grid item xs={12}>\n              <i>{t('container.card.creds')}</i>\n            </Grid>\n          )}\n          <Grid item xs={12} style={{ paddingTop: theme.spacing(1), paddingBottom: theme.spacing(1) }}>\n            <Tooltip title={t('container.card.cpu')}>\n              <div style={{ display: 'inline-block', paddingRight: theme.spacing(4) }}>\n                <CgSmartphoneChip size={24} style={{ verticalAlign: 'middle' }} />\n                <span style={{ paddingLeft: theme.spacing(1), verticalAlign: 'middle' }}>{container.cpu_cores}</span>\n              </div>\n            </Tooltip>\n            <Tooltip title={t('container.card.ram')}>\n              <div style={{ display: 'inline-block' }}>\n                <CgSmartphoneRam size={24} style={{ verticalAlign: 'middle' }} />\n                <span style={{ paddingLeft: theme.spacing(1), verticalAlign: 'middle' }}>{container.ram_mb}</span>\n              </div>\n            </Tooltip>\n          </Grid>\n          {container.command && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('container.card.command')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {container.command.join(' ')}\n              </Grid>\n            </>\n          )}\n          <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('container.card.internet')}:`}</Grid>\n          <Grid\n            item\n            xs={7}\n            sm={8}\n            md={10}\n            className={classes.mono}\n            style={{ color: container.allow_internet_access ? yesColor : noColor }}\n          >\n            {container.allow_internet_access ? t('container.card.yes') : t('container.card.no')}\n          </Grid>\n          {container.environment && container.environment.length !== 0 && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{`${t('container.card.env')}:`}&nbsp;</div>\n              {container.environment.map((env, id) => {\n                return (\n                  <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                    {`${env.name} = ${env.value}`}\n                  </div>\n                );\n              })}\n            </Grid>\n          )}\n          {volumes && Object.keys(volumes).length !== 0 && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{`${t('container.card.volumes')}:`}&nbsp;</div>\n              {Object.keys(volumes).map((vol, id) => {\n                return (\n                  <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                    {`${vol} = ${volumes[vol].mount_path} (${volumes[vol].capacity})`}\n                  </div>\n                );\n              })}\n            </Grid>\n          )}\n        </Grid>\n      </Card>\n    </div>\n  );\n};\n\nWrappedContainerCard.defaultProps = {\n  name: null,\n  volumes: null\n};\n\nconst ContainerCard = React.memo(WrappedContainerCard);\nexport default ContainerCard;\n","import { Button, Grid, IconButton, MenuItem, Select, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport ContainerCard from './container_card';\nimport ContainerDialog from './container_dialog';\n\ntype ServiceContainerProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceContainer = ({ service, setService, setModified }: ServiceContainerProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const theme = useTheme();\n\n  const handleChannelChange = event => {\n    setModified(true);\n    setService({ ...service, update_channel: event.target.value });\n  };\n\n  const onDependencyDelete = name => {\n    const depList = { ...service.dependencies };\n    delete depList[name];\n    setModified(true);\n    setService({ ...service, dependencies: depList });\n  };\n\n  const handleContainerImageChange = newContainer => {\n    setModified(true);\n    setService({ ...service, docker_config: newContainer });\n  };\n\n  const handleDependencyChange = (newDep, name, newVolumes) => {\n    const depList = { ...service.dependencies };\n    depList[name] = { container: newDep, volumes: newVolumes };\n    setModified(true);\n    setService({ ...service, dependencies: depList });\n  };\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('container')}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.channel')}</Typography>\n        {service ? (\n          <Select\n            id=\"channel\"\n            fullWidth\n            value={service.update_channel}\n            onChange={handleChannelChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n            style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n          >\n            <MenuItem value=\"stable\">{t('container.channel.stable')}</MenuItem>\n            {/* <MenuItem value=\"rc\">{t('container.channel.rc')}</MenuItem> */}\n            {/* <MenuItem value=\"beta\">{t('container.channel.beta')}</MenuItem> */}\n            <MenuItem value=\"dev\">{t('container.channel.dev')}</MenuItem>\n          </Select>\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.image')}</Typography>\n        {service ? (\n          <ContainerCard container={service.docker_config} onChange={handleContainerImageChange} />\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('container.dependencies')}</Typography>\n        {service ? (\n          Object.keys(service.dependencies).length !== 0 ? (\n            Object.keys(service.dependencies).map(name => {\n              return (\n                <div key={name} style={{ display: 'flex', alignItems: 'center' }}>\n                  <div style={{ paddingRight: theme.spacing(1), flexGrow: 1 }}>\n                    <ContainerCard\n                      name={name}\n                      container={service.dependencies[name].container}\n                      volumes={service.dependencies[name].volumes}\n                      onChange={handleDependencyChange}\n                    />\n                  </div>\n                  <div>\n                    <Tooltip title={t('container.dependencies.remove')}>\n                      <IconButton\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                        onClick={() => onDependencyDelete(name)}\n                      >\n                        <RemoveCircleOutlineOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </div>\n                </div>\n              );\n            })\n          ) : (\n            <Typography color=\"textSecondary\" variant=\"caption\" component=\"div\">\n              {t('container.dependencies.none')}\n            </Typography>\n          )\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <ContainerDialog open={dialog} setOpen={setDialog} name=\"\" volumes={{}} onSave={handleDependencyChange} />\n        <Button variant=\"contained\" color=\"primary\" onClick={() => setDialog(true)}>\n          {t('container.dependencies.add')}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ServiceContainer;\n","import {\n  FormControlLabel,\n  Grid,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceConstants, ServiceDetail } from '../service_detail';\n\ntype ServiceGeneralProps = {\n  service: ServiceDetail;\n  constants: ServiceConstants;\n  versions: string[];\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceGeneral = ({ service, constants, versions, setService, setModified }: ServiceGeneralProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n\n  const handleDescriptionChange = event => {\n    setModified(true);\n    setService({ ...service, description: event.target.value });\n  };\n\n  const handleVersionChange = event => {\n    setModified(true);\n    setService({ ...service, version: event.target.value });\n  };\n\n  const handleStageChange = event => {\n    setModified(true);\n    setService({ ...service, stage: event.target.value });\n  };\n\n  const handleCategoryChange = event => {\n    setModified(true);\n    setService({ ...service, category: event.target.value });\n  };\n\n  const handleAcceptChange = event => {\n    setModified(true);\n    setService({ ...service, accepts: event.target.value });\n  };\n\n  const handleRejectChange = event => {\n    setModified(true);\n    setService({ ...service, rejects: event.target.value });\n  };\n\n  const handleTimeoutChange = event => {\n    setModified(true);\n    setService({ ...service, timeout: event.target.value });\n  };\n\n  const handleLicenceChange = event => {\n    setModified(true);\n    setService({ ...service, licence_count: event.target.value });\n  };\n\n  const handleExternalToggle = () => {\n    setModified(true);\n    setService({ ...service, is_external: !service.is_external });\n  };\n\n  const handleCacheToggle = () => {\n    setModified(true);\n    setService({ ...service, disable_cache: !service.disable_cache });\n  };\n\n  const setClassification = default_result_classification => {\n    setModified(true);\n    setService({ ...service, default_result_classification });\n  };\n\n  return (\n    <div>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.name')}</Typography>\n          {service ? (\n            <TextField fullWidth size=\"small\" margin=\"dense\" variant=\"outlined\" disabled value={service.name} />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.version')}</Typography>\n          {service ? (\n            <Select\n              id=\"version\"\n              fullWidth\n              value={service.version}\n              onChange={handleVersionChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {versions ? (\n                versions.map((v, i) => {\n                  return (\n                    <MenuItem key={i} value={v}>\n                      {v}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.version}>{service.version}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        {c12nDef.enforce && (\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('general.classification')}</Typography>\n            <Classification\n              type=\"picker\"\n              c12n={service ? service.default_result_classification : null}\n              setClassification={setClassification}\n            />\n          </Grid>\n        )}\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('general.description')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              multiline\n              rows={6}\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleDescriptionChange}\n              value={service.description}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.stage')}</Typography>\n          {service ? (\n            <Select\n              id=\"stage\"\n              fullWidth\n              value={service.stage}\n              onChange={handleStageChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {constants ? (\n                constants.stages.map((s, i) => {\n                  return (\n                    <MenuItem key={i} value={s}>\n                      {s}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.stage}>{service.stage}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.category')}</Typography>\n          {service ? (\n            <Select\n              id=\"category\"\n              fullWidth\n              value={service.category}\n              onChange={handleCategoryChange}\n              variant=\"outlined\"\n              margin=\"dense\"\n              style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n            >\n              {constants ? (\n                constants.categories.map((c, i) => {\n                  return (\n                    <MenuItem key={i} value={c}>\n                      {c}\n                    </MenuItem>\n                  );\n                })\n              ) : (\n                <MenuItem value={service.category}>{service.category}</MenuItem>\n              )}\n            </Select>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.accept')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleAcceptChange}\n              value={service.accepts}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.reject')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleRejectChange}\n              value={service.rejects}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.timeout')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleTimeoutChange}\n              value={service.timeout}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.licence')}</Typography>\n          {service ? (\n            <TextField\n              fullWidth\n              type=\"number\"\n              size=\"small\"\n              margin=\"dense\"\n              variant=\"outlined\"\n              onChange={handleLicenceChange}\n              value={service.licence_count}\n            />\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.location')}</Typography>\n          {service ? (\n            <RadioGroup value={service.is_external} onChange={handleExternalToggle}>\n              <FormControlLabel value control={<Radio />} label={t('general.location.external')} />\n              <FormControlLabel value={false} control={<Radio />} label={t('general.location.internal')} />\n            </RadioGroup>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"subtitle2\">{t('general.caching')}</Typography>\n          {service ? (\n            <RadioGroup value={service.disable_cache} onChange={handleCacheToggle}>\n              <FormControlLabel value={false} control={<Radio />} label={t('general.caching.enabled')} />\n              <FormControlLabel value control={<Radio />} label={t('general.caching.disabled')} />\n            </RadioGroup>\n          ) : (\n            <Skeleton style={{ height: '2.5rem' }} />\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ServiceGeneral;\n","import { Grid, IconButton, MenuItem, Select, TextField, Tooltip, useTheme } from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactJson from 'react-json-view';\n\ntype ServiceConfig = {\n  name: string;\n  value: any;\n};\n\ntype ExtendedServiceConfig = {\n  name: string;\n  type: 'bool' | 'int' | 'list' | 'str' | 'json';\n  value: any;\n};\n\ntype MultiTypeConfigProps = {\n  config?: ServiceConfig;\n  onAdd?: (config: ServiceConfig) => void;\n  onUpdate?: (config: ServiceConfig) => void;\n  onDelete?: (config: ServiceConfig) => void;\n};\n\nconst DEFAULT_CONFIG: ExtendedServiceConfig = {\n  name: '',\n  type: 'bool',\n  value: 'false'\n};\n\nconst WrappedMultiTypeConfig = ({ config, onAdd, onUpdate, onDelete }: MultiTypeConfigProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempConfig, setTempConfig] = useState(DEFAULT_CONFIG);\n  const theme = useTheme();\n\n  const jsonTheme = {\n    base00: 'transparent', // Background\n    base01: '#f1f1f1', // Edit key text\n    base02: theme.palette.type === 'dark' ? theme.palette.text.hint : theme.palette.divider, // Borders and DataType Background\n    base03: '#444', // Unused\n    base04: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 400], // Object size and Add key border\n    base05: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 700], // Undefined and Add key background\n    base06: '#444', // Unused\n    base07: theme.palette.text.primary, // Brace, Key and Borders\n    base08: theme.palette.text.secondary, // NaN\n    base09: theme.palette.type === 'dark' ? theme.palette.warning.light : theme.palette.warning.dark, // Strings and Icons\n    base0A: '#333', // Null, Regex and edit color\n    base0B: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark, // Float\n    base0C: theme.palette.type === 'dark' ? theme.palette.secondary.light : theme.palette.secondary.dark, // Array Key\n    base0D: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Date, function, expand icon\n    base0E: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Boolean\n    base0F: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark // Integer\n  };\n\n  const detectConfigType = (cfg: ServiceConfig): ExtendedServiceConfig => {\n    if (typeof cfg.value === 'number') {\n      return { ...cfg, type: 'int' };\n    }\n\n    if (typeof cfg.value === 'object') {\n      if (Array.isArray(cfg.value)) {\n        return { ...cfg, type: 'list', value: cfg.value.toString() };\n      }\n      return { ...cfg, type: 'json' };\n    }\n\n    if (typeof cfg.value === 'boolean') {\n      return { ...cfg, type: 'bool' };\n    }\n    return { ...cfg, type: 'str' };\n  };\n\n  const parsedConfig = config ? detectConfigType(config) : null;\n\n  const handleConfigUpdate = event => {\n    const { value } = event.target;\n    if (parsedConfig.type === 'bool') {\n      onUpdate({ ...parsedConfig, value: value === 'true' });\n    } else if (parsedConfig.type === 'list') {\n      onUpdate({ ...parsedConfig, value: value.split(',') });\n    } else if (parsedConfig.type === 'str') {\n      onUpdate({ ...parsedConfig, value });\n    } else if (parsedConfig.type === 'int') {\n      onUpdate({ ...parsedConfig, value: parseInt(value) || 0 });\n    }\n  };\n\n  const handleConfigUpdateJSON = data => {\n    const { updated_src: value } = data;\n    onUpdate({ ...parsedConfig, value });\n  };\n\n  const addConfig = () => {\n    if (tempConfig.type === 'bool') {\n      onAdd({ ...tempConfig, value: tempConfig.value === 'true' });\n    } else if (tempConfig.type === 'list') {\n      onAdd({ ...tempConfig, value: tempConfig.value.split(',') });\n    } else if (tempConfig.type === 'str') {\n      onAdd({ ...tempConfig, value: tempConfig.value });\n    } else if (tempConfig.type === 'int') {\n      onAdd({ ...tempConfig, value: parseInt(tempConfig.value) || 0 });\n    } else {\n      onAdd({ ...tempConfig, value: tempConfig.value });\n    }\n    setTempConfig(DEFAULT_CONFIG);\n  };\n\n  const handleConfigNameChange = event => {\n    setTempConfig({ ...tempConfig, name: event.target.value });\n  };\n\n  const handleConfigTypeChange = event => {\n    const type = event.target.value;\n    setTempConfig({\n      ...tempConfig,\n      type,\n      value: type === 'int' ? '1' : type === 'bool' ? 'false' : type === 'json' ? {} : ''\n    });\n  };\n\n  const handleConfigChange = event => {\n    setTempConfig({ ...tempConfig, value: event.target.value });\n  };\n\n  const handleConfigChangeJSON = data => {\n    const { updated_src: value } = data;\n    setTempConfig({ ...tempConfig, value });\n  };\n\n  return config ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${parsedConfig.name} [${parsedConfig.type}]:`}\n      </Grid>\n      <Grid item xs={10} sm={8}>\n        {parsedConfig.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={parsedConfig.value}\n            onChange={handleConfigUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : parsedConfig.type === 'json' ? (\n          <ReactJson\n            name={false}\n            src={parsedConfig.value}\n            theme={jsonTheme}\n            enableClipboard={false}\n            groupArraysAfterLength={10}\n            displayDataTypes={false}\n            displayObjectSize={false}\n            onAdd={handleConfigUpdateJSON}\n            onDelete={handleConfigUpdateJSON}\n            onEdit={handleConfigUpdateJSON}\n            style={{\n              border: `1px solid ${theme.palette.divider}`,\n              borderRadius: '4px',\n              fontSize: '1rem',\n              minHeight: theme.spacing(5),\n              padding: '4px'\n            }}\n          />\n        ) : (\n          <TextField\n            fullWidth\n            type={parsedConfig.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={parsedConfig.value}\n            onChange={handleConfigUpdate}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(parsedConfig)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleConfigNameChange}\n          value={tempConfig.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={2}>\n        <Select\n          id=\"user_spec_params\"\n          fullWidth\n          value={tempConfig.type}\n          onChange={handleConfigTypeChange}\n          variant=\"outlined\"\n          margin=\"dense\"\n        >\n          <MenuItem value=\"bool\">bool</MenuItem>\n          <MenuItem value=\"int\">int</MenuItem>\n          <MenuItem value=\"json\">json</MenuItem>\n          <MenuItem value=\"list\">list ({t('params.comma')})</MenuItem>\n          <MenuItem value=\"str\">str</MenuItem>\n        </Select>\n      </Grid>\n      <Grid item xs={10} sm={6}>\n        {tempConfig.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempConfig.value}\n            onChange={handleConfigChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : tempConfig.type === 'json' ? (\n          <ReactJson\n            name={false}\n            src={tempConfig.value}\n            theme={jsonTheme}\n            enableClipboard={false}\n            groupArraysAfterLength={10}\n            displayDataTypes={false}\n            displayObjectSize={false}\n            onAdd={handleConfigChangeJSON}\n            onDelete={handleConfigUpdateJSON}\n            onEdit={handleConfigChangeJSON}\n            style={{\n              border: `1px solid ${theme.palette.divider}`,\n              borderRadius: '4px',\n              fontSize: '1rem',\n              minHeight: theme.spacing(5),\n              padding: '4px'\n            }}\n          />\n        ) : (\n          <TextField\n            fullWidth\n            type={tempConfig.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempConfig.value}\n            onChange={handleConfigChange}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempConfig.name !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addConfig}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedMultiTypeConfig.defaultProps = {\n  config: null,\n  // eslint-disable-next-line no-console\n  onAdd: config => console.log('ADD', config),\n  // eslint-disable-next-line no-console\n  onUpdate: config => console.log('UPDATE', config),\n  // eslint-disable-next-line no-console\n  onDelete: config => console.log('DELETE', config)\n};\n\nconst MultiTypeConfig = React.memo(WrappedMultiTypeConfig);\nexport default MultiTypeConfig;\n","import { Grid, IconButton, MenuItem, Select, TextField, Tooltip, useTheme } from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport 'moment/locale/fr';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { SubmissionParams } from '../service_detail';\n\ntype SimpleSubmissionParams = {\n  name: string;\n  type: 'int' | 'bool' | 'str' | 'list';\n  default: string;\n  value: string;\n  list: string[];\n};\n\ntype MultiTypeParamProps = {\n  param?: SubmissionParams;\n  id?: number;\n  onAdd?: (param: SubmissionParams) => void;\n  onUpdate?: (param: SubmissionParams, id: number) => void;\n  onDelete?: (id: number) => void;\n};\n\nconst DEFAULT_USER_PARAM: SimpleSubmissionParams = {\n  name: '',\n  type: 'bool',\n  default: 'false',\n  value: 'false',\n  list: []\n};\n\nconst WrappedMultiTypeParam = ({ param, id, onAdd, onUpdate, onDelete }: MultiTypeParamProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [tempUserParams, setTempUserParams] = useState(DEFAULT_USER_PARAM);\n  const theme = useTheme();\n\n  const handleSubmissionParamUpdate = event => {\n    const { value } = event.target;\n    if (param.type === 'bool') {\n      onUpdate({ ...param, default: value === 'true', value: value === 'true' }, id);\n    } else if (param.type === 'list' || param.type === 'str') {\n      onUpdate({ ...param, default: value, value }, id);\n    } else {\n      onUpdate({ ...param, default: parseInt(value) || 0, value: parseInt(value) || 0 }, id);\n    }\n  };\n\n  const handleSubmissionParamListUpdate = event => {\n    const { value } = event.target;\n    const newList = value.split(',');\n    let newDefault = newList[0];\n    if (newList.indexOf(param.default) !== -1) {\n      newDefault = param.default;\n    }\n    onUpdate({ ...param, list: newList, default: newDefault, value: newDefault }, id);\n  };\n\n  const addUserSubmissionParam = () => {\n    if (tempUserParams.type === 'bool') {\n      onAdd({\n        ...tempUserParams,\n        default: tempUserParams.default === 'true',\n        value: tempUserParams.default === 'true'\n      });\n    } else if (tempUserParams.type === 'list' || tempUserParams.type === 'str') {\n      onAdd({ ...tempUserParams, default: tempUserParams.default, value: tempUserParams.default });\n    } else {\n      onAdd({\n        ...tempUserParams,\n        default: parseInt(tempUserParams.default) || 0,\n        value: parseInt(tempUserParams.default) || 0\n      });\n    }\n\n    setTempUserParams(DEFAULT_USER_PARAM);\n  };\n\n  const handleSPNameChange = event => {\n    setTempUserParams({ ...tempUserParams, name: event.target.value });\n  };\n\n  const handleSPTypeChange = event => {\n    const type = event.target.value;\n    setTempUserParams({\n      ...tempUserParams,\n      type,\n      list: [],\n      default: type === 'int' ? '1' : type === 'bool' ? 'false' : '',\n      value: type === 'int' ? '1' : type === 'bool' ? 'false' : ''\n    });\n  };\n\n  const handleSPDefaultChange = event => {\n    setTempUserParams({ ...tempUserParams, default: event.target.value, value: event.target.value });\n  };\n\n  const handleSPListChange = event => {\n    const newList = event.target.value.split(',');\n    let newDefault = newList[0];\n    if (newList.indexOf(tempUserParams.default) !== -1) {\n      newDefault = tempUserParams.default;\n    }\n    setTempUserParams({ ...tempUserParams, list: newList, default: newDefault, value: newDefault });\n  };\n\n  return param ? (\n    <Grid container spacing={1} alignItems=\"center\">\n      <Grid item xs={10} sm={3} style={{ wordBreak: 'break-word' }}>\n        {`${param.name} [${param.type}]:`}\n      </Grid>\n      {param.type === 'list' && (\n        <Grid item xs={10} sm={5}>\n          <TextField\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            onChange={handleSubmissionParamListUpdate}\n            value={param.list}\n            style={{ margin: 0 }}\n          />\n        </Grid>\n      )}\n      <Grid item xs={10} sm={param.type === 'list' ? 3 : 8}>\n        {param.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : param.type === 'list' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            {param.list.map((value, x) => {\n              return (\n                <MenuItem key={x} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        ) : (\n          <TextField\n            fullWidth\n            type={param.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={param.default}\n            onChange={handleSubmissionParamUpdate}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1}>\n        <Tooltip title={t('params.user.remove')}>\n          <IconButton\n            style={{\n              color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n            }}\n            onClick={() => onDelete(id)}\n          >\n            <RemoveCircleOutlineOutlinedIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  ) : (\n    <Grid container spacing={1}>\n      <Grid item xs={10} sm={3}>\n        <TextField\n          fullWidth\n          size=\"small\"\n          margin=\"dense\"\n          variant=\"outlined\"\n          onChange={handleSPNameChange}\n          value={tempUserParams.name}\n          style={{ margin: 0 }}\n        />\n      </Grid>\n      <Grid item xs={10} sm={2}>\n        <Select\n          id=\"user_spec_params\"\n          fullWidth\n          value={tempUserParams.type}\n          onChange={handleSPTypeChange}\n          variant=\"outlined\"\n          margin=\"dense\"\n        >\n          <MenuItem value=\"bool\">bool</MenuItem>\n          <MenuItem value=\"int\">int</MenuItem>\n          <MenuItem value=\"list\">list ({t('params.comma')})</MenuItem>\n          <MenuItem value=\"str\">str</MenuItem>\n        </Select>\n      </Grid>\n      {tempUserParams.type === 'list' && (\n        <Grid item xs={10} sm={4}>\n          <TextField\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempUserParams.list}\n            onChange={handleSPListChange}\n            style={{ margin: 0 }}\n          />\n        </Grid>\n      )}\n      <Grid item xs={10} sm={tempUserParams.type === 'list' ? 2 : 6}>\n        {tempUserParams.type === 'bool' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            <MenuItem value=\"false\">{t('params.false')}</MenuItem>\n            <MenuItem value=\"true\">{t('params.true')}</MenuItem>\n          </Select>\n        ) : tempUserParams.type === 'list' ? (\n          <Select\n            id=\"user_spec_params\"\n            fullWidth\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n          >\n            {tempUserParams.list.map((value, x) => {\n              return (\n                <MenuItem key={x} value={value}>\n                  {value}\n                </MenuItem>\n              );\n            })}\n          </Select>\n        ) : (\n          <TextField\n            fullWidth\n            type={tempUserParams.type === 'int' ? 'number' : 'text'}\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={tempUserParams.default}\n            onChange={handleSPDefaultChange}\n            style={{ margin: 0 }}\n          />\n        )}\n      </Grid>\n      <Grid item xs={2} sm={1} style={{ height: theme.spacing(8) }}>\n        {tempUserParams.name !== '' && (\n          <Tooltip title={t('params.user.add')}>\n            <IconButton\n              style={{\n                color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n              }}\n              onClick={addUserSubmissionParam}\n            >\n              <AddCircleOutlineIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nWrappedMultiTypeParam.defaultProps = {\n  param: null,\n  id: null,\n  onAdd: () => null,\n  onUpdate: () => null,\n  onDelete: () => null\n};\n\nconst MultiTypeParam = React.memo(WrappedMultiTypeParam);\nexport default MultiTypeParam;\n","import { Grid, Typography, useTheme } from '@material-ui/core';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport MultiTypeConfig from './multi_type_config';\nimport MultiTypeParam from './multi_type_param';\n\ntype ServiceParamsProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceParams = ({ service, setService, setModified }: ServiceParamsProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const theme = useTheme();\n\n  const onParamAdd = useCallback(param => {\n    window.dispatchEvent(new CustomEvent('paramAdd', { detail: param }));\n  }, []);\n\n  const onParamUpdate = useCallback((param, id) => {\n    window.dispatchEvent(new CustomEvent('paramUpdate', { detail: { param, id } }));\n  }, []);\n\n  const onParamDelete = useCallback(id => {\n    window.dispatchEvent(new CustomEvent('paramDelete', { detail: id }));\n  }, []);\n\n  const onConfigAddUpdate = useCallback(config => {\n    window.dispatchEvent(new CustomEvent('configAddUpdate', { detail: config }));\n  }, []);\n\n  const onConfigDelete = useCallback(config => {\n    window.dispatchEvent(new CustomEvent('configDelete', { detail: config }));\n  }, []);\n\n  useEffect(() => {\n    function handleSPAdd(event: CustomEvent) {\n      const { detail: param } = event;\n      const newSP = [...service.submission_params, { ...param }];\n\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleSPUpdate(event: CustomEvent) {\n      const {\n        detail: { param, id }\n      } = event;\n\n      const newSP = [...service.submission_params];\n      newSP[id] = { ...param };\n\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleSPDelete(event: CustomEvent) {\n      const { detail: id } = event;\n      const newSP = [...service.submission_params];\n      newSP.splice(id, 1);\n      setModified(true);\n      setService({ ...service, submission_params: newSP });\n    }\n\n    function handleConfigAddUpdate(event: CustomEvent) {\n      const { detail: config } = event;\n      setModified(true);\n      setService({ ...service, config: { ...service.config, [config.name]: config.value } });\n    }\n\n    function handleConfigDelete(event: CustomEvent) {\n      const { detail: config } = event;\n      const newConfig = { ...service.config };\n      delete newConfig[config.name];\n      setModified(true);\n      setService({ ...service, config: newConfig });\n    }\n\n    window.addEventListener('paramAdd', handleSPAdd);\n    window.addEventListener('paramUpdate', handleSPUpdate);\n    window.addEventListener('paramDelete', handleSPDelete);\n    window.addEventListener('configAddUpdate', handleConfigAddUpdate);\n    window.addEventListener('configDelete', handleConfigDelete);\n\n    return () => {\n      window.removeEventListener('paramAdd', handleSPAdd);\n      window.removeEventListener('paramUpdate', handleSPUpdate);\n      window.removeEventListener('paramDelete', handleSPDelete);\n      window.removeEventListener('configAddUpdate', handleConfigAddUpdate);\n      window.removeEventListener('configDelete', handleConfigDelete);\n    };\n  }, [service, setModified, setService]);\n\n  return (\n    <div>\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">{t('params.user')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('params.user.current')}</Typography>\n        </Grid>\n        {service.submission_params.length !== 0 ? (\n          service.submission_params.map((param, i) => {\n            return (\n              <Grid item key={i} xs={12}>\n                <MultiTypeParam param={param} id={i} onUpdate={onParamUpdate} onDelete={onParamDelete} />\n              </Grid>\n            );\n          })\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {t('params.user.none')}\n            </Typography>\n          </Grid>\n        )}\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('params.user.new')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <MultiTypeParam onAdd={onParamAdd} />\n        </Grid>\n\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"h6\">{t('params.config')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\">{t('params.config.current')}</Typography>\n        </Grid>\n        {Object.keys(service.config).length !== 0 ? (\n          Object.keys(service.config).map((name, i) => {\n            return (\n              <Grid item key={i} xs={12}>\n                <MultiTypeConfig\n                  config={{ name, value: service.config[name] }}\n                  onUpdate={onConfigAddUpdate}\n                  onDelete={onConfigDelete}\n                />\n              </Grid>\n            );\n          })\n        ) : (\n          <Grid item xs={12}>\n            <Typography variant=\"caption\" color=\"textSecondary\">\n              {t('params.config.none')}\n            </Typography>\n          </Grid>\n        )}\n        <Grid item xs={12} style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('params.config.new')}</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <MultiTypeConfig onAdd={onConfigAddUpdate} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default ServiceParams;\n","import {\n  Button,\n  Card,\n  Checkbox,\n  CircularProgress,\n  Collapse,\n  Divider,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport CardMembershipOutlinedIcon from '@material-ui/icons/CardMembershipOutlined';\nimport DnsOutlinedIcon from '@material-ui/icons/DnsOutlined';\nimport NoEncryptionOutlinedIcon from '@material-ui/icons/NoEncryptionOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport VpnKeyOutlinedIcon from '@material-ui/icons/VpnKeyOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  card: {\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    padding: '8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#ffffff10' : '#00000005',\n      cursor: 'pointer'\n    }\n  },\n  checkbox: {\n    marginLeft: 0,\n    width: '100%',\n    '&:hover': {\n      background: theme.palette.action.hover\n    }\n  },\n  card_title: {\n    fontSize: 'large',\n    fontFamily: 'monospace'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  label: {\n    fontWeight: 500\n  },\n  mono: {\n    fontSize: 'larger',\n    fontFamily: 'monospace'\n  },\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\nconst DEFAULT_HEADER = {\n  name: '',\n  value: ''\n};\n\nconst DEFAULT_SOURCE = {\n  ca_cert: '',\n  default_classification: '',\n  headers: [],\n  name: '',\n  password: '',\n  pattern: '',\n  private_key: '',\n  ssl_ignore_errors: false,\n  uri: '',\n  username: ''\n};\n\nconst WrappedSourceDetail = ({ service, base, close, reload }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n  const [modified, setModified] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const apiCall = useMyAPI();\n  const { showSuccessMessage } = useMySnackbar();\n  const [tempHeader, setTempHeader] = useState({ ...DEFAULT_HEADER });\n  const [source, setSource] = useState(null);\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (base) {\n      setSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED, ...base });\n    } else {\n      setSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [base]);\n\n  const handleURIChange = event => {\n    setSource({ ...source, uri: event.target.value });\n    setModified(true);\n  };\n\n  const handleProxyChange = event => {\n    setSource({ ...source, proxy: event.target.value });\n    setModified(true);\n  };\n\n  const handleNameChange = event => {\n    setSource({ ...source, name: event.target.value });\n    setModified(true);\n  };\n\n  const handlePasswordChange = event => {\n    setSource({ ...source, password: event.target.value });\n    setModified(true);\n  };\n\n  const handlePatternChange = event => {\n    setSource({ ...source, pattern: event.target.value });\n    setModified(true);\n  };\n\n  const handleCAChange = event => {\n    setSource({ ...source, ca_cert: event.target.value });\n    setModified(true);\n  };\n\n  const handlePrivateKeyChange = event => {\n    setSource({ ...source, private_key: event.target.value });\n    setModified(true);\n  };\n\n  const handleUsernameChange = event => {\n    setSource({ ...source, username: event.target.value });\n    setModified(true);\n  };\n\n  const handleSSLChange = event => {\n    setSource({ ...source, ssl_ignore_errors: event.target.checked });\n    setModified(true);\n  };\n\n  const handleClassificationChange = c12n => {\n    setSource({ ...source, default_classification: c12n });\n    setModified(true);\n  };\n\n  const handleTempHeaderName = event => {\n    setTempHeader({ ...tempHeader, name: event.target.value });\n  };\n  const handleTempHeaderValue = event => {\n    setTempHeader({ ...tempHeader, value: event.target.value });\n  };\n\n  const addHeader = () => {\n    const newHeaders = [...source.headers];\n    newHeaders.push(tempHeader);\n    setSource({ ...source, headers: newHeaders });\n    setTempHeader({ ...DEFAULT_HEADER });\n    setModified(true);\n  };\n  const removeHeader = id => {\n    const newHeaders = [...source.headers];\n    newHeaders.splice(id, 1);\n    setSource({ ...source, headers: newHeaders });\n    setModified(true);\n  };\n\n  const saveChanges = () => {\n    apiCall({\n      method: base ? 'POST' : 'PUT',\n      url: base ? `/api/v4/signature/sources/${service}/${source.name}/` : `/api/v4/signature/sources/${service}/`,\n      body: source,\n      onSuccess: () => {\n        showSuccessMessage(t(base ? 'change.success' : 'add.success'));\n        setModified(false);\n        if (!base || !isXL) close();\n        reload();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const deleteSource = () => setDeleteDialog(true);\n\n  const executeDeleteSource = () => {\n    close();\n    apiCall({\n      url: `/api/v4/signature/sources/${service}/${source.name}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        reload();\n      }\n    });\n  };\n\n  return (\n    source && (\n      <div style={{ paddingTop: theme.spacing(2) }}>\n        <ConfirmationDialog\n          open={deleteDialog}\n          handleClose={() => setDeleteDialog(false)}\n          handleAccept={executeDeleteSource}\n          title={t('delete.title')}\n          cancelText={t('delete.cancelText')}\n          acceptText={t('delete.acceptText')}\n          text={t('delete.text')}\n        />\n\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{service}</Typography>\n              <Typography variant=\"caption\">\n                {`${t(base ? 'editing_source' : 'adding_source')}${base ? ` (${base.name})` : ''}`}\n              </Typography>\n            </Grid>\n            {base && (\n              <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n                <Tooltip title={t('delete')}>\n                  <IconButton\n                    style={{\n                      color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                    }}\n                    onClick={deleteSource}\n                  >\n                    <RemoveCircleOutlineOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </Grid>\n            )}\n          </Grid>\n        </div>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('uri')}</div>\n            <TextField size=\"small\" value={source.uri} fullWidth variant=\"outlined\" onChange={handleURIChange} />\n          </Grid>\n          {c12nDef.enforce && (\n            <Grid item xs={12}>\n              <div className={classes.label}>{t('classification')}</div>\n              <Classification\n                c12n={source.default_classification}\n                type=\"picker\"\n                setClassification={handleClassificationChange}\n              />\n            </Grid>\n          )}\n          <Grid item xs={12} md={6}>\n            <div>\n              <div className={classes.label}>{t('name')}</div>\n              <TextField\n                disabled={!!base}\n                size=\"small\"\n                value={source.name}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handleNameChange}\n              />\n            </div>\n            <div style={{ paddingTop: theme.spacing(1) }}>\n              <div className={classes.label}>{t('pattern')}</div>\n              <TextField\n                size=\"small\"\n                value={source.pattern}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handlePatternChange}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <div>\n              <div className={classes.label}>{t('username')}</div>\n              <TextField\n                size=\"small\"\n                value={source.username}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handleUsernameChange}\n              />\n            </div>\n            <div style={{ paddingTop: theme.spacing(1) }}>\n              <div className={classes.label}>{t('password')}</div>\n              <TextField\n                size=\"small\"\n                value={source.password}\n                fullWidth\n                variant=\"outlined\"\n                onChange={handlePasswordChange}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('private_key')}</div>\n            <TextField\n              size=\"small\"\n              value={source.private_key}\n              multiline\n              rows={6}\n              fullWidth\n              variant=\"outlined\"\n              InputProps={{ style: { fontFamily: 'monospace' } }}\n              onChange={handlePrivateKeyChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('headers')}</div>\n          </Grid>\n          {source.headers.map((header, id) => {\n            return (\n              <Grid key={id} item xs={12}>\n                <Grid container spacing={1} alignItems=\"center\">\n                  <Grid item xs={10} md={3}>\n                    <div className={classes.label}>{header.name}</div>\n                  </Grid>\n                  <Grid item xs={10} md={8}>\n                    <TextField size=\"small\" value={header.value} fullWidth variant=\"outlined\" />\n                  </Grid>\n                  <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n                        margin: '-4px 0'\n                      }}\n                      onClick={() => {\n                        removeHeader(id);\n                      }}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n          <Grid item xs={12}>\n            <Grid container spacing={1}>\n              <Grid item xs={10} md={3}>\n                <TextField\n                  size=\"small\"\n                  value={tempHeader.name}\n                  fullWidth\n                  placeholder={t('headers.name')}\n                  variant=\"outlined\"\n                  onChange={handleTempHeaderName}\n                />\n              </Grid>\n              <Grid item xs={10} md={8}>\n                <TextField\n                  size=\"small\"\n                  value={tempHeader.value}\n                  fullWidth\n                  placeholder={t('headers.value')}\n                  variant=\"outlined\"\n                  onChange={handleTempHeaderValue}\n                />\n              </Grid>\n              <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                <IconButton\n                  style={{\n                    color:\n                      !tempHeader.name || !tempHeader.value\n                        ? theme.palette.action.disabled\n                        : theme.palette.type === 'dark'\n                        ? theme.palette.success.light\n                        : theme.palette.success.dark,\n                    margin: '-4px 0'\n                  }}\n                  disabled={!tempHeader.name || !tempHeader.value}\n                  onClick={() => {\n                    addHeader();\n                  }}\n                >\n                  <AddCircleOutlineOutlinedIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('proxy')}</div>\n            <TextField\n              size=\"small\"\n              value={source.proxy}\n              placeholder={t('proxy.placeholder')}\n              fullWidth\n              variant=\"outlined\"\n              onChange={handleProxyChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <div className={classes.label}>{t('ca')}</div>\n            <TextField\n              size=\"small\"\n              value={source.ca_cert}\n              multiline\n              rows={6}\n              fullWidth\n              variant=\"outlined\"\n              InputProps={{ style: { fontFamily: 'monospace' } }}\n              onChange={handleCAChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <FormControlLabel\n              control={\n                <Checkbox size=\"small\" checked={source.ssl_ignore_errors} name=\"label\" onChange={handleSSLChange} />\n              }\n              label={<Typography variant=\"body2\">{t('ignore_ssl')}</Typography>}\n              className={classes.checkbox}\n            />\n          </Grid>\n        </Grid>\n        <div style={{ paddingTop: theme.spacing(2), paddingBottom: theme.spacing(2), textAlign: 'right' }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!source.name || !source.uri || !modified || buttonLoading}\n            onClick={saveChanges}\n          >\n            {t(base ? 'change.save' : 'add.save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport const SourceDetail = React.memo(WrappedSourceDetail);\n\nexport const SourceCard = ({ source, onClick }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { c12nDef } = useALContext();\n  const classes = useStyles();\n\n  return (\n    <div style={{ paddingTop: theme.spacing(1) }}>\n      <Card className={classes.card} onClick={onClick}>\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <div style={{ float: 'right' }}>\n            {source.private_key && (\n              <Tooltip title={t('private_key_used')}>\n                <VpnKeyOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.ca_cert && (\n              <Tooltip title={t('ca_used')}>\n                <CardMembershipOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.proxy && (\n              <Tooltip title={t('proxy_used')}>\n                <DnsOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n            {source.ssl_ignore_errors && (\n              <Tooltip title={t('ignore_ssl_used')}>\n                <NoEncryptionOutlinedIcon color=\"action\" style={{ marginLeft: theme.spacing(0.5) }} />\n              </Tooltip>\n            )}\n          </div>\n          <span className={classes.card_title}>{source.name}&nbsp;</span>\n          <span className={classes.mono}>({source.uri})</span>\n        </div>\n        <Grid container>\n          {source.pattern && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('pattern')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {source.pattern}\n              </Grid>\n            </>\n          )}\n          {source.username && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('username')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                {source.username}\n              </Grid>\n            </>\n          )}\n          {source.password && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('password')}:`}</Grid>\n              <Grid item xs={7} sm={8} md={10} className={classes.mono}>\n                ******\n              </Grid>\n            </>\n          )}\n          {c12nDef.enforce && (\n            <>\n              <Grid item xs={5} sm={4} md={2} className={classes.label}>{`${t('classification')}:`}</Grid>\n\n              <Grid item xs={7} sm={8} md={10}>\n                <Classification type=\"text\" c12n={source.default_classification || c12nDef.UNRESTRICTED} />\n              </Grid>\n            </>\n          )}\n        </Grid>\n        {source.headers && source.headers.length !== 0 && (\n          <div>\n            <div className={classes.label}>{`${t('headers')}:`}&nbsp;</div>\n            {source.headers.map((item, id) => {\n              return (\n                <div key={id} className={classes.mono} style={{ paddingLeft: '2rem' }}>\n                  {`${item.name} = ${item.value}`}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nconst ServiceDetail = ({ service, sources, reload }) => {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const classes = useStyles();\n\n  const openDrawer = useCallback((currentService: string, source) => {\n    setGlobalDrawer(<SourceDetail service={currentService} base={source} close={closeGlobalDrawer} reload={reload} />);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return useMemo(() => {\n    return (\n      <div style={{ paddingTop: theme.spacing(2) }}>\n        <Grid container>\n          <Grid item xs={10} style={{ alignSelf: 'center' }}>\n            <Typography\n              variant=\"h6\"\n              className={classes.title}\n              onClick={() => {\n                setOpen(!open);\n              }}\n            >\n              {service}\n            </Typography>\n          </Grid>\n          <Grid item xs={2} style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_source')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark,\n                  margin: '-4px 0'\n                }}\n                onClick={() => openDrawer(service, null)}\n              >\n                <AddCircleOutlineOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n        <Divider />\n        <Collapse in={open} timeout=\"auto\">\n          <div>\n            {sources.length !== 0 ? (\n              sources.map((source, id) => {\n                return <SourceCard key={id} source={source} onClick={() => openDrawer(service, source)} />;\n              })\n            ) : (\n              <Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ marginTop: theme.spacing(1) }}>\n                {t('no_sources')}\n              </Typography>\n            )}\n          </div>\n        </Collapse>\n      </div>\n    );\n  }, [classes.title, open, openDrawer, service, sources, t, theme]);\n};\n\nexport default function SignatureSources() {\n  const { t } = useTranslation(['manageSignatureSources']);\n  const theme = useTheme();\n  const { user: currentUser } = useALContext();\n  const [sources, setSources] = useState(null);\n  const apiCall = useMyAPI();\n\n  const reload = useCallback(() => {\n    if (currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1) {\n      apiCall({\n        url: '/api/v4/signature/sources/',\n        onSuccess: api_data => {\n          setSources(api_data.api_response);\n        }\n      });\n    }\n  }, [apiCall, currentUser.is_admin, currentUser.roles]);\n\n  useEffect(() => {\n    reload();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1 ? (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(2) }}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          <Typography variant=\"caption\">\n            {sources ? `${Object.keys(sources).length} ${t('caption')}` : <Skeleton />}\n          </Typography>\n        </div>\n\n        {sources\n          ? Object.keys(sources).map((key, id) => {\n              return <ServiceDetail key={id} service={key} sources={sources[key]} reload={reload} />;\n            })\n          : [...Array(2)].map((item, i) => {\n              return (\n                <div key={i} style={{ marginTop: theme.spacing(2) }}>\n                  <Typography variant=\"h6\" style={{ marginTop: theme.spacing(0.5), marginBottom: theme.spacing(0.5) }}>\n                    <Skeleton />\n                  </Typography>\n                  <Divider />\n                  <Skeleton variant=\"rect\" height=\"6rem\" style={{ marginTop: theme.spacing(2), borderRadius: '4px' }} />\n                </div>\n              );\n            })}\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Source } from '../service_detail';\n\nconst useStyles = makeStyles(theme => ({\n  checkbox: {\n    marginLeft: 0,\n    width: '100%',\n    '&:hover': {\n      background: theme.palette.action.hover\n    }\n  },\n  label: {\n    fontWeight: 500\n  }\n}));\n\nconst DEFAULT_HEADER = {\n  name: '',\n  value: ''\n};\n\nconst DEFAULT_SOURCE: Source = {\n  ca_cert: '',\n  default_classification: '',\n  headers: [],\n  name: '',\n  password: '',\n  pattern: '',\n  private_key: '',\n  proxy: '',\n  ssl_ignore_errors: false,\n  uri: '',\n  username: ''\n};\n\ntype SourceDialogProps = {\n  open: boolean;\n  setOpen: (value: boolean) => void;\n  source?: Source;\n  onSave: (newSource: Source) => void;\n};\n\nconst WrappedSourceDialog = ({ open, setOpen, source, onSave }: SourceDialogProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [modified, setModified] = useState(false);\n  const { c12nDef } = useALContext();\n  const [tempSource, setTempSource] = useState(null);\n  const [tempHeader, setTempHeader] = useState({ ...DEFAULT_HEADER });\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const handleSave = () => {\n    setModified(false);\n    setOpen(false);\n    onSave(tempSource);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setModified(false);\n    setTempSource(source || DEFAULT_SOURCE);\n  };\n\n  const handleValueChange = (field, value) => {\n    setModified(true);\n    setTempSource({ ...tempSource, [field]: value });\n  };\n\n  const toggleSSLChange = () => {\n    setModified(true);\n    setTempSource({ ...tempSource, ssl_ignore_errors: !tempSource.ssl_ignore_errors });\n  };\n\n  const handleTempHeaderName = event => {\n    setTempHeader({ ...tempHeader, name: event.target.value });\n  };\n  const handleTempHeaderValue = event => {\n    setTempHeader({ ...tempHeader, value: event.target.value });\n  };\n\n  const addHeader = () => {\n    const newHeaders = [...tempSource.headers];\n    newHeaders.push(tempHeader);\n    setTempSource({ ...tempSource, headers: newHeaders });\n    setTempHeader({ ...DEFAULT_HEADER });\n    setModified(true);\n  };\n  const removeHeader = id => {\n    const newHeaders = [...tempSource.headers];\n    newHeaders.splice(id, 1);\n    setTempSource({ ...tempSource, headers: newHeaders });\n    setModified(true);\n  };\n\n  useEffect(() => {\n    if (source) {\n      setTempSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED, ...source });\n    } else {\n      setTempSource({ ...DEFAULT_SOURCE, default_classification: c12nDef.UNRESTRICTED });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [source]);\n\n  return (\n    tempSource && (\n      <div style={{ paddingTop: theme.spacing(1) }}>\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n          <DialogTitle id=\"form-dialog-title\">{t('updater.dialog.title')}</DialogTitle>\n          <DialogContent>\n            <Grid container spacing={1}>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.uri')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.uri}\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={event => handleValueChange('uri', event.target.value)}\n                />\n              </Grid>\n              {c12nDef.enforce && (\n                <Grid item xs={12}>\n                  <div className={classes.label}>{t('updater.dialog.classification')}</div>\n                  <Classification\n                    c12n={tempSource.default_classification}\n                    type=\"picker\"\n                    setClassification={value => handleValueChange('classification', value)}\n                  />\n                </Grid>\n              )}\n              <Grid item xs={12} md={6}>\n                <div>\n                  <div className={classes.label}>{t('updater.dialog.name')}</div>\n                  <TextField\n                    disabled={!!source}\n                    size=\"small\"\n                    value={tempSource.name}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('name', event.target.value)}\n                  />\n                </div>\n                <div style={{ paddingTop: theme.spacing(1) }}>\n                  <div className={classes.label}>{t('updater.dialog.pattern')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.pattern}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('pattern', event.target.value)}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <div>\n                  <div className={classes.label}>{t('updater.dialog.username')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.username}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('username', event.target.value)}\n                  />\n                </div>\n                <div style={{ paddingTop: theme.spacing(1) }}>\n                  <div className={classes.label}>{t('updater.dialog.password')}</div>\n                  <TextField\n                    size=\"small\"\n                    value={tempSource.password}\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => handleValueChange('password', event.target.value)}\n                  />\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.private_key')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.private_key}\n                  multiline\n                  rows={6}\n                  fullWidth\n                  variant=\"outlined\"\n                  InputProps={{ style: { fontFamily: 'monospace' } }}\n                  onChange={event => handleValueChange('private_key', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.headers')}</div>\n              </Grid>\n              {tempSource.headers.map((header, id) => {\n                return (\n                  <Grid key={id} item xs={12}>\n                    <Grid container spacing={1} alignItems=\"center\">\n                      <Grid item xs={10} md={3}>\n                        <div className={classes.label}>{header.name}</div>\n                      </Grid>\n                      <Grid item xs={10} md={8}>\n                        <TextField size=\"small\" value={header.value} fullWidth variant=\"outlined\" />\n                      </Grid>\n                      <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                        <IconButton\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n                            margin: '-4px 0'\n                          }}\n                          onClick={() => {\n                            removeHeader(id);\n                          }}\n                        >\n                          <RemoveCircleOutlineOutlinedIcon />\n                        </IconButton>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                );\n              })}\n              <Grid item xs={12}>\n                <Grid container spacing={1}>\n                  <Grid item xs={10} md={3}>\n                    <TextField\n                      size=\"small\"\n                      value={tempHeader.name}\n                      fullWidth\n                      placeholder={t('updater.dialog.headers.name')}\n                      variant=\"outlined\"\n                      onChange={handleTempHeaderName}\n                    />\n                  </Grid>\n                  <Grid item xs={10} md={8}>\n                    <TextField\n                      size=\"small\"\n                      value={tempHeader.value}\n                      fullWidth\n                      placeholder={t('updater.dialog.headers.value')}\n                      variant=\"outlined\"\n                      onChange={handleTempHeaderValue}\n                    />\n                  </Grid>\n                  <Grid item xs={2} md={1} style={{ textAlign: 'end' }}>\n                    <IconButton\n                      style={{\n                        color:\n                          !tempHeader.name || !tempHeader.value\n                            ? theme.palette.action.disabled\n                            : theme.palette.type === 'dark'\n                            ? theme.palette.success.light\n                            : theme.palette.success.dark,\n                        margin: '-4px 0'\n                      }}\n                      disabled={!tempHeader.name || !tempHeader.value}\n                      onClick={() => {\n                        addHeader();\n                      }}\n                    >\n                      <AddCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.proxy')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.proxy}\n                  placeholder={t('updater.dialog.proxy.placeholder')}\n                  fullWidth\n                  variant=\"outlined\"\n                  onChange={event => handleValueChange('proxy', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <div className={classes.label}>{t('updater.dialog.ca')}</div>\n                <TextField\n                  size=\"small\"\n                  value={tempSource.ca_cert}\n                  multiline\n                  rows={6}\n                  fullWidth\n                  variant=\"outlined\"\n                  InputProps={{ style: { fontFamily: 'monospace' } }}\n                  onChange={event => handleValueChange('ca_cert', event.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      size=\"small\"\n                      checked={tempSource.ssl_ignore_errors}\n                      name=\"label\"\n                      onChange={toggleSSLChange}\n                    />\n                  }\n                  label={<Typography variant=\"body2\">{t('updater.dialog.ignore_ssl')}</Typography>}\n                  className={classes.checkbox}\n                />\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"secondary\">\n              {t('updater.dialog.cancelText')}\n            </Button>\n            <Button\n              onClick={handleSave}\n              color=\"primary\"\n              disabled={!modified || tempSource.name === '' || tempSource.uri === ''}\n            >\n              {t('updater.dialog.acceptText')}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  );\n};\n\nWrappedSourceDialog.defaultProps = {\n  source: null\n};\n\nconst SourceDialog = React.memo(WrappedSourceDialog);\nexport default SourceDialog;\n","import {\n  Button,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  MenuItem,\n  Radio,\n  RadioGroup,\n  Select,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport { SourceCard } from 'components/routes/manage/signature_sources';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ServiceDetail } from '../service_detail';\nimport ContainerCard from './container_card';\nimport SourceDialog from './source_dialog';\n\ntype ServiceUpdaterProps = {\n  service: ServiceDetail;\n  setService: (value: ServiceDetail) => void;\n  setModified: (value: boolean) => void;\n};\n\nconst ServiceUpdater = ({ service, setService, setModified }: ServiceUpdaterProps) => {\n  const { t } = useTranslation(['adminServices']);\n  const [dialog, setDialog] = useState(false);\n  const [editDialog, setEditDialog] = useState(false);\n  const [editedSourceID, setEditedSourceID] = useState(-1);\n  const theme = useTheme();\n\n  const handleMethodChange = event => {\n    setModified(true);\n    setService({ ...service, update_config: { ...service.update_config, method: event.target.value } });\n  };\n\n  const handleUpdateContainerChange = newContainer => {\n    setModified(true);\n    setService({ ...service, update_config: { ...service.update_config, run_options: newContainer } });\n  };\n\n  const toggleSignatures = () => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, generates_signatures: !service.update_config.generates_signatures }\n    });\n  };\n\n  const toggleWaitForUpdate = () => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, wait_for_update: !service.update_config.wait_for_update }\n    });\n  };\n\n  const handleIntervalChange = event => {\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, update_interval_seconds: event.target.value }\n    });\n  };\n\n  const handleDeleteSource = source_id => {\n    const newSources = service.update_config.sources;\n    newSources.splice(source_id, 1);\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, sources: newSources }\n    });\n  };\n\n  const handleEditSource = source_id => {\n    setEditDialog(true);\n    setEditedSourceID(source_id);\n  };\n\n  const handleSaveSource = newSource => {\n    const newSources = [...service.update_config.sources];\n\n    if (editedSourceID === -1) {\n      newSources.push(newSource);\n    } else {\n      newSources[editedSourceID] = newSource;\n    }\n\n    setModified(true);\n    setService({\n      ...service,\n      update_config: { ...service.update_config, sources: newSources }\n    });\n  };\n\n  useEffect(() => {\n    if (!editDialog && editedSourceID !== -1) {\n      setEditedSourceID(-1);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editDialog]);\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('updater')}</Typography>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.method')}</Typography>\n        {service ? (\n          <Select\n            id=\"channel\"\n            fullWidth\n            value={service.update_config.method}\n            onChange={handleMethodChange}\n            variant=\"outlined\"\n            margin=\"dense\"\n            style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(0.5) }}\n          >\n            <MenuItem value=\"run\">{t('updater.method.run')}</MenuItem>\n            {/* <MenuItem value=\"build\">{t('updater.method.build')}</MenuItem> */}\n          </Select>\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.interval')}</Typography>\n        {service ? (\n          <TextField\n            fullWidth\n            type=\"number\"\n            size=\"small\"\n            margin=\"dense\"\n            variant=\"outlined\"\n            value={service.update_config.update_interval_seconds}\n            onChange={handleIntervalChange}\n          />\n        ) : (\n          <Skeleton style={{ height: '2.5rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('updater.run.options')}</Typography>\n        {service ? (\n          service.update_config.method === 'run' && (\n            <ContainerCard container={service.update_config.run_options} onChange={handleUpdateContainerChange} />\n          )\n        ) : (\n          <Skeleton style={{ height: '8rem' }} />\n        )}\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.signatures')}</Typography>\n        <RadioGroup value={service.update_config.generates_signatures} onChange={toggleSignatures}>\n          <FormControlLabel value control={<Radio />} label={t('updater.signatures.yes')} />\n          <FormControlLabel value={false} control={<Radio />} label={t('updater.signatures.no')} />\n        </RadioGroup>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Typography variant=\"subtitle2\">{t('updater.wait')}</Typography>\n        <RadioGroup value={service.update_config.wait_for_update} onChange={toggleWaitForUpdate}>\n          <FormControlLabel value control={<Radio />} label={t('updater.wait.yes')} />\n          <FormControlLabel value={false} control={<Radio />} label={t('updater.wait.no')} />\n        </RadioGroup>\n      </Grid>\n\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle2\">{t('updater.sources')}</Typography>\n        <SourceDialog\n          open={editDialog}\n          source={editedSourceID !== -1 ? service.update_config.sources[editedSourceID] : null}\n          setOpen={setEditDialog}\n          onSave={handleSaveSource}\n        />\n        {service.update_config.sources.length !== 0 ? (\n          service.update_config.sources.map((source, i) => {\n            return (\n              <div key={i} style={{ display: 'flex', alignItems: 'center' }}>\n                <div style={{ paddingRight: theme.spacing(1), flexGrow: 1 }}>\n                  <SourceCard key={i} source={source} onClick={() => handleEditSource(i)} />\n                </div>\n                <div>\n                  <Tooltip title={t('updater.sources.remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={() => handleDeleteSource(i)}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            {t('updater.sources.none')}\n          </Typography>\n        )}\n      </Grid>\n\n      <Grid item xs={12}>\n        <SourceDialog open={dialog} setOpen={setDialog} onSave={handleSaveSource} />\n        <Button variant=\"contained\" color=\"primary\" onClick={() => setDialog(true)}>\n          {t('updater.sources.add')}\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ServiceUpdater;\n","import {\n  Button,\n  CircularProgress,\n  Grid,\n  IconButton,\n  makeStyles,\n  Paper,\n  Tab,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Skeleton, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport CustomChip from 'components/visual/CustomChip';\nimport Empty from 'components/visual/Empty';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\nimport ServiceContainer from './service_detail/container';\nimport ServiceGeneral from './service_detail/general';\nimport ServiceParams from './service_detail/parameters';\nimport ServiceUpdater from './service_detail/updater';\n\ntype ServiceProps = {\n  name?: string | null;\n  onDeleted?: () => void;\n};\n\ntype ParamProps = {\n  svc: string;\n};\n\nexport type Volume = {\n  capacity: string;\n  mount_path: string;\n  storage_class: string;\n};\n\ntype Environment = {\n  name: string;\n  value: string;\n};\n\nexport type Container = {\n  allow_internet_access: boolean;\n  command: string[];\n  cpu_cores: number;\n  environment: Environment[];\n  image: string;\n  ports: string[];\n  ram_mb: number;\n  ram_mb_min: number;\n  registry_password: string;\n  registry_username: string;\n};\n\nexport type SubmissionParams = {\n  default: string | boolean | number;\n  name: string;\n  type: 'int' | 'bool' | 'str' | 'list';\n  value: string | boolean | number;\n  list?: string[];\n};\n\nexport type Source = {\n  ca_cert: string;\n  default_classification: string;\n  headers: Environment[];\n  name: string;\n  password: string;\n  pattern: string;\n  private_key: string;\n  proxy: string;\n  ssl_ignore_errors: boolean;\n  uri: string;\n  username: string;\n};\n\ntype UpdateConfig = {\n  generates_signatures: boolean;\n  method: 'run' | 'build';\n  run_options: Container;\n  sources: Source[];\n  update_interval_seconds: number;\n  wait_for_update: boolean;\n};\n\nexport type ServiceDetail = {\n  accepts: string;\n  category: string;\n  config: {\n    [name: string]: string;\n  };\n  default_result_classification: string;\n  dependencies: {\n    [name: string]: {\n      container: Container;\n      volumes: {\n        [name: string]: Volume;\n      };\n    };\n  };\n  description: string;\n  disable_cache: boolean;\n  docker_config: Container;\n  enabled: boolean;\n  is_external: boolean;\n  licence_count: number;\n  name: string;\n  rejects: string;\n  stage: string;\n  submission_params: SubmissionParams[];\n  timeout: number;\n  update_channel: 'dev' | 'beta' | 'rc' | 'stable';\n  update_config: UpdateConfig;\n  version: string;\n};\n\nexport type ServiceConstants = {\n  categories: string[];\n  stages: string[];\n};\n\nconst useStyles = makeStyles(() => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nfunction Service({ name, onDeleted }: ServiceProps) {\n  const { svc } = useParams<ParamProps>();\n  const { t } = useTranslation(['adminServices']);\n  const [service, setService] = useState<ServiceDetail>(null);\n  const [constants, setConstants] = useState<ServiceConstants>(null);\n  const [versions, setVersions] = useState<string[]>(null);\n  const [tab, setTab] = useState('general');\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const theme = useTheme();\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const { user: currentUser } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const apiCall = useMyAPI();\n\n  function saveService() {\n    apiCall({\n      url: `/api/v4/service/${name || svc}/`,\n      method: 'POST',\n      body: service,\n      onSuccess: () => {\n        setModified(false);\n        showSuccessMessage(t('save.success'));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  const onChangeTab = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  const closeDialog = () => {\n    setDeleteDialog(false);\n  };\n\n  const handleExecuteDeleteButtonClick = () => {\n    closeDialog();\n    apiCall({\n      url: `/api/v4/service/${name || svc}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        if (svc) setTimeout(() => history.push('/admin/services'), 1000);\n        onDeleted();\n      }\n    });\n  };\n\n  const handleDeleteButtonClick = () => {\n    setDeleteDialog(true);\n  };\n\n  const handleToggleEnabled = () => {\n    setModified(true);\n    setService({ ...service, enabled: !service.enabled });\n  };\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin) {\n      apiCall({\n        url: `/api/v4/service/${name || svc}/`,\n        onSuccess: api_data => {\n          setService(api_data.api_response);\n        }\n      });\n      apiCall({\n        url: `/api/v4/service/versions/${name || svc}/`,\n        onSuccess: api_data => {\n          setVersions(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [name]);\n\n  useEffect(() => {\n    // Load user on start\n    if (currentUser.is_admin) {\n      apiCall({\n        url: '/api/v4/service/constants/',\n        onSuccess: api_data => {\n          setConstants(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return !currentUser.is_admin ? (\n    <Redirect to=\"/forbidden\" />\n  ) : (\n    <PageCenter margin={!svc ? 2 : 4} width=\"100%\" textAlign=\"left\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={handleExecuteDeleteButtonClick}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n      <Grid container alignItems=\"center\" spacing={3} style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid item xs>\n          <Typography variant=\"h4\">{service ? service.name : <Skeleton style={{ width: '20rem' }} />}</Typography>\n          <Typography variant=\"caption\">{t('title.detail')}</Typography>\n        </Grid>\n        <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n          {service ? (\n            <>\n              <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n                <Tooltip title={t('remove')}>\n                  <IconButton\n                    style={{\n                      color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                    }}\n                    onClick={handleDeleteButtonClick}\n                  >\n                    <RemoveCircleOutlineOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </>\n          ) : (\n            <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n          )}\n        </Grid>\n      </Grid>\n\n      {service ? (\n        <CustomChip\n          type=\"rounded\"\n          color={service.enabled ? 'primary' : 'default'}\n          onClick={handleToggleEnabled}\n          label={service.enabled ? t('enabled') : t('disabled')}\n          fullWidth\n          style={{ marginBottom: theme.spacing(2) }}\n        />\n      ) : (\n        <Skeleton variant=\"rect\" height=\"2.5rem\" style={{ marginBottom: theme.spacing(1) }} />\n      )}\n\n      {service ? (\n        <TabContext value={tab}>\n          <Paper\n            square\n            style={{ backgroundColor: name ? theme.palette.background.default : theme.palette.background.paper }}\n          >\n            <TabList onChange={onChangeTab} indicatorColor=\"primary\" textColor=\"primary\">\n              <Tab label={t('tab.general')} value=\"general\" />\n              <Tab label={t('tab.docker')} value=\"docker\" />\n              {service.update_config ? <Tab label={t('tab.updater')} value=\"updater\" /> : <Empty />}\n              <Tab label={t('tab.params')} value=\"params\" />\n            </TabList>\n          </Paper>\n          <TabPanel value=\"general\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n            <ServiceGeneral\n              service={service}\n              setService={setService}\n              setModified={setModified}\n              constants={constants}\n              versions={versions}\n            />\n          </TabPanel>\n          <TabPanel value=\"docker\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n            <ServiceContainer service={service} setService={setService} setModified={setModified} />\n          </TabPanel>\n          <TabPanel value=\"updater\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n            <ServiceUpdater service={service} setService={setService} setModified={setModified} />\n          </TabPanel>\n          <TabPanel value=\"params\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n            <ServiceParams service={service} setService={setService} setModified={setModified} />\n          </TabPanel>\n        </TabContext>\n      ) : (\n        <Skeleton variant=\"rect\" height=\"10rem\" />\n      )}\n\n      {service && modified ? (\n        <div\n          style={{\n            paddingTop: theme.spacing(1),\n            paddingBottom: theme.spacing(1),\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            width: '100%',\n            zIndex: theme.zIndex.drawer - 1,\n            backgroundColor: theme.palette.background.default,\n            boxShadow: theme.shadows[4]\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveService}>\n            {t('save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      ) : null}\n    </PageCenter>\n  );\n}\n\nService.defaultProps = {\n  name: null,\n  onDeleted: () => null\n};\n\nexport default Service;\n","import { Button, Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { DivTable, DivTableBody, DivTableCell, DivTableHead, DivTableRow, LinkRow } from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ServiceResult = {\n  accepts: string;\n  category: string;\n  description: string;\n  enabled: boolean;\n  name: string;\n  rejects: string;\n  stage: string;\n  version: string;\n};\n\ntype UpdateData = {\n  auth: string;\n  image: string;\n  latest_tag: string;\n  update_available: boolean;\n  updating: boolean;\n};\n\ntype Updates = {\n  [name: string]: UpdateData;\n};\n\ntype ServiceTableProps = {\n  serviceResults: ServiceResult[];\n  updates: Updates;\n  setService: (svc: string) => void;\n  onUpdate: (svc: string, updateData: UpdateData) => void;\n};\n\nconst WrappedServiceTable: React.FC<ServiceTableProps> = ({ serviceResults, updates, setService, onUpdate }) => {\n  const { t } = useTranslation(['search']);\n\n  return serviceResults && updates ? (\n    serviceResults.length !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <DivTableCell>{t('header.name')}</DivTableCell>\n              <DivTableCell>{t('header.version')}</DivTableCell>\n              <DivTableCell>{t('header.category')}</DivTableCell>\n              <DivTableCell>{t('header.stage')}</DivTableCell>\n              <DivTableCell>{t('header.accepts')}</DivTableCell>\n              <DivTableCell>{t('header.enabled')}</DivTableCell>\n              <DivTableCell />\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {serviceResults.map(result => (\n              <LinkRow\n                key={result.name}\n                component={Link}\n                to={`/admin/services/${result.name}`}\n                hover\n                style={{ textDecoration: 'none' }}\n                onClick={event => {\n                  if (setService) {\n                    event.preventDefault();\n                    setService(result.name);\n                  }\n                }}\n              >\n                <DivTableCell>{result.name}</DivTableCell>\n                <DivTableCell>{result.version}</DivTableCell>\n                <DivTableCell>{result.category}</DivTableCell>\n                <DivTableCell>{result.stage}</DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-all' }}>{result.accepts}</DivTableCell>\n                <DivTableCell>\n                  {result.enabled ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                  {updates[result.name] && updates[result.name].update_available && !updates[result.name].updating && (\n                    <Tooltip title={`${result.name} ${updates[result.name].latest_tag} ${t('available')}!`}>\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={event => {\n                          event.preventDefault();\n                          event.stopPropagation();\n                          onUpdate(result.name, updates[result.name]);\n                        }}\n                      >\n                        {t('update')}\n                      </Button>\n                    </Tooltip>\n                  )}\n                  {updates[result.name] && updates[result.name].updating && t('updating')}\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_results_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ServiceTable = React.memo(WrappedServiceTable);\nexport default ServiceTable;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Skeleton } from '@material-ui/lab';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport Service from 'components/routes/admin/service_detail';\nimport ServiceTable from 'components/visual/SearchResult/service';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nexport default function Services() {\n  const { t } = useTranslation(['adminServices']);\n  const [serviceResults, setServiceResults] = useState(null);\n  const [updates, setUpdates] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [manifest, setManifest] = useState('');\n  const { showSuccessMessage } = useMySnackbar();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n  const { setGlobalDrawer } = useDrawer();\n\n  const handleAddService = () => {\n    apiCall({\n      method: 'PUT',\n      contentType: 'text/plain',\n      url: '/api/v4/service/',\n      body: manifest,\n      onSuccess: api_data => {\n        showSuccessMessage(t('add.success'));\n        setOpen(false);\n        setTimeout(() => reload(), 1000);\n      }\n    });\n  };\n\n  function handleManifestChange(event) {\n    setManifest(event.target.value);\n  }\n\n  const reload = () => {\n    apiCall({\n      url: '/api/v4/service/all/',\n      onSuccess: api_data => {\n        setServiceResults(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: '/api/v4/service/updates/',\n      onSuccess: api_data => {\n        setUpdates(api_data.api_response);\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser.is_admin) {\n      reload();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onUpdate = useCallback(\n    (svc, updateData) => {\n      apiCall({\n        method: 'PUT',\n        url: '/api/v4/service/update/',\n        body: {\n          name: svc,\n          update_data: updateData\n        },\n        onSuccess: () => {\n          const newUpdates = { ...updates };\n          newUpdates[svc] = { ...newUpdates[svc], updating: true };\n          setUpdates(newUpdates);\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [updates]\n  );\n\n  const onDeleted = () => {\n    setGlobalDrawer(null);\n    setTimeout(() => reload(), 1000);\n  };\n\n  const setService = useCallback(\n    (service_name: string) => {\n      setGlobalDrawer(<Service name={service_name} onDeleted={onDeleted} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\" fullWidth maxWidth=\"md\">\n        <DialogTitle id=\"form-dialog-title\">{t('add.title')}</DialogTitle>\n        <DialogContent>\n          <TextField\n            label={t('add.paste')}\n            multiline\n            rows={24}\n            variant=\"outlined\"\n            fullWidth\n            InputProps={{\n              style: { fontFamily: 'monospace' }\n            }}\n            onChange={handleManifestChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)} color=\"secondary\">\n            {t('add.cancelText')}\n          </Button>\n          <Button onClick={handleAddService} color=\"primary\" disabled={!manifest}>\n            {t('add.acceptText')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Grid container alignItems=\"center\" spacing={3} style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid item xs>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          {serviceResults ? (\n            <Typography variant=\"caption\">{`${serviceResults.length} ${t('count')}`}</Typography>\n          ) : (\n            <Skeleton width=\"8rem\" />\n          )}\n        </Grid>\n        <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n          <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n            <Tooltip title={t('add')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => setOpen(true)}\n              >\n                <AddCircleOutlineIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <ServiceTable serviceResults={serviceResults} updates={updates} setService={setService} onUpdate={onUpdate} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import {\n  createStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport HttpsOutlinedIcon from '@material-ui/icons/HttpsOutlined';\nimport NoEncryptionOutlinedIcon from '@material-ui/icons/NoEncryptionOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport useUser from 'commons/components/hooks/useAppUser';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: theme.spacing(1),\n      paddingLeft: theme.spacing(1),\n      wordBreak: 'break-all'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\nexport default function SiteMap() {\n  const { t } = useTranslation(['adminSiteMap']);\n  const theme = useTheme();\n  const [siteMap, setSiteMap] = useState(null);\n  const apiCall = useMyAPI();\n  const { user: currentUser } = useUser<CustomUser>();\n\n  const privMap = {\n    R: 'success',\n    W: 'warning',\n    E: 'error'\n  };\n\n  const reqMapColor = {\n    user: 'default',\n    signature_importer: 'warning',\n    signature_manager: 'info',\n    admin: 'error'\n  };\n\n  useEffect(() => {\n    apiCall({\n      method: 'GET',\n      url: '/api/site_map/',\n      onSuccess: api_data => {\n        setSiteMap(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <div style={{ marginBottom: theme.spacing(2), textAlign: 'left' }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n        {siteMap ? (\n          <Typography variant=\"caption\">{`${siteMap.length} ${t('caption')}`}</Typography>\n        ) : (\n          <Skeleton width=\"10rem\" />\n        )}\n      </div>\n      {siteMap ? (\n        <TableContainer component={Paper}>\n          <Table size=\"small\" stickyHeader>\n            <TableHead>\n              <TableRow>\n                <StyledTableCell>{t('header.url')}</StyledTableCell>\n                <StyledTableCell>{t('header.function')}</StyledTableCell>\n                <StyledTableCell>{t('header.methods')}</StyledTableCell>\n                <StyledTableCell>{t('header.protected')}</StyledTableCell>\n                <StyledTableCell colSpan={2}>{t('header.permissions')}</StyledTableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {siteMap.map((path, id) => (\n                <TableRow key={id} hover>\n                  <StyledTableCell>{path.url}</StyledTableCell>\n                  <StyledTableCell>{path.function}</StyledTableCell>\n                  <StyledTableCell>\n                    {path.methods &&\n                      path.methods.map((method, mid) => {\n                        return <div key={mid}>{method}</div>;\n                      })}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.protected ? (\n                      <HttpsOutlinedIcon color=\"primary\" />\n                    ) : (\n                      <NoEncryptionOutlinedIcon color=\"error\" />\n                    )}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.req_priv &&\n                      path.req_priv.map((priv, pid) => {\n                        return (\n                          <CustomChip\n                            key={pid}\n                            mono\n                            type=\"rounded\"\n                            color={privMap[priv]}\n                            size=\"tiny\"\n                            label={priv}\n                            tooltip={t(`${priv}`)}\n                          />\n                        );\n                      })}\n                  </StyledTableCell>\n                  <StyledTableCell>\n                    {path.required_type &&\n                      path.required_type.map((req, rid) => {\n                        return (\n                          <CustomChip\n                            key={rid}\n                            mono\n                            type=\"rounded\"\n                            color={reqMapColor[req]}\n                            size=\"tiny\"\n                            label={t(req)}\n                            tooltip={t(`${req}_label`)}\n                          />\n                        );\n                      })}\n                  </StyledTableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <Skeleton variant=\"rect\" height=\"10rem\" style={{ borderRadius: '4px' }} />\n      )}\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from 'components/visual/DivTable';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type UserResult = {\n  classification: string;\n  email: string;\n  groups: string[];\n  id: string;\n  is_active: boolean;\n  name: string;\n  type: string[];\n  uname: string;\n};\n\ntype SearchResults = {\n  items: UserResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype UsersTableProps = {\n  userResults: SearchResults;\n};\n\nconst WrappedUsersTable: React.FC<UsersTableProps> = ({ userResults }) => {\n  const { t } = useTranslation(['adminUsers']);\n  const { c12nDef } = useALContext();\n\n  return userResults ? (\n    userResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable size=\"small\">\n          <DivTableHead>\n            <DivTableRow style={{ whiteSpace: 'nowrap' }}>\n              <SortableHeaderCell sortField=\"uname\">{t('header.uid')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\">{t('header.fullname')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"groups\">{t('header.groups')}</SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\">{t('header.classification')}</SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"is_active\">{t('header.active')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\">{t('header.admin')}</SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {userResults.items.map(user => (\n              <LinkRow key={user.id} to={`/admin/users/${user.uname}`} hover style={{ textDecoration: 'none' }}>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{user.uname}</DivTableCell>\n                <DivTableCell>{user.name}</DivTableCell>\n                <DivTableCell>{user.groups.join(' | ')}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell style={{ whiteSpace: 'nowrap' }}>\n                    <Classification type=\"text\" size=\"tiny\" c12n={user.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell>\n                  {user.is_active ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n                <DivTableCell>\n                  {user.type.indexOf('admin') !== -1 ? <DoneIcon color=\"primary\" /> : <ClearIcon color=\"error\" />}\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_users_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst UsersTable = React.memo(WrappedUsersTable);\nexport default UsersTable;\n","import {\n  Box,\n  Button,\n  CircularProgress,\n  Drawer,\n  Grid,\n  IconButton,\n  makeStyles,\n  TextField,\n  Tooltip,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport UsersTable from 'components/visual/SearchResult/users';\nimport ChipInput from 'material-ui-chip-input';\nimport 'moment/locale/fr';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\nconst DEFAULT_USER = {\n  avatar: null,\n  groups: ['USERS'],\n  is_active: true,\n  type: ['user'],\n  classification: null,\n  email: '',\n  name: '',\n  new_pass: '',\n  uname: '',\n  api_quota: 10,\n  submission_quota: 5\n};\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\ntype User = {\n  avatar: string;\n  email: string;\n  groups: string[];\n  is_active: boolean;\n  type: string[];\n  classification: string;\n  name: string;\n  new_pass: string;\n  uname: string;\n  api_quota: number;\n  submission_quota: number;\n};\n\nexport default function Users() {\n  const { t } = useTranslation(['adminUsers']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const [drawer, setDrawer] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, c12nDef } = useALContext();\n  const [userResults, setUserResults] = useState(null);\n  const [newUser, setNewUser] = useState<User>(DEFAULT_USER);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const { showSuccessMessage } = useMySnackbar();\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const [suggestions, setSuggestions] = useState(DEFAULT_SUGGESTION);\n  const filterValue = useRef<string>('');\n\n  const closeDrawer = () => {\n    setDrawer(false);\n  };\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query && currentUser.is_admin) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        url: `/api/v4/user/list/?${query.toString()}`,\n        onSuccess: api_data => {\n          setUserResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    setClassification(c12nDef.UNRESTRICTED);\n    apiCall({\n      url: '/api/v4/search/fields/user/',\n      onSuccess: api_data => {\n        setSuggestions([\n          ...Object.keys(api_data.api_response).filter(name => {\n            return api_data.api_response[name].indexed;\n          }),\n          ...DEFAULT_SUGGESTION\n        ]);\n      }\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onClear = () => {\n    history.push(location.pathname);\n  };\n\n  const onSearch = () => {\n    if (filterValue.current !== '') {\n      query.set('query', filterValue.current);\n      history.push(`${location.pathname}?${query.toString()}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const updateNewUser = (key, value) => {\n    setNewUser({ ...newUser, [key]: value });\n  };\n\n  function setClassification(value) {\n    setNewUser({ ...newUser, classification: value });\n  }\n\n  function toggleRole(role) {\n    const newTypes = newUser.type;\n    if (newTypes.indexOf(role) === -1) {\n      newTypes.push(role);\n    } else {\n      newTypes.splice(newTypes.indexOf(role), 1);\n    }\n    setNewUser({ ...newUser, type: newTypes });\n  }\n\n  const handleAddUser = () => {\n    apiCall({\n      method: 'PUT',\n      url: `/api/v4/user/${newUser.uname}/`,\n      body: newUser,\n      onSuccess: api_data => {\n        showSuccessMessage(t('newuser.success'));\n        setDrawer(false);\n        setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  return currentUser.is_admin ? (\n    <PageFullWidth margin={4}>\n      <Drawer anchor=\"right\" classes={{ paper: classes.drawerPaper }} open={drawer} onClose={closeDrawer}>\n        <div id=\"drawerTop\" style={{ padding: theme.spacing(1) }}>\n          <IconButton onClick={closeDrawer}>\n            <CloseOutlinedIcon />\n          </IconButton>\n        </div>\n        <div style={{ paddingLeft: theme.spacing(2), paddingRight: theme.spacing(2) }}>\n          <Box mb={3}>\n            <Typography variant=\"h5\">{t('newuser.title')}</Typography>\n          </Box>\n          {c12nDef.enforce && (\n            <Box mb={1}>\n              <Classification\n                type=\"picker\"\n                size=\"medium\"\n                format=\"long\"\n                c12n={newUser.classification}\n                setClassification={setClassification}\n                isUser\n              />\n            </Box>\n          )}\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.uname')}</Typography>\n              <TextField\n                autoFocus\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('uname', event.target.value)}\n                value={newUser.uname}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.name')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('name', event.target.value)}\n                value={newUser.name}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"caption\">{t('newuser.groups')}</Typography>\n              <ChipInput\n                style={{ display: 'block' }}\n                margin=\"dense\"\n                defaultValue={newUser.groups}\n                onChange={chips => updateNewUser('groups', chips)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.new_pass')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('new_pass', event.target.value)}\n                value={newUser.new_pass}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.email')}</Typography>\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('email', event.target.value)}\n                value={newUser.email}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"caption\">{t('newuser.roles')}</Typography>\n              <div>\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('user') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('user')}\n                  label={t('role.normal_user')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('admin') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('admin')}\n                  label={t('role.admin')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('signature_manager') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('signature_manager')}\n                  label={t('role.signature_manager')}\n                />\n                <CustomChip\n                  type=\"rounded\"\n                  size=\"small\"\n                  color={newUser.type.includes('signature_importer') ? 'primary' : 'default'}\n                  onClick={() => toggleRole('signature_importer')}\n                  label={t('role.signature_importer')}\n                />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.api_quota')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('api_quota', event.target.value)}\n                value={newUser.api_quota}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"caption\">{t('newuser.submission_quota')}</Typography>\n              <TextField\n                fullWidth\n                type=\"number\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={event => updateNewUser('submission_quota', event.target.value)}\n                value={newUser.submission_quota}\n              />\n            </Grid>\n          </Grid>\n          <Box my={2} textAlign=\"right\">\n            <Button\n              disabled={buttonLoading || !newUser.uname}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleAddUser}\n            >\n              {t('newuser.save')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </Box>\n        </div>\n      </Drawer>\n\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_user')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => {\n                  setDrawer(true);\n                }}\n              >\n                <PersonAddIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <SupervisorAccountIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('admins'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'type:admin');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <BlockIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('disabled'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'is_active:false');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {userResults !== null && (\n              <div className={classes.searchresult}>\n                {userResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {userResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${userResults.total === 1 ? '' : 's'}`)\n                          : t(`total${userResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  method=\"GET\"\n                  url=\"/api/v4/user/list/\"\n                  total={userResults.total}\n                  setResults={setUserResults}\n                  pageSize={pageSize}\n                  index=\"user\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <UsersTable userResults={userResults} />\n      </div>\n    </PageFullWidth>\n  ) : (\n    <Redirect to=\"/forbidden\" />\n  );\n}\n","import { makeStyles, Theme, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport CustomChip, { CustomChipProps } from 'components/visual/CustomChip';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  chiplist: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    listStyle: 'none',\n    padding: 0,\n    boxShadow: 'inherit',\n    margin: 0\n  },\n  chip: {\n    marginBottom: theme.spacing(0.5),\n    marginRight: theme.spacing(1)\n  }\n}));\n\ntype ChipListProps = {\n  items: CustomChipProps[];\n};\n\nconst ChipSkeleton = () => {\n  return <Skeleton variant=\"rect\" height=\"24px\" width=\"4rem\" style={{ borderRadius: '16px', marginRight: '4px' }} />;\n};\n\nconst ChipSkeletonInline = () => {\n  return (\n    <Skeleton\n      variant=\"rect\"\n      height=\"24px\"\n      width=\"4rem\"\n      style={{ borderRadius: '16px', marginRight: '4px', display: 'inline-block', verticalAlign: 'middle' }}\n    />\n  );\n};\n\nconst ChipList: React.FC<ChipListProps> = ({ items }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  return (\n    <ul className={classes.chiplist}>\n      {items\n        ? items.map((cp, i) => {\n            return (\n              <li key={`chiplist-${i}`}>\n                <CustomChip size=\"small\" className={classes.chip} wrap {...cp} />\n              </li>\n            );\n          })\n        : [...Array(3)].map((k, i) => {\n            return (\n              <Skeleton\n                key={`chiplist-${i}`}\n                variant=\"rect\"\n                height={theme.spacing(3)}\n                width=\"4rem\"\n                style={{\n                  verticalAlign: 'middle',\n                  display: 'inline-block',\n                  borderRadius: theme.spacing(2),\n                  marginRight: theme.spacing(0.5)\n                }}\n              />\n            );\n          })}\n    </ul>\n  );\n};\n\nexport { ChipList, ChipSkeleton, ChipSkeletonInline };\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport CustomChip from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype VerdictProps = {\n  score: number;\n  short?: boolean;\n  variant?: 'outlined' | 'default';\n  size?: 'tiny' | 'small' | 'medium';\n  type?: 'rounded' | 'text';\n  mono?: boolean;\n  fullWidth?: boolean;\n  wrap?: boolean;\n};\n\nconst WrappedVerdict: React.FC<VerdictProps> = ({\n  score,\n  type = 'rounded',\n  variant = 'default',\n  size = 'tiny',\n  short = false,\n  mono = false,\n  fullWidth = false,\n  wrap = false\n}) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  const VERDICT_SCORE_MAP = {\n    info: {\n      shortText: t('verdict.info.short'),\n      text: t('verdict.info'),\n      color: 'default' as 'default',\n      textColor: theme.palette.type === 'dark' ? '#AAA' : '#888'\n    },\n    safe: {\n      shortText: t('verdict.safe.short'),\n      text: t('verdict.safe'),\n      color: 'success' as 'success',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n    },\n    suspicious: {\n      shortText: t('verdict.suspicious.short'),\n      text: t('verdict.suspicious'),\n      color: 'warning' as 'warning',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    highly_suspicious: {\n      shortText: t('verdict.highly_suspicious.short'),\n      text: t('verdict.highly_suspicious'),\n      color: 'warning' as 'warning',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    malicious: {\n      shortText: t('verdict.malicious.short'),\n      text: t('verdict.malicious'),\n      color: 'error' as 'error',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n    }\n  };\n\n  const { text, color, shortText, textColor } = VERDICT_SCORE_MAP[scoreToVerdict(score)];\n\n  return (\n    <Tooltip title={`${text} [Score: ${score}]`}>\n      <span>\n        {type === 'text' ? (\n          <span style={{ fontWeight: 500, color: textColor }}>{text}</span>\n        ) : (\n          <CustomChip\n            type={type}\n            variant={variant}\n            size={size}\n            label={short ? shortText : text}\n            color={color}\n            mono={mono}\n            fullWidth={fullWidth}\n            wrap={wrap}\n          />\n        )}\n      </span>\n    </Tooltip>\n  );\n};\n\nconst Verdict = React.memo(WrappedVerdict);\nexport default Verdict;\n","import { Box, makeStyles, Typography } from '@material-ui/core';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport RemoveOutlinedIcon from '@material-ui/icons/RemoveOutlined';\nimport CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles({\n  priority: {\n    '& > svg': {\n      verticalAlign: 'bottom'\n    }\n  }\n});\n\nconst COLOR_MAP = {\n  CRITICAL: {\n    color: 'hsl(0, 100%, 40%)',\n    chip_color: 'error',\n    arrow: <ArrowUpwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  HIGH: {\n    color: 'hsl(39, 100%, 40%)',\n    chip_color: 'warning',\n    arrow: <ArrowUpwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  MEDIUM: {\n    color: 'hsl(39, 100%, 40%)',\n    chip_color: 'warning',\n    arrow: <ArrowDownwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  LOW: {\n    color: 'hsl(120, 100%, 30%)',\n    chip_color: 'success',\n    arrow: <ArrowDownwardIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  undefined: {\n    color: 'inherit',\n    chip_color: 'default',\n    arrow: <RemoveOutlinedIcon fontSize=\"small\" color=\"inherit\" />\n  },\n  null: { color: 'inherit', chip_color: 'default', arrow: <RemoveOutlinedIcon fontSize=\"small\" color=\"inherit\" /> }\n};\n\ntype AlertPriorityProps = {\n  name: string;\n  withText?: boolean;\n  withChip?: boolean;\n  size?: 'tiny' | 'small' | 'medium';\n};\n\nconst AlertPriority: React.FC<AlertPriorityProps> = ({ name, withText = false, withChip = false, size = 'small' }) => {\n  const { t } = useTranslation('alerts');\n  const classes = useStyles();\n  return withChip ? (\n    <CustomChip\n      wrap\n      size={size}\n      variant=\"outlined\"\n      color={COLOR_MAP[name].chip_color}\n      label={name ? t(`priority_${name}`) : t('priority_unset')}\n      icon={COLOR_MAP[name].arrow}\n    />\n  ) : (\n    <Box style={{ color: COLOR_MAP[name].color }} display=\"inline-block\" className={classes.priority}>\n      {COLOR_MAP[name].arrow}{' '}\n      {withText ? <Typography>{name ? t(`priority_${name}`) : t('priority_unset')}</Typography> : ''}\n    </Box>\n  );\n};\n\nexport default AlertPriority;\n","import CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst COLOR_MAP = {\n  TRIAGE: 'default',\n  MALICIOUS: 'error',\n  'NON-MALICIOUS': 'success',\n  ASSESS: 'primary'\n};\n\ntype AlertStatusProps = {\n  name: string;\n  size?: 'tiny' | 'small' | 'medium';\n};\n\nconst AlertStatus: React.FC<AlertStatusProps> = ({ name, size = 'small' as 'small' }) => {\n  const { t } = useTranslation('alerts');\n  return name ? (\n    <CustomChip size={size} variant=\"outlined\" color={COLOR_MAP[name]} label={t(`status_${name}`)} />\n  ) : null;\n};\n\nexport default AlertStatus;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Box, Divider, Grid, IconButton, makeStyles, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport Alert from '@material-ui/lab/Alert';\nimport useClipboard from 'commons/components/hooks/useClipboard';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport { ChipList, ChipSkeleton, ChipSkeletonInline } from 'components/visual/ChipList';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BsClipboard } from 'react-icons/bs';\nimport { Link, useParams } from 'react-router-dom';\nimport AlertPriority from './alert-priority';\nimport AlertStatus from './alert-status';\n\nconst useStyles = makeStyles(theme => ({\n  section: {\n    marginBottom: theme.spacing(2),\n    '& > hr': {\n      marginBottom: theme.spacing(1)\n    }\n  },\n  sectionTitle: {\n    fontWeight: 'bold'\n  },\n  sectionContent: {},\n  clipboardIcon: {\n    '&:hover': {\n      cursor: 'pointer',\n      transform: 'scale(1.1)'\n    }\n  }\n}));\n\ntype AlertDetailsProps = {\n  id?: string;\n  alert?: AlertItem;\n};\n\nconst SkeletonInline = () => {\n  return <Skeleton style={{ display: 'inline-block', width: '10rem' }} />;\n};\n\nconst AlertDetails: React.FC<AlertDetailsProps> = ({ id, alert }) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const { c12nDef } = useALContext();\n  const { copy } = useClipboard();\n  const [item, setItem] = useState<AlertItem>(null);\n  const { id: paramId } = useParams<{ id: string }>();\n\n  useEffect(() => {\n    const alertId = id || paramId;\n    if (alertId) {\n      apiCall({\n        url: `/api/v4/alert/${alertId}/`,\n        onSuccess: api_data => {\n          setItem(api_data.api_response);\n        }\n      });\n    }\n  }, [id, paramId]);\n\n  useEffect(() => {\n    if (alert) setItem(alert);\n  }, [alert]);\n\n  useEffect(() => {\n    function handleAlertUpdate(event: CustomEvent) {\n      const { detail } = event;\n      if (detail.id === item.id) {\n        setItem({ ...item, ...detail.changes });\n      }\n    }\n    window.addEventListener('alertUpdate', handleAlertUpdate);\n    return () => {\n      window.removeEventListener('alertUpdate', handleAlertUpdate);\n    };\n  }, [item]);\n\n  return (\n    <PageCenter margin={!alert ? 4 : 1} width=\"100%\">\n      {c12nDef.enforce && (\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: theme.spacing(2) }}>\n          <div style={{ flex: 1 }}>\n            <Classification c12n={item ? item.classification : null} type=\"outlined\" />\n          </div>\n        </div>\n      )}\n      {!alert && (\n        <div style={{ paddingBottom: theme.spacing(3), textAlign: 'left' }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t('detail.title')}</Typography>\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n              {item ? (\n                <Tooltip title={t('submission')}>\n                  <IconButton\n                    component={Link}\n                    style={{ color: theme.palette.action.active }}\n                    to={`/submission/\"${item.sid}\"`}\n                  >\n                    <AmpStoriesOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        {item && item.filtered && (\n          <div style={{ marginBottom: theme.spacing(3) }}>\n            <Alert severity=\"warning\">{t('data_filtered_msg')}</Alert>\n          </div>\n        )}\n        <Grid container spacing={1}>\n          <Grid item xs={12} md={6}>\n            {/* Alert ID Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('alert_id')}</Typography>\n              <Divider />\n              {item ? item.alert_id : <Skeleton />}\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Score Section. */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('score')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {item ? <Verdict size=\"tiny\" score={item.al.score} /> : <Skeleton />}\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* User Verdict Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('user_verdict')}</Typography>\n              <Divider />\n              {item ? (\n                <div style={{ display: 'flex' }}>\n                  <div style={{ flexGrow: 1 }}>\n                    <div>{`${item.verdict.malicious.length}x ${t('verdict.malicious')}`}</div>\n                    <div>{`${item.verdict.non_malicious.length}x ${t('verdict.non_malicious')}`}</div>\n                  </div>\n                  <div\n                    style={{\n                      flexGrow: 0,\n                      alignSelf: 'center',\n                      paddingLeft: theme.spacing(2),\n                      paddingRight: theme.spacing(2)\n                    }}\n                  >\n                    {item.verdict.malicious.length > item.verdict.non_malicious.length && <BugReportOutlinedIcon />}\n                    {item.verdict.non_malicious.length > item.verdict.malicious.length && <VerifiedUserOutlinedIcon />}\n                  </div>\n                </div>\n              ) : (\n                <>\n                  <Skeleton />\n                  <Skeleton />\n                </>\n              )}\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Priority Section. */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('priority')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <Box display=\"flex\">\n                  {item ? <AlertPriority name={item ? item.priority : null} withText withChip /> : <ChipSkeleton />}\n                </Box>\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={6} md={3}>\n            {/* Status Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('status')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {item ? <AlertStatus name={item.status} /> : <ChipSkeleton />}\n              </div>\n            </div>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            {/* Labels Section */}\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('label')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <ChipList items={item ? item.label.map(label => ({ label, variant: 'outlined' })) : null} />\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n\n        {/*  Reporting Date, Type and Owner */}\n        <Grid container spacing={2}>\n          {/* Reporting Type Section */}\n          <Grid item xs={12} md={6}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('dates')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                <Grid container>\n                  <Grid item xs={3} sm={2} md={4}>\n                    {t('received_date')}\n                  </Grid>\n                  <Grid item xs={9} sm={10} md={8}>\n                    {item ? `${item.ts.replace('T', ' ').replace('Z', '')} (UTC)` : <Skeleton />}\n                  </Grid>\n                  <Grid item xs={3} sm={2} md={4}>\n                    {t('alerted_date')}\n                  </Grid>\n                  <Grid item xs={9} sm={10} md={8}>\n                    {item ? `${item.reporting_ts.replace('T', ' ').replace('Z', '')} (UTC)` : <Skeleton />}\n                  </Grid>\n                </Grid>\n              </div>\n            </div>\n          </Grid>\n          {/* Type Section. */}\n          <Grid item xs={6} md={3}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('type')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>{item ? item.type : <Skeleton />}</div>\n            </div>\n          </Grid>\n          {/* Owner Section. */}\n          <Grid item xs={6} md={3}>\n            <div className={classes.section}>\n              <Typography className={classes.sectionTitle}>{t('ownership')}</Typography>\n              <Divider />\n              <div className={classes.sectionContent}>\n                {/* TODO: don't display user when none. */}\n                {item ? item.owner ? item.owner : item.hint_owner ? 'assigned' : null : <Skeleton />}\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n\n        {/* File Info */}\n        <div className={classes.section}>\n          <Typography className={classes.sectionTitle}>{t('file_info')}</Typography>\n          <Divider />\n          <div className={classes.sectionContent}>\n            <Grid container>\n              <Grid item xs={12} style={{ marginBottom: theme.spacing(1) }}>\n                <span>{item ? item.file.name : <SkeletonInline />}</span>\n                <span style={{ marginLeft: theme.spacing(1), marginRight: theme.spacing(1), wordBreak: 'break-all' }}>\n                  {item ? (\n                    <CustomChip label={item.file.type} variant=\"outlined\" size=\"small\" />\n                  ) : (\n                    <ChipSkeletonInline />\n                  )}\n                </span>\n                <Typography variant=\"caption\">\n                  {item ? `${item.file.size} (${(item.file.size / 1024).toFixed(2)} Kb)` : <SkeletonInline />}\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.md5, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  MD5:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.md5 : <SkeletonInline />}\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.sha1, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  SHA1:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.sha1 : <SkeletonInline />}\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <BsClipboard\n                  className={classes.clipboardIcon}\n                  onClick={item ? () => copy(item.file.sha256, 'drawerTop') : null}\n                />\n                <Typography variant=\"caption\" style={{ marginLeft: theme.spacing(0.5) }}>\n                  SHA256:\n                </Typography>\n              </Grid>\n              <Grid item xs={9} sm={10} style={{ wordBreak: 'break-all' }}>\n                {item ? item.file.sha256 : <SkeletonInline />}\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        {/* Metadata Section */}\n        {!item || (item.metadata && Object.keys(item.metadata).length > 0) ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('metadata')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <pre style={{ margin: 0, fontSize: 'larger', whiteSpace: 'pre-wrap', wordBreak: 'break-all' }}>\n                {item ? (\n                  Object.keys(item.metadata).map(k => (\n                    <Grid container spacing={1} key={`alert-metadata-${k}`}>\n                      <Grid item xs={3} sm={2}>\n                        {k}\n                      </Grid>\n                      <Grid item xs={9} sm={10}>\n                        {item.metadata[k]}\n                      </Grid>\n                    </Grid>\n                  ))\n                ) : (\n                  <>\n                    <Skeleton />\n                    <Skeleton />\n                    <Skeleton />\n                  </>\n                )}\n              </pre>\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL Attributions Section */}\n        {!item || item.al.attrib.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('attributions')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList\n                items={item ? item.al.attrib.map(label => ({ label, variant: 'outlined', color: 'error' })) : null}\n              />\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL AV Hits */}\n        {!item || item.al.av.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('avhits')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList\n                items={item ? item.al.av.map(label => ({ label, variant: 'outlined', color: 'warning' })) : null}\n              />\n            </div>\n          </div>\n        ) : null}\n\n        {/* IPs sections */}\n        {!item || item.al.ip.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('ip')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('ip_dynamic')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.ip_dynamic.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'primary'\n                          }))\n                        : null\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('ip_static')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.ip_static.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'primary'\n                          }))\n                        : null\n                    }\n                  />{' '}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Domains sections */}\n        {!item || item.al.domain.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('domain')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('domain_dynamic')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.domain_dynamic.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'success'\n                          }))\n                        : null\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\">\n                    <i>{t('domain_static')}</i>\n                  </Typography>\n                  <ChipList\n                    items={\n                      item\n                        ? item.al.domain_static.map(label => ({\n                            label,\n                            variant: 'outlined',\n                            color: 'success'\n                          }))\n                        : null\n                    }\n                  />{' '}\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Attack Section */}\n        {!item || item.attack.category.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('attack')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <Grid container spacing={1}>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\" style={{ marginRight: theme.spacing(1) }}>\n                    <i>{t('attack_category')}</i>\n                  </Typography>\n                  <div style={{ verticalAlign: 'middle', display: 'inline-block' }}>\n                    <ChipList\n                      items={item ? item.attack.category.map(label => ({ label, variant: 'outlined' })) : null}\n                    />\n                  </div>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Typography variant=\"caption\" style={{ marginRight: theme.spacing(1) }}>\n                    <i>{t('attack_pattern')}</i>\n                  </Typography>\n                  <div style={{ verticalAlign: 'middle', display: 'inline-block' }}>\n                    <ChipList\n                      items={item ? item.attack.pattern.map(label => ({ label, variant: 'outlined' })) : null}\n                    />\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Heuristics Section */}\n        {!item || (item.heuristic && item.heuristic.name && item.heuristic.name.length !== 0) ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('heuristic')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.heuristic.name.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n\n        {/* AL Behaviours Section */}\n        {!item || item.al.behavior.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('behaviors')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.al.behavior.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n\n        {/* YARA Hits */}\n        {!item || item.al.yara.length !== 0 ? (\n          <div className={classes.section}>\n            <Typography className={classes.sectionTitle}>{t('yara')}</Typography>\n            <Divider />\n            <div className={classes.sectionContent}>\n              <ChipList items={item ? item.al.yara.map(label => ({ label, variant: 'outlined' })) : null} />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </PageCenter>\n  );\n};\n\nexport default AlertDetails;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { makeStyles } from '@material-ui/core';\nimport { isArrowDown, isArrowLeft, isArrowRight, isArrowUp } from 'commons/addons/elements/utils/keyboard';\nimport React, { useRef } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    outline: 'none'\n  }\n}));\n\nexport interface CarouselProps {\n  disableArrowUp?: boolean;\n  disableArrowDown?: boolean;\n  disableArrowLeft?: boolean;\n  disableArrowRight?: boolean;\n  enableSwipe?: boolean;\n  children: React.ReactNode;\n  onNext: () => void;\n  onPrevious: () => void;\n}\n\nconst Carousel: React.FC<CarouselProps> = ({\n  enableSwipe,\n  disableArrowUp,\n  disableArrowDown,\n  disableArrowLeft,\n  disableArrowRight,\n  children,\n  onPrevious,\n  onNext\n}) => {\n  const classes = useStyles();\n  const touchX = useRef<number>(-1);\n  const touchY = useRef<number>(-1);\n  const touchStartX = useRef<number>(-1);\n  const touchStartY = useRef<number>(-1);\n  const touchDirection = useRef<'left' | 'right' | 'scroll'>();\n  const touchStale = useRef<boolean>(false);\n\n  const onKeyDown = (event: React.KeyboardEvent) => {\n    const { key } = event;\n    if ((!disableArrowLeft && isArrowLeft(key)) || (!disableArrowUp && isArrowUp(key))) {\n      onPrevious();\n    } else if ((!disableArrowRight && isArrowRight(key)) || (!disableArrowDown && isArrowDown(key))) {\n      onNext();\n    }\n  };\n\n  const onTouchStart = (event: React.TouchEvent) => {\n    touchX.current = event.touches[0].clientX;\n    touchY.current = event.touches[0].clientY;\n    touchStartX.current = event.touches[0].clientX;\n    touchStartY.current = event.touches[0].clientY;\n  };\n\n  const onTouchMove = (event: React.TouchEvent) => {\n    if (!touchStale.current) {\n      // Where it's at.\n      const moveX = event.touches[0].clientX;\n      const moveY = event.touches[0].clientY;\n\n      // Touch direction..\n      let nextDirection = null;\n      const xDistance = Math.abs(moveX - touchStartX.current);\n      const yDistance = Math.abs(moveY - touchStartY.current);\n\n      if (xDistance > yDistance) {\n        if (moveX > touchX.current) {\n          nextDirection = 'right';\n        } else if (moveX < touchX.current) {\n          nextDirection = 'left';\n        } else {\n          nextDirection = 'scroll';\n        }\n      } else {\n        nextDirection = 'scroll';\n      }\n\n      if (\n        touchDirection.current !== 'scroll' &&\n        nextDirection !== 'scroll' &&\n        touchDirection.current &&\n        nextDirection !== touchDirection.current\n      ) {\n        // if there is a change in direction, we mark the touch as stale.\n        // this will let users scroll left-right when there is overflow.\n        touchStale.current = true;\n        touchDirection.current = null;\n      } else {\n        // the direction of the touch motion.\n        touchDirection.current = nextDirection;\n      }\n\n      // Track last touch position to detect direction change next time around.\n      touchX.current = moveX;\n      touchY.current = moveY;\n    }\n  };\n\n  const onTouchEnd = () => {\n    if (touchDirection.current === 'right') {\n      onPrevious();\n    } else if (touchDirection.current === 'left') {\n      onNext();\n    }\n    touchDirection.current = null;\n    touchStale.current = false;\n  };\n\n  return (\n    <div\n      tabIndex={-1}\n      className={classes.container}\n      onKeyDown={onKeyDown}\n      onTouchStart={enableSwipe && onTouchStart}\n      onTouchMove={enableSwipe && onTouchMove}\n      onTouchEnd={enableSwipe && onTouchEnd}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Carousel;\n","export default class Throttler {\n  private throttleId: NodeJS.Timeout = null;\n\n  private delayId: NodeJS.Timeout = null;\n\n  private msec: number = null;\n\n  constructor(msec: number) {\n    this.msec = msec;\n    this.delay = this.delay.bind(this);\n  }\n\n  public throttle(fn: () => void): void {\n    if (!this.throttleId) {\n      this.throttleId = setTimeout(() => {\n        fn();\n        this.throttleId = null;\n      }, this.msec);\n    }\n  }\n\n  public delay(fn: () => void): void {\n    if (this.delayId) {\n      clearTimeout(this.delayId);\n    }\n    this.delayId = setTimeout(fn, this.msec);\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useCallback } from 'react';\nimport Throttler from '../../utils/throttler';\n\nconst THROTTLER = new Throttler(10);\n\nexport const LIST_SELECT_EVENTNAME = 'mui.elements.list.cursor.set';\nexport const LIST_SELECT_NEXT_EVENTNAME = 'mui.elements.list.cursor.next';\nexport const LIST_SELECT_PREVIOUS_EVENTNAME = 'mui.elements.list.cursor.previous';\n\ninterface UsingList {\n  select: (index: number) => void;\n  selectNext: () => void;\n  selectPrevious: () => void;\n  register: (handers: { onSelect; onSelectNext; onSelectPrevious }) => void;\n}\n\nexport default function useList(listId: string): UsingList {\n  const select = (cursor: number) => {\n    THROTTLER.throttle(() =>\n      window.dispatchEvent(new CustomEvent(`${LIST_SELECT_EVENTNAME}.${listId}`, { detail: { cursor } }))\n    );\n  };\n  const selectNext = () => {\n    THROTTLER.throttle(() => window.dispatchEvent(new CustomEvent(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`)));\n  };\n  const selectPrevious = () => {\n    THROTTLER.throttle(() => window.dispatchEvent(new CustomEvent(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`)));\n  };\n\n  const register = handlers => {\n    window.addEventListener(`${LIST_SELECT_EVENTNAME}.${listId}`, handlers.onSelect);\n    window.addEventListener(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`, handlers.onSelectNext);\n    window.addEventListener(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`, handlers.onSelectPrevious);\n    return () => {\n      window.removeEventListener(`${LIST_SELECT_EVENTNAME}.${listId}`, handlers.onSelect);\n      window.removeEventListener(`${LIST_SELECT_NEXT_EVENTNAME}.${listId}`, handlers.onSelectNext);\n      window.removeEventListener(`${LIST_SELECT_PREVIOUS_EVENTNAME}.${listId}`, handlers.onSelectPrevious);\n    };\n  };\n\n  return {\n    select: useCallback(select, []),\n    selectNext: useCallback(selectNext, []),\n    selectPrevious: useCallback(selectPrevious, []),\n    register: useCallback(register, [])\n  };\n}\n","import Carousel from 'commons/addons/elements/carousel/Carousel';\nimport useListNavigator from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport React from 'react';\n\ninterface ListCarouselProps {\n  id: string;\n  enableSwipe?: boolean;\n  disableArrowUp?: boolean;\n  disableArrowDown?: boolean;\n  disableArrowLeft?: boolean;\n  disableArrowRight?: boolean;\n  children: React.ReactElement;\n}\n\nconst ListCarousel: React.FC<ListCarouselProps> = ({\n  id,\n  enableSwipe,\n  disableArrowUp,\n  disableArrowDown,\n  disableArrowLeft,\n  disableArrowRight,\n  children\n}) => {\n  const { selectNext, selectPrevious } = useListNavigator(id);\n  return (\n    <Carousel\n      enableSwipe={enableSwipe}\n      disableArrowDown={disableArrowDown}\n      disableArrowLeft={disableArrowLeft}\n      disableArrowRight={disableArrowRight}\n      disableArrowUp={disableArrowUp}\n      onNext={selectNext}\n      onPrevious={selectPrevious}\n    >\n      {children}\n    </Carousel>\n  );\n};\n\nexport default ListCarousel;\n","import { Box, IconButton } from '@material-ui/core';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useList from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport React from 'react';\n\nconst ListNavigator = ({ id }) => {\n  const { selectNext, selectPrevious } = useList(id);\n\n  const onNextItem = () => {\n    selectNext();\n  };\n\n  const onPreviousItem = () => {\n    selectPrevious();\n  };\n\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <IconButton onClick={onPreviousItem}>\n        <ChevronLeftIcon />\n      </IconButton>\n      <IconButton onClick={onNextItem}>\n        <ChevronRightIcon />\n      </IconButton>\n    </Box>\n  );\n};\n\nexport default ListNavigator;\n","import ListScroller from 'commons/addons/elements/lists/scrollers/ListScroller';\nimport { isArrowDown, isArrowUp, isEnter, isEscape } from 'commons/addons/elements/utils/keyboard';\nimport Throttler from 'commons/addons/elements/utils/throttler';\nimport { useState } from 'react';\n\nconst THROTTLER = new Throttler(10);\n\n// Specification interface return by custom hook\ninterface UsingListKeyboard {\n  cursor: number;\n  setCursor: (cursor: number) => void;\n  next: () => void;\n  previous: () => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => void;\n}\n\n// Specification interface to configure custom hook.\ninterface UseListKeyboard {\n  id: string;\n  count: number;\n  infinite?: boolean;\n  scroller: ListScroller;\n  pause?: boolean;\n  onCursorChange?: (cursor: number) => void;\n  onEscape?: (cursor: number) => void;\n  onEnter?: (cursor: number) => void;\n}\n\nexport default function useListKeyboard({\n  id,\n  count,\n  infinite,\n  scroller,\n  pause,\n  onCursorChange,\n  onEscape,\n  onEnter\n}: UseListKeyboard): UsingListKeyboard {\n  // Cursor state.\n  const [cursor, setCursor] = useState<number>(0);\n\n  // Update the cursor state and invoke callback if provided.\n  const updateState = (nextCursor: number) => {\n    setCursor(nextCursor);\n    scroller.scrollTo(nextCursor);\n    if (onCursorChange) {\n      onCursorChange(nextCursor);\n    }\n  };\n\n  // decrement cursor by one.\n  const next = () => {\n    const nextCursor = cursor + 1 < count || infinite ? cursor + 1 : 0;\n    updateState(nextCursor);\n  };\n\n  // increment cursor by one.\n  const previous = () => {\n    const nextCursor = cursor - 1 > -1 ? cursor - 1 : infinite ? 0 : count - 1;\n    updateState(nextCursor);\n  };\n\n  // hander:keydown\n  const onKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (!pause) {\n      // What key was hit?\n      const { key } = event;\n\n      // Check to see if we should schedule throttled event.\n      const accepts = isEnter(key) || isEscape(key) || isArrowUp(key) || isArrowDown(key);\n\n      // do we care?\n      if (accepts) {\n        // Prevent default behaviors.\n        event.preventDefault();\n        // Only run events after 10ms after receiving last one.\n        THROTTLER.throttle(() => {\n          // Handle each keys.\n          if (isEnter(key)) {\n            // key[ENTER ]: handler\n            if (onEnter) {\n              onEnter(cursor);\n            }\n          } else if (isEscape(key)) {\n            // key[ESCAPE]: handler\n            if (onEscape) {\n              onEscape(cursor);\n            }\n          } else if (isArrowUp(key)) {\n            // key[ARROW_UP]: handler\n            previous();\n          } else if (isArrowDown(key)) {\n            // key[ARROW_DOWN]: handler\n            next();\n          }\n        });\n      }\n    }\n  };\n\n  return { cursor, setCursor, next, previous, onKeyDown };\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useMetaListStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    overflow: 'auto',\n    width: '100%',\n    height: '100%',\n    outline: 'none'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%',\n    overflow: 'hidden'\n  },\n  frame: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useBooklistStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  inner: {\n    position: 'relative',\n    overflow: 'auto',\n    outline: 'none'\n  },\n  pager: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'row',\n    padding: theme.spacing(1)\n  },\n  pagerSpacer: {\n    flex: 1\n  },\n  pagerItems: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  pagerItem: {\n    marginLeft: theme.spacing(1),\n    display: 'inline-block'\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useSimpleListStyles = makeStyles(theme => ({\n  outer: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'auto',\n    minHeight: 300,\n    height: '100%',\n    width: '100%',\n    outline: 'none'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%'\n  },\n  progressCt: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    opacity: 0.7,\n    zIndex: 1,\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.default\n  },\n  progressSpinner: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%'\n  }\n}));\n\nconst useListItemStyles = makeStyles(theme => ({\n  itemCt: {\n    position: 'relative',\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    '&:hover $itemActions': {\n      display: 'inherit'\n    }\n  },\n  itemDefaultBackgrounds: {\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 17%)' : 'hsl(0, 0%, 95%)'\n    },\n    '&[data-listitem-focus=\"true\"]': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 17%)' : 'hsl(0, 0%, 95%)'\n    },\n    '&[data-listitem-selected=\"true\"]': {\n      backgroundColor: theme.palette.type === 'dark' ? 'hsl(0, 0%, 15%)' : 'hsl(0, 0%, 92%)'\n    }\n  },\n  itemOuter: {\n    position: 'relative',\n    // height: '100%',  ...\n    overflow: 'auto'\n  },\n  itemInner: {\n    // height: '100%'\n  },\n  itemDivider: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0\n  },\n  itemActions: {\n    position: 'absolute',\n    top: theme.spacing(1),\n    right: theme.spacing(1),\n    display: 'none',\n    backgroundColor: 'transparent',\n    '& button': {\n      marginRight: theme.spacing(1),\n      boxShadow: theme.shadows[2]\n    }\n  }\n}));\n\nexport default function useListStyles() {\n  return {\n    listItemClasses: useListItemStyles(),\n    metaListClasses: useMetaListStyles(),\n    booklistClasses: useBooklistStyles(),\n    simpleListStyles: useSimpleListStyles()\n  };\n}\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nimport { Divider, IconButtonProps } from '@material-ui/core';\nimport useListStyles from 'commons/addons/elements/lists/hooks/useListStyles';\nimport React, { useCallback } from 'react';\n\nexport interface LineItem {\n  id: number | string;\n}\n\nexport interface LineItemAction {\n  icon: React.ReactNode;\n  props: IconButtonProps;\n}\n\nexport interface ListItemBaseProps {\n  index: number;\n  item: LineItem;\n  height?: string | number;\n  selected: boolean;\n  noDivider?: boolean;\n  disableBackgrounds?: boolean;\n  children: (item: LineItem) => React.ReactNode;\n  onClick: (item: LineItem, index: number) => void;\n  onRenderActions?: (item: LineItem, index?: number) => React.ReactNode;\n}\n\nconst ListItemBase: React.FC<ListItemBaseProps> = React.memo(\n  ({ selected, item, index, height, noDivider, disableBackgrounds, children, onRenderActions, onClick }) => {\n    const { listItemClasses: classes } = useListStyles();\n\n    const _onClick = useCallback(() => {\n      if (onClick) {\n        onClick(item, index);\n      }\n    }, [onClick, item, index]);\n\n    // console.log(`rendering: ${index}`);\n\n    const onItemActionsClick = useCallback(event => event.stopPropagation(), []);\n\n    return (\n      <div\n        className={`${classes.itemCt} ${!disableBackgrounds && classes.itemDefaultBackgrounds}`}\n        data-listitem-position={index}\n        data-listitem-selected={selected}\n        data-listitem-focus=\"false\"\n        onClick={_onClick}\n        style={{ height }}\n      >\n        {children(item)}\n        <div className={classes.itemDivider} style={{ display: noDivider ? 'none' : null }}>\n          <Divider />\n        </div>\n        <div className={classes.itemActions} onClick={onItemActionsClick}>\n          {onRenderActions && onRenderActions(item, index)}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ListItemBase;\n","import ListScroller from './ListScroller';\n\nexport default class SimpleListScroller implements ListScroller {\n  constructor(private scrollTarget: HTMLElement, private listElement: HTMLElement, private rowHeight?: number) {}\n\n  public scrollTo(position: number) {\n    const scrollElement = this.scrollElement(position);\n    if (scrollElement === null) return;\n    const offset = this.offset();\n    if (offset > 0) {\n      const block = this.getScrollBlock(scrollElement, offset);\n      if (block) scrollElement.scrollIntoView({ block });\n    } else {\n      scrollElement.scrollIntoView({ block: 'nearest' });\n    }\n  }\n\n  private getScrollBlock(el: HTMLElement, offset: number) {\n    const top = el.offsetTop;\n    const height = el.offsetHeight;\n    const listElementRect = this.listElement.getBoundingClientRect();\n    const stElementRect = this.scrollTarget.getBoundingClientRect();\n\n    if (offset - listElementRect.top !== 0 && top < -listElementRect.top + stElementRect.height / 2) {\n      return 'center';\n    }\n\n    if (top + height > -listElementRect.top + stElementRect.height) {\n      return 'end';\n    }\n\n    return null;\n  }\n\n  private scrollElement(position: number): HTMLElement {\n    return this.scrollTarget.querySelector(`[data-listitem-position=\"${position}\"]`);\n  }\n\n  private offset() {\n    if (this.scrollTarget === this.listElement) {\n      return 0;\n    }\n    const { scrollTop } = this.scrollTarget;\n    const cTop = this.listElement.getBoundingClientRect().top;\n    return scrollTop + cTop;\n  }\n}\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport { CircularProgress } from '@material-ui/core';\nimport useListKeyboard from 'commons/addons/elements/lists/hooks/useListKeyboard';\nimport useListNavigator from 'commons/addons/elements/lists/hooks/useListNavigator';\nimport useListStyles from 'commons/addons/elements/lists/hooks/useListStyles';\nimport ListItemBase, { LineItem } from 'commons/addons/elements/lists/item/ListItemBase';\nimport React, { useCallback, useEffect, useLayoutEffect, useRef } from 'react';\nimport ListScroller from '../scrollers/ListScroller';\nimport SimpleListScroller from '../scrollers/SimpleListScroller';\n\ninterface SimpleListProps {\n  id: string;\n  loading: boolean;\n  disableProgress?: boolean;\n  disableBackgrounds?: boolean;\n  scrollInfinite?: boolean;\n  scrollReset?: boolean;\n  scrollLoadNextThreshold?: number;\n  scrollTargetId?: string;\n  noDivider?: boolean;\n  emptyValue?: React.ReactNode;\n  items: LineItem[];\n  children: (item: LineItem) => React.ReactNode;\n  onCursorChange?: (item: LineItem, cursor?: number) => void;\n  onItemSelected?: (item: LineItem, index?: number) => void;\n  onRenderActions?: (item: LineItem, index?: number) => React.ReactNode;\n  onLoadNext?: () => void;\n}\n\nconst SimpleList: React.FC<SimpleListProps> = ({\n  id,\n  loading,\n  items,\n  disableProgress,\n  scrollTargetId,\n  scrollInfinite,\n  scrollLoadNextThreshold = 75,\n  scrollReset,\n  disableBackgrounds,\n  noDivider,\n  children,\n  emptyValue,\n  onCursorChange,\n  onItemSelected,\n  onRenderActions,\n  onLoadNext\n}) => {\n  // Hooks.\n  const { simpleListStyles: classes } = useListStyles();\n\n  // List Navigator hook to register event handling.\n  const { register } = useListNavigator(id);\n\n  // Some refs.\n  const outerEL = useRef<HTMLDivElement>();\n  const scrollEL = useRef<HTMLElement>();\n  const innerEL = useRef<HTMLDivElement>();\n  const scroller = useRef<ListScroller>();\n  const nextScrollThreshold = useRef<number>(scrollLoadNextThreshold);\n\n  // Configure the list keyboard custom hook.\n  const { cursor, next, previous, setCursor, onKeyDown } = useListKeyboard({\n    id,\n    // scrollTargetId,\n    scroller: scroller.current,\n    infinite: scrollInfinite,\n    count: items.length,\n    pause: loading,\n    onEscape: () => {\n      if (onItemSelected) {\n        onItemSelected(null, -1);\n      }\n    },\n    onEnter: (_cursor: number) => {\n      if (onItemSelected) {\n        onItemSelected(items[_cursor], _cursor);\n      }\n    },\n    onCursorChange: (_cursor: number) => {\n      const item = items[_cursor];\n      if (onCursorChange) {\n        onCursorChange(item, _cursor);\n      }\n    }\n  });\n\n  // Enable scroll event handler?\n  const onScrollEnabled = !loading && onLoadNext && scrollInfinite;\n\n  // Memoized callback for when clicking on an item.\n  const _onRowClick = useCallback(\n    (_item: LineItem, index: number) => {\n      setCursor(index);\n      if (onItemSelected) {\n        onItemSelected(_item, index);\n      }\n    },\n    [setCursor, onItemSelected]\n  );\n\n  useLayoutEffect(() => {\n    if (scrollReset) {\n      nextScrollThreshold.current = scrollLoadNextThreshold;\n      scrollEL.current.scrollTo({ top: 0 });\n    }\n  }, [scrollReset, scrollLoadNextThreshold]);\n\n  useEffect(() => {\n    // Scroll handler to track scroll position in order check if it has hit the scrollThreshold.\n    const onScroll = () => {\n      const fH = scrollEL.current.getBoundingClientRect().height;\n      const sT = scrollEL.current.scrollTop;\n      const tH = innerEL.current.scrollHeight;\n      const cP = sT + fH;\n      const scrollPerc = Math.ceil((cP / tH) * 100);\n      if (scrollPerc >= nextScrollThreshold.current && !loading) {\n        nextScrollThreshold.current = 100;\n        onLoadNext();\n      }\n    };\n\n    // Register scroll handler on scrolltarget.\n    if (scrollTargetId) {\n      scrollEL.current = document.getElementById(scrollTargetId);\n    } else {\n      scrollEL.current = outerEL.current;\n    }\n    if (scrollEL.current && onScrollEnabled) {\n      scrollEL.current.addEventListener('scroll', onScroll);\n    }\n\n    // Create the scroller computer.\n    scroller.current = new SimpleListScroller(scrollEL.current, outerEL.current);\n\n    // Unregister scroll handler.\n    return () => {\n      scrollEL.current.removeEventListener('scroll', onScroll);\n    };\n  }, [scrollTargetId, outerEL, onScrollEnabled, loading, onLoadNext]);\n\n  useEffect(() => {\n    return register({\n      onSelect: () => null,\n      onSelectNext: () => next(),\n      onSelectPrevious: () => previous()\n    });\n  });\n\n  return (\n    <div\n      id={id}\n      tabIndex={0}\n      ref={outerEL}\n      className={classes.outer}\n      onKeyDown={!loading ? onKeyDown : null}\n      style={{ overflow: !scrollTargetId ? 'auto' : null }}\n    >\n      {loading && !disableProgress && (\n        <div className={classes.progressCt}>\n          <CircularProgress className={classes.progressSpinner} />\n        </div>\n      )}\n      <div ref={innerEL} className={classes.inner}>\n        {items && items.length !== 0\n          ? items.map((item, index) => {\n              return (\n                <ListItemBase\n                  key={`list.rowitem[${index}]`}\n                  index={index}\n                  selected={cursor === index}\n                  item={item}\n                  disableBackgrounds={disableBackgrounds}\n                  noDivider={noDivider}\n                  onRenderActions={onRenderActions}\n                  onClick={_onRowClick}\n                >\n                  {children}\n                </ListItemBase>\n              );\n            })\n          : !loading\n          ? emptyValue\n          : null}\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleList;\n","import { Grid, Tooltip, useTheme } from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport GroupOutlinedIcon from '@material-ui/icons/GroupOutlined';\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport { ChipList } from 'components/visual/ChipList';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport AlertPriority from './alert-priority';\nimport AlertStatus from './alert-status';\n\ntype AlertListItemProps = {\n  item: AlertItem;\n};\nconst AlertListItem: React.FC<AlertListItemProps> = ({ item }) => {\n  const theme = useTheme();\n  const { t, i18n } = useTranslation('alerts');\n  const infoItems = [];\n\n  if (item.al.av.length !== 0) {\n    infoItems.push({ label: `${item.al.av.length}x AV`, color: 'warning', size: 'tiny', variant: 'outlined' });\n  }\n  if (item.al.ip.length !== 0) {\n    infoItems.push({\n      label: `${item.al.ip.length}x IP`,\n      color: 'primary',\n      size: 'tiny',\n      variant: 'outlined'\n    });\n  }\n  if (item.al.domain.length !== 0) {\n    infoItems.push({\n      label: `${item.al.domain.length}x DOM`,\n      color: 'success',\n      size: 'tiny',\n      variant: 'outlined'\n    });\n  }\n\n  return (\n    <div style={{ padding: theme.spacing(2) }}>\n      <Grid container spacing={1}>\n        <Grid item xs={12} md={8}>\n          <AlertPriority name={item.priority} />\n          {item.group_count && <span style={{ marginLeft: theme.spacing(1) }}>{item.group_count}x</span>}\n          <span style={{ marginLeft: theme.spacing(1), wordBreak: 'break-all' }}>{item.file.name}</span>\n        </Grid>\n        <Grid item xs={6} md={2}>\n          {item.verdict.malicious.length > item.verdict.non_malicious.length ? (\n            <Tooltip\n              title={`${item.verdict.malicious.length}/${\n                item.verdict.malicious.length + item.verdict.non_malicious.length\n              } ${t('verdict.user.malicious')}`}\n            >\n              <BugReportOutlinedIcon />\n            </Tooltip>\n          ) : null}\n          {item.verdict.non_malicious.length > item.verdict.malicious.length ? (\n            <Tooltip\n              title={`${item.verdict.non_malicious.length}/${\n                item.verdict.malicious.length + item.verdict.non_malicious.length\n              } ${t('verdict.user.non_malicious')}`}\n            >\n              <VerifiedUserOutlinedIcon />\n            </Tooltip>\n          ) : null}\n          {item.owner ? (\n            <>\n              <Tooltip title={`${t('owned_by')} ${item.owner}`}>\n                <PersonOutlineOutlinedIcon />\n              </Tooltip>\n            </>\n          ) : item.hint_owner ? (\n            <>\n              <Tooltip title={t('hint_owned_by')}>\n                <GroupOutlinedIcon />\n              </Tooltip>\n            </>\n          ) : null}\n        </Grid>\n        <Grid item xs={6} md={2} style={{ textAlign: 'right' }}>\n          <Moment fromNow locale={i18n.language}>\n            {item.reporting_ts}\n          </Moment>\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <AlertStatus name={item.status} size={'tiny' as 'tiny'} />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <ChipList\n            items={item.label\n              .map(label => ({ label, size: 'tiny' as 'tiny', variant: 'outlined' as 'outlined' }))\n              .concat(\n                item.al.attrib.map(label => ({\n                  label,\n                  size: 'tiny' as 'tiny',\n                  color: 'error',\n                  variant: 'outlined' as 'outlined'\n                }))\n              )}\n          />\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <ChipList items={infoItems} />\n        </Grid>\n        <Grid item xs={12} md={2} style={{ textAlign: 'right' }}>\n          <Verdict score={item.al.score} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default AlertListItem;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchQuery from 'components/visual/SearchBar/search-query';\nimport { useCallback } from 'react';\nimport { AlertItem } from './useAlerts';\n\n// Specification interface of this hook.\nexport interface UsingPromiseAPI {\n  fetchAlert: (alertId: string) => Promise<AlertItem>;\n  onApplyWorkflowAction: (\n    query: SearchQuery,\n    selectedStatus: string,\n    selectedPriority: string,\n    selectedLabels: string[]\n  ) => Promise<boolean>;\n  onTakeOwnership: (query: SearchQuery) => Promise<boolean>;\n  setVerdict: (alert_id: string, verdict: 'malicious' | 'non_malicious') => Promise<boolean>;\n}\n\n// Stateless hook that returns promise wrappers around AL's rest api.\nexport default function usePromiseAPI(): UsingPromiseAPI {\n  //\n  const apiCall = useMyAPI();\n\n  // Hook API: fetch the alert for the specified alert_id.\n  const fetchAlert = async (alertId: string): Promise<AlertItem> => {\n    return new Promise<AlertItem>((resolve, reject) => {\n      const url = `/api/v4/alert/${alertId}/`;\n      apiCall({\n        url,\n        onSuccess: api_data => {\n          resolve(api_data.api_response);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Hook API: apply workflow actions\n  const onApplyWorkflowAction = async (\n    query: SearchQuery,\n    selectedStatus: string,\n    selectedPriority: string,\n    selectedLabels: string[]\n  ): Promise<boolean> => {\n    const statusPromise = new Promise((resolve, reject) => {\n      if (selectedStatus) {\n        apiCall({\n          url: `/api/v4/alert/status/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedStatus,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(false);\n      }\n    });\n\n    const priorityPromise = new Promise((resolve, reject) => {\n      if (selectedPriority) {\n        apiCall({\n          url: `/api/v4/alert/priority/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedPriority,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(false);\n      }\n    });\n\n    const labelPromise = new Promise((resolve, reject) => {\n      if (selectedLabels && selectedLabels.length > 0) {\n        apiCall({\n          url: `/api/v4/alert/label/batch/?${query.buildAPIQueryString()}`,\n          method: 'post',\n          body: selectedLabels,\n          onSuccess: () => {\n            resolve(true);\n          },\n          onFailure: api_data => reject(api_data)\n        });\n      } else {\n        resolve(true);\n      }\n    });\n\n    return Promise.all([statusPromise, priorityPromise, labelPromise]).then(() => true);\n  };\n\n  // Hook API: take ownership of alerts matching specified query.\n  const onTakeOwnership = async (query: SearchQuery): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      apiCall({\n        url: `/api/v4/alert/ownership/batch/?${query.buildAPIQueryString()}`,\n        onSuccess: () => {\n          resolve(true);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Hook API: set the verdict on a selected alert\n  const setVerdict = async (alert_id: string, verdict: 'malicious' | 'non_malicious'): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n      apiCall({\n        method: 'PUT',\n        url: `/api/v4/alert/verdict/${alert_id}/${verdict}/`,\n        onSuccess: () => {\n          resolve(true);\n        },\n        onFailure: api_data => reject(api_data)\n      });\n    });\n  };\n\n  // Wrap each exposed method in 'useCallback' hook in order to ensure they are memoized and do not\n  //  cause re-renders.\n  return {\n    fetchAlert: useCallback(fetchAlert, []),\n    onApplyWorkflowAction: useCallback(onApplyWorkflowAction, []),\n    onTakeOwnership: useCallback(onTakeOwnership, []),\n    setVerdict: useCallback(setVerdict, [])\n  };\n}\n","import { makeStyles, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport CenterFocusStrongOutlinedIcon from '@material-ui/icons/CenterFocusStrongOutlined';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport SearchQuery from 'components/visual/SearchBar/search-query';\nimport { getValueFromPath } from 'helpers/utils';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\nimport { Link } from 'react-router-dom';\nimport { AlertDrawerState } from './alerts';\nimport { AlertItem } from './hooks/useAlerts';\nimport usePromiseAPI from './hooks/usePromiseAPI';\n\nexport type PossibleVerdict = 'malicious' | 'non_malicious';\n\ninterface AlertListItemActionsProps {\n  item: AlertItem;\n  index: number;\n  currentQuery: SearchQuery;\n  setDrawer: (state: AlertDrawerState) => void;\n  onTakeOwnershipComplete?: () => void;\n  onVerdictComplete?: (verdict: PossibleVerdict) => void;\n  vertical?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  verticalSpeedDial: {\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[0],\n    '&.MuiFab-primary': {\n      backgroundColor: theme.palette.background.paper\n    },\n    '&.MuiFab-primary:hover': {\n      backgroundColor: theme.palette.action.hover\n    },\n    color: theme.palette.text.secondary\n  },\n  actionsClosed: {\n    width: 0\n  }\n}));\n\ninterface OwnerProps {\n  open: boolean;\n  query: SearchQuery;\n}\n\nconst DEFAULT_OWNER = {\n  open: false,\n  query: null\n};\n\nconst SpeedDialActionLink = props => {\n  const { to, ...others } = props;\n\n  return (\n    <Link to={to}>\n      <SpeedDialAction {...others} />\n    </Link>\n  );\n};\n\nconst AlertListItemActions: React.FC<AlertListItemActionsProps> = React.memo(\n  ({ item, index, currentQuery, setDrawer, onTakeOwnershipComplete, onVerdictComplete, vertical = false }) => {\n    const { onTakeOwnership, setVerdict } = usePromiseAPI();\n    const classes = useStyles();\n    const groupBy = currentQuery.getGroupBy();\n    const { t } = useTranslation('alerts');\n    const theme = useTheme();\n    const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n    const [takeOwnershipConfirmation, setTakeOwnershipConfirmation] = useState<OwnerProps>(DEFAULT_OWNER);\n    const [open, setOpen] = useState(false);\n    const { user: currentUser } = useALContext();\n    const hasSetMalicious = item.verdict.malicious.indexOf(currentUser.username) !== -1;\n    const hasSetNonMalicious = item.verdict.non_malicious.indexOf(currentUser.username) !== -1;\n\n    const handleVerdict = async (verdict: PossibleVerdict) => {\n      try {\n        await setVerdict(item.alert_id, verdict);\n        showSuccessMessage(t(`verdict.${verdict}.success`));\n        if (onVerdictComplete) {\n          onVerdictComplete(verdict);\n        }\n      } catch (api_data) {\n        showErrorMessage(t('verdict.failed'));\n      }\n    };\n\n    const onTakeOwnershipOkClick = async () => {\n      try {\n        await onTakeOwnership(takeOwnershipConfirmation.query);\n        setTakeOwnershipConfirmation({ open: false, query: null });\n        if (onTakeOwnershipComplete) {\n          onTakeOwnershipComplete();\n        }\n      } catch (api_data) {\n        setTakeOwnershipConfirmation({ open: false, query: null });\n      }\n    };\n\n    const onTakeOwnershipCancelClick = () => {\n      setTakeOwnershipConfirmation({ open: false, query: null });\n    };\n\n    const buildActionQuery = (): SearchQuery => {\n      const _actionQuery = currentQuery.newBase(name => name === 'tc_start');\n      _actionQuery.setGroupBy('');\n\n      if (groupBy) {\n        _actionQuery.setQuery(`${groupBy}:${getValueFromPath(item, groupBy)}`);\n      } else {\n        _actionQuery.setQuery(`alert_id:${item.alert_id}`);\n      }\n      return _actionQuery;\n    };\n\n    const buildFocusQuery = (): SearchQuery => {\n      const focusQuery = currentQuery.build();\n      focusQuery.setGroupBy('');\n      focusQuery.addFq(`${groupBy}:${getValueFromPath(item, groupBy)}`);\n      return focusQuery;\n    };\n\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleOpen = () => {\n      setOpen(true);\n    };\n\n    return (\n      <div\n        style={{\n          marginTop: vertical ? null : theme.spacing(-1),\n          marginRight: vertical ? null : theme.spacing(-1)\n        }}\n      >\n        <SpeedDial\n          ariaLabel={t('action_menu')}\n          icon={\n            <SpeedDialIcon\n              icon={vertical ? <ExpandMoreIcon /> : <ChevronLeftIcon />}\n              openIcon={vertical ? <ExpandLessIcon /> : <ChevronRightIcon />}\n            />\n          }\n          classes={{ actionsClosed: vertical ? null : classes.actionsClosed }}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          open={open}\n          FabProps={{\n            size: vertical ? 'medium' : 'small',\n            className: vertical ? classes.verticalSpeedDial : null\n          }}\n          direction={vertical ? 'down' : 'left'}\n        >\n          <SpeedDialAction\n            icon={<BugReportOutlinedIcon />}\n            tooltipTitle={t(hasSetMalicious ? 'verdict.malicious.set' : 'verdict.malicious.action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            FabProps={{\n              style: {\n                color: hasSetMalicious\n                  ? theme.palette.type === 'dark'\n                    ? theme.palette.error.light\n                    : theme.palette.error.dark\n                  : null\n              }\n            }}\n            onClick={!hasSetMalicious ? () => handleVerdict('malicious') : null}\n          />\n          <SpeedDialAction\n            icon={<VerifiedUserOutlinedIcon />}\n            tooltipTitle={t(hasSetNonMalicious ? 'verdict.non_malicious.set' : 'verdict.non_malicious.action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            FabProps={{\n              style: {\n                color: hasSetNonMalicious\n                  ? theme.palette.type === 'dark'\n                    ? theme.palette.success.light\n                    : theme.palette.success.dark\n                  : null\n              }\n            }}\n            onClick={!hasSetNonMalicious ? () => handleVerdict('non_malicious') : null}\n          />\n          <SpeedDialAction\n            icon={<BiNetworkChart style={{ height: '1.3rem', width: '1.3rem' }} />}\n            tooltipTitle={t('workflow_action')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n            onClick={() => {\n              const actionQuery = buildActionQuery();\n              setDrawer({\n                open: true,\n                type: 'actions',\n                actionData: {\n                  query: actionQuery,\n                  alert: {\n                    index,\n                    alert_id: item.alert_id,\n                    priority: item.priority,\n                    status: item.status,\n                    labels: item.label\n                  }\n                }\n              });\n            }}\n          />\n          <SpeedDialActionLink\n            icon={<AmpStoriesOutlinedIcon />}\n            to={`/submission/${item.sid}`}\n            tooltipTitle={t('submission')}\n            tooltipPlacement={vertical ? 'left' : 'bottom'}\n          />\n          {!item.owner && (\n            <SpeedDialAction\n              icon={<AssignmentIndIcon />}\n              tooltipTitle={t('take_ownership')}\n              tooltipPlacement={vertical ? 'left' : 'bottom'}\n              onClick={() => {\n                setTakeOwnershipConfirmation({ open: true, query: buildActionQuery() });\n              }}\n            />\n          )}\n          {item.group_count && (\n            <SpeedDialActionLink\n              icon={<CenterFocusStrongOutlinedIcon />}\n              to={`/alerts/?${buildFocusQuery().buildURLQueryString()}`}\n              tooltipTitle={t('focus')}\n              tooltipPlacement={vertical ? 'left' : 'bottom'}\n            />\n          )}\n        </SpeedDial>\n        {takeOwnershipConfirmation.open && (\n          <ConfirmationDialog\n            open={takeOwnershipConfirmation.open}\n            handleClose={onTakeOwnershipCancelClick}\n            handleAccept={onTakeOwnershipOkClick}\n            title={t('actions.takeownershipdiag.header')}\n            cancelText={t('actions.cancel')}\n            acceptText={t('actions.ok')}\n            text={\n              groupBy ? (\n                <>\n                  <span style={{ display: 'inline-block' }}>{t('actions.takeownershipdiag.content.grouped')}</span>\n                  <span style={{ display: 'inline-block', padding: theme.spacing(1), wordBreak: 'break-all' }}>\n                    <Typography variant=\"caption\">{`${groupBy}: ${getValueFromPath(item, groupBy)}`}</Typography>\n                  </span>\n                </>\n              ) : (\n                t('actions.takeownershipdiag.content.single')\n              )\n            }\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default AlertListItemActions;\n","export enum SearchFilterType {\n  BLANK = 'blank',\n  STATUS = 'status',\n  PRIORITY = 'priority',\n  LABEL = 'label',\n  QUERY = 'query'\n}\n\nexport const EMPTY_SEARCHFILTER = {\n  id: 'emtpy_search_filter',\n  type: SearchFilterType.BLANK,\n  label: '',\n  value: null\n};\n\nexport interface SearchFilter {\n  id: number | string;\n  type: SearchFilterType;\n  label: string;\n  value: any;\n  other?: any;\n}\n\nexport interface SearchQueryFilters {\n  tc: string;\n  groupBy: string;\n  statuses: SearchFilter[];\n  priorities: SearchFilter[];\n  labels: SearchFilter[];\n  queries: SearchFilter[];\n}\n\nexport interface SearchQueryParameter {\n  name: string;\n  value: string;\n}\n\nconst DEFAULT_TC = '4d';\nconst DEFAULT_OFFSET = 0;\nconst DEFAULT_GROUPBY = 'file.sha256';\n\nexport default class SearchQuery {\n  private params: URLSearchParams = null;\n\n  constructor(private path: string, baseSearch: string, private pageSize: number, setDefaults: boolean = true) {\n    this.params = new URLSearchParams(baseSearch);\n    if (setDefaults) {\n      if (!this.hasOffset()) {\n        this.setOffset(`${DEFAULT_OFFSET}`);\n      }\n      if (!this.hasTc()) {\n        this.setTc(DEFAULT_TC);\n      }\n      if (!this.hasRows()) {\n        this.setRows(`${pageSize}`);\n      }\n      if (!this.hasGroupBy()) {\n        this.setGroupBy(DEFAULT_GROUPBY);\n      }\n    }\n  }\n\n  public setRows(rows: string): SearchQuery {\n    this.params.set('rows', rows);\n    return this;\n  }\n\n  public hasRows(): boolean {\n    return this.params.has('rows');\n  }\n\n  public getRows(): string {\n    return this.hasRows() ? this.params.get('rows') : `${this.pageSize}`;\n  }\n\n  public getRowsNumber(): number {\n    return this.hasRows() ? parseInt(this.params.get('rows')) : this.pageSize;\n  }\n\n  public setOffset(offset: string): SearchQuery {\n    this.params.set('offset', offset);\n    return this;\n  }\n\n  public hasOffset(): boolean {\n    return this.params.has('offset');\n  }\n\n  public getOffset(): string {\n    return this.hasOffset() ? this.params.get('offset') : '0';\n  }\n\n  public getOffsetNumber(): number {\n    return this.hasOffset() ? parseInt(this.params.get('offset')) : 0;\n  }\n\n  public tickOffset(): SearchQuery {\n    this.setOffset(`${this.getOffsetNumber() + this.pageSize}`).setRows(this.getRows());\n    return this;\n  }\n\n  public setQuery(query: string): SearchQuery {\n    this.params.set('q', query);\n    return this;\n  }\n\n  public hasQuery(): boolean {\n    return this.params.has('q');\n  }\n\n  public getQuery(): string {\n    return this.params.has('q') ? this.params.get('q') : '';\n  }\n\n  public setTc(tc: string): SearchQuery {\n    this.params.set('tc', tc);\n    return this;\n  }\n\n  public hasTc(): boolean {\n    return this.params.has('tc');\n  }\n\n  public getTc(): string {\n    return this.hasTc() ? this.params.get('tc') : '';\n  }\n\n  public setTcStart(tcStart: string): SearchQuery {\n    this.params.set('tc_start', tcStart);\n    return this;\n  }\n\n  public hasTcStart(): boolean {\n    return this.params.has('tc_start');\n  }\n\n  public getTcStart(): string {\n    return this.hasTcStart() ? this.params.get('tc_start') : '';\n  }\n\n  public addFq(fq: string): SearchQuery {\n    this.params.append('fq', fq);\n    return this;\n  }\n\n  public getFqList(): string[] {\n    return this.params.getAll('fq');\n  }\n\n  public clearFq(): SearchQuery {\n    this.params.delete('fq');\n    return this;\n  }\n\n  public setGroupBy(groupBy: string): SearchQuery {\n    this.params.set('group_by', groupBy);\n    return this;\n  }\n\n  public hasGroupBy(): boolean {\n    return this.params.has('group_by');\n  }\n\n  public getGroupBy(): string {\n    return this.hasGroupBy() ? this.params.get('group_by') : 'file.sha256';\n  }\n\n  public setFilters(filters: SearchQueryFilters): SearchQuery {\n    this.reset(false).setTc(filters.tc).setGroupBy(filters.groupBy);\n    [...filters.statuses, ...filters.priorities, ...filters.labels, ...filters.queries].forEach(filter =>\n      this.addFq(filter.value)\n    );\n    return this;\n  }\n\n  public deleteQuery() {\n    this.params.delete('q');\n    return this;\n  }\n\n  public deleteTCStart() {\n    this.params.delete('tc_start');\n    return this;\n  }\n\n  public reset(clearQuery = true): SearchQuery {\n    this.setOffset('0').setRows(`${this.pageSize}`).setTc('4d').setGroupBy('file.sha256').setTcStart('').clearFq();\n    if (clearQuery) this.setQuery('');\n    return this;\n  }\n\n  public buildURLQueryString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('tc_start');\n    params.delete('offset');\n    params.delete('rows');\n    if (this.getTc() === DEFAULT_TC) params.delete('tc');\n    if (this.getGroupBy() === DEFAULT_GROUPBY) params.delete('group_by');\n    if (this.getQuery() === '') params.delete('q');\n    return params.toString();\n  }\n\n  public buildAPIQueryString(): string {\n    const params = new URLSearchParams(this.params.toString());\n    params.delete('group_by');\n    if (this.getTc() === '') params.delete('tc');\n    if (this.getQuery() === '') params.delete('q');\n    return params.toString();\n  }\n\n  public newBase(accept?: (name: string) => boolean): SearchQuery {\n    const q = new SearchQuery(this.path, '', this.pageSize);\n    const params = new URLSearchParams();\n    if (accept) {\n      this.params.forEach((value: string, key: string) => {\n        if (accept(key)) {\n          params.set(key, value);\n        }\n      });\n    }\n    q.params = params;\n    return q;\n  }\n\n  public build(): SearchQuery {\n    return new SearchQuery(this.path, this.params.toString(), this.pageSize);\n  }\n\n  public parseFilters(): SearchQueryFilters {\n    let fqs = [];\n    let statuses = [];\n    let priorities = [];\n    let labels = [];\n    let queries = [];\n\n    if (this.getFqList().length) {\n      fqs = this.getFqList().map((fq, i) => SearchQuery.parseFilterValue(i, fq));\n      statuses = fqs.filter(f => f.type === SearchFilterType.STATUS);\n      priorities = fqs.filter(f => f.type === SearchFilterType.PRIORITY);\n      labels = fqs.filter(f => f.type === SearchFilterType.LABEL);\n      queries = fqs.filter(f => f.type === SearchFilterType.QUERY);\n    }\n    return {\n      tc: this.getTc(),\n      groupBy: this.getGroupBy(),\n      statuses,\n      priorities,\n      labels,\n      queries\n    };\n  }\n\n  public static parseFilterValue(id: string | number, filter: string): SearchFilter {\n    const [type] = filter.split(':');\n    const resolveType = (): SearchFilterType => {\n      switch (type) {\n        case 'status':\n          return SearchFilterType.STATUS;\n        case 'priority':\n          return SearchFilterType.PRIORITY;\n        case 'label':\n          return SearchFilterType.LABEL;\n        default:\n          return SearchFilterType.QUERY;\n      }\n    };\n    return {\n      id,\n      type: resolveType(),\n      label: filter,\n      value: filter,\n      other: null\n    };\n  }\n}\n","/* eslint-disable no-param-reassign */\nimport { Button, FormControl, makeStyles, MenuItem, Select, TextField, Typography, useTheme } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport CustomChip from 'components/visual/CustomChip';\nimport SearchQuery, {\n  SearchFilter,\n  SearchFilterType,\n  SearchQueryFilters\n} from 'components/visual/SearchBar/search-query';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Favorite } from './hooks/useFavorites';\n\n// Default TimeConstraint(TC) value..\nconst DEFAULT_TC = '4d';\n\n// Default GroupBy value.\nconst DEFAULT_GROUPBY = 'file.sha256';\n\n//\nconst findOption = (value: string, options: { value: string; label: string }[]) => {\n  return options.find(o => o.value === value);\n};\n\n// Decorate each filter in the specified 'queryFilters' list and indicate whether they are a valueFilter.\nconst decorateQueryFilters = (queryFilters: SearchFilter[], userFavoritesFilters) => {\n  return queryFilters.map(qf => ({\n    filter: qf,\n    isFavorite: userFavoritesFilters ? userFavoritesFilters.some(vf => vf.value === qf.value) : false\n  }));\n};\n\nfunction ensureSearchFilter(selection): SearchFilter {\n  if (typeof selection === 'string') {\n    return { id: `id_${selection}`, type: SearchFilterType.QUERY, label: selection, value: selection };\n  }\n  return selection;\n}\n\n// Some styles.\nconst useStyles = makeStyles(theme => ({\n  option: {\n    backgroundColor: theme.palette.background.default\n  }\n}));\n\n// Specification interface of this component's properties.\ninterface AlertsFiltersProps {\n  searchQuery: SearchQuery;\n  valueFilters: SearchFilter[];\n  statusFilters: SearchFilter[];\n  priorityFilters: SearchFilter[];\n  labelFilters: SearchFilter[];\n  userFavorites: Favorite[];\n  globalFavorites: Favorite[];\n  onApplyBtnClick: (filters: SearchQueryFilters, query?: string) => void;\n}\n\ninterface QueryFilter {\n  filter: SearchFilter;\n  isFavorite: boolean;\n}\n\n// Implementation of th AlertsFilter component.\nconst AlertsFilters: React.FC<AlertsFiltersProps> = ({\n  searchQuery,\n  valueFilters,\n  statusFilters,\n  priorityFilters,\n  labelFilters,\n  userFavorites,\n  globalFavorites,\n  onApplyBtnClick\n}) => {\n  // Hooks...\n  const theme = useTheme();\n  const classes = useStyles();\n  const { t } = useTranslation('alerts');\n\n  const GROUPBY_OPTIONS = [\n    { value: '', label: t('groupBy.none') },\n    { value: 'file.md5', label: t('groupBy.md5') },\n    { value: 'file.name', label: t('groupBy.name') },\n    { value: 'file.sha256', label: t('groupBy.sha256') },\n    { value: 'priority', label: t('groupBy.priority') },\n    { value: 'status', label: t('groupBy.status') }\n  ];\n\n  const TC_OPTIONS = [\n    { value: '', label: t('tc.none') },\n    { value: '24h', label: t('tc.24h') },\n    { value: '4d', label: t('tc.4d') },\n    { value: '1w', label: t('tc.1week') },\n    { value: '1M', label: t('tc.1month') }\n  ];\n\n  const filters = searchQuery.parseFilters();\n  const tcOption = findOption(filters.tc, TC_OPTIONS);\n  const groupByOption = findOption(filters.groupBy, GROUPBY_OPTIONS);\n\n  // Define some states for controlled components..\n  const [selectedTc, setSelectedTc] = useState<{ value: string; label: string }>(\n    tcOption || findOption(filters.tc, TC_OPTIONS)\n  );\n  const [selectedGroupBy, setSelectedGroupBy] = useState<{ value: string; label: string }>(\n    groupByOption || findOption(DEFAULT_GROUPBY, GROUPBY_OPTIONS)\n  );\n  const [userFavoritesFilters] = useState<SearchFilter[]>([\n    ...userFavorites.map((fav, idx) => {\n      return { id: `u_${idx}`, type: SearchFilterType.QUERY, label: fav.name, value: fav.query };\n    }),\n    ...globalFavorites.map((fav, idx) => {\n      return {\n        id: `g_${idx}`,\n        type: SearchFilterType.QUERY,\n        label: `${fav.name} (${fav.created_by})`,\n        value: fav.query\n      };\n    })\n  ]);\n  const [selectedStatusFilters, setSelectedStatusFilters] = useState<SearchFilter[]>(filters.statuses);\n  const [selectedPriorityFilters, setSelectedPriorityFilters] = useState<SearchFilter[]>(filters.priorities);\n  const [selectedLabelFilters, setSelectedLabelFilters] = useState<SearchFilter[]>(filters.labels);\n  const [selectedQueryFilters, setSelectedQueryFilters] = useState<QueryFilter[]>(\n    decorateQueryFilters(filters.queries, userFavoritesFilters)\n  );\n\n  // Handler[onChange]: for the 'TC' Autocomplete component.\n  const onTcFilterChange = (value: string) => {\n    const selectedValue = TC_OPTIONS.find(o => o.value === value);\n    setSelectedTc(selectedValue);\n  };\n\n  // Handler[onChange]: for the 'Group By' Autocomplete component.\n  const onGroupByFilterChange = (value: string) => {\n    const selectedValue = GROUPBY_OPTIONS.find(o => o.value === value);\n    setSelectedGroupBy(selectedValue);\n  };\n\n  // Handler[onChange]: for the 'Status' Autocomplete component.\n  const onStatusFilterChange = (selections: SearchFilter[]) => {\n    setSelectedStatusFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Priority' Autocomplete component.\n  const onPriorityFilterChange = (selections: SearchFilter[]) => {\n    setSelectedPriorityFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Label' Autocomplete component.\n  const onLabelFilterChange = (selections: SearchFilter[]) => {\n    setSelectedLabelFilters(selections);\n  };\n\n  // Handler[onChange]: for the 'Value' Autocomplete component.\n  const onValueFilterChange = (selections: SearchFilter[]) => {\n    const _selections = selections.map(filter => ({ filter: ensureSearchFilter(filter), isFavorite: false }));\n    const favoriteFilters = selectedQueryFilters.filter(sf => sf.isFavorite);\n    setSelectedQueryFilters([..._selections, ...favoriteFilters]);\n  };\n\n  // Handler[onChange]: for the 'Favorite' Autocomplete component.\n  const onFavoriteChange = (selections: SearchFilter[]) => {\n    const _selections = selections.map(filter => ({ filter, isFavorite: true }));\n    const _valueFilters = selectedQueryFilters.filter(sf => !sf.isFavorite);\n    setSelectedQueryFilters([..._selections, ..._valueFilters]);\n  };\n\n  //\n  const onClearBtnClick = () => {\n    setSelectedTc(tcOption);\n    setSelectedGroupBy(groupByOption);\n    setSelectedStatusFilters([]);\n    setSelectedPriorityFilters([]);\n    setSelectedLabelFilters([]);\n    setSelectedQueryFilters([]);\n  };\n\n  // Handler: when clicking on 'Apply' button.\n  const _onApplyBtnClick = () => {\n    onApplyBtnClick({\n      ...filters,\n      tc: selectedTc.value,\n      groupBy: selectedGroupBy.value,\n      statuses: selectedStatusFilters,\n      priorities: selectedPriorityFilters,\n      labels: selectedLabelFilters,\n      queries: selectedQueryFilters.map(f => f.filter)\n    });\n  };\n\n  // Indicates if an Autocomplete option is selected.\n  const isSelected = (option, value): boolean => {\n    if (option === null || value === null) {\n      return false;\n    }\n    return option.value === value.value;\n  };\n\n  // Render method of a single Autocomplete component option.\n  const renderOption = (item: SearchFilter) => {\n    return (\n      <div>\n        {item.other && <CustomChip label={item.other.count} size=\"tiny\" />} {item.label}\n      </div>\n    );\n  };\n\n  // Apply updates to selected filters if required.\n  useEffect(() => {\n    const _filters = searchQuery.parseFilters();\n    setSelectedTc(findOption(_filters.tc, TC_OPTIONS) || findOption(DEFAULT_TC, TC_OPTIONS));\n    setSelectedGroupBy(findOption(_filters.groupBy, GROUPBY_OPTIONS) || findOption(DEFAULT_GROUPBY, GROUPBY_OPTIONS));\n    setSelectedStatusFilters(_filters.statuses);\n    setSelectedPriorityFilters(_filters.priorities);\n    setSelectedLabelFilters(_filters.labels);\n    setSelectedQueryFilters(decorateQueryFilters(_filters.queries, userFavoritesFilters));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, userFavoritesFilters, t]);\n\n  return (\n    <div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <div style={{ float: 'right' }}>\n          <Button variant=\"contained\" onClick={onClearBtnClick}>\n            {t('filters.clear')}\n          </Button>\n        </div>\n        <Typography variant=\"h4\">{t('filters')}</Typography>\n      </div>\n      <div style={{ marginBottom: theme.spacing(2), marginTop: theme.spacing(2) }}>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <FormControl fullWidth variant=\"outlined\">\n            <label>{t('tc')}</label>\n            <Select\n              displayEmpty\n              value={selectedTc ? selectedTc.value : DEFAULT_TC}\n              onChange={event => onTcFilterChange(event.target.value as string)}\n            >\n              {TC_OPTIONS.map(o => (\n                <MenuItem key={o.value} className={classes.option} value={o.value}>\n                  {o.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <FormControl fullWidth variant=\"outlined\">\n            <label>{t('groupBy')}</label>\n            <Select\n              displayEmpty\n              value={selectedGroupBy ? selectedGroupBy.value : DEFAULT_GROUPBY}\n              onChange={event => onGroupByFilterChange(event.target.value as string)}\n            >\n              {GROUPBY_OPTIONS.map(o => (\n                <MenuItem key={o.value} className={classes.option} value={o.value}>\n                  {o.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('status')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={statusFilters}\n            value={selectedStatusFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onStatusFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('priority')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={priorityFilters}\n            value={selectedPriorityFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onPriorityFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('labels')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={labelFilters}\n            value={selectedLabelFilters}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onLabelFilterChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('favorites')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={userFavoritesFilters}\n            value={selectedQueryFilters.filter(filter => filter.isFavorite).map(f => f.filter)}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onFavoriteChange(value as SearchFilter[])}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <label>{t('others')}</label>\n          <Autocomplete\n            fullWidth\n            multiple\n            classes={{ option: classes.option }}\n            options={valueFilters}\n            value={selectedQueryFilters.filter(filter => !filter.isFavorite).map(f => f.filter)}\n            getOptionLabel={option => option.label}\n            getOptionSelected={isSelected}\n            renderOption={renderOption}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            onChange={(event, value) => onValueFilterChange(value as SearchFilter[])}\n          />\n        </div>\n      </div>\n      <div style={{ textAlign: 'right', marginTop: theme.spacing(1) }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={_onApplyBtnClick}>\n          {t('filters.apply')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsFilters;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { useEffect, useState } from 'react';\n\nexport interface Favorite {\n  classification: string;\n  name: string;\n  query: string;\n  created_by: string;\n}\n\ninterface UsingFavorites {\n  onAddUserFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onDeleteUserFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onAddGlobalFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  onDeleteGlobalFavorite: (\n    favorite: { query: string; name: string },\n    onSuccess?: (favorite: { query: string; name: string }) => void\n  ) => void;\n  userFavorites: Favorite[];\n  globalFavorites: Favorite[];\n}\n\nexport default function useFavorites(): UsingFavorites {\n  // hooks.\n  const apiCall = useMyAPI();\n  const { user } = useALContext();\n\n  // states.\n  const [userFavorites, setUserFavorites] = useState<Favorite[]>([]);\n  const [globalFavorites, setGlobalFavorites] = useState<Favorite[]>([]);\n\n  // Hook API:\n  const onAddUserFavorite = (\n    favorite: { query: string; name: string },\n    onSuccess: (favorite: { query: string; name: string }) => void\n  ) => {\n    const url = `/api/v4/user/favorites/${user.username}/alert/`;\n    apiCall({\n      url,\n      method: 'put',\n      body: favorite,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadUserFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onDeleteUserFavorite = (favorite: Favorite, onSuccess: (favorite: Favorite) => void) => {\n    const url = `/api/v4/user/favorites/${user.username}/alert/`;\n    apiCall({\n      url,\n      method: 'delete',\n      body: favorite.name,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadUserFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onLoadUserFavorites = () => {\n    const url = `/api/v4/user/favorites/${user.username}/`;\n    apiCall({\n      url,\n      onSuccess: api_data => {\n        setUserFavorites(api_data.api_response.alert);\n      }\n    });\n  };\n\n  // Hook API:\n  const onLoadGlobalFavorites = () => {\n    const url = '/api/v4/user/favorites/__global__/';\n    apiCall({\n      url,\n      onSuccess: api_data => {\n        setGlobalFavorites(api_data.api_response.alert);\n      }\n    });\n  };\n\n  const onAddGlobalFavorite = (\n    favorite: { query: string; name: string },\n    onSuccess: (favorite: { query: string; name: string }) => void\n  ) => {\n    const url = '/api/v4/user/favorites/__global__/alert/';\n    const fav = { ...favorite, created_by: user.username };\n    apiCall({\n      url,\n      method: 'put',\n      body: fav,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadGlobalFavorites();\n          if (onSuccess) {\n            onSuccess(fav);\n          }\n        }\n      }\n    });\n  };\n\n  // Hook API:\n  const onDeleteGlobalFavorite = (favorite: Favorite, onSuccess: (favorite: Favorite) => void) => {\n    const url = '/api/v4/user/favorites/__global__/alert/';\n    apiCall({\n      url,\n      method: 'delete',\n      body: favorite.name,\n      onSuccess: api_data => {\n        if (api_data.api_response.success) {\n          onLoadGlobalFavorites();\n          if (onSuccess) {\n            onSuccess(favorite);\n          }\n        }\n      }\n    });\n  };\n\n  // Load favorites.\n  useEffect(() => {\n    onLoadUserFavorites();\n    onLoadGlobalFavorites();\n  }, []);\n\n  // The Custom Hook API:\n  return {\n    userFavorites,\n    globalFavorites,\n    onAddUserFavorite,\n    onAddGlobalFavorite,\n    onDeleteUserFavorite,\n    onDeleteGlobalFavorite\n  };\n}\n","import { Button, Divider, Switch, TextField, Typography, useTheme } from '@material-ui/core';\nimport useALContext from 'components/hooks/useALContext';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { ChipList } from 'components/visual/ChipList';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport useFavorites, { Favorite } from './hooks/useFavorites';\n\ninterface AlertsFiltersFavoritesProps {\n  initValue?: string;\n  onSaved: (favorite: { name: string; query: string }) => void;\n  onSelected: (favorite: Favorite) => void;\n  onDeleted: (favorite: Favorite) => void;\n}\n\nconst AlertsFiltersFavorites: React.FC<AlertsFiltersFavoritesProps> = ({\n  initValue,\n  onSaved,\n  onSelected,\n  onDeleted\n}) => {\n  const theme = useTheme();\n  const { t } = useTranslation('favorites');\n  const {\n    userFavorites,\n    globalFavorites,\n    onAddUserFavorite,\n    onDeleteUserFavorite,\n    onAddGlobalFavorite,\n    onDeleteGlobalFavorite\n  } = useFavorites();\n  const { showErrorMessage, showSuccessMessage } = useMySnackbar();\n  const { c12nDef, user: currentUser } = useALContext();\n  const [formValid, setFormValid] = useState<boolean>(false);\n  const [classification, setClassification] = useState<string>(c12nDef.UNRESTRICTED);\n  const [queryValue, setQueryValue] = useState<{ valid: boolean; value: string }>({ valid: true, value: initValue });\n  const [nameValue, setNameValue] = useState<{ valid: boolean; value: string }>({ valid: true, value: '' });\n  const [publicSwitch, setPublicSwitch] = useState<boolean>(false);\n  const [confirmation, setConfirmation] = useState<{ open: boolean; favorite: Favorite; isPublic: boolean }>({\n    open: false,\n    favorite: null,\n    isPublic: false\n  });\n\n  const validateForm = (\n    _queryValue: { valid: boolean; value: string },\n    _nameValue: { valid: boolean; value: string }\n  ) => {\n    setFormValid(!!_queryValue.value && !!_nameValue.value);\n  };\n\n  const _onDelete = (favorite: Favorite, isPublic: boolean) => {\n    if (isPublic) {\n      onDeleteGlobalFavorite(favorite, () => {\n        onDeleted(favorite);\n      });\n    } else {\n      onDeleteUserFavorite(favorite, () => {\n        onDeleted(favorite);\n      });\n    }\n  };\n\n  const _onSave = () => {\n    if (queryValue.value && nameValue.value) {\n      const favorite: Favorite = {\n        query: queryValue.value,\n        name: nameValue.value,\n        classification: publicSwitch && c12nDef.enforce ? classification : c12nDef.UNRESTRICTED,\n        created_by: currentUser.username\n      };\n\n      if (publicSwitch) {\n        onAddGlobalFavorite(favorite, () => {\n          showSuccessMessage(t('added.global'));\n          onSaved(favorite);\n        });\n      } else {\n        onAddUserFavorite(favorite, () => {\n          showSuccessMessage(t('added.personal'));\n          onSaved(favorite);\n        });\n      }\n    } else {\n      showErrorMessage(t('form.field.required'));\n    }\n  };\n\n  const _onDeleteClick = (favorite: Favorite, isPublic: boolean) => {\n    setConfirmation({ open: true, favorite, isPublic });\n  };\n\n  const _onConfirmOkClick = () => {\n    const { favorite, isPublic } = confirmation;\n    _onDelete(favorite, isPublic);\n    setConfirmation({ open: false, favorite: null, isPublic: false });\n  };\n\n  const _onConfirmCancelClick = () => {\n    setConfirmation({ open: false, favorite: null, isPublic: false });\n  };\n\n  const _onSelect = (favorite: Favorite) => {\n    onSelected(favorite);\n  };\n\n  const onQueryChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const _queryValue = { valid: !!value, value };\n    setQueryValue(_queryValue);\n    validateForm(_queryValue, nameValue);\n  };\n\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.currentTarget;\n    const _nameValue = { valid: !!value, value };\n    setNameValue({ valid: !!value, value });\n    validateForm(queryValue, _nameValue);\n  };\n\n  const onSwitchChange = (isPublic: boolean) => {\n    setPublicSwitch(isPublic);\n  };\n\n  return (\n    <div>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('addfavorites')}</Typography>\n      </div>\n      <div style={{ textAlign: 'right' }}>\n        <Button\n          onClick={() => onSwitchChange(!publicSwitch)}\n          size=\"small\"\n          color=\"primary\"\n          disableElevation\n          disableRipple\n        >\n          <div>{t('private')}</div>\n          <div style={{ flex: 1 }}>\n            <Switch checked={publicSwitch} onChange={event => onSwitchChange(event.target.checked)} color=\"primary\" />\n          </div>\n          <div>{t('public')}</div>\n        </Button>\n      </div>\n      {publicSwitch && c12nDef.enforce ? (\n        <Classification type=\"picker\" c12n={classification} setClassification={setClassification} />\n      ) : (\n        <div style={{ padding: theme.spacing(2.25) }} />\n      )}\n      <div style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(2) }}>\n        <div>\n          <Typography variant=\"subtitle2\">{t('query')}</Typography>\n          <TextField\n            error={!queryValue.valid}\n            variant=\"outlined\"\n            value={queryValue.value}\n            onChange={onQueryChange}\n            onBlur={() => setQueryValue({ ...queryValue, valid: !!queryValue.value })}\n            fullWidth\n          />\n        </div>\n        <div style={{ marginTop: theme.spacing(2) }}>\n          <Typography variant=\"subtitle2\">{t('name')}</Typography>\n          <TextField\n            error={!nameValue.valid}\n            variant=\"outlined\"\n            value={nameValue.value}\n            onChange={onNameChange}\n            onBlur={() => setNameValue({ ...nameValue, valid: !!nameValue.value })}\n            fullWidth\n          />\n        </div>\n      </div>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingBottom: theme.spacing(4), textAlign: 'right' }}>\n        <Button variant=\"contained\" color=\"primary\" onClick={_onSave} disabled={!formValid}>\n          {t('save')}\n        </Button>\n      </div>\n\n      {/* Your personnal favorites  */}\n      <Typography variant=\"h6\">{t('yourfavorites')}</Typography>\n      <Divider />\n      <div style={{ marginTop: theme.spacing(1), marginBottom: theme.spacing(4) }}>\n        <ChipList\n          items={userFavorites.map(f => ({\n            size: 'medium',\n            variant: 'outlined',\n            label: f.name,\n            tooltip: f.query,\n            onClick: () => _onSelect(f),\n            onDelete: () => _onDeleteClick(f, false)\n          }))}\n        />\n      </div>\n\n      {/* The global favorites */}\n      <Typography variant=\"h6\">{t('globalfavorites')}</Typography>\n      <Divider />\n      <div style={{ marginTop: theme.spacing(1) }}>\n        <ChipList\n          items={globalFavorites.map(f => ({\n            size: 'medium',\n            variant: 'outlined',\n            label: f.name,\n            tooltip: f.query,\n            onClick: () => _onSelect(f),\n            onDelete: () => _onDeleteClick(f, true)\n          }))}\n        />\n      </div>\n\n      <ConfirmationDialog\n        open={confirmation.open}\n        handleClose={_onConfirmCancelClick}\n        handleAccept={_onConfirmOkClick}\n        title={t('confirmdiag.header')}\n        cancelText={t('cancel')}\n        acceptText={t('ok')}\n        text={\n          <>\n            <span style={{ display: 'block', paddingBottom: theme.spacing(1) }}>{t('confirmdiag.content')}</span>\n            <span style={{ display: 'block', fontWeight: 500 }}>\n              {confirmation.favorite ? confirmation.favorite.name : null}\n            </span>\n          </>\n        }\n      />\n    </div>\n  );\n};\n\nexport default AlertsFiltersFavorites;\n","import { ChipList } from 'components/visual/ChipList';\nimport SearchQuery, { SearchFilter, SearchQueryFilters } from 'components/visual/SearchBar/search-query';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ninterface AlertFiltersSelectedProps {\n  searchQuery: SearchQuery;\n  hideQuery?: boolean;\n  hideGroupBy?: boolean;\n  disableActions?: boolean;\n  onChange?: (filters: SearchQueryFilters, query?: string) => void;\n}\n\nconst AlertsFiltersSelected: React.FC<AlertFiltersSelectedProps> = ({\n  searchQuery,\n  hideQuery = false,\n  hideGroupBy = false,\n  disableActions = false,\n  onChange = () => null\n}) => {\n  const { t } = useTranslation('alerts');\n\n  const filters = searchQuery.parseFilters();\n  const query = searchQuery.getQuery();\n\n  const onDeleteMainQuery = () => {\n    onChange(filters, '');\n  };\n\n  const onDeleteTC = () => {\n    onChange({ ...filters, tc: '' });\n  };\n\n  const onDeleteGroupBy = () => {\n    onChange({ ...filters, groupBy: '' });\n  };\n\n  const onDeleteStatus = (item: SearchFilter) => {\n    const _statuses = filters.statuses.filter(s => s.value !== item.value);\n    onChange({ ...filters, statuses: _statuses });\n  };\n\n  const onDeletePriority = (item: SearchFilter) => {\n    const _priorities = filters.priorities.filter(s => s.value !== item.value);\n    onChange({ ...filters, priorities: _priorities });\n  };\n\n  const onDeleteLabel = (item: SearchFilter) => {\n    const _labels = filters.labels.filter(s => s.value !== item.value);\n    onChange({ ...filters, labels: _labels });\n  };\n\n  const onDeleteQuery = (item: SearchFilter) => {\n    const _queries = filters.queries.filter(s => s.value !== item.value);\n    onChange({ ...filters, queries: _queries });\n  };\n\n  return (\n    <div>\n      <div>\n        {query && !hideQuery && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[query].map(v => ({\n                variant: 'outlined',\n                label: `${v}`,\n                onDelete: !disableActions ? () => onDeleteMainQuery() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.tc && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[filters.tc].map(v => ({\n                variant: 'outlined',\n                label: `${t('tc')}=${v}`,\n                onDelete: !disableActions ? () => onDeleteTC() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.groupBy && !hideGroupBy && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={[filters.groupBy].map(v => ({\n                variant: 'outlined',\n                label: `${t('groupBy')}=${v}`,\n                onDelete: !disableActions ? () => onDeleteGroupBy() : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.statuses.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.statuses.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteStatus(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.priorities.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.priorities.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeletePriority(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.labels.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.labels.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteLabel(v) : null\n              }))}\n            />\n          </div>\n        )}\n        {filters && filters.queries.length !== 0 && (\n          <div style={{ display: 'inline-block' }}>\n            <ChipList\n              items={filters.queries.map(v => ({\n                variant: 'outlined',\n                label: v.value,\n                onDelete: !disableActions ? () => onDeleteQuery(v) : null\n              }))}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsFiltersSelected;\n","import { Button, CircularProgress, TextField, Typography, useTheme } from '@material-ui/core';\nimport { Alert, Autocomplete } from '@material-ui/lab';\nimport SearchQuery, { SearchFilter } from 'components/visual/SearchBar/search-query';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport AlertsFiltersSelected from './alerts-filters-selected';\n\nconst POSSIBLE_STATUS = ['ASSESS', 'MALICIOUS', 'NON-MALICIOUS'];\nconst POSSIBLE_PRIORITY = ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL'];\nconst DEFAULT_LABELS = [\n  'PHISHING',\n  'CRIME',\n  'ATTRIBUTED',\n  'WHITELISTED',\n  'FALSE_POSITIVE',\n  'REPORTED',\n  'MITIGATED',\n  'PENDING'\n];\n\ninterface AlertsWorkflowActionsProps {\n  searchQuery: SearchQuery;\n  alert: any;\n  labelFilters: SearchFilter[];\n  onApplyBtnClick: (status: string, selectedPriority: string, selectedLabels: string[]) => void;\n}\n\nconst AlertsWorkflowActions: React.FC<AlertsWorkflowActionsProps> = ({\n  searchQuery,\n  alert,\n  labelFilters,\n  onApplyBtnClick\n}) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const [formValid, setFormValid] = useState<boolean>(false);\n  const [applying, setApplying] = useState<boolean>(false);\n  const [possibleLabels] = useState<string[]>([...DEFAULT_LABELS, ...labelFilters.map(val => val.label)]);\n  const [selectedStatus, setSelectedStatus] = useState<string>(null);\n  const [selectedPriority, setSelectedPriority] = useState<string>(null);\n  const [selectedLabels, setSelectedLabels] = useState<string[]>([]);\n\n  const validateForm = (status: string, priority: string, labels: string[]) => {\n    const valid = (status || priority || (labels && labels.length > 0)) as boolean;\n    setFormValid(valid);\n  };\n\n  const onStatusChange = (selection: string) => {\n    validateForm(selection, selectedPriority, selectedLabels);\n    setSelectedStatus(selection);\n  };\n\n  const onPriorityChange = (selection: string) => {\n    validateForm(selectedStatus, selection, selectedLabels);\n    setSelectedPriority(selection);\n  };\n\n  const onLabelChange = (selections: string[]) => {\n    validateForm(selectedStatus, selectedPriority, selections);\n    setSelectedLabels(selections.map(val => val.toUpperCase()));\n  };\n\n  const _onApplyBtnClick = () => {\n    if (formValid) {\n      setApplying(true);\n      onApplyBtnClick(selectedStatus, selectedPriority, selectedLabels);\n    }\n  };\n\n  const query = searchQuery.getQuery();\n\n  return (\n    <div>\n      <div style={{ margin: theme.spacing(1), marginBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('workflow.title')}</Typography>\n      </div>\n      <div style={{ margin: theme.spacing(1) }}>\n        <Alert severity={query && query.startsWith('alert_id') && alert ? 'info' : 'warning'}>\n          {query && query.startsWith('alert_id') && alert ? t('workflow.impact.low') : t('workflow.impact.high')}\n        </Alert>\n      </div>\n\n      <div style={{ margin: theme.spacing(1) }}>\n        <div\n          style={{\n            wordBreak: 'break-all',\n            marginTop: theme.spacing(1),\n            padding: theme.spacing(2),\n            color: theme.palette.primary.light,\n            backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[900] : theme.palette.grey[200]\n          }}\n        >\n          <AlertsFiltersSelected searchQuery={searchQuery} disableActions hideGroupBy />\n        </div>\n      </div>\n\n      <div style={{ margin: theme.spacing(1), marginTop: theme.spacing(2) }}>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            options={POSSIBLE_STATUS}\n            value={selectedStatus}\n            renderInput={params => <TextField {...params} label={t('status')} variant=\"outlined\" />}\n            onChange={(event, value) => onStatusChange(value as string)}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            options={POSSIBLE_PRIORITY}\n            value={selectedPriority}\n            renderInput={params => <TextField {...params} label={t('priority')} variant=\"outlined\" />}\n            onChange={(event, value) => onPriorityChange(value as string)}\n          />\n        </div>\n        <div style={{ marginBottom: theme.spacing(2) }}>\n          <Autocomplete\n            fullWidth\n            multiple\n            freeSolo\n            options={possibleLabels}\n            value={selectedLabels}\n            renderInput={params => <TextField {...params} label={t('labels')} variant=\"outlined\" />}\n            onChange={(event, value) => onLabelChange(value as string[])}\n          />\n        </div>\n      </div>\n      <div style={{ textAlign: 'right', marginTop: theme.spacing(1) }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={_onApplyBtnClick}\n          startIcon={applying ? <CircularProgress size={20} /> : null}\n          disabled={applying || !formValid}\n        >\n          {t('workflow.apply')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AlertsWorkflowActions;\n","import { LineItem } from 'commons/addons/elements/lists/item/ListItemBase';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport { ALField } from 'components/hooks/useMyUser';\nimport SearchQuery, { SearchFilter, SearchFilterType } from 'components/visual/SearchBar/search-query';\nimport { useCallback, useEffect, useReducer, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst DEFAULT_STATE = {\n  loading: true,\n  total: 0,\n  countedTotal: 0,\n  alerts: []\n};\n\nexport interface AlertFile {\n  md5: string;\n  name: string;\n  sha1: string;\n  sha256: string;\n  size: number;\n  type: string;\n}\n\nexport interface AlertUpdateItem {\n  label?: string[];\n  owner?: string;\n  priority?: string;\n  status?: string;\n  verdict?: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n}\n\nexport interface AlertItem extends LineItem {\n  al: {\n    attrib: string[];\n    av: string[];\n    behavior: string[];\n    domain: string[];\n    domain_dynamic: string[];\n    domain_static: string[];\n    ip: string[];\n    ip_dynamic: string[];\n    ip_static: string[];\n    request_end_time: string[];\n    score: number;\n    yara: string[];\n  };\n  alert_id: string;\n  attack: {\n    category: string[];\n    pattern: string[];\n  };\n  extended_scan: string;\n  classification: string;\n  file: AlertFile;\n  filtered: boolean;\n  label: string[];\n  group_count: number;\n  heuristic: { name: string[] };\n  hint_owner: boolean;\n  metadata: {\n    [key: string]: any;\n  }[];\n  owner: string;\n  priority: string;\n  reporting_ts: string;\n  sid: string;\n  status: string;\n  ts: string;\n  type: string;\n  verdict: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n}\n\n// The Custom Hook API.\ninterface UsingAlerts {\n  loading: boolean;\n  fields: ALField[];\n  total: number;\n  countedTotal: number;\n  alerts: AlertItem[];\n  searchQuery: SearchQuery;\n  labelFilters: SearchFilter[];\n  priorityFilters: SearchFilter[];\n  statusFilters: SearchFilter[];\n  valueFilters: SearchFilter[];\n  updateAlert: (alertIndex: number, alertChanges: AlertUpdateItem) => void;\n  updateQuery: (query: SearchQuery) => void;\n  onLoad: (onComplete?: (success: boolean) => void) => void;\n  onLoadMore: (onComplete?: (success: boolean) => void) => void;\n}\n\ninterface AlertState {\n  loading: boolean;\n  total: number;\n  countedTotal: number;\n  alerts: AlertItem[];\n}\n\ninterface AlertMessage {\n  action: 'set' | 'append' | 'update';\n  loading?: boolean;\n  total?: number;\n  countedTotal?: number;\n  alerts?: AlertItem[];\n  updateAlert?: {\n    alertIndex: number;\n    alertChanges: AlertUpdateItem;\n  };\n}\n\nconst alertStateReducer = (state: AlertState, newState: AlertMessage) => {\n  const { action, loading, total, countedTotal, alerts, updateAlert } = newState;\n\n  if (action === 'update') {\n    const newAlertList = [...state.alerts];\n    newAlertList[updateAlert.alertIndex] = { ...newAlertList[updateAlert.alertIndex], ...updateAlert.alertChanges };\n    return {\n      loading: state.loading,\n      total: state.total,\n      countedTotal: state.countedTotal,\n      alerts: newAlertList\n    };\n  }\n\n  if (action === 'set') {\n    return {\n      loading: loading !== undefined ? loading : state.loading,\n      total: total !== undefined ? total : state.total,\n      countedTotal: countedTotal !== undefined ? countedTotal : state.countedTotal,\n      alerts: alerts || state.alerts\n    };\n  }\n\n  return {\n    loading: loading !== undefined ? loading : state.loading,\n    total: total !== undefined ? total : state.total,\n    countedTotal: countedTotal !== undefined ? state.countedTotal + countedTotal : state.countedTotal,\n    alerts: alerts ? state.alerts.concat(alerts) : state.alerts\n  };\n};\n\n// Custom Hook implementation for dealing with alerts.\nexport default function useAlerts(pageSize: number): UsingAlerts {\n  const location = useLocation();\n  const apiCall = useMyAPI();\n  const { indexes: fieldIndexes } = useALContext();\n  const [searchQuery, setSearchQuery] = useState<SearchQuery>(null);\n  const [fields, setFields] = useState<ALField[]>([]);\n  const [statusFilters, setStatusFilters] = useState<SearchFilter[]>([]);\n  const [priorityFilters, setPriorityFilters] = useState<SearchFilter[]>([]);\n  const [labelFilters, setLabelFilters] = useState<SearchFilter[]>([]);\n  const [valueFilters, setValueFilters] = useState<SearchFilter[]>([]);\n  const [state, setState] = useReducer(alertStateReducer, DEFAULT_STATE);\n\n  // parse list of alert result: add an index field.\n  const parseResult = (responseItems, offset) => {\n    const items = responseItems.map((item, index) => ({ ...item, id: item.alert_id, index: index + offset }));\n    return items;\n  };\n\n  // format alert api url using specified indexes.\n  const buildUrl = useCallback(() => {\n    if (searchQuery.getGroupBy()) {\n      return `/api/v4/alert/grouped/${searchQuery.getGroupBy()}/?${searchQuery.buildAPIQueryString()}`;\n    }\n    return `/api/v4/alert/list/?${searchQuery.buildAPIQueryString()}`;\n  }, [searchQuery]);\n\n  // Hook API: update an alert in the list\n  const updateAlert = useCallback((alertIndex: number, alertChanges: AlertUpdateItem) => {\n    setState({ action: 'update', updateAlert: { alertIndex, alertChanges } });\n  }, []);\n\n  // Hook API: load/reload all the alerts from start.\n  // resets the accumulated list.\n  const onLoad = useCallback(\n    (onComplete?: (success: boolean) => void) => {\n      setState({ action: 'set', loading: true });\n      apiCall({\n        url: buildUrl(),\n        onSuccess: api_data => {\n          const { items: _items, tc_start: executionTime, total, counted_total: countedTotal } = api_data.api_response;\n          const items = parseResult(_items, 0);\n\n          // Set time constraint start\n          if (executionTime) {\n            searchQuery.setTcStart(executionTime);\n          } else if (!searchQuery.getTcStart() && items.length > 0) {\n            searchQuery.setTcStart(items[0].reporting_ts);\n          }\n\n          setState({\n            action: 'set',\n            loading: false,\n            total,\n            countedTotal: searchQuery.getGroupBy() ? countedTotal : _items.length,\n            alerts: items\n          });\n          if (onComplete) {\n            onComplete(true);\n          }\n        },\n        onFailure: () => {\n          setState({ action: 'set', loading: false });\n          if (onComplete) {\n            onComplete(false);\n          }\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [searchQuery]\n  );\n\n  // Hook API: get alerts for specified index.\n  const onLoadMore = useCallback(\n    (onComplete?: (success: boolean) => void) => {\n      // Move offset by one increment.\n      searchQuery.tickOffset();\n      // reference the current offset now incase it changes again before callback is executed\n      const _offset = searchQuery.getOffsetNumber();\n      setState({ action: 'set', loading: true });\n      apiCall({\n        url: buildUrl(),\n        onSuccess: api_data => {\n          const { items: _items, total, counted_total: countedTotal } = api_data.api_response;\n          const parsedItems = parseResult(_items, _offset);\n          setState({\n            action: 'append',\n            loading: false,\n            total,\n            countedTotal: searchQuery.getGroupBy() ? countedTotal : _items.length,\n            alerts: parsedItems\n          });\n          if (onComplete) {\n            onComplete(true);\n          }\n        },\n        onFailure: () => {\n          setState({ action: 'set', loading: false });\n          if (onComplete) {\n            onComplete(false);\n          }\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [searchQuery]\n  );\n\n  // Fetch the Status Filters.\n  const onLoadStatuses = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/statuses/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: statuses } = api_data;\n        const msItems: SearchFilter[] = Object.keys(statuses).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.STATUS,\n          label: k,\n          value: `status:${k}`,\n          other: { count: statuses[k] }\n        }));\n        setStatusFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Fetch the Priority Filters.\n  const onLoadPriorities = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/priorities/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: priorities } = api_data;\n        const msItems: SearchFilter[] = Object.keys(priorities).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.PRIORITY,\n          label: k,\n          value: `priority:${k}`,\n          other: { count: priorities[k] }\n        }));\n        setPriorityFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Fetch the Label Filters.\n  const onLoadLabels = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/labels/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: labels } = api_data;\n        const msItems: SearchFilter[] = Object.keys(labels).map((k, i) => ({\n          id: i,\n          type: SearchFilterType.LABEL,\n          label: k,\n          value: `label:${k}`,\n          other: { count: labels[k] }\n        }));\n        setLabelFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  const onLoadStatisics = useCallback(() => {\n    apiCall({\n      url: `/api/v4/alert/statistics/?${searchQuery.buildAPIQueryString()}${\n        searchQuery.getGroupBy() ? `&fq=${searchQuery.getGroupBy()}:*` : ''\n      }`,\n      onSuccess: api_data => {\n        const { api_response: statistics } = api_data;\n        const msItems: SearchFilter[] = [];\n        Object.keys(statistics).forEach((k, ki) => {\n          const value = statistics[k];\n          Object.keys(value).forEach((vk, vki) => {\n            const vkv = value[vk];\n            msItems.push({\n              id: `${ki}.${vki}}`,\n              type: SearchFilterType.QUERY,\n              label: `${k}:${vk}`,\n              value: `${k}:\"${vk}\"`,\n              other: { count: vkv }\n            });\n          });\n        });\n        setValueFilters(msItems);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  // Load it up!\n  useEffect(() => {\n    if (searchQuery) {\n      onLoad();\n      onLoadStatuses();\n      onLoadPriorities();\n      onLoadLabels();\n      onLoadStatisics();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  useEffect(() => {\n    setSearchQuery(new SearchQuery(location.pathname, location.search, pageSize));\n  }, [location.pathname, location.search, pageSize]);\n\n  // transform alert fields into array.\n  useEffect(() => {\n    if (fieldIndexes) {\n      const aFields = Object.keys(fieldIndexes.alert).map(name => {\n        const o = fieldIndexes.alert[name];\n        return { ...o, name };\n      });\n      setFields(aFields);\n    }\n  }, [fieldIndexes]);\n\n  // UseAlert Hook API.\n  return {\n    ...state,\n    fields,\n    searchQuery,\n    statusFilters,\n    priorityFilters,\n    labelFilters,\n    valueFilters,\n    updateAlert,\n    updateQuery: setSearchQuery,\n    onLoad,\n    onLoadMore\n  };\n}\n","import { Box, Drawer, IconButton, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport StarIcon from '@material-ui/icons/Star';\nimport { AlertTitle } from '@material-ui/lab';\nimport ListCarousel from 'commons/addons/elements/lists/carousel/ListCarousel';\nimport ListNavigator from 'commons/addons/elements/lists/navigator/ListNavigator';\nimport SimpleList from 'commons/addons/elements/lists/simplelist/SimpleList';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport InformativeAlert from 'components/visual/InformativeAlert';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport SearchQuery, { SearchQueryFilters } from 'components/visual/SearchBar/search-query';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\nimport { FiFilter } from 'react-icons/fi';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport AlertDetails from './alert-details';\nimport AlertListItem from './alert-list-item';\nimport AlertListItemActions, { PossibleVerdict } from './alert-list-item-actions';\nimport AlertsFilters from './alerts-filters';\nimport AlertsFiltersFavorites from './alerts-filters-favorites';\nimport AlertsFiltersSelected from './alerts-filters-selected';\nimport AlertsWorkflowActions from './alerts-workflow-actions';\nimport useAlerts, { AlertItem } from './hooks/useAlerts';\nimport useFavorites from './hooks/useFavorites';\nimport usePromiseAPI from './hooks/usePromiseAPI';\n\n// Default size of a page to be used by the useAlert hook when fetching next load of data\n//  when scrolling has hit threshold.\nconst PAGE_SIZE = 50;\n\nexport interface AlertDrawerState {\n  open: boolean;\n  type: 'filter' | 'favorites' | 'actions';\n  actionData?: {\n    query: SearchQuery;\n    alert?: {\n      index: number;\n      alert_id: string;\n      priority: string;\n      status: string;\n      labels: string[];\n    };\n  };\n}\n\nconst ALERT_SIMPLELIST_ID = 'al.alerts.simplelist';\n\n// Just indicates whether there are any filters currently set..\nconst hasFilters = (filters: SearchQueryFilters): boolean => {\n  const { statuses, priorities, labels, queries } = filters;\n  return statuses.length > 0 || priorities.length > 0 || labels.length > 0 || queries.length > 0;\n};\n\n// Some generated style classes\nconst useStyles = makeStyles(theme => ({\n  pageTitle: {\n    // paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  drawerInner: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(3),\n    width: '600px',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%'\n    }\n  },\n  searchresult: {\n    marginTop: theme.spacing(1),\n    fontStyle: 'italic',\n    minHeight: theme.spacing(3)\n  },\n  modeToggler: {\n    border: 'none',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    marginRight: '0px !important'\n  }\n}));\n\n// The Alerts functional component.\nconst Alerts: React.FC = () => {\n  const { t } = useTranslation('alerts');\n  const classes = useStyles();\n  const theme = useTheme();\n  const { user: currentUser } = useALContext();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const { setGlobalDrawer } = useDrawer();\n\n  // Alerts hook.\n  const {\n    loading,\n    alerts,\n    total,\n    countedTotal,\n    fields,\n    searchQuery,\n    valueFilters,\n    statusFilters,\n    priorityFilters,\n    labelFilters,\n    onLoad,\n    onLoadMore,\n    updateAlert\n  } = useAlerts(PAGE_SIZE);\n\n  // API Promise hook\n  const { onApplyWorkflowAction } = usePromiseAPI();\n\n  // Define required states...\n  const [scrollReset, setScrollReset] = useState<boolean>(false);\n  const [drawer, setDrawer] = useState<AlertDrawerState>({\n    open: false,\n    type: null\n  });\n  const history = useHistory();\n  const location = useLocation();\n  const { userFavorites, globalFavorites } = useFavorites();\n\n  // Define some references.\n  const searchTextValue = useRef<string>('');\n\n  useEffect(() => {\n    if (searchQuery) {\n      setScrollReset(true);\n      searchTextValue.current = searchQuery.getQuery();\n    }\n  }, [searchQuery]);\n\n  // Media quries.\n  const isMDUp = useMediaQuery(theme.breakpoints.up('md'));\n  const isLGDown = useMediaQuery(theme.breakpoints.down('lg'));\n\n  // Handler searchbar onSearch callback\n  const onSearch = (filterValue: string = '', inputEl: HTMLInputElement = null) => {\n    // Update query and url before reloading data.\n    searchQuery.setQuery(filterValue);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    if (inputEl) inputEl.focus();\n  };\n\n  // Handler for when clearing the SearchBar.\n  const onClearSearch = (inputEl: HTMLInputElement = null) => {\n    // Reset the query.\n    searchQuery.deleteQuery();\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Update the search text field reference.\n    searchTextValue.current = '';\n\n    if (inputEl) inputEl.focus();\n  };\n\n  const onVerdictComplete = useCallback(\n    (index: number, item: AlertItem, verdict: PossibleVerdict) => {\n      const changes = { verdict: { ...item.verdict } };\n      if (verdict === 'malicious') {\n        if (changes.verdict.malicious.indexOf(currentUser.username) === -1) {\n          changes.verdict.malicious.push(currentUser.username);\n        }\n        if (changes.verdict.non_malicious.indexOf(currentUser.username) !== -1) {\n          changes.verdict.non_malicious.splice(changes.verdict.non_malicious.indexOf(currentUser.username), 1);\n        }\n      } else {\n        if (changes.verdict.non_malicious.indexOf(currentUser.username) === -1) {\n          changes.verdict.non_malicious.push(currentUser.username);\n        }\n        if (changes.verdict.malicious.indexOf(currentUser.username) !== -1) {\n          changes.verdict.malicious.splice(changes.verdict.malicious.indexOf(currentUser.username), 1);\n        }\n      }\n      updateAlert(index, changes);\n      window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: item.id, changes } }));\n    },\n    [currentUser.username, updateAlert]\n  );\n\n  const onTakeOwnershipComplete = useCallback(\n    (index: number, item: AlertItem) => {\n      const changes = { owner: currentUser.username };\n      updateAlert(index, changes);\n      window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: item.id, changes } }));\n    },\n    [currentUser.username, updateAlert]\n  );\n\n  // Handler for when an item of the InfiniteList is selected\n  const onItemSelected = useCallback(\n    (item: AlertItem, index: number) => {\n      if (item !== null && item !== undefined) {\n        if (isLGDown) {\n          // Unfocus the simple list so the drawer does not try to refocus it when closing...\n          document.getElementById(ALERT_SIMPLELIST_ID).blur();\n        }\n        setGlobalDrawer(\n          <div>\n            <div\n              style={{\n                alignItems: 'start',\n                display: 'flex',\n                float: 'right',\n                height: theme.spacing(8),\n                marginTop: theme.spacing(-8),\n                marginRight: theme.spacing(-1),\n                position: 'sticky',\n                top: theme.spacing(1),\n                zIndex: 1\n              }}\n            >\n              <ListNavigator id={ALERT_SIMPLELIST_ID} />\n              <AlertListItemActions\n                item={item}\n                index={index}\n                currentQuery={searchQuery}\n                setDrawer={setDrawer}\n                onTakeOwnershipComplete={() => onTakeOwnershipComplete(index, item)}\n                onVerdictComplete={verdict => onVerdictComplete(index, item, verdict)}\n                vertical\n              />\n            </div>\n            <ListCarousel id={ALERT_SIMPLELIST_ID} disableArrowUp disableArrowDown enableSwipe>\n              <AlertDetails alert={item} />\n            </ListCarousel>\n          </div>\n        );\n      }\n    },\n    [setGlobalDrawer, isLGDown, theme, searchQuery, onTakeOwnershipComplete, onVerdictComplete]\n  );\n\n  // Handler for when loading more alerts [read bottom of scroll area]\n  const _onLoadMore = useCallback(() => {\n    setScrollReset(false);\n    onLoadMore();\n  }, [setScrollReset, onLoadMore]);\n\n  // Hanlder for when clicking one the AlertsFilters 'Apply' button.\n  const onApplyFilters = (filters: SearchQueryFilters, query?: string) => {\n    // Set the newly selected filters and up location url bar.\n    if (query !== undefined && query !== null) searchQuery.setQuery(query);\n    searchQuery.setFilters(filters);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Close the Filters drawer.\n    if (drawer.open) {\n      setDrawer({ ...drawer, open: false });\n    }\n  };\n\n  // Handler for when the value of the search bar input field changes.\n  // We don't track it in state as that is being done in SearchBar component itself.\n  const onFilterValueChange = (inputValue: string) => {\n    searchTextValue.current = inputValue;\n  };\n\n  // The SearchBar contentassist suggesions.\n  const buildSearchSuggestions = () => {\n    const _fields = fields.map(f => f.name);\n    return [..._fields, ...DEFAULT_SUGGESTION];\n  };\n\n  // Handler/callback for when clicking the 'Add' btn on the AlertsFavorite component.\n  const onFavoriteAdd = (filter: { query: string; name: string }) => {\n    setDrawer({ ...drawer, open: false });\n  };\n\n  // Handler/callback for when deleting a favorite on the AlertsFavorite component.\n  const onFavoriteDelete = (favorite: { name: string; query: string }) => {\n    // console.log(favorite);\n  };\n\n  //\n  const onFavoriteSelected = (favorite: { name: string; query: string }) => {\n    // Update query with selected favorite.\n    searchQuery.addFq(favorite.query);\n    history.push(`${location.pathname}?${searchQuery.buildURLQueryString()}`);\n\n    // Close the Filters drawer.\n    if (drawer.open) {\n      setDrawer({ ...drawer, open: false });\n    }\n  };\n\n  // Handler/callback for when clicking the 'Apply' btn on the AlertsWorkflowActions component.\n  const onWorkflowActionsApply = (selectedStatus: string, selectedPriority: string, selectedLabels: string[]) => {\n    onApplyWorkflowAction(drawer.actionData.query, selectedStatus, selectedPriority, selectedLabels).then(() => {\n      setDrawer({ ...drawer, open: false });\n      const { alert } = drawer.actionData;\n      if (alert) {\n        const changes = {\n          status: selectedStatus || alert.status,\n          priority: selectedPriority || alert.priority,\n          label: [...Array.from(new Set([...alert.labels, ...selectedLabels]))]\n        };\n        updateAlert(alert.index, changes);\n        window.dispatchEvent(new CustomEvent('alertUpdate', { detail: { id: alert.alert_id, changes } }));\n      } else {\n        setScrollReset(true);\n        onLoad();\n      }\n    });\n  };\n\n  // Memoized callback to render one line-item of the list....\n  const onRenderListRow = useCallback((item: AlertItem) => {\n    return <AlertListItem item={item} />;\n  }, []);\n\n  //\n  const onDrawerClose = () => {\n    setDrawer({ ...drawer, open: false, actionData: null });\n  };\n\n  // Handler for when the cursor on the list changes via keybaord event.\n  const onListCursorChanges = (item: AlertItem, index: number) => {\n    onItemSelected(item, index);\n  };\n\n  // Handler to render the action buttons of each list item.\n  const onRenderListActions = useCallback(\n    (item: AlertItem, index: number) => (\n      <AlertListItemActions\n        item={item}\n        index={index}\n        currentQuery={searchQuery}\n        setDrawer={setDrawer}\n        onTakeOwnershipComplete={() => onTakeOwnershipComplete(index, item)}\n        onVerdictComplete={verdict => onVerdictComplete(index, item, verdict)}\n      />\n    ),\n    [onTakeOwnershipComplete, onVerdictComplete, searchQuery]\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      <Drawer open={drawer.open} anchor=\"right\" onClose={onDrawerClose}>\n        <div style={{ padding: theme.spacing(1) }}>\n          <IconButton onClick={onDrawerClose}>\n            <CloseOutlinedIcon />\n          </IconButton>\n        </div>\n        <div className={classes.drawerInner}>\n          {\n            {\n              filter: (\n                <AlertsFilters\n                  searchQuery={searchQuery}\n                  valueFilters={valueFilters}\n                  statusFilters={statusFilters}\n                  priorityFilters={priorityFilters}\n                  labelFilters={labelFilters}\n                  userFavorites={userFavorites}\n                  globalFavorites={globalFavorites}\n                  onApplyBtnClick={onApplyFilters}\n                />\n              ),\n              favorites: (\n                <AlertsFiltersFavorites\n                  initValue={searchTextValue.current}\n                  onSelected={onFavoriteSelected}\n                  onDeleted={onFavoriteDelete}\n                  onSaved={onFavoriteAdd}\n                />\n              ),\n              actions: drawer.actionData && (\n                <AlertsWorkflowActions\n                  searchQuery={drawer.actionData.query}\n                  alert={drawer.actionData.alert}\n                  labelFilters={labelFilters}\n                  onApplyBtnClick={onWorkflowActionsApply}\n                />\n              )\n            }[drawer.type]\n          }\n        </div>\n      </Drawer>\n\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('alerts')}</Typography>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={searchQuery ? searchQuery.getQuery() : ''}\n            searching={loading}\n            suggestions={buildSearchSuggestions()}\n            placeholder=\"Filter alerts...\"\n            onValueChange={onFilterValueChange}\n            onClear={onClearSearch}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <StarIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('favorites'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'favorites' })\n                }\n              },\n              {\n                icon: <FilterListIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('filters'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'filter' })\n                }\n              },\n              {\n                icon: <BiNetworkChart fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('workflows'),\n                props: {\n                  onClick: () => setDrawer({ open: true, type: 'actions', actionData: { query: searchQuery } })\n                }\n              }\n            ]}\n          >\n            <Box className={classes.searchresult}>\n              {isMDUp ? (\n                <SearchResultLarge\n                  searching={loading}\n                  total={total}\n                  query={searchQuery}\n                  onApplyFilters={onApplyFilters}\n                />\n              ) : (\n                <SearchResultSmall searching={loading} total={total} query={searchQuery} />\n              )}\n            </Box>\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <SimpleList\n        id={ALERT_SIMPLELIST_ID}\n        disableProgress\n        scrollInfinite={countedTotal < total}\n        scrollReset={scrollReset}\n        scrollLoadNextThreshold={75}\n        scrollTargetId=\"app-scrollct\"\n        loading={loading}\n        items={alerts}\n        emptyValue={\n          <div style={{ width: '100%' }}>\n            <InformativeAlert>\n              <AlertTitle>{t('no_alerts_title')}</AlertTitle>\n              {t('no_alerts_desc')}\n            </InformativeAlert>\n          </div>\n        }\n        onItemSelected={onItemSelected}\n        onRenderActions={onRenderListActions}\n        onLoadNext={_onLoadMore}\n        onCursorChange={onListCursorChanges}\n      >\n        {onRenderListRow}\n      </SimpleList>\n    </PageFullWidth>\n  );\n};\n\nconst SearchResultLarge = ({ searching, total, query, onApplyFilters }) => {\n  const theme = useTheme();\n  const { t } = useTranslation('alerts');\n  return (\n    <div style={{ position: 'relative' }}>\n      <AlertsFiltersSelected searchQuery={query} onChange={onApplyFilters} hideQuery />\n      <div style={{ position: 'absolute', top: theme.spacing(0.5), right: theme.spacing(1) }}>\n        {searching ? '' : <span>{`${total} ${total > 1 ? t('results') : t('result')}`}</span>}\n      </div>\n    </div>\n  );\n};\n\nconst SearchResultSmall = ({ searching, total, query }) => {\n  const theme = useTheme();\n  const { t } = useTranslation('alerts');\n  const filtered = query ? hasFilters(query.parseFilters()) : false;\n  return (\n    <>\n      <div style={{ marginTop: theme.spacing(2), alignItems: 'center' }}>\n        {!searching && filtered && (\n          <>\n            <FiFilter style={{ marginRight: theme.spacing(1) }} />\n          </>\n        )}\n        {searching ? '' : `${total} ${total > 1 ? t('results') : t('result')}`}\n      </div>\n    </>\n  );\n};\n\nexport default Alerts;\n","import { Tooltip } from '@material-ui/core';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst STATE_ICON_MAP = {\n  incomplete: <ClearIcon color=\"error\" />,\n  completed: <DoneIcon color=\"primary\" />,\n  submitted: <TimerIcon color=\"secondary\" />,\n  skipped: <BlockIcon color=\"action\" />\n};\n\ntype ExtendedScanProps = {\n  state: string;\n  error_count?: number;\n};\n\nconst WrappedExtendedScan: React.FC<ExtendedScanProps> = ({ state }) => {\n  const { t } = useTranslation();\n  const icon = STATE_ICON_MAP[state];\n\n  return <Tooltip title={t(`extended_scan.${state}`)}>{icon}</Tooltip>;\n};\n\nconst ExtendedScan = React.memo(WrappedExtendedScan);\nexport default ExtendedScan;\n","import { Tooltip, useTheme } from '@material-ui/core';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype VerdictBarProps = {\n  verdicts: {\n    malicious: string[];\n    non_malicious: string[];\n  };\n  width?: string;\n};\n\nconst WrappedVerdictBar: React.FC<VerdictBarProps> = ({ verdicts, width = '100%' }) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  return (\n    <Tooltip\n      title={`${t('verdict.malicious')}: ${verdicts.malicious.length} / ${t('verdict.non_malicious')}: ${\n        verdicts.non_malicious.length\n      }`}\n    >\n      <svg height=\"15\" width={width}>\n        <rect\n          height=\"15\"\n          width=\"100%\"\n          style={{ fill: theme.palette.background.default, stroke: theme.palette.divider }}\n        />\n        <rect\n          y=\"1\"\n          height=\"13\"\n          fill=\"#d9534f\"\n          x={`${50 - verdicts.malicious.length * 5}%`}\n          width={`${verdicts.malicious.length * 5}%`}\n        />\n        <rect x=\"50%\" y=\"1\" height=\"13\" fill=\"#5cb85c\" width={`${verdicts.non_malicious.length * 5}%`} />\n        <rect x=\"50%\" y=\"1\" height=\"13\" width=\"1%\" fill=\"lightgrey\" />\n      </svg>\n    </Tooltip>\n  );\n};\n\nconst VerdictBar = React.memo(WrappedVerdictBar);\nexport default VerdictBar;\n","import { Button, Grid, Hidden, IconButton, Paper, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport MoodIcon from '@material-ui/icons/Mood';\nimport MoodBadIcon from '@material-ui/icons/MoodBad';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport { AlertItem } from 'components/routes/alerts/hooks/useAlerts';\nimport Classification from 'components/visual/Classification';\nimport CustomChip from 'components/visual/CustomChip';\nimport ExtendedScan from 'components/visual/ExtendedScan';\nimport Verdict from 'components/visual/Verdict';\nimport VerdictBar from 'components/visual/VerdictBar';\nimport { bytesToSize } from 'helpers/utils';\nimport 'moment-timezone';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\n\ntype AlertCardItemProps = {\n  item: AlertItem;\n  setItem?: (item: AlertItem) => null;\n};\n\nconst AlertCardItem: React.FC<AlertCardItemProps> = ({ item, setItem = null }) => {\n  const { t } = useTranslation('alerts');\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const isDownSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const apiCall = useMyAPI();\n  const { showSuccessMessage } = useMySnackbar();\n  const { user: currentUser, c12nDef } = useALContext();\n\n  function setVerdict(verdict) {\n    if (item.verdict[verdict].indexOf(currentUser.username) !== -1) {\n      showSuccessMessage(t(`verdict.success.${verdict}`));\n      return;\n    }\n\n    apiCall({\n      method: 'PUT',\n      url: `/api/v4/alert/verdict/${item.alert_id}/${verdict}/`,\n      onSuccess: api_data => {\n        if (setItem !== null) {\n          const newVerdict = { ...item.verdict };\n          if (verdict === 'malicious') {\n            if (newVerdict.malicious.indexOf(currentUser.username) === -1) {\n              newVerdict.malicious.push(currentUser.username);\n            }\n            if (newVerdict.non_malicious.indexOf(currentUser.username) !== -1) {\n              newVerdict.non_malicious.splice(newVerdict.non_malicious.indexOf(currentUser.username), 1);\n            }\n          } else {\n            if (newVerdict.non_malicious.indexOf(currentUser.username) === -1) {\n              newVerdict.non_malicious.push(currentUser.username);\n            }\n            if (newVerdict.malicious.indexOf(currentUser.username) !== -1) {\n              newVerdict.malicious.splice(newVerdict.malicious.indexOf(currentUser.username), 1);\n            }\n          }\n\n          setItem({ ...item, verdict: newVerdict });\n        }\n        showSuccessMessage(t(`verdict.success.${verdict}`));\n      }\n    });\n  }\n\n  function takeOwnership() {\n    apiCall({\n      url: `/api/v4/alert/ownership/${item.alert_id}/`,\n      onSuccess: api_data => {\n        if (setItem !== null) {\n          setItem({ ...item, owner: currentUser.username });\n        }\n        showSuccessMessage(t('take_ownership.success'));\n      }\n    });\n  }\n\n  return (\n    <Paper\n      style={{\n        marginTop: sp2,\n        marginBottom: sp2,\n        padding: sp2,\n        backgroundColor: item.owner !== null ? '#00f2000f' : item.al.attrib.length !== 0 ? '#f200000f' : null\n      }}\n    >\n      {c12nDef.enforce && (\n        <Hidden mdUp>\n          <Classification c12n={item.classification} size=\"tiny\" type=\"outlined\" />\n        </Hidden>\n      )}\n      <Grid container spacing={2}>\n        <Grid\n          item\n          xs={12}\n          md={2}\n          lg={1}\n          style={{\n            display: isDownSM ? 'flex' : null,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            textAlign: 'center',\n            paddingTop: isDownSM ? sp4 : 0,\n            paddingBottom: isDownSM ? sp2 : 0\n          }}\n        >\n          <div\n            style={{\n              paddingTop: isDownSM ? 0 : sp1\n            }}\n          >\n            <Verdict score={item.al.score} />\n          </div>\n          {!isDownSM && item.group_count && (\n            <div style={{ paddingTop: sp2, color: theme.palette.primary.main }}>\n              <h2>{`${item.group_count}x`}</h2>\n            </div>\n          )}\n          {!isDownSM && item.extended_scan && (\n            <div style={{ paddingTop: sp2 }}>\n              <ExtendedScan state={item.extended_scan} />\n            </div>\n          )}\n          <div style={{ paddingTop: isDownSM ? 0 : sp4, width: '100%', maxWidth: '120px', display: 'inline-block' }}>\n            <VerdictBar verdicts={item.verdict} />\n            <Grid container>\n              <Grid item xs={5} style={{ textAlign: 'left' }}>\n                <IconButton size=\"small\" onClick={() => setVerdict('malicious')}>\n                  <MoodBadIcon />\n                </IconButton>\n              </Grid>\n              <Grid item xs={2} />\n              <Grid item xs={5} style={{ textAlign: 'right' }}>\n                <IconButton size=\"small\" onClick={() => setVerdict('non_malicious')}>\n                  <MoodIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </div>\n        </Grid>\n\n        <Grid item xs={12} md={10} lg={11}>\n          <Grid container spacing={1}>\n            <Grid item xs={3} md={2}>\n              <b>{item.type}</b>\n            </Grid>\n            <Grid item xs={9} md={6}>\n              <Moment format=\"YYYY-MM-DD HH:mm:ss.SSS (zz)\" tz=\"utc\">\n                {item.ts}\n              </Moment>\n            </Grid>\n            {c12nDef.enforce && (\n              <Hidden smDown>\n                <Grid item md={4} style={{ textAlign: 'right' }}>\n                  <Classification c12n={item.classification} size=\"tiny\" type=\"outlined\" inline />\n                </Grid>\n              </Hidden>\n            )}\n\n            {item.filtered && (\n              <>\n                <Grid item xs=\"auto\" md={2} />\n                <Grid item xs={12} md={10}>\n                  <b>{t('data_filtered_msg')}</b>\n                </Grid>\n              </>\n            )}\n          </Grid>\n\n          <Hidden mdUp>\n            <Grid container style={{ paddingTop: sp2 }}>\n              <Grid item xs={3}>\n                <b>{t('group_count')}</b>\n              </Grid>\n              <Grid item xs={9}>\n                {item.group_count}\n              </Grid>\n              <Grid item xs={3}>\n                <b>{t('extended')}</b>\n              </Grid>\n              <Grid item xs={9} style={{ textTransform: 'capitalize' }}>\n                {item.extended_scan}\n              </Grid>\n            </Grid>\n          </Hidden>\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={3} md={2}>\n              <b>{t('label')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              {item.label.map((l, i) => {\n                return <CustomChip key={i} label={l} size=\"tiny\" type=\"rounded\" />;\n              })}\n            </Grid>\n\n            <Grid item xs={3} md={2}>\n              <b>{t('priority')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              <CustomChip label={item.priority} size=\"tiny\" type=\"rounded\" />\n            </Grid>\n\n            <Grid item xs={3} md={2}>\n              <b>{t('status')}</b>\n            </Grid>\n            <Grid item xs={9} md={10}>\n              <CustomChip label={item.status} size=\"tiny\" type=\"rounded\" />\n            </Grid>\n          </Grid>\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={12} md={2}>\n              <b>{t('file_info')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.main, fontWeight: 500 }}>{item.file.name}</span>\n            </Grid>\n            <Grid item xs=\"auto\" md={2} />\n            <Grid item xs={12} md={10}>\n              {item.file.type}\n            </Grid>\n            <Grid item xs=\"auto\" md={2} />\n            <Grid item xs={12} md={10}>\n              <b>{item.file.size} </b>\n              <span style={{ fontWeight: 300 }}>({bytesToSize(item.file.size)})</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>MD5</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.md5}</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>SHA1</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.sha1}</span>\n            </Grid>\n            <Hidden smDown>\n              <Grid item md={2}>\n                <span style={{ fontFamily: 'monospace', fontWeight: 600 }}>SHA256</span>\n              </Grid>\n            </Hidden>\n            <Grid item xs={12} md={10}>\n              <span style={{ fontFamily: 'monospace', wordBreak: 'break-word' }}>{item.file.sha256}</span>\n            </Grid>\n          </Grid>\n\n          {(item.owner || item.hint_owner) && (\n            <Grid container style={{ paddingTop: sp2 }}>\n              <Grid item xs={12} md={2}>\n                <b>{t('ownership')}</b>\n              </Grid>\n              <Grid item xs={12} md={10}>\n                <b>{item.owner || t('hint_owner')}</b>\n              </Grid>\n            </Grid>\n          )}\n\n          {Object.keys(item.metadata).length !== 0 && (\n            <div style={{ paddingTop: sp2 }}>\n              {Object.keys(item.metadata).map((key, i) => {\n                return (\n                  <Grid container key={i}>\n                    <Grid item xs={12} md={2}>\n                      <span style={{ textTransform: 'capitalize', fontWeight: 600 }}>\n                        {key.replace('.', ' ').replace('_', ' ')}\n                      </span>\n                    </Grid>\n                    <Grid item xs={12} md={10}>\n                      {item.metadata[key]}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </div>\n          )}\n\n          <Grid container style={{ paddingTop: sp2 }}>\n            <Grid item xs={12} md={2}>\n              <b>{t('category')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 500 }}>\n                {item.attack.category.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('patterns')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 500 }}>\n                {item.attack.pattern.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('heuristic')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 300 }}>\n                {item.heuristic.name.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('behaviors')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.primary.light, fontWeight: 300 }}>\n                {item.al.behavior.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('attributions')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.error.dark, fontWeight: 500 }}>{item.al.attrib.join(' | ')}</span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('avhits')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              <span style={{ color: theme.palette.secondary.dark, fontWeight: 500 }}>{item.al.av.join(' | ')}</span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('ip')}</b>\n            </Grid>\n            <Grid item xs={12} md={10} style={{ color: theme.palette.success.dark }}>\n              <span style={{ fontWeight: 500 }}>{item.al.ip_dynamic.join(' | ')}</span>\n              <span>\n                {item.al.ip_dynamic.length !== 0 && ' | '}\n                {item.al.ip_static.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('domain')}</b>\n            </Grid>\n            <Grid item xs={12} md={10} style={{ color: theme.palette.success.dark }}>\n              <span style={{ fontWeight: 500 }}>{item.al.domain_dynamic.join(' | ')}</span>\n              <span>\n                {item.al.domain_dynamic.length !== 0 && ' | '}\n                {item.al.domain_static.join(' | ')}\n              </span>\n            </Grid>\n            <Grid item xs={12} md={2}>\n              <b>{t('yara')}</b>\n            </Grid>\n            <Grid item xs={12} md={10}>\n              {item.al.yara.join(' | ')}\n            </Grid>\n          </Grid>\n          <div style={{ paddingTop: sp2 }}>\n            <Button\n              component={Link}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              to={`/submission/${item.sid}`}\n            >\n              {t('btn.submission')}\n            </Button>\n            <Button\n              component={Link}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              to={`/search/?query=${item.file.sha256}`}\n            >\n              {t('btn.sha256')}\n            </Button>\n            <Button\n              disabled={item.owner !== null}\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              onClick={() => takeOwnership()}\n            >\n              {t('btn.ownership')}\n            </Button>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              style={{ fontSize: '80%', marginBottom: '4px', marginRight: '4px' }}\n              onClick={() => alert('NOT DONE YET')}\n            >\n              {t('btn.workflow')}\n            </Button>\n          </div>\n        </Grid>\n\n        <Grid item xs={12} style={{ textAlign: 'right' }}>\n          <Typography variant=\"caption\" color=\"secondary\" style={{ fontSize: '80%' }}>\n            {`${item.alert_id} :: `}\n            <Moment fromNow>{item.reporting_ts}</Moment>\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\n//\nexport default AlertCardItem;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect, useState } from 'react';\nimport AlertCardItem from './alert-card';\n\nexport default function AlertsLegacy() {\n  const apiCall = useMyAPI();\n  const [alerts, setAlerts] = useState(null);\n\n  useEffect(() => {\n    apiCall({\n      method: 'GET',\n      url: '/api/v4/alert/grouped/file.sha256/?offset=0&rows=25&q=&tc=4d',\n      onSuccess: api_data => {\n        setAlerts(api_data.api_response.items);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <h1>Alert Legacy Test</h1>\n      <div style={{ textAlign: 'left' }}>\n        {alerts &&\n          alerts.map((a, i) => {\n            return (\n              <div key={i}>\n                <AlertCardItem item={a} />\n              </div>\n            );\n          })}\n      </div>\n    </PageCenter>\n  );\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { Backdrop, Button, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst VALID_SCOPES = ['r', 'w', 'rw'];\n\nexport default function AppRegistration() {\n  const location = useLocation();\n  const history = useHistory();\n  const { t } = useTranslation(['authorize']);\n  const theme = useTheme();\n  const { getBanner } = useAppLayout();\n\n  const params = new URLSearchParams(location.search);\n  const rUrl = params.get('redirect_url');\n  const clientID = params.get('client_id');\n  const scope = params.get('scope');\n  const server = params.get('server');\n\n  return (\n    <Backdrop open style={{ backgroundColor: theme.palette.background.default, zIndex: 10000 }} transitionDuration={0}>\n      <CardCentered>\n        {getBanner(theme)}\n        <div style={{ display: 'flex', flexDirection: 'column', textAlign: 'center', justifyContent: 'center' }}>\n          {!rUrl || !clientID || !scope || !server || VALID_SCOPES.indexOf(scope) === -1 ? (\n            <>\n              <div style={{ marginBottom: '3rem' }}>{t('invalid')}</div>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => history.goBack()}>\n                {t('button.back')}\n              </Button>\n            </>\n          ) : (\n            <>\n              <div style={{ marginBottom: '2rem' }}>\n                <Typography component=\"span\" variant=\"h6\" color=\"primary\">\n                  {server}{' '}\n                </Typography>\n                <Typography component=\"span\" variant=\"h6\">\n                  {t('access')}\n                </Typography>\n              </div>\n              <Typography variant=\"subtitle2\" gutterBottom>\n                {t('scope')}\n              </Typography>\n              <Typography variant=\"caption\" color=\"secondary\" gutterBottom style={{ marginTop: '1rem' }}>\n                {t(`scope.${scope}`)}\n              </Typography>\n              <Typography\n                variant=\"caption\"\n                color=\"textSecondary\"\n                gutterBottom\n                style={{ marginTop: '2rem', textAlign: 'left' }}\n              >\n                {t('warning')}\n              </Typography>\n              <div\n                style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginTop: '3rem' }}\n              >\n                <Button variant=\"text\" href={`${rUrl}${rUrl.indexOf('?') === -1 ? '?' : '&'}error=cancelled`}>\n                  {t('button.cancel')}\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  href={`/api/v4/auth/obo_token/?XSRF_TOKEN=${getXSRFCookie()}&${location.search.substring(1)}`}\n                >\n                  {t('button.allow')}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </CardCentered>\n    </Backdrop>\n  );\n}\n","import React from 'react';\n\nexport default function useFullscreenStatus(elRef) {\n  const [isFullscreen, setIsFullscreen] = React.useState(document[getBrowserFullscreenElementProp()] != null);\n\n  const setFullscreen = () => {\n    if (elRef.current == null) return;\n\n    elRef.current\n      .requestFullscreen()\n      .then(() => {\n        setIsFullscreen(document[getBrowserFullscreenElementProp()] != null);\n      })\n      .catch(() => {\n        setIsFullscreen(false);\n      });\n  };\n\n  React.useLayoutEffect(() => {\n    document.onfullscreenchange = () => setIsFullscreen(document[getBrowserFullscreenElementProp()] != null);\n\n    return () => {\n      document.onfullscreenchange = undefined;\n    };\n  });\n\n  return [isFullscreen, setFullscreen];\n}\n\nfunction getBrowserFullscreenElementProp() {\n  if (typeof document.fullscreenElement !== 'undefined') {\n    return 'fullscreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['mozFullScreenElement'] !== 'undefined') {\n    return 'mozFullScreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['msFullscreenElement'] !== 'undefined') {\n    return 'msFullscreenElement';\n  }\n  // eslint-disable-next-line @typescript-eslint/dot-notation\n  if (typeof document['webkitFullscreenElement'] !== 'undefined') {\n    return 'webkitFullscreenElement';\n  }\n  throw new Error('fullscreenElement is not supported by this browser');\n}\n","import { IconButton, makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport useAppBarHeight from 'commons/components/hooks/useAppBarHeight';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport useFullscreenStatus from 'commons/components/hooks/useFullscreenStatus';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default\n  },\n  toggle: {\n    float: 'right',\n    paddingTop: theme.spacing(2),\n    position: 'sticky',\n    right: theme.spacing(2),\n    zIndex: theme.zIndex.appBar + 1\n  }\n}));\n\ninterface PageFullscreenProps {\n  children: React.ReactNode;\n  margin?: number;\n  mb?: number;\n  ml?: number;\n  mr?: number;\n  mt?: number;\n}\nconst PageFullscreen: React.FC<PageFullscreenProps> = ({ children, margin = null, mb = 2, ml = 2, mr = 2, mt = 2 }) => {\n  const maximizableElement = React.useRef(null);\n  const appBarHeight = useAppBarHeight();\n  const { currentLayout, autoHideAppbar } = useAppLayout();\n  let isFullscreen;\n  let setIsFullscreen;\n  let fullscreenSupported;\n\n  const barWillHide = currentLayout !== 'top' && autoHideAppbar;\n\n  try {\n    [isFullscreen, setIsFullscreen] = useFullscreenStatus(maximizableElement);\n  } catch (e) {\n    fullscreenSupported = false;\n    isFullscreen = false;\n    setIsFullscreen = undefined;\n  }\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const divider = useMediaQuery(theme.breakpoints.up('md')) ? 1 : 2;\n\n  const handleEnterFullscreen = () => {\n    setIsFullscreen();\n  };\n\n  const handleExitFullscreen = () => {\n    document.exitFullscreen();\n  };\n\n  return (\n    <div ref={maximizableElement} className={classes.root}>\n      <div className={classes.toggle} style={{ top: barWillHide || isFullscreen ? 0 : appBarHeight }}>\n        {fullscreenSupported ? null : isFullscreen ? (\n          <IconButton onClick={handleExitFullscreen}>\n            <FullscreenExitIcon />\n          </IconButton>\n        ) : (\n          <IconButton onClick={handleEnterFullscreen}>\n            <FullscreenIcon />\n          </IconButton>\n        )}\n      </div>\n      <div\n        style={{\n          marginBottom: theme.spacing(margin / divider || mb / divider),\n          marginLeft: theme.spacing(margin / divider || ml / divider),\n          marginRight: theme.spacing(margin / divider || mr / divider),\n          marginTop: theme.spacing(margin / divider || mt / divider)\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default PageFullscreen;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { scaleLinear } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  caption: {\n    color: theme.palette.text.secondary,\n    fontSize: 'x-small',\n    fontWeight: 500,\n    textAlign: 'center',\n    width: '100%'\n  },\n  graph: {\n    gridColumn: '1 / 1',\n    gridRow: '1 / 1'\n  },\n  outer: {\n    display: 'grid',\n    gridTemplate: '1fr / 1fr',\n    placeItems: 'end'\n  },\n  text: {\n    color: theme.palette.text.secondary,\n    fontWeight: 900,\n    gridColumn: '1 / 1',\n    gridRow: '1 / 1',\n    textAlign: 'center',\n    width: '100%'\n  },\n  title: {\n    color: theme.palette.text.secondary,\n    fontWeight: 500,\n    textAlign: 'center',\n    width: '100%'\n  }\n}));\n\ntype ArcGaugeProps = {\n  pctValue: number;\n  caption?: string;\n  colorBack?: string;\n  fontSize?: string;\n  initialized?: boolean;\n  title?: string;\n  width?: string;\n};\n\nconst ArcGauge: React.FC<ArcGaugeProps> = ({\n  pctValue,\n  caption = '',\n  colorBack = '#68686815',\n  fontSize = '22px',\n  initialized = false,\n  title = '',\n  width = '100px'\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const colorFilled = theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark;\n\n  const backgroundArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI / 2)\n    .endAngle(Math.PI / 2)\n    .cornerRadius(0)();\n  const percentScale = scaleLinear().domain([0, 100]).range([0, 1]);\n\n  const angleScale = scaleLinear()\n    .domain([0, 1])\n    .range([-Math.PI / 2, Math.PI / 2])\n    .clamp(true);\n  const filledArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI / 2)\n    .endAngle(angleScale(percentScale(pctValue)))\n    .cornerRadius(0)();\n\n  return (\n    <div>\n      {title && <div className={classes.title}>{title}</div>}\n      <div className={classes.outer} style={{ fontSize, lineHeight: fontSize, width }}>\n        {initialized ? (\n          <span className={classes.text}>{`${Number(pctValue).toFixed(0)}%`}</span>\n        ) : (\n          <span className={classes.text}>\n            <Skeleton variant=\"rect\" width=\"2rem\" style={{ borderRadius: '4px', display: 'inline-block' }} />\n          </span>\n        )}\n        <svg className={classes.graph} viewBox={[-1, -1, 2, 1].join(' ')}>\n          <g>\n            <path d={backgroundArc} fill={colorBack} />\n            <path d={filledArc} fill={colorFilled} />\n          </g>\n        </svg>\n      </div>\n      {caption && <div className={classes.caption}>{caption}</div>}\n    </div>\n  );\n};\n\nexport default ArcGauge;\n","import { Card, Grid, makeStyles, Theme, Tooltip, Typography } from '@material-ui/core';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport SpeedOutlinedIcon from '@material-ui/icons/SpeedOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageFullscreen from 'commons/components/layout/pages/PageFullScreen';\nimport ArcGauge from 'components/visual/ArcGauge';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport io from 'socket.io-client';\n\nconst NAMESPACE = '/status';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  card: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    minHeight: '120px',\n    '&:hover': {\n      boxShadow: theme.shadows[6]\n    }\n  },\n  core_card: {\n    flexGrow: 1,\n    padding: theme.spacing(1),\n    minHeight: '170px',\n    '&:hover': {\n      boxShadow: theme.shadows[6]\n    }\n  },\n  error: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ff000017' : '#FFE4E4',\n    border: `solid 1px ${theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark}`\n  },\n  error_icon: {\n    color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark,\n    float: 'right'\n  },\n  icon: {\n    marginRight: '4px',\n    verticalAlign: 'middle',\n    height: '20px',\n    color: theme.palette.action.active\n  },\n  metric: {\n    display: 'inline-block',\n    marginRight: theme.spacing(1)\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  },\n  ok: {\n    border: `solid 1px ${theme.palette.divider}`\n  },\n  title: {\n    fontWeight: 500,\n    fontSize: '120%'\n  }\n}));\n\nconst WrappedMetricCounter = ({ value, title, tooltip, init = false, margin = '8px' }) => {\n  const classes = useStyles();\n\n  return !init ? (\n    <Skeleton\n      variant=\"rect\"\n      height=\"1.5rem\"\n      width=\"2rem\"\n      style={{ borderRadius: '4px', marginRight: margin, display: 'inline-block', verticalAlign: 'middle' }}\n    />\n  ) : (\n    <Tooltip title={tooltip}>\n      <span className={classes.metric}>\n        <CustomChip size=\"tiny\" type=\"rounded\" mono label={title} />\n        {value}\n      </span>\n    </Tooltip>\n  );\n};\nconst MetricCounter = React.memo(WrappedMetricCounter);\n\nconst WrappedIngestCard = ({ ingester }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const busyness = (ingester.metrics.busy_seconds * ingester.metrics.busy_seconds_count) / ingester.instances / 60;\n\n  useEffect(() => {\n    if (ingester.processing_chance.critical !== 1) {\n      setError(t('ingest.error.chance.critical'));\n    } else if (ingester.processing_chance.high !== 1) {\n      setError(t('ingest.error.chance.high'));\n    } else if (ingester.processing_chance.medium !== 1) {\n      setError(t('ingest.error.chance.medium'));\n    } else if (ingester.processing_chance.low !== 1) {\n      setError(t('ingest.error.chance.low'));\n    } else if (ingester.metrics.bytes_completed === 0 && ingester.metrics.bytes_ingested !== 0) {\n      setError(t('ingest.error.bytes'));\n    } else if (ingester.ingest > 100000) {\n      setError(t('ingest.error.queue'));\n    } else if (busyness >= 0.8) {\n      setError(t('ingest.error.busy'));\n    } else if ((timer !== null && ingester.initialized) || (timer === null && !ingester.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ingester]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || ingester.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || ingester.error) && (\n            <Tooltip title={error || ingester.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('ingester')} :: x${ingester.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('ingest')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.ingest}\n              title=\"Q\"\n              tooltip={t('ingest.queue')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('queued')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.critical}\n              title=\"C\"\n              tooltip={t('ingest.critical')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.high}\n              title=\"H\"\n              tooltip={t('ingest.high')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.medium}\n              title=\"M\"\n              tooltip={t('ingest.medium')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.queues.low}\n              title=\"L\"\n              tooltip={t('ingest.low')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('processing')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.processing.inflight}\n              title=\"I\"\n              tooltip={t('processing.inflight')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={`${Number(busyness * 100).toFixed(2)} %`}\n              title=\"B\"\n              tooltip={t('throughput.busy')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={3}>\n          <div>\n            <label>{t('caching')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.cache_hit}\n              title=\"H\"\n              tooltip={t('caching.hits')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.cache_miss}\n              title=\"M\"\n              tooltip={t('caching.miss')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={9}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.files_completed}\n              title=\"F\"\n              tooltip={t('throughput.files_completed')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.submissions_completed}\n              title=\"C\"\n              tooltip={t('throughput.submissions_completed')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.whitelisted}\n              title=\"W\"\n              tooltip={t('throughput.whitelisted')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.skipped}\n              title=\"S\"\n              tooltip={t('throughput.skipped')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.duplicates}\n              title=\"D\"\n              tooltip={t('throughput.duplicates')}\n            />\n            <MetricCounter\n              init={ingester.initialized}\n              value={ingester.metrics.error}\n              title=\"E\"\n              tooltip={t('throughput.error')}\n              margin=\"16px\"\n            />\n            <Tooltip title={t('throughput.bytes')}>\n              <span style={{ display: 'inline-block' }}>\n                <SpeedOutlinedIcon className={classes.icon} />\n                {ingester.initialized ? (\n                  `${Number(\n                    ((1.0 * ingester.metrics.bytes_completed) / ((1024 * 1024 * 60) / 8)).toFixed(2)\n                  )} / ${Number(((1.0 * ingester.metrics.bytes_ingested) / ((1024 * 1024 * 60) / 8)).toFixed(2))} Mbps`\n                ) : (\n                  <Skeleton height=\"1.5rem\" width=\"3rem\" style={{ display: 'inline-block' }} />\n                )}\n              </span>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedDispatcherCard = ({ dispatcher, up, down }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const busyness = (dispatcher.metrics.cpu_seconds * dispatcher.metrics.cpu_seconds_count) / dispatcher.instances / 60;\n  const startQueue = dispatcher.queues.start.reduce((x, y) => x + y, 0);\n  const resultQueue = dispatcher.queues.result.reduce((x, y) => x + y, 0);\n  const commandQueue = dispatcher.queues.command.reduce((x, y) => x + y, 0);\n\n  useEffect(() => {\n    if (dispatcher.initialized && dispatcher.queues.ingest >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.ingest'));\n    } else if (dispatcher.initialized && dispatcher.queues.files >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.files'));\n    } else if (dispatcher.initialized && startQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.start'));\n    } else if (dispatcher.initialized && resultQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.result'));\n    } else if (dispatcher.initialized && commandQueue >= dispatcher.inflight.max / 10) {\n      setError(t('dispatcher.error.queue.command'));\n    } else if (dispatcher.initialized && busyness >= 0.8) {\n      setError(t('dispatcher.error.busy'));\n    } else if (dispatcher.inflight.outstanding / dispatcher.inflight.max > 0.9) {\n      setError(t('dispatcher.error.inflight'));\n    } else if ((timer !== null && dispatcher.initialized) || (timer === null && !dispatcher.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatcher]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || dispatcher.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || dispatcher.error) && (\n            <Tooltip title={error || dispatcher.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('dispatcher')} :: x${dispatcher.instances}`}</div>\n        </Grid>\n        <Grid item xs={12}>\n          <div>\n            <label>{t('services')}</label>\n          </div>\n          {dispatcher.initialized ? (\n            <div>\n              {up.length === 0 && down.length === 0 && <span className={classes.muted}>{t('no_services')}</span>}\n              {up.length !== 0 && <span>{up.join(' | ')}</span>}\n              {up.length !== 0 && down.length !== 0 && <span> :: </span>}\n              {down.length !== 0 && <span>{down.join(' | ')}</span>}\n            </div>\n          ) : (\n            <div>\n              <Skeleton />\n            </div>\n          )}\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <div>\n            <label>{t('submissions')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={\n                <span>\n                  {dispatcher.inflight.outstanding} / {dispatcher.inflight.max}\n                </span>\n              }\n              title=\"O\"\n              tooltip={t('submissions.outstanding')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={4} md={2}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.queues.ingest}\n              title=\"I\"\n              tooltip={t('queues.ingest')}\n            />\n            {dispatcher.queues.start.length === 0 &&\n              dispatcher.queues.result.length === 0 &&\n              dispatcher.queues.command.length === 0 && (\n                <MetricCounter\n                  init={dispatcher.initialized}\n                  value={dispatcher.queues.files}\n                  title=\"F\"\n                  tooltip={t('queues.file')}\n                />\n              )}\n            {dispatcher.queues.start.length > 0 && (\n              <MetricCounter init={dispatcher.initialized} value={startQueue} title=\"S\" tooltip={t('queues.start')} />\n            )}\n            {dispatcher.queues.result.length > 0 && (\n              <MetricCounter init={dispatcher.initialized} value={resultQueue} title=\"R\" tooltip={t('queues.result')} />\n            )}\n            {dispatcher.queues.command.length > 0 && (\n              <MetricCounter\n                init={dispatcher.initialized}\n                value={commandQueue}\n                title=\"C\"\n                tooltip={t('queues.command')}\n              />\n            )}\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={4} md={3}>\n          <div>\n            <label>{t('busyness')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={`${Number(busyness * 100).toFixed(2)} %`}\n              title=\"B\"\n              tooltip={t('throughput.busy')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.metrics.files_completed}\n              title=\"F\"\n              tooltip={t('throughput.files_completed')}\n            />\n            <MetricCounter\n              init={dispatcher.initialized}\n              value={dispatcher.metrics.submissions_completed}\n              title=\"S\"\n              tooltip={t('throughput.submissions_completed')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedExpiryCard = ({ expiry }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if ((timer !== null && expiry.initialized) || (timer === null && !expiry.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [expiry]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || expiry.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || expiry.error) && (\n            <Tooltip title={error || expiry.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('expiry')} :: x${expiry.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.alert}\n              title=\"A\"\n              tooltip={t('queues.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.error}\n              title=\"E\"\n              tooltip={t('queues.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.cached_file + expiry.queues.file + expiry.queues.filescore}\n              title=\"F\"\n              tooltip={t('queues.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.result + expiry.queues.emptyresult}\n              title=\"R\"\n              tooltip={t('queues.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.queues.submission + expiry.queues.submission_summary + expiry.queues.submission_tree}\n              title=\"S\"\n              tooltip={t('queues.submission')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('expired')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.alert}\n              title=\"A\"\n              tooltip={t('expired.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.error}\n              title=\"E\"\n              tooltip={t('expired.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.cached_file + expiry.metrics.file + expiry.metrics.filescore}\n              title=\"F\"\n              tooltip={t('expired.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.result + expiry.metrics.emptyresult}\n              title=\"R\"\n              tooltip={t('expired.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.metrics.submission + expiry.metrics.submission_summary + expiry.metrics.submission_tree}\n              title=\"S\"\n              tooltip={t('expired.submission')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6} />\n        <Grid item xs={12} sm={6}>\n          <div>\n            <label>{t('archived')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.alert}\n              title=\"A\"\n              tooltip={t('archived.alert')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.error}\n              title=\"E\"\n              tooltip={t('archived.error')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.cached_file + expiry.archive.file + expiry.archive.filescore}\n              title=\"F\"\n              tooltip={t('archived.file')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.result + expiry.archive.emptyresult}\n              title=\"R\"\n              tooltip={t('archived.result')}\n            />\n            <MetricCounter\n              init={expiry.initialized}\n              value={expiry.archive.submission + expiry.archive.submission_summary + expiry.archive.submission_tree}\n              title=\"S\"\n              tooltip={t('archived.submission')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedAlerterCard = ({ alerter }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (alerter.metrics.error > 0) {\n      setError(t('alerter.error'));\n    } else if ((timer !== null && alerter.initialized) || (timer === null && !alerter.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [alerter]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || alerter.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || alerter.error) && (\n            <Tooltip title={error || alerter.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{`${t('alerter')} :: x${alerter.instances}`}</div>\n        </Grid>\n        <Grid item xs={12} sm={4}>\n          <div>\n            <label>{t('queues')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.queues.alert}\n              title=\"A\"\n              tooltip={t('queues.alert')}\n            />\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={8}>\n          <div>\n            <label>{t('throughput')}</label>\n          </div>\n          <div>\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.created}\n              title=\"C\"\n              tooltip={t('throughput.created')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.error}\n              title=\"E\"\n              tooltip={t('throughput.error')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.received}\n              title=\"R\"\n              tooltip={t('throughput.received')}\n            />\n            <MetricCounter\n              init={alerter.initialized}\n              value={alerter.metrics.updated}\n              title=\"U\"\n              tooltip={t('throughput.updated')}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedScalerResourcesCard = ({ scaler }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [timer, setTimer] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if ((timer !== null && scaler.initialized) || (timer === null && !scaler.initialized)) {\n      if (error !== null) setError(null);\n      if (timer !== null) clearTimeout(timer);\n      setTimer(\n        setTimeout(() => {\n          setError(t('timeout'));\n        }, 10000)\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scaler]);\n\n  return (\n    <Card className={`${classes.core_card} ${error || scaler.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || scaler.error) && (\n            <Tooltip title={error || scaler.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>{t('resources')}</div>\n        </Grid>\n        <Grid item xs={6} style={{ textAlign: 'center' }}>\n          <div style={{ display: 'inline-block' }}>\n            <ArcGauge\n              initialized={scaler ? scaler.initialized : false}\n              pctValue={\n                scaler.metrics.cpu_total === 0\n                  ? 0\n                  : ((scaler.metrics.cpu_total - scaler.metrics.cpu_free) / scaler.metrics.cpu_total) * 100\n              }\n              title={t('cpu')}\n              caption={`${Number((scaler.metrics.cpu_total - scaler.metrics.cpu_free).toFixed(1))} / ${Number(\n                scaler.metrics.cpu_total.toFixed(1)\n              )} ${t('cores')}`}\n              width=\"120px\"\n            />\n          </div>\n        </Grid>\n        <Grid item xs={6} style={{ textAlign: 'center' }}>\n          <div style={{ display: 'inline-block' }}>\n            <ArcGauge\n              initialized={scaler ? scaler.initialized : false}\n              pctValue={\n                scaler.metrics.memory_total === 0\n                  ? 0\n                  : ((scaler.metrics.memory_total - scaler.metrics.memory_free) / scaler.metrics.memory_total) * 100\n              }\n              title={t('ram')}\n              caption={`${Number(\n                ((scaler.metrics.memory_total - scaler.metrics.memory_free) / 1024).toFixed(1)\n              )} / ${Number((scaler.metrics.memory_total / 1024).toFixed(1))} ${t('gb')}`}\n              width=\"120px\"\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst WrappedServiceCard = ({ service, max_inflight }) => {\n  const { t } = useTranslation(['dashboard']);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (service.total !== 0 && service.instances === 0) {\n      setError(t('service.error.none'));\n    } else if (service.metrics.fail_nonrecoverable > 0) {\n      setError(t('service.error.fail_nonrecoverable'));\n    } else if (service.queue > max_inflight / 4) {\n      setError(t('service.error.queue'));\n    } else if (error !== null) {\n      setError(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [service]);\n\n  return (\n    <Card className={`${classes.card} ${error || service.error ? classes.error : classes.ok}`}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          {(error || service.error) && (\n            <Tooltip title={error || service.error}>\n              <div className={classes.error_icon}>\n                <ErrorOutlineOutlinedIcon />\n              </div>\n            </Tooltip>\n          )}\n          <div className={classes.title}>\n            {`${service.service_name} :: ${service.instances} / ${service.scaler.target || '-'}`}\n          </div>\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.queue} title=\"Q\" tooltip={t('service.queue')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.activity.busy} title=\"B\" tooltip={t('service.busy')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.metrics.execute} title=\"P\" tooltip={t('service.processed')} />\n        </Grid>\n        <Grid item xs={6}>\n          <MetricCounter init value={service.metrics.fail_nonrecoverable} title=\"F\" tooltip={t('service.failed')} />\n          <MetricCounter init value={service.metrics.fail_recoverable} title=\"R\" tooltip={t('service.retried')} />\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nconst IngestCard = React.memo(WrappedIngestCard);\nconst DispatcherCard = React.memo(WrappedDispatcherCard);\nconst ExpiryCard = React.memo(WrappedExpiryCard);\nconst AlerterCard = React.memo(WrappedAlerterCard);\nconst ScalerResourcesCard = React.memo(WrappedScalerResourcesCard);\nconst ServiceCard = React.memo(WrappedServiceCard);\n\nconst basicReducer = (state, newState) => {\n  return { ...state, ...newState };\n};\n\nconst serviceReducer = (state, serviceState) => {\n  const { type: hbType, hb } = serviceState;\n  const current = state[hb.service_name] || {};\n  if (hbType === 'scaler') {\n    const newState = {};\n    newState[hb.service_name] = {\n      ...DEFAULT_SERVICE,\n      ...current,\n      service_name: hb.service_name,\n      scaler: hb.metrics\n    };\n    return { ...state, ...newState };\n  }\n\n  const newState = {};\n  newState[hb.service_name] = {\n    ...DEFAULT_SERVICE,\n    ...current,\n    ...hb\n  };\n  return { ...state, ...newState };\n};\n\nconst serviceListReducer = (state, serviceName) => {\n  const { up, down, timing } = state;\n  const curTime = Math.floor(new Date().getTime() / 1000);\n  timing[serviceName] = curTime;\n  if (up.indexOf(serviceName) === -1) {\n    up.push(serviceName);\n  }\n  if (down.indexOf(serviceName) !== -1) {\n    down.pop(serviceName);\n  }\n\n  return { up, down, timing };\n};\n\nconst DEFAULT_ALERTER = {\n  instances: 0,\n  queues: {\n    alert: 0\n  },\n  metrics: {\n    created: 0,\n    error: 0,\n    received: 0,\n    updated: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_DISPATCHER = {\n  instances: 0,\n  inflight: {\n    outstanding: 0,\n    max: 0,\n    per_instance: []\n  },\n  queues: {\n    ingest: 0,\n    files: 0,\n    start: [],\n    result: [],\n    command: []\n  },\n  metrics: {\n    busy_seconds: 0,\n    busy_seconds_count: 0,\n    cpu_seconds: 0,\n    cpu_seconds_count: 0,\n    files_completed: 0,\n    submissions_completed: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_EXPIRY = {\n  instances: 0,\n  queues: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  metrics: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  archive: {\n    alert: 0,\n    cached_file: 0,\n    emptyresult: 0,\n    error: 0,\n    file: 0,\n    filescore: 0,\n    result: 0,\n    submission: 0,\n    submission_tree: 0,\n    submission_summary: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_INGESTER = {\n  instances: 0,\n  metrics: {\n    busy_seconds: 0,\n    busy_seconds_count: 0,\n    cache_miss: 0,\n    cache_expired: 0,\n    cache_stale: 0,\n    cache_hit_local: 0,\n    cache_hit: 0,\n    bytes_completed: 0,\n    bytes_ingested: 0,\n    duplicates: 0,\n    error: 0,\n    files_completed: 0,\n    skipped: 0,\n    submissions_completed: 0,\n    submissions_ingested: 0,\n    timed_out: 0,\n    whitelisted: 0\n  },\n  processing: {\n    inflight: 0\n  },\n  processing_chance: {\n    critical: 1,\n    high: 1,\n    medium: 1,\n    low: 1\n  },\n  queues: {\n    ingest: 0,\n    critical: 0,\n    high: 0,\n    medium: 0,\n    low: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_SCALER = {\n  instances: 0,\n  metrics: {\n    memory_total: 0,\n    memory_free: 0,\n    cpu_total: 0,\n    cpu_free: 0\n  },\n  error: null,\n  initialized: false\n};\n\nconst DEFAULT_SERVICE = {\n  duty_cycle: 0,\n  instances: 0,\n  last_hb: 0,\n  metrics: {\n    cache_hit: 0,\n    cache_miss: 0,\n    cache_skipped: 0,\n    execute: 0,\n    fail_recoverable: 0,\n    fail_nonrecoverable: 0,\n    scored: 0,\n    not_scored: 0\n  },\n  scaler: {\n    running: 0,\n    target: 0,\n    minimum: 0,\n    maximum: 0,\n    dynamic_maximum: 0,\n    queue: 0,\n    pressure: 0.0,\n    duty_cycle: 0.0\n  },\n  queue: 0,\n  activity: {\n    busy: 0,\n    idle: 0\n  },\n  service_name: null,\n  error: null\n};\n\nconst DEFAULT_SERVICE_LIST = {\n  up: [],\n  down: [],\n  timing: {}\n};\n\nconst Dashboard = () => {\n  const { t } = useTranslation(['dashboard']);\n  const [alerter, setAlerter] = useReducer(basicReducer, DEFAULT_ALERTER);\n  const [dispatcher, setDispatcher] = useReducer(basicReducer, DEFAULT_DISPATCHER);\n  const [expiry, setExpiry] = useReducer(basicReducer, DEFAULT_EXPIRY);\n  const [ingester, setIngester] = useReducer(basicReducer, DEFAULT_INGESTER);\n  const [scaler, setScaler] = useReducer(basicReducer, DEFAULT_SCALER);\n  const [services, setServices] = useReducer(serviceReducer, {});\n  const [servicesList, setServicesList] = useReducer(serviceListReducer, DEFAULT_SERVICE_LIST);\n\n  const handleAlerterHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: AlerterHeartbeat', hb);\n    setAlerter({ ...hb, initialized: true });\n  };\n\n  const handleArchiveHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ArchiveHeartbeat', hb);\n    setExpiry({ archive: hb.metrics, initialized: true });\n  };\n\n  const handleDispatcherHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: DispatcherHeartbeat', hb);\n    setDispatcher({ ...hb, initialized: true });\n  };\n\n  const handleExpiryHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ExpiryHeartbeat', hb);\n    setExpiry({ ...hb, initialized: true });\n  };\n\n  const handleIngestHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: IngestHeartbeat', hb);\n    setIngester({ ...hb, initialized: true });\n  };\n\n  const handleScalerHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket-IO :: ScalerHeartbeat', hb);\n    setScaler({ ...hb, initialized: true });\n  };\n\n  const handleServiceHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug(`Socket-IO :: ServiceHeartbeat ${hb.service_name}`, hb);\n    setServicesList(hb.service_name);\n    setServices({ type: 'service', hb: { ...hb, last_hb: Math.floor(new Date().getTime() / 1000) } });\n  };\n\n  const handleScalerStatusHeartbeat = hb => {\n    // eslint-disable-next-line no-console\n    console.debug(`Socket-IO :: ScalerStatusHeartbeat ${hb.service_name}`, hb);\n    setServices({ type: 'scaler', hb });\n  };\n\n  useEffect(() => {\n    const socket = io(NAMESPACE);\n\n    socket.on('connect', () => {\n      socket.emit('monitor', { status: 'start' });\n      // eslint-disable-next-line no-console\n      console.debug('Socket-IO :: Connecting to socketIO server...');\n    });\n\n    socket.on('disconnect', () => {\n      // eslint-disable-next-line no-console\n      console.debug('Socket-IO :: Disconnected from socketIO server.');\n    });\n    // eslint-disable-next-line no-console\n    socket.on('monitoring', data => console.debug('Socket-IO :: Connected to socket server', data));\n\n    socket.on('AlerterHeartbeat', handleAlerterHeartbeat);\n    socket.on('ArchiveHeartbeat', handleArchiveHeartbeat);\n    socket.on('DispatcherHeartbeat', handleDispatcherHeartbeat);\n    socket.on('ExpiryHeartbeat', handleExpiryHeartbeat);\n    socket.on('IngestHeartbeat', handleIngestHeartbeat);\n    socket.on('ScalerHeartbeat', handleScalerHeartbeat);\n    socket.on('ScalerStatusHeartbeat', handleScalerStatusHeartbeat);\n    socket.on('ServiceHeartbeat', handleServiceHeartbeat);\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return (\n    <PageFullscreen margin={4}>\n      <Typography gutterBottom color=\"primary\" variant=\"h2\" align=\"center\">\n        {t('title')}\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={12} xl={6}>\n          <IngestCard ingester={ingester} />\n        </Grid>\n        <Grid item xs={12} xl={6}>\n          <DispatcherCard dispatcher={dispatcher} up={servicesList.up} down={servicesList.down} />\n        </Grid>\n        <Grid item xs={12} xl={5}>\n          <ExpiryCard expiry={expiry} />\n        </Grid>\n        <Grid item xs={12} md={8} xl={4}>\n          <AlerterCard alerter={alerter} />\n        </Grid>\n        <Grid item xs={12} md={4} xl={3}>\n          <ScalerResourcesCard scaler={scaler} />\n        </Grid>\n        {Object.keys(services).map(key => (\n          <Grid key={key} item xs={12} md={4} xl={3}>\n            <ServiceCard service={services[key]} max_inflight={dispatcher.inflight.max} />\n          </Grid>\n        ))}\n      </Grid>\n    </PageFullscreen>\n  );\n};\n\nexport default Dashboard;\n","import React, { useCallback, useEffect, useState } from 'react';\n\ntype HighlighMapProps = {\n  [key: string]: string[];\n};\n\ntype EventProps = {\n  key: string;\n};\n\nexport type HighlightContextProps = {\n  getKey: (type: string, value: string) => string;\n  triggerHighlight: (key: string) => void;\n  isHighlighted: (key: string) => boolean;\n  hasHighlightedKeys: (keyList: string[]) => boolean;\n  setHighlightMap: (map: HighlighMapProps) => void;\n};\n\nexport interface HighlightProviderProps {\n  children: React.ReactNode;\n}\n\nexport const HighlightContext = React.createContext<HighlightContextProps>(null);\n\nfunction HighlightProvider(props: HighlightProviderProps) {\n  const { children } = props;\n  const [highlighted, setHighlighted] = useState<Set<any>>(new Set());\n  const [relatedHighlighted, setRelatedHighlighted] = useState<Set<any>>(new Set());\n  const [highlightMap, setHighlightMap] = useState<HighlighMapProps>({});\n\n  const getKey = useCallback((type: string, value: string) => {\n    return `${type}__${value}`;\n  }, []);\n\n  const isHighlighted = useCallback(\n    key => {\n      if (highlightMap) {\n        return highlighted.has(key) || relatedHighlighted.has(key);\n      }\n      return highlighted.has(key);\n    },\n    [highlighted, relatedHighlighted, highlightMap]\n  );\n\n  const hasHighlightedKeys = useCallback(\n    (keyList: string[]) => {\n      return keyList.some(item => isHighlighted(item));\n    },\n    [isHighlighted]\n  );\n\n  const triggerHighlight = useCallback((data: string) => {\n    window.dispatchEvent(new CustomEvent('tiggerHighlight', { detail: data }));\n  }, []);\n\n  useEffect(() => {\n    function handleTrigger(event: CustomEvent) {\n      const { detail: key } = event;\n      const newHighlighted = new Set(highlighted);\n      if (!newHighlighted.has(key)) {\n        newHighlighted.add(key);\n      } else {\n        newHighlighted.delete(key);\n      }\n\n      if (highlightMap) {\n        const newRelatedHighlighted = new Set();\n        newHighlighted.forEach(item => {\n          const items = highlightMap[item];\n          if (items) {\n            for (const val of items) {\n              newRelatedHighlighted.add(val);\n            }\n          }\n        });\n        setRelatedHighlighted(newRelatedHighlighted);\n      }\n      setHighlighted(newHighlighted);\n    }\n\n    window.addEventListener('tiggerHighlight', handleTrigger);\n\n    return () => {\n      window.removeEventListener('tiggerHighlight', handleTrigger);\n    };\n  }, [highlightMap, highlighted]);\n\n  return (\n    <HighlightContext.Provider\n      value={{\n        getKey,\n        triggerHighlight,\n        isHighlighted,\n        hasHighlightedKeys,\n        setHighlightMap\n      }}\n    >\n      {children}\n    </HighlightContext.Provider>\n  );\n}\n\nexport default HighlightProvider;\n","import { HighlightContext, HighlightContextProps } from 'components/visual/HighlightProvider';\nimport { useContext } from 'react';\n\nexport default function useHighlighter(): HighlightContextProps {\n  return useContext(HighlightContext) as HighlightContextProps;\n}\n","import { Link, makeStyles, Tooltip } from '@material-ui/core';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport type ExtractedFiles = {\n  classification: string;\n  description: string;\n  name: string;\n  sha256: string;\n};\n\ntype ExtractedFileProps = {\n  file: ExtractedFiles;\n  download?: boolean;\n  sid?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst WrappedExtractedFile: React.FC<ExtractedFileProps> = ({ file, download = false, sid = null }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const classes = useStyles();\n  return (\n    <div>\n      {download ? (\n        <Link href={`/api/v4/file/download/${file.sha256}/?name=${encodeURI(file.name)}`}>{file.name}</Link>\n      ) : (\n        <Link\n          component={RouterLink}\n          to={\n            sid\n              ? `/submission/detail/${sid}/${file.sha256}?name=${encodeURI(file.name)}`\n              : `/file/detail/${file.sha256}?name=${encodeURI(file.name)}`\n          }\n        >\n          {file.name}\n        </Link>\n      )}\n      <small className={classes.muted}>{` :: ${file.description}`}</small>\n      <Tooltip title={t('view_file')}>\n        <Link component={RouterLink} to={`/file/viewer/${file.sha256}`}>\n          <PageviewOutlinedIcon style={{ fontSize: '1.4em', marginLeft: '0.5rem', verticalAlign: 'bottom' }} />\n        </Link>\n      </Tooltip>\n    </div>\n  );\n};\n\nconst ExtractedFile = React.memo(WrappedExtractedFile);\nexport default ExtractedFile;\n","import { Box, Collapse, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ExtractedFile, { ExtractedFiles } from './extracted_file';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ExtractedSectionProps = {\n  extracted: ExtractedFiles[];\n  sid: string;\n};\n\nconst WrappedExtractedSection: React.FC<ExtractedSectionProps> = ({ extracted, sid }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box\n        className={classes.title}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <h3>{t('extracted')}</h3>\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            extracted.map((file, id) => {\n              return <ExtractedFile key={id} file={file} sid={sid} />;\n            }),\n          [extracted, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ExtractedSection = React.memo(WrappedExtractedSection);\nexport default ExtractedSection;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype AttackProps = {\n  text: string;\n  lvl?: string | null;\n  score?: number | null;\n  show_type?: boolean;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Attack: React.FC<AttackProps> = ({\n  text,\n  lvl = null,\n  score = null,\n  show_type = false,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.heuristic.attack.pattern:\"${text}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [text]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={show_type ? `[ATT&CK] ${text}` : text}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Attack;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype HeuristicProps = {\n  text: string;\n  lvl?: string | null;\n  score?: number | null;\n  signature?: boolean;\n  show_type?: boolean;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Heuristic: React.FC<HeuristicProps> = ({\n  text,\n  lvl = null,\n  score = null,\n  signature = false,\n  show_type = false,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.heuristic${signature ? '.signature' : ''}.name:\"${text}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [signature, text]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={show_type ? (signature ? `[SIGNATURE] ${text}` : `[HEURISTIC] ${text}`) : text}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Heuristic;\n","import { useTheme } from '@material-ui/core';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React from 'react';\n\ntype SectionHighlightProps = {\n  score: number;\n  indent: number;\n  depth?: number;\n  highlighted?: boolean;\n};\n\nconst SectionHighlight: React.FC<SectionHighlightProps> = ({ score, indent, depth = 1, highlighted = false }) => {\n  const theme = useTheme();\n\n  const VERDICT_SCORE_MAP = {\n    // suspicious: theme.palette.type === 'dark' ? '#1f5c6e' : '#a8ebff',\n    info: theme.palette.type === 'dark' ? '#393939' : '#f0f0f0',\n    safe: theme.palette.type === 'dark' ? '#2a492b' : '#9ae99d',\n    suspicious: theme.palette.type === 'dark' ? '#654312' : '#ffd395',\n    highly_suspicious: theme.palette.type === 'dark' ? '#654312' : '#ffd395',\n    malicious: theme.palette.type === 'dark' ? '#6e2b2b' : '#ffa1a1'\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: highlighted\n          ? theme.palette.type === 'dark'\n            ? '#343a44'\n            : '#d8e3ea'\n          : VERDICT_SCORE_MAP[scoreToVerdict(score)],\n        minWidth: '0.5rem',\n        marginLeft: `${-1 * indent + -0.5 * (indent - depth)}rem`,\n        marginRight: `${1 * indent + 0.5 * (indent - depth)}rem`\n      }}\n    />\n  );\n};\n\nexport default SectionHighlight;\n","import SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport CustomChip, { PossibleColors } from 'components/visual/CustomChip';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst STYLE = { height: 'auto', minHeight: '20px' };\nconst SEARCH_ICON = <SearchOutlinedIcon style={{ marginLeft: '2px', height: '18px', width: '18px' }} />;\n\ntype TagProps = {\n  type: string;\n  value: string;\n  lvl?: string | null;\n  score?: number | null;\n  short_type?: string | null;\n  highlight_key?: string;\n  fullWidth?: boolean;\n};\n\nconst Tag: React.FC<TagProps> = ({\n  type,\n  value,\n  lvl = null,\n  score = null,\n  short_type = null,\n  highlight_key = null,\n  fullWidth = false\n}) => {\n  const history = useHistory();\n  const { isHighlighted, triggerHighlight } = useHighlighter();\n\n  const handleClick = useCallback(() => triggerHighlight(highlight_key), [triggerHighlight, highlight_key]);\n\n  const searchAttack = useCallback(\n    () => history.push(`/search/result?query=result.sections.tags.${type}:\"${value}\"`),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [type, value]\n  );\n\n  let color: PossibleColors = 'default' as 'default';\n  if (lvl) {\n    color = {\n      info: 'default' as 'default',\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error'\n    }[lvl];\n  } else if (score) {\n    color = {\n      suspicious: 'warning' as 'warning',\n      malicious: 'error' as 'error',\n      safe: 'success' as 'success',\n      info: 'default' as 'default',\n      highly_suspicious: 'warning' as 'warning'\n    }[scoreToVerdict(score)];\n  }\n\n  return (\n    <CustomChip\n      wrap\n      size=\"tiny\"\n      type=\"rounded\"\n      color={highlight_key && isHighlighted(highlight_key) ? ('primary' as 'info') : color}\n      label={short_type ? `[${short_type.toUpperCase()}] ${value}` : value}\n      onDelete={searchAttack}\n      deleteIcon={SEARCH_ICON}\n      style={STYLE}\n      onClick={highlight_key ? handleClick : null}\n      fullWidth={fullWidth}\n    />\n  );\n};\n\nexport default Tag;\n","import React from 'react';\n\ntype TitleKeyProps = {\n  title: string;\n};\n\nconst TitleKey: React.FC<TitleKeyProps> = ({ title }) => {\n  return <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{title.replace(/[-_.]/g, ' ')}</span>;\n};\n\nexport default TitleKey;\n","import {\n  Box,\n  Collapse,\n  createStyles,\n  Link,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Tooltip,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport { TreeItem, TreeView } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Attack from 'components/visual/Attack';\nimport Classification from 'components/visual/Classification';\nimport Heuristic from 'components/visual/Heuristic';\nimport SectionHighlight from 'components/visual/SectionHighlight';\nimport Tag from 'components/visual/Tag';\nimport TitleKey from 'components/visual/TitleKey';\nimport Verdict from 'components/visual/Verdict';\nimport { scaleLinear } from 'd3-scale';\nimport { scoreToVerdict } from 'helpers/utils';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ReactJson from 'react-json-view';\n\nconst useStyles = makeStyles(theme => ({\n  section_title: {\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n      cursor: 'pointer'\n    }\n  }\n}));\n\nconst useTreeItemStyles = makeStyles((theme: Theme) => ({\n  root: {\n    '&:hover > .MuiTreeItem-content': {\n      backgroundColor: 'transparent'\n    },\n    '&:focus > .MuiTreeItem-content, &$root.Mui-selected > .MuiTreeItem-content': {\n      backgroundColor: 'transparent'\n    },\n    '&:focus > .MuiTreeItem-content .MuiTreeItem-label, &:hover > .MuiTreeItem-content .MuiTreeItem-label, &$root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label': {\n      backgroundColor: 'transparent'\n    }\n  },\n  suspicious: {\n    backgroundColor: theme.palette.type === 'dark' ? '#654312' : '#ffedd4'\n  },\n  malicious: {\n    backgroundColor: theme.palette.type === 'dark' ? '#4e2525' : '#ffd0d0'\n  }\n}));\n\nconst TextBody = ({ body }) => {\n  return <div style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{body}</div>;\n};\n\nconst MemDumpBody = ({ body }) => {\n  const theme = useTheme();\n  return (\n    <pre\n      style={{\n        backgroundColor: theme.palette.type === 'dark' ? '#ffffff05' : '#00000005',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: '4px',\n        padding: '4px',\n        whiteSpace: 'pre-wrap',\n        fontSize: '1rem',\n        wordBreak: 'break-word',\n        margin: '0.25rem 0'\n      }}\n    >\n      {body}\n    </pre>\n  );\n};\n\nconst KVBody = ({ body }) => {\n  return (\n    <table cellSpacing={0}>\n      <tbody>\n        {Object.keys(body).map((key, id) => {\n          let value = body[key];\n          if (value instanceof Array) {\n            value = value.join(' | ');\n          } else if (value === true) {\n            value = 'true';\n          } else if (value === false) {\n            value = 'false';\n          } else if (typeof value === 'object') {\n            value = JSON.stringify(value);\n          }\n          return (\n            <tr key={id}>\n              <td style={{ paddingRight: '16px', wordBreak: 'normal' }}>\n                <TitleKey title={key} />\n              </td>\n              <td style={{ wordBreak: 'break-word' }}>{value}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nconst GraphBody = ({ body }) => {\n  const theme = useTheme();\n  if (body.type === 'colormap') {\n    const colorRange = ['#87c6fb', '#111920'];\n    const itemWidthPct = 100 / body.data.values.length;\n    const colorScale = scaleLinear().domain(body.data.domain).range(colorRange);\n    return (\n      <svg width=\"100%\" height=\"70\">\n        <rect y={10} x={0} width={15} height={15} fill={colorRange[0]} />\n        <text y={22} x={20} fill={theme.palette.text.primary}>{`: ${body.data.domain[0]}`}</text>\n        <rect y={10} x={80} width={15} height={15} fill={colorRange[1]} />\n        <text y={22} x={100} fill={theme.palette.text.primary}>{`: ${body.data.domain[1]}`}</text>\n        {body.data.values.map((value, i) => {\n          return (\n            <rect\n              key={i}\n              y={30}\n              x={`${i * itemWidthPct}%`}\n              width={`${itemWidthPct}%`}\n              height={40}\n              stroke={colorScale(value)}\n              fill={colorScale(value)}\n            />\n          );\n        })}\n      </svg>\n    );\n  }\n  return <div style={{ margin: '2rem' }}>Unsupported graph...</div>;\n};\n\nconst URLBody = ({ body }) => {\n  const arr = [];\n  if (!(body instanceof Array)) {\n    arr.push(body);\n  } else {\n    Array.prototype.push.apply(arr, body);\n  }\n\n  return (\n    <ul\n      style={{\n        listStyleType: 'none',\n        paddingInlineStart: 0,\n        marginBlockStart: '0.25rem',\n        marginBlockEnd: '0.25rem'\n      }}\n    >\n      {arr.map((item, id) => {\n        return (\n          <li key={id}>\n            <Link href={item.url}>{item.name ? item.name : item.url}</Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nconst JSONBody = ({ body }) => {\n  const theme = useTheme();\n\n  const jsonTheme = {\n    base00: 'transparent', // Background\n    base01: '#f1f1f1', // Edit key text\n    base02: theme.palette.type === 'dark' ? theme.palette.text.hint : theme.palette.divider, // Borders and DataType Background\n    base03: '#444', // Unused\n    base04: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 400], // Object size and Add key border\n    base05: theme.palette.grey[theme.palette.type === 'dark' ? 700 : 700], // Undefined and Add key background\n    base06: '#444', // Unused\n    base07: theme.palette.text.primary, // Brace, Key and Borders\n    base08: theme.palette.text.secondary, // NaN\n    base09: theme.palette.type === 'dark' ? theme.palette.warning.light : theme.palette.warning.dark, // Strings and Icons\n    base0A: '#333', // Null, Regex and edit color\n    base0B: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark, // Float\n    base0C: theme.palette.type === 'dark' ? theme.palette.secondary.light : theme.palette.secondary.dark, // Array Key\n    base0D: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Date, function, expand icon\n    base0E: theme.palette.type === 'dark' ? theme.palette.info.light : theme.palette.info.dark, // Boolean\n    base0F: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark // Integer\n  };\n\n  return (\n    <ReactJson\n      name={false}\n      src={body}\n      theme={jsonTheme}\n      enableClipboard={false}\n      collapsed\n      groupArraysAfterLength={10}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      style={{\n        backgroundColor: theme.palette.type === 'dark' ? '#FFFFFF05' : '#00000005',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: '4px',\n        fontSize: '1rem',\n        padding: '4px'\n      }}\n    />\n  );\n};\n\nconst ProcessTreeItem = ({ process }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const theme = useTheme();\n  const classes = useTreeItemStyles();\n  const classMap = {\n    suspicious: classes.suspicious,\n    highly_suspicious: classes.suspicious,\n    malicious: classes.malicious\n  };\n\n  return (\n    <TreeItem\n      nodeId={process.process_pid.toString()}\n      classes={{\n        root: classes.root\n      }}\n      label={\n        <div\n          className={\n            classMap[\n              scoreToVerdict(\n                Object.keys(process.signatures).reduce((sum, key) => sum + parseFloat(process.signatures[key] || 0), 0)\n              )\n            ]\n          }\n          style={{\n            border: `1px solid ${theme.palette.divider}`,\n            margin: '0.2em 0em',\n            borderRadius: '4px',\n            display: 'flex',\n            maxWidth: '50rem',\n            minWidth: '30rem'\n          }}\n        >\n          <div\n            style={{\n              padding: '5px',\n              backgroundColor: theme.palette.type === 'dark' ? '#FFFFFF10' : '#00000010',\n              borderRadius: '4px 0px 0px 4px'\n            }}\n          >\n            {process.process_pid}\n          </div>\n          <div style={{ padding: '5px', flexGrow: 1, wordBreak: 'break-word' }}>\n            <div style={{ paddingBottom: '5px' }}>\n              <b>{process.process_name}</b>\n            </div>\n            <div>\n              <samp>\n                <small>{process.command_line}</small>\n              </samp>\n            </div>\n          </div>\n          <div style={{ alignSelf: 'center', color: theme.palette.text.secondary }}>\n            {Object.keys(process.signatures).length !== 0 && (\n              <div>\n                <Tooltip title={`${t('process_signatures')}: ${Object.keys(process.signatures).join(' | ')}`}>\n                  <span>\n                    {Object.keys(process.signatures).length}x\n                    <FingerprintOutlinedIcon style={{ verticalAlign: 'middle' }} />\n                  </span>\n                </Tooltip>\n              </div>\n            )}\n          </div>\n        </div>\n      }\n    >\n      {process.children.length !== 0 && <ProcessTreeItemList processes={process.children} />}\n    </TreeItem>\n  );\n};\n\nconst ProcessTreeItemList = ({ processes }) => {\n  return processes.map((process, id) => {\n    return <ProcessTreeItem key={id} process={process} />;\n  });\n};\n\nconst ProcessTreeBody = ({ body }) => {\n  try {\n    const data = JSON.parse(body);\n    const expanded = [];\n\n    // Auto-expand first two levels\n    data.forEach(process => {\n      if (process.process_pid !== undefined && process.process_pid !== null) {\n        expanded.push(process.process_pid.toString());\n      }\n      if (process.children !== undefined && process.children !== null && process.children.length !== 0) {\n        process.children.forEach(subprocess => {\n          if (subprocess.process_pid !== undefined && subprocess.process_pid !== null) {\n            expanded.push(subprocess.process_pid.toString());\n          }\n        });\n      }\n    });\n\n    return (\n      <div style={{ overflowX: 'auto' }}>\n        <TreeView\n          defaultExpanded={expanded}\n          defaultCollapseIcon={<ExpandMoreIcon />}\n          defaultExpandIcon={<ChevronRightIcon />}\n        >\n          <ProcessTreeItemList processes={data} />\n        </TreeView>\n      </div>\n    );\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Could not parse ProcessTree body. The section will be skipped...');\n  }\n  return null;\n};\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      fontSize: 'inherit',\n      lineHeight: 'inherit'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE'\n    },\n    body: {\n      wordBreak: 'break-word'\n    }\n  })\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.type === 'dark' ? '#ffffff08' : '#00000008'\n      }\n    }\n  })\n)(TableRow);\n\nconst StyledTable = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      [theme.breakpoints.down('sm')]: {\n        width: 'max-content'\n      }\n    }\n  })\n)(Table);\n\nconst TblBody = ({ body }) => {\n  let data = null;\n  try {\n    data = JSON.parse(body);\n  } catch (ex) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Could not parse Table body. The section will be skipped...');\n  }\n\n  const headers = [];\n\n  if (data) {\n    for (const line of data) {\n      // eslint-disable-next-line guard-for-in\n      for (const th in line) {\n        const val = line[th];\n        if (val !== null && val !== '') {\n          if (!headers.includes(th)) {\n            headers.push(th);\n          }\n        }\n      }\n    }\n  }\n\n  return (\n    data && (\n      <TableContainer style={{ fontSize: '90%', maxHeight: '500px' }}>\n        <StyledTable stickyHeader size=\"small\">\n          <TableHead>\n            <TableRow>\n              {headers.map((th, id) => {\n                return (\n                  <StyledTableCell key={id}>\n                    <TitleKey title={th} />\n                  </StyledTableCell>\n                );\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.map((row, id) => {\n              return (\n                <StyledTableRow key={id}>\n                  {headers.map((key, hid) => {\n                    let value = row[key];\n                    if (value instanceof Array) {\n                      value = value.join(' | ');\n                    } else if (value === true) {\n                      value = 'true';\n                    } else if (value === false) {\n                      value = 'false';\n                    } else if (typeof value === 'object' && value !== null && value !== undefined) {\n                      value = <KVBody body={value} />;\n                    }\n                    return <StyledTableCell key={hid}>{value}</StyledTableCell>;\n                  })}\n                </StyledTableRow>\n              );\n            })}\n          </TableBody>\n        </StyledTable>\n      </TableContainer>\n    )\n  );\n};\n\nexport type SectionItem = {\n  children: SectionItem[];\n  id: number;\n};\n\nexport type Section = {\n  body: any;\n  body_format: string;\n  classification: string;\n  depth: number;\n  heuristic: {\n    attack: {\n      attack_id: string;\n      categories: string[];\n      pattern: string;\n    }[];\n    heur_id: string;\n    name: string;\n    score: number;\n    signature: {\n      frequency: number;\n      name: string;\n    }[];\n  };\n  tags: {\n    type: string;\n    short_type: string;\n    value: string;\n  }[];\n  title_text: string;\n};\n\ntype ResultSectionProps = {\n  section_list: Section[];\n  id: number;\n  sub_sections: SectionItem[];\n  indent: number;\n  depth?: number;\n};\n\nconst ResultSection: React.FC<ResultSectionProps> = ({ section_list, id, sub_sections, indent, depth = 1 }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const section = section_list[id];\n  const [open, setOpen] = React.useState(true);\n  const { getKey, hasHighlightedKeys } = useHighlighter();\n  const { c12nDef } = useALContext();\n\n  const allTags = useMemo(() => {\n    const tagList = [];\n    for (const tag of section.tags) {\n      tagList.push(getKey(tag.type, tag.value));\n    }\n\n    if (section.heuristic !== undefined && section.heuristic !== null) {\n      if (section.heuristic.attack !== undefined && section.heuristic.attack.length !== 0) {\n        for (const attack of section.heuristic.attack) {\n          tagList.push(getKey('attack_pattern', attack.attack_id));\n        }\n      }\n      if (section.heuristic.heur_id !== undefined && section.heuristic.heur_id !== null) {\n        tagList.push(getKey('heuristic', section.heuristic.heur_id));\n      }\n      if (section.heuristic.signature !== undefined && section.heuristic.signature.length !== 0) {\n        for (const signature of section.heuristic.signature) {\n          tagList.push(getKey('heuristic.signature', signature.name));\n        }\n      }\n    }\n    return tagList;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [section]);\n\n  const highlighted = hasHighlightedKeys(allTags);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexWrap: 'nowrap',\n        marginLeft: `${depth}rem`,\n        backgroundColor: highlighted ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n      }}\n    >\n      <SectionHighlight\n        score={section.heuristic ? section.heuristic.score : 0}\n        indent={indent}\n        depth={depth}\n        highlighted={highlighted}\n      />\n\n      <div style={{ width: '100%' }}>\n        <Box className={classes.section_title} onClick={handleClick}>\n          {c12nDef.enforce && (\n            <span>\n              <Classification c12n={section.classification} type=\"text\" />\n              &nbsp;&nbsp;::&nbsp;&nbsp;\n            </span>\n          )}\n          {section.heuristic && (\n            <span>\n              <Verdict score={section.heuristic.score} mono short size=\"tiny\" />\n              &nbsp;::&nbsp;&nbsp;\n            </span>\n          )}\n          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{section.title_text}</span>\n        </Box>\n        <Collapse in={open} timeout=\"auto\">\n          {useMemo(\n            () => (\n              <>\n                <div style={{ marginLeft: '1rem', marginBottom: '0.75rem' }}>\n                  {(() => {\n                    switch (section.body_format) {\n                      case 'TEXT':\n                        return <TextBody body={section.body} />;\n                      case 'MEMORY_DUMP':\n                        return <MemDumpBody body={section.body} />;\n                      case 'GRAPH_DATA':\n                        return <GraphBody body={section.body} />;\n                      case 'URL':\n                        return <URLBody body={section.body} />;\n                      case 'JSON':\n                        return <JSONBody body={section.body} />;\n                      case 'KEY_VALUE':\n                        return <KVBody body={section.body} />;\n                      case 'PROCESS_TREE':\n                        return <ProcessTreeBody body={section.body} />;\n                      case 'TABLE':\n                        return <TblBody body={section.body} />;\n                      default:\n                        return <div style={{ margin: '2rem' }}>INVALID SECTION TYPE</div>;\n                    }\n                  })()}\n                  {section.heuristic && (\n                    <Heuristic\n                      text={section.heuristic.name}\n                      score={section.heuristic.score}\n                      show_type\n                      highlight_key={getKey('heuristic', section.heuristic.heur_id)}\n                    />\n                  )}\n                  {section.heuristic &&\n                    section.heuristic.attack.map((attack, idx) => {\n                      return (\n                        <Attack\n                          key={idx}\n                          text={attack.pattern}\n                          score={section.heuristic.score}\n                          show_type\n                          highlight_key={getKey('attack_pattern', attack.attack_id)}\n                        />\n                      );\n                    })}\n                  {section.heuristic &&\n                    section.heuristic.signature.map((signature, idx) => {\n                      return (\n                        <Heuristic\n                          key={idx}\n                          text={signature.name}\n                          score={section.heuristic.score}\n                          signature\n                          show_type\n                          highlight_key={getKey('heuristic.signature', signature.name)}\n                        />\n                      );\n                    })}\n                  {section.tags.map((tag, idx) => {\n                    return (\n                      <Tag\n                        key={idx}\n                        type={tag.type}\n                        value={tag.value}\n                        short_type={tag.short_type}\n                        score={section.heuristic ? section.heuristic.score : 0}\n                        highlight_key={getKey(tag.type, tag.value)}\n                      />\n                    );\n                  })}\n                </div>\n                <div>\n                  {sub_sections.map(item => {\n                    return (\n                      <ResultSection\n                        key={item.id}\n                        section_list={section_list}\n                        id={item.id}\n                        sub_sections={item.children}\n                        indent={indent + 1}\n                      />\n                    );\n                  })}\n                </div>\n              </>\n            ),\n            [\n              getKey,\n              indent,\n              section.body,\n              section.body_format,\n              section.heuristic,\n              section.tags,\n              section_list,\n              sub_sections\n            ]\n          )}\n        </Collapse>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultSection;\n","import { Box, Collapse, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ExtractedFile, { ExtractedFiles } from './extracted_file';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype SupplementarySectionProps = {\n  extracted: ExtractedFiles[];\n};\n\nconst WrappedSupplementarySection: React.FC<SupplementarySectionProps> = ({ extracted }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box\n        className={classes.title}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        <h3>{t('supplementary')}</h3>\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            extracted.map((file, id) => {\n              return <ExtractedFile key={id} file={file} download />;\n            }),\n          [extracted]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst SupplementarySection = React.memo(WrappedSupplementarySection);\nexport default SupplementarySection;\n","import {\n  Box,\n  Button,\n  ClickAwayListener,\n  Collapse,\n  Fade,\n  makeStyles,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport useALContext from 'components/hooks/useALContext';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport ExtractedSection from './ResultCard/extracted';\nimport { ExtractedFiles } from './ResultCard/extracted_file';\nimport ResultSection, { Section, SectionItem } from './ResultCard/result_section';\nimport SupplementarySection from './ResultCard/supplementary';\n\nexport type Result = {\n  archive_ts: string;\n  classification: string;\n  created: string;\n  drop_file: boolean;\n  expiry_ts: string | null;\n  response: {\n    extracted: ExtractedFiles[];\n    milestones: {\n      service_completed: string;\n      service_started: string;\n    };\n    service_context: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    supplementary: ExtractedFiles[];\n  };\n  result: {\n    score: number;\n    sections: Section[];\n  };\n  section_hierarchy: SectionItem[];\n  sha256: string;\n};\n\nexport type AlternateResult = {\n  classification: string;\n  created: string;\n  drop_file: boolean;\n  id: string;\n  response: {\n    service_name: string;\n    service_version: string;\n  };\n  result: {\n    score: number;\n  };\n};\n\ntype ResultCardProps = {\n  result: Result;\n  sid: string | null;\n  alternates?: AlternateResult[] | null;\n};\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    backgroundColor: theme.palette.background.default,\n    border: `solid 1px ${theme.palette.type === 'dark' ? '#393939' : '#ddd'}`,\n    borderRadius: '4px'\n  },\n  card_title: {\n    backgroundColor: theme.palette.type === 'dark' ? '#393939' : '#f0f0f0',\n    padding: '6px',\n    borderRadius: '4px 4px 0px 0px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#505050' : '#e6e6e6',\n      cursor: 'pointer'\n    }\n  },\n  content: {\n    padding: '6px'\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nexport const emptyResult = (result: Result) => {\n  return (\n    result.result.score === 0 &&\n    result.result.sections.length === 0 &&\n    result.response.extracted.length === 0 &&\n    result.response.supplementary.length === 0\n  );\n};\n\nconst ResultCard: React.FC<ResultCardProps> = ({ result, sid, alternates = null }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const sp2 = theme.spacing(2);\n  const { c12nDef, settings } = useALContext();\n  const empty = emptyResult(result);\n  const [displayedResult, setDisplayedResult] = React.useState<Result>(result);\n  const [open, setOpen] = React.useState(!empty && displayedResult.result.score >= settings.expand_min_score);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [selected, setSelected] = React.useState(null);\n  const { getKey, hasHighlightedKeys } = useHighlighter();\n  const popper = Boolean(anchorEl);\n\n  const allTags = useMemo(() => {\n    const tagList = [];\n    displayedResult.result.sections.forEach(section => {\n      for (const tag of section.tags) {\n        tagList.push(getKey(tag.type, tag.value));\n      }\n\n      if (section.heuristic !== undefined && section.heuristic !== null) {\n        if (section.heuristic.attack !== undefined && section.heuristic.attack.length !== 0) {\n          for (const attack of section.heuristic.attack) {\n            tagList.push(getKey('attack_pattern', attack.attack_id));\n          }\n        }\n        if (section.heuristic.heur_id !== undefined && section.heuristic.heur_id !== null) {\n          tagList.push(getKey('heuristic', section.heuristic.heur_id));\n        }\n        if (section.heuristic.signature !== undefined && section.heuristic.signature.length !== 0) {\n          for (const signature of section.heuristic.signature) {\n            tagList.push(getKey('heuristic.signature', signature.name));\n          }\n        }\n      }\n    });\n    return tagList;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [displayedResult]);\n\n  if (displayedResult.section_hierarchy === undefined) {\n    // eslint-disable-next-line no-console\n    console.log('[WARNING] Using old rendering method because the section hierarchy is missing...');\n  }\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const handlePopperClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.stopPropagation();\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n\n  useEffect(() => {\n    if (selected !== null) {\n      setAnchorEl(null);\n      apiCall({\n        url: `/api/v4/result/${selected}/`,\n        onSuccess: api_data => {\n          setDisplayedResult(api_data.api_response);\n          setOpen(true);\n        }\n      });\n    } else if (displayedResult !== result) {\n      setAnchorEl(null);\n      setDisplayedResult(result);\n      setOpen(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selected]);\n\n  return (\n    <div className={classes.card} style={{ marginBottom: sp2 }}>\n      <Popper open={popper} anchorEl={anchorEl} placement=\"bottom-end\" transition>\n        {({ TransitionProps }) => (\n          <Fade {...TransitionProps}>\n            <Paper>\n              <ClickAwayListener onClickAway={() => setAnchorEl(null)}>\n                <MenuList dense>\n                  <MenuItem disabled={selected === null} onClick={() => setSelected(null)}>\n                    <span style={{ paddingRight: theme.spacing(2) }}>\n                      {`${result.response.service_version} :: [${result.result.score}]`}\n                    </span>\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{result.created}</Moment>\n                  </MenuItem>\n                  {alternates.map(alt => {\n                    return (\n                      <MenuItem disabled={selected === alt.id} key={alt.id} onClick={() => setSelected(alt.id)}>\n                        <span style={{ paddingRight: theme.spacing(2) }}>\n                          {`${alt.response.service_version} :: [${alt.result.score}]`}\n                        </span>\n                        <Moment format=\"YYYY-MM-DD HH:mm:ss\">{alt.created}</Moment>\n                      </MenuItem>\n                    );\n                  })}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Fade>\n        )}\n      </Popper>\n      <Box\n        className={classes.card_title}\n        onClick={handleClick}\n        style={{\n          backgroundColor: hasHighlightedKeys(allTags) ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n        }}\n      >\n        {c12nDef.enforce && <Classification c12n={displayedResult.classification} type=\"text\" />}\n        <span>\n          {c12nDef.enforce && <span>&nbsp;::&nbsp;</span>}\n          <b>{displayedResult.response.service_name}</b>&nbsp;\n        </span>\n        {!empty && <Verdict score={displayedResult.result.score} mono short size=\"tiny\" />}\n        <small className={classes.muted}>{` :: ${displayedResult.response.service_version.replace(/_/g, '.')}`}</small>\n        <small className={classes.muted} style={{ flexGrow: 1 }}>\n          &nbsp;{displayedResult.response.service_context ? `(${displayedResult.response.service_context})` : ''}\n        </small>\n        {!empty && !sid && (\n          <div>\n            {alternates ? (\n              <Button\n                className={classes.muted}\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={handlePopperClick}\n                style={{ fontSize: 'smaller' }}\n              >\n                <Moment fromNow>{displayedResult.created}</Moment>\n              </Button>\n            ) : (\n              <Typography\n                className={classes.muted}\n                variant=\"button\"\n                style={{ fontSize: 'smaller', paddingRight: theme.spacing(1.4) }}\n              >\n                <Moment fromNow>{displayedResult.created}</Moment>\n              </Typography>\n            )}\n          </div>\n        )}\n        {open ? <ExpandLess className={classes.muted} /> : <ExpandMore className={classes.muted} />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () =>\n            empty ? (\n              <div className={classes.content} style={{ color: theme.palette.text.secondary }}>\n                {t('nothing_to_report')}\n              </div>\n            ) : (\n              <div className={classes.content}>\n                {displayedResult.section_hierarchy\n                  ? displayedResult.section_hierarchy.map(item => {\n                      return (\n                        <ResultSection\n                          key={item.id}\n                          section_list={displayedResult.result.sections}\n                          id={item.id}\n                          sub_sections={item.children}\n                          indent={1}\n                        />\n                      );\n                    })\n                  : displayedResult.result.sections.map((section, id) => {\n                      return (\n                        <ResultSection\n                          key={id}\n                          section_list={displayedResult.result.sections}\n                          id={id}\n                          sub_sections={[]}\n                          indent={section.depth}\n                          depth={section.depth}\n                        />\n                      );\n                    })}\n                {displayedResult.response.supplementary.length !== 0 && (\n                  <SupplementarySection extracted={displayedResult.response.supplementary} />\n                )}\n                {displayedResult.response.extracted.length !== 0 && (\n                  <ExtractedSection extracted={displayedResult.response.extracted} sid={sid} />\n                )}\n              </div>\n            ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [\n            empty,\n            displayedResult.response.extracted,\n            displayedResult.response.supplementary,\n            displayedResult.result.sections,\n            displayedResult.section_hierarchy,\n            sid\n          ]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nexport default ResultCard;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Attack from '../Attack';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype AttackSectionProps = {\n  attacks: any;\n};\n\nconst WrappedAttackSection: React.FC<AttackSectionProps> = ({ attacks }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('attack_matrix')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {attacks\n                ? Object.keys(attacks).map((cat, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{cat.replace(/-/g, ' ')}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {attacks[cat].map(([cid, mat, lvl], idx) => {\n                            return (\n                              <Attack\n                                key={`${cid}_${idx}`}\n                                text={mat}\n                                lvl={lvl}\n                                highlight_key={getKey('attack_pattern', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [attacks]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst AttackSection = React.memo(WrappedAttackSection);\nexport default AttackSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  clickable: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ChildrenSectionProps = {\n  childrens: any;\n};\n\nconst WrappedChildrenSection: React.FC<ChildrenSectionProps> = ({ childrens }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const history = useHistory();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('childrens')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {childrens.map((fileItem, i) => {\n                return (\n                  <Box\n                    key={i}\n                    className={classes.clickable}\n                    onClick={() => {\n                      history.push(`/file/detail/${fileItem.sha256}?name=${encodeURI(fileItem.name)}`);\n                    }}\n                    style={{ wordBreak: 'break-word' }}\n                  >\n                    <span>{fileItem.name}</span>\n                    <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>\n                      {` :: ${fileItem.sha256}`}\n                    </span>\n                  </Box>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [childrens]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ChildrenSection = React.memo(WrappedChildrenSection);\nexport default ChildrenSection;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ResultCard from '../ResultCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype EmptySectionProps = {\n  emptys: any;\n  sid: string;\n};\n\nconst WrappedEmptySection: React.FC<EmptySectionProps> = ({ emptys, sid }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('emptys')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {emptys\n                ? emptys.map((result, i) => {\n                    return <ResultCard key={i} result={result} sid={sid} />;\n                  })\n                : [...Array(2)].map((_, i) => {\n                    return <Skeleton key={i} style={{ height: '16rem' }} />;\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [emptys, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst EmptySection = React.memo(WrappedEmptySection);\nexport default EmptySection;\n","import { Box, Collapse, makeStyles, useTheme } from '@material-ui/core';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nexport type Error = {\n  archive_ts: string;\n  created: string;\n  expiry_ts: string | null;\n  response: {\n    message: string;\n    service_debug_info: string;\n    service_name: string;\n    service_tool_version: string;\n    service_version: string;\n    status: string;\n  };\n  sha256: string;\n  type: string;\n};\n\ntype ErrorCardProps = {\n  error: Error;\n};\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    backgroundColor: theme.palette.type === 'dark' ? '#371a1a' : '#fce9e9',\n    border: `solid 1px ${theme.palette.type === 'dark' ? '#502121' : '#ffcbcb'}`,\n    borderRadius: '4px'\n  },\n  card_title: {\n    backgroundColor: theme.palette.type === 'dark' ? '#502121' : '#ffd9d9',\n    padding: '6px',\n    borderRadius: '4px 4px 0px 0px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? '#6e2b2b' : '#ffc5c5',\n      cursor: 'pointer'\n    }\n  },\n  content: {\n    padding: '6px'\n  },\n  muted: {\n    color: theme.palette.text.secondary\n  }\n}));\n\nconst ErrorCard: React.FC<ErrorCardProps> = ({ error }) => {\n  const classes = useStyles();\n  const { t } = useTranslation(['adminErrorViewer']);\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div className={classes.card} style={{ marginBottom: sp2 }}>\n      <Box className={classes.card_title} onClick={handleClick}>\n        <span>\n          <b>{error.response.service_name}</b>&nbsp;\n        </span>\n        <span>[{t(`type.${error.type}`)}]&nbsp;</span>\n        <small className={classes.muted}>{` :: ${error.response.service_version}`}</small>\n        <small className={classes.muted} style={{ flexGrow: 1 }}>\n          &nbsp;{error.response.service_tool_version ? `(${error.response.service_tool_version})` : ''}\n        </small>\n        <small>\n          <Moment className={classes.muted} fromNow>\n            {error.created}\n          </Moment>\n        </small>\n        {open ? <ExpandLess className={classes.muted} /> : <ExpandMore className={classes.muted} />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\">\n        <div className={classes.content}>{error.response.message}</div>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default ErrorCard;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ErrorCard from '../ErrorCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ErrorSectionProps = {\n  errors: any;\n};\n\nconst WrappedErrorSection: React.FC<ErrorSectionProps> = ({ errors }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('errors')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {errors.map((error, i) => {\n                return <ErrorCard key={i} error={error} />;\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [errors]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ErrorSection = React.memo(WrappedErrorSection);\nexport default ErrorSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype FrequencySectionProps = {\n  fileinfo: any;\n};\n\nconst WrappedFrequencySection: React.FC<FrequencySectionProps> = ({ fileinfo }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('frequency')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.first')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <div>\n                      <Moment fromNow>{fileinfo.seen.first}</Moment> (\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">{fileinfo.seen.first}</Moment>)\n                    </div>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.last')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <div>\n                      <Moment fromNow>{fileinfo.seen.last}</Moment> (\n                      <Moment format=\"YYYY-MM-DD HH:mm:ss\">{fileinfo.seen.last}</Moment>)\n                    </div>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('seen.count')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? fileinfo.seen.count : <Skeleton />}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [fileinfo]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst FrequencySection = React.memo(WrappedFrequencySection);\nexport default FrequencySection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Heuristic from '../Heuristic';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype HeuristicSectionProps = {\n  heuristics: any;\n};\n\nconst WrappedHeuristicSection: React.FC<HeuristicSectionProps> = ({ heuristics }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('heuristics')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {heuristics\n                ? Object.keys(heuristics).map((lvl, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{t(`verdict.${lvl}`)}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {heuristics[lvl].map(([cid, hname], idx) => {\n                            return (\n                              <Heuristic\n                                key={`${cid}_${idx}`}\n                                text={hname}\n                                lvl={lvl}\n                                highlight_key={getKey('heuristic', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [heuristics]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst HeuristicSection = React.memo(WrappedHeuristicSection);\nexport default HeuristicSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { bytesToSize } from 'helpers/utils';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype IdentificationSectionProps = {\n  fileinfo: any;\n};\n\nconst WrappedIdentificationSection: React.FC<IdentificationSectionProps> = ({ fileinfo }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('identification')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>MD5</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.md5 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SHA1</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.sha1 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SHA256</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.sha256 : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>SSDEEP</span>\n                </Grid>\n                <Grid\n                  item\n                  xs={8}\n                  sm={9}\n                  lg={10}\n                  style={{ fontSize: '110%', fontFamily: 'monospace', wordBreak: 'break-word' }}\n                >\n                  {fileinfo ? fileinfo.ssdeep : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('size')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? (\n                    <span>\n                      {fileinfo.size}\n                      <span style={{ fontWeight: 300 }}> ({bytesToSize(fileinfo.size)})</span>\n                    </span>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('type')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.type : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('mime')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.mime : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('magic')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {fileinfo ? fileinfo.magic : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('entropy')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {fileinfo ? fileinfo.entropy : <Skeleton />}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [fileinfo]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst IdentificationSection = React.memo(WrappedIdentificationSection);\nexport default IdentificationSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CustomChip from '../CustomChip';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype MetadataSectionProps = {\n  metadata: any;\n};\n\nconst WrappedMetadataSection: React.FC<MetadataSectionProps> = ({ metadata }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('metadata')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {metadata\n                ? Object.keys(metadata).map((meta, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{meta}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {Object.keys(metadata[meta]).map((item, key) => {\n                            return <CustomChip size=\"tiny\" key={key} label={`${metadata[meta][item]}x ${item}`} />;\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [metadata]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst MetadataSection = React.memo(WrappedMetadataSection);\nexport default MetadataSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  clickable: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ParentSectionProps = {\n  parents: any;\n};\n\nconst WrappedParentSection: React.FC<ParentSectionProps> = ({ parents }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const history = useHistory();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('parents')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {parents.map((resultKey, i) => {\n                const [parentSHA256, service] = resultKey.split('.', 2);\n                return (\n                  <Box\n                    key={i}\n                    className={classes.clickable}\n                    onClick={() => {\n                      history.push(`/file/detail/${parentSHA256}`);\n                    }}\n                    style={{ wordBreak: 'break-word' }}\n                  >\n                    <span>{parentSHA256}</span>\n                    <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>{` :: ${service}`}</span>\n                  </Box>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [parents]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ParentSection = React.memo(WrappedParentSection);\nexport default ParentSection;\n","import { Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ResultCard, { AlternateResult } from '../ResultCard';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype ResultSectionProps = {\n  results: any;\n  sid: string;\n  alternates?: {\n    [serviceName: string]: AlternateResult[];\n  };\n};\n\nconst WrappedResultSection: React.FC<ResultSectionProps> = ({ results, sid, alternates }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('results')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {results\n                ? results.map((result, i) => {\n                    return (\n                      <ResultCard\n                        key={i}\n                        result={result}\n                        sid={sid}\n                        alternates={alternates ? alternates[result.response.service_name] : null}\n                      />\n                    );\n                  })\n                : [...Array(2)].map((_, i) => {\n                    return <Skeleton key={i} style={{ height: '16rem' }} />;\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [results, sid]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst ResultSection = React.memo(WrappedResultSection);\nexport default ResultSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Heuristic from '../Heuristic';\nimport Tag from '../Tag';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype TagSectionProps = {\n  signatures: any;\n  tags: any;\n};\n\nconst WrappedTagSection: React.FC<TagSectionProps> = ({ signatures, tags }) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('generated_tags')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {signatures && signatures.length !== 0 && (\n                <Grid container>\n                  <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                    <span style={{ fontWeight: 500 }}>heuristic.signature</span>\n                  </Grid>\n                  <Grid item xs={12} sm={9} lg={10}>\n                    {signatures.map(([value, lvl], idx) => {\n                      return (\n                        <Heuristic\n                          key={idx}\n                          signature\n                          text={value}\n                          lvl={lvl}\n                          highlight_key={getKey('heuristic.signature', value)}\n                        />\n                      );\n                    })}\n                  </Grid>\n                </Grid>\n              )}\n              {tags\n                ? Object.keys(tags).map((tag_type, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                          <span\n                            style={{\n                              fontWeight: 500\n                            }}\n                          >\n                            {tag_type}\n                          </span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {tags[tag_type].map(([value, lvl], idx) => {\n                            return (\n                              <Tag\n                                key={idx}\n                                value={value}\n                                type={tag_type}\n                                lvl={lvl}\n                                highlight_key={getKey(tag_type, value)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [signatures, tags]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst TagSection = React.memo(WrappedTagSection);\nexport default TagSection;\n","import { Grid, IconButton, Link as MaterialLink, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport RotateLeftOutlinedIcon from '@material-ui/icons/RotateLeftOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport { Error } from 'components/visual/ErrorCard';\nimport { AlternateResult, emptyResult, Result } from 'components/visual/ResultCard';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport AttackSection from './FileDetail/attacks';\nimport ChildrenSection from './FileDetail/childrens';\nimport EmptySection from './FileDetail/emptys';\nimport ErrorSection from './FileDetail/errors';\nimport FrequencySection from './FileDetail/freqency';\nimport HeuristicSection from './FileDetail/heuristics';\nimport IdentificationSection from './FileDetail/indent';\nimport MetadataSection from './FileDetail/metadata';\nimport ParentSection from './FileDetail/parents';\nimport ResultSection from './FileDetail/results';\nimport TagSection from './FileDetail/tags';\n\ntype FileInfo = {\n  archive_ts: string;\n  ascii: string;\n  classification: string;\n  entropy: number;\n  expiry_ts: string | null;\n  hex: string;\n  magic: string;\n  md5: string;\n  mime: string;\n  seen: {\n    count: number;\n    first: string;\n    last: string;\n  };\n  sha1: string;\n  sha256: string;\n  size: number;\n  ssdeep: string;\n  type: string;\n};\n\ntype File = {\n  alternates: {\n    [serviceName: string]: AlternateResult[];\n  };\n  attack_matrix: {\n    [category: string]: string[][];\n  };\n  childrens: {\n    name: string;\n    sha256: string;\n  }[];\n  emptys: Result[];\n  errors: Error[];\n  file_info: FileInfo;\n  heuristics: {\n    [category: string]: string[][];\n  };\n  metadata: {\n    [level: string]: {\n      [key: string]: any;\n    };\n  };\n  parents: string[];\n  results: Result[];\n  signatures: string[][];\n  tags: {\n    [type: string]: string[][];\n  };\n};\n\ntype FileDetailProps = {\n  sha256: string;\n  sid?: string;\n  liveResultKeys?: string[];\n  liveErrors?: Error[];\n};\n\nconst WrappedFileDetail: React.FC<FileDetailProps> = ({\n  sha256,\n  sid = null,\n  liveResultKeys = null,\n  liveErrors = null\n}) => {\n  const { t } = useTranslation(['fileDetail']);\n  const [file, setFile] = useState<File | null>(null);\n  const apiCall = useMyAPI();\n  const { c12nDef } = useALContext();\n  const theme = useTheme();\n  const history = useHistory();\n  const { showSuccessMessage } = useMySnackbar();\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const fileName = file ? params.get('name') || sha256 : null;\n\n  const elementInViewport = element => {\n    const bounding = element.getBoundingClientRect();\n    const myElementHeight = element.offsetHeight;\n    const myElementWidth = element.offsetWidth;\n\n    if (\n      bounding.top >= -myElementHeight &&\n      bounding.left >= -myElementWidth &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) + myElementWidth &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) + myElementHeight\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  const scrollToTop = scrollToItem => {\n    const element = document.getElementById(scrollToItem);\n    if (element && !elementInViewport(element)) {\n      element.scrollIntoView();\n    }\n  };\n\n  const patchFileDetails = (data: File) => {\n    const newData = { ...data };\n    newData.results.sort((a, b) => (a.response.service_name > b.response.service_name ? 1 : -1));\n    newData.emptys = data.results.filter(result => emptyResult(result));\n    newData.results = data.results.filter(result => !emptyResult(result));\n    newData.errors = liveErrors ? [...data.errors, ...liveErrors] : data.errors;\n    return newData;\n  };\n\n  const resubmit = useCallback(() => {\n    apiCall({\n      url: `/api/v4/submit/dynamic/${sha256}/`,\n      onSuccess: api_data => {\n        showSuccessMessage(t('resubmit.success'));\n        setTimeout(() => {\n          history.push(`/submission/detail/${api_data.api_response.sid}`);\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  useEffect(() => {\n    setFile(null);\n\n    if (sid && sha256) {\n      apiCall({\n        method: liveResultKeys ? 'POST' : 'GET',\n        url: `/api/v4/submission/${sid}/file/${sha256}/`,\n        body: liveResultKeys ? { extra_result_keys: liveResultKeys } : null,\n        onSuccess: api_data => {\n          scrollToTop('drawerTop');\n          setFile(patchFileDetails(api_data.api_response));\n        }\n      });\n    } else if (sha256) {\n      apiCall({\n        url: `/api/v4/file/result/${sha256}/`,\n        onSuccess: api_data => {\n          scrollToTop('fileDetailTop');\n          setFile(patchFileDetails(api_data.api_response));\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [sha256, sid]);\n\n  return (\n    <div id=\"fileDetailTop\" style={{ textAlign: 'left' }}>\n      {useMemo(\n        () => (\n          <>\n            {c12nDef.enforce && (\n              <div style={{ paddingBottom: sp4, paddingTop: sp2 }}>\n                <Classification size=\"tiny\" c12n={file ? file.file_info.classification : null} />\n              </div>\n            )}\n            <div style={{ paddingBottom: sp4 }}>\n              <Grid container alignItems=\"center\">\n                <Grid item xs>\n                  <div>\n                    <Typography variant=\"h4\">{t('title')}</Typography>\n                    <Typography variant=\"caption\" style={{ wordBreak: 'break-word' }}>\n                      {file ? fileName : <Skeleton style={{ width: '10rem' }} />}\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={12} sm>\n                  <div style={{ textAlign: 'right' }}>\n                    <Tooltip title={t('related')}>\n                      <IconButton\n                        component={Link}\n                        to={`/search/submission?query=files.sha256:${file && file.file_info.sha256} OR results:${\n                          file && file.file_info.sha256\n                        }*`}\n                      >\n                        <AmpStoriesOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('download')}>\n                      <IconButton\n                        component={MaterialLink}\n                        href={`/api/v4/file/download/${file && file.file_info.sha256}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                      >\n                        <GetAppOutlinedIcon color=\"action\" />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('file_viewer')}>\n                      <IconButton component={Link} to={`/file/viewer/${file && file.file_info.sha256}`}>\n                        <PageviewOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title={t('resubmit_dynamic')}>\n                      <IconButton onClick={resubmit}>\n                        <RotateLeftOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [file, fileName, resubmit]\n      )}\n\n      <div style={{ paddingBottom: sp2 }}>\n        <IdentificationSection fileinfo={file ? file.file_info : null} />\n        <FrequencySection fileinfo={file ? file.file_info : null} />\n\n        {(!file || Object.keys(file.metadata).length !== 0) && (\n          <MetadataSection metadata={file ? file.metadata : null} />\n        )}\n\n        {file && file.childrens && file.childrens.length !== 0 && <ChildrenSection childrens={file.childrens} />}\n\n        {file && file.parents && file.parents.length !== 0 && <ParentSection parents={file.parents} />}\n\n        {(!file || Object.keys(file.attack_matrix).length !== 0) && (\n          <AttackSection attacks={file ? file.attack_matrix : null} />\n        )}\n\n        {(!file || Object.keys(file.heuristics).length !== 0) && (\n          <HeuristicSection heuristics={file ? file.heuristics : null} />\n        )}\n\n        {(!file || Object.keys(file.tags).length !== 0 || file.signatures.length !== 0) && (\n          <TagSection signatures={file ? file.signatures : null} tags={file ? file.tags : null} />\n        )}\n\n        {(!file || file.results.length !== 0) && (\n          <ResultSection results={file ? file.results : null} sid={sid} alternates={file ? file.alternates : null} />\n        )}\n\n        {(!file || file.emptys.length !== 0) && <EmptySection emptys={file ? file.emptys : null} sid={sid} />}\n\n        {file && file.errors.length !== 0 && <ErrorSection errors={file.errors} />}\n      </div>\n    </div>\n  );\n};\n\nconst FileDetail = React.memo(WrappedFileDetail);\n\nexport default FileDetail;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport FileDetail from 'components/visual/FileDetail';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nfunction FileFullDetail() {\n  const { id } = useParams<ParamProps>();\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <FileDetail sha256={id} />\n    </PageCenter>\n  );\n}\n\nexport default FileFullDetail;\n","import {\n  Grid,\n  IconButton,\n  LinearProgress,\n  Link as MaterialLink,\n  makeStyles,\n  Paper,\n  Tab,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport { Alert, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  pre: {\n    backgroundColor: theme.palette.type === 'dark' ? '#ffffff05' : '#00000005',\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: '4px',\n    fontSize: '1rem',\n    padding: '16px 8px',\n    margin: '0.25rem 0',\n    overflow: 'auto',\n    wordBreak: 'break-word'\n  },\n  no_pad: {\n    padding: 0\n  }\n}));\n\nconst WrappedAsciiViewer = ({ sha256 }) => {\n  const [ascii, setAscii] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/ascii/${sha256}/`,\n      onSuccess: api_data => {\n        setAscii(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return ascii ? (\n    <pre className={classes.pre}>{ascii}</pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst WrappedHexViewer = ({ sha256 }) => {\n  const [hex, setHex] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/hex/${sha256}/`,\n      onSuccess: api_data => {\n        setHex(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return hex ? (\n    <pre className={classes.pre}>\n      <div style={{ minWidth: '580px' }}>{hex}</div>\n    </pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst WrappedStringViewer = ({ sha256 }) => {\n  const [string, setString] = useState(null);\n  const [error, setError] = useState(null);\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/file/strings/${sha256}/`,\n      onSuccess: api_data => {\n        setString(api_data.api_response);\n      },\n      onFailure: api_data => {\n        setError(api_data.api_error_message);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sha256]);\n\n  return string ? (\n    <pre className={classes.pre}>{string}</pre>\n  ) : error ? (\n    <Alert severity=\"error\">{error}</Alert>\n  ) : (\n    <LinearProgress />\n  );\n};\n\nconst AsciiViewer = React.memo(WrappedAsciiViewer);\nconst HexViewer = React.memo(WrappedHexViewer);\nconst StringViewer = React.memo(WrappedStringViewer);\n\nconst FileViewer = () => {\n  const { id } = useParams<ParamProps>();\n  const { t } = useTranslation(['fileViewer']);\n  const classes = useStyles();\n  const theme = useTheme();\n  const location = useLocation();\n  const history = useHistory();\n  const [tab, setTab] = useState('ascii');\n\n  const handleChangeTab = (event, newTab) => {\n    const currentTab = location.hash.substring(1, location.hash.length) || 'ascii';\n    if (currentTab !== newTab) {\n      history.push(`${location.pathname}#${newTab}`);\n    }\n  };\n\n  useEffect(() => {\n    const newTab = location.hash.substring(1, location.hash.length) || 'ascii';\n    setTab(newTab);\n  }, [location.hash]);\n\n  return (\n    <PageCenter margin={4} width=\"100%\" textAlign=\"left\">\n      <Grid container alignItems=\"center\">\n        <Grid item xs sm={8}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n          <Typography variant=\"caption\" style={{ wordBreak: 'break-word' }}>\n            {id}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm>\n          <div style={{ textAlign: 'right' }}>\n            <Tooltip title={t('detail')}>\n              <IconButton component={Link} to={`/file/detail/${id}`}>\n                <DescriptionOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title={t('related')}>\n              <IconButton component={Link} to={`/search/submission?query=files.sha256:${id} OR results:${id}*`}>\n                <AmpStoriesOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title={t('download')}>\n              <IconButton component={MaterialLink} href={`/api/v4/file/download/${id}/?XSRF_TOKEN=${getXSRFCookie()}`}>\n                <GetAppOutlinedIcon color=\"action\" />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </Grid>\n      </Grid>\n\n      <TabContext value={tab}>\n        <Paper square style={{ marginTop: theme.spacing(4), marginBottom: theme.spacing(2) }}>\n          <TabList onChange={handleChangeTab} indicatorColor=\"primary\" textColor=\"primary\">\n            <Tab label={t('ascii')} value=\"ascii\" />\n            <Tab label={t('strings')} value=\"strings\" />\n            <Tab label={t('hex')} value=\"hex\" />\n          </TabList>\n        </Paper>\n        <TabPanel value=\"ascii\" className={classes.no_pad}>\n          <AsciiViewer sha256={id} />\n        </TabPanel>\n        <TabPanel value=\"strings\" className={classes.no_pad}>\n          <StringViewer sha256={id} />\n        </TabPanel>\n        <TabPanel value=\"hex\" className={classes.no_pad}>\n          <HexViewer sha256={id} />\n        </TabPanel>\n      </TabContext>\n    </PageCenter>\n  );\n};\n\nexport default FileViewer;\n","import useAppUser from 'commons/components/hooks/useAppUser';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport { CustomUser } from 'components/hooks/useMyUser';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\n\nexport default function Help() {\n  const layout = useMyLayout();\n  const { validateProps } = useAppUser<CustomUser>();\n  let items = [];\n  for (const item of layout.leftnav.elements) {\n    if (item.type === 'group' && item.element.id === 'help') {\n      // eslint-disable-next-line @typescript-eslint/dot-notation\n      items = item.element['items'].filter(obj => {\n        return validateProps(obj.userPropValidators);\n      });\n    }\n  }\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={items} />\n    </PageCenter>\n  );\n}\n","import {\n  Box,\n  Card,\n  Collapse,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Select,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport clsx from 'clsx';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst apiHeight = '48px';\nconst useStyles = makeStyles(theme => ({\n  api: {\n    minHeight: apiHeight,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected\n    }\n  },\n  blueprint: {\n    minHeight: apiHeight,\n    alignItems: 'center',\n    borderColor: theme.palette.action.disabledBackground,\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.action.selected\n    }\n  },\n  blueprintSkel: {\n    minHeight: apiHeight,\n    alignItems: 'center',\n    borderColor: theme.palette.action.disabledBackground\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: theme.spacing(2),\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  }\n}));\n\nexport default function ApiDoc() {\n  const apiCall = useMyAPI();\n  const [apiList, setApiList] = useState(null);\n  const [apiSelected, setApiSelected] = useState(null);\n  const [apiDefinition, setApiDefinition] = useState(null);\n  const classes = useStyles();\n  const [expandMap, setExpandMap] = useState({});\n  const theme = useTheme();\n  const { t } = useTranslation(['helpAPI']);\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const xs = useMediaQuery(theme.breakpoints.only('xs'));\n  const isDark = theme.palette.type === 'dark';\n  const methodColor = {\n    DELETE: 'error',\n    GET: 'info',\n    POST: 'success',\n    PUT: 'warning'\n  };\n  const privColor = {\n    E: 'error',\n    R: 'success',\n    W: 'warning'\n  };\n  const userColor = {\n    admin: 'error',\n    signature_manager: 'info',\n    user: null,\n    signature_importer: 'warning'\n  };\n\n  function toggleBlueprintExpand(bp) {\n    const newValue = {};\n    newValue[bp] = !expandMap[bp];\n    setExpandMap({ ...expandMap, ...newValue });\n  }\n\n  function blueprintAPIs(bp) {\n    const out = [];\n    if (apiDefinition) {\n      for (const item of apiDefinition.apis) {\n        if (bp === 'documentation') {\n          if (item.path === `/api/${apiSelected}/`) {\n            out.push(item);\n          }\n        } else if (item.path.indexOf(`/api/${apiSelected}/${bp}/`) === 0) {\n          out.push(item);\n        }\n      }\n    }\n    return out.sort(compare);\n  }\n\n  function compare(a, b) {\n    if (a.name < b.name) {\n      return -1;\n    }\n    if (a.name > b.name) {\n      return 1;\n    }\n    return 0;\n  }\n\n  useEffect(() => {\n    if (apiList) {\n      apiCall({\n        url: `/api/${apiSelected}/`,\n        onSuccess: api_data => {\n          setApiDefinition(api_data.api_response);\n        }\n      });\n    } else {\n      apiCall({\n        url: '/api/',\n        onSuccess: api_data => {\n          setApiList(api_data.api_response);\n          setApiSelected(api_data.api_response[0]);\n        }\n      });\n    }\n    // eslint-disable-next-line\n  }, [apiSelected]);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ marginBottom: theme.spacing(4) }}>\n          <Grid container>\n            <Grid item xs={12} sm>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n            </Grid>\n            <Grid item xs={12} sm style={{ textAlign: 'end' }}>\n              {apiList && apiSelected ? (\n                <Select\n                  id=\"api\"\n                  value={apiSelected}\n                  onChange={event => setApiSelected(event.target.value)}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                >\n                  {apiList.map((version, index) => {\n                    return (\n                      <MenuItem key={index} value={version}>\n                        {version.replace('v', t('version')) + t('version_end')}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>\n              ) : (\n                <Skeleton variant=\"rect\" style={{ display: 'inline-block', height: '2rem', width: '14rem' }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n        {apiDefinition ? (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            {Object.keys(apiDefinition.blueprints).map((bp, i) => {\n              return (\n                <div key={i}>\n                  <Box\n                    display=\"flex\"\n                    flexDirection=\"row\"\n                    flexWrap=\"wrap\"\n                    className={classes.blueprint}\n                    borderBottom={1}\n                    px={1}\n                    onClick={() => toggleBlueprintExpand(bp)}\n                  >\n                    <Typography variant=\"body2\" color=\"textSecondary\" style={{ fontWeight: 800, lineHeight: 2 }}>\n                      {`/api/${apiSelected}/`}&nbsp;\n                    </Typography>\n                    <div style={{ flexGrow: 1 }}>\n                      <Typography variant=\"h6\" style={{ fontWeight: 800, lineHeight: 2 }} color=\"secondary\">\n                        {bp}\n                      </Typography>\n                    </div>\n                    <div style={{ display: 'inline-flex', width: downSM ? '100%' : null, justifyContent: 'flex-end' }}>\n                      <Typography variant=\"body2\" color=\"textSecondary\" align=\"right\" style={{ lineHeight: 2 }}>\n                        {apiDefinition.blueprints[bp]}\n                      </Typography>\n                      <ExpandMoreIcon\n                        className={clsx(classes.expand, {\n                          [classes.expandOpen]: expandMap[bp]\n                        })}\n                      />\n                    </div>\n                  </Box>\n                  <Collapse in={expandMap[bp]} timeout=\"auto\" unmountOnExit>\n                    <div\n                      style={{\n                        backgroundColor: isDark ? theme.palette.grey[900] : theme.palette.grey[100]\n                      }}\n                    >\n                      {blueprintAPIs(bp).map((api, idx) => {\n                        return (\n                          <div key={idx}>\n                            <Box\n                              className={classes.api}\n                              px={1}\n                              display=\"flex\"\n                              flexDirection={xs ? 'column' : 'row'}\n                              flexWrap=\"wrap\"\n                              alignItems={xs ? 'flex-start' : 'center'}\n                              onClick={() => toggleBlueprintExpand(api.name)}\n                            >\n                              <div>\n                                {api.methods.map((method, midx) => {\n                                  return (\n                                    <CustomChip\n                                      color={methodColor[method]}\n                                      type=\"rounded\"\n                                      size=\"small\"\n                                      key={midx}\n                                      label={method}\n                                    />\n                                  );\n                                })}\n                              </div>\n                              <div style={{ flexGrow: 1 }}>\n                                <Typography\n                                  variant=\"body2\"\n                                  color=\"textSecondary\"\n                                  style={{ wordBreak: 'break-word', lineHeight: 2 }}\n                                >\n                                  {api.path}\n                                </Typography>\n                              </div>\n                              <div\n                                style={{\n                                  display: 'inline-flex',\n                                  width: downSM ? '100%' : null,\n                                  justifyContent: 'flex-end'\n                                }}\n                              >\n                                <Typography align=\"right\" variant=\"caption\" style={{ lineHeight: 2 }}>\n                                  {api.name}\n                                </Typography>\n\n                                <ExpandMoreIcon\n                                  className={clsx(classes.expand, {\n                                    [classes.expandOpen]: expandMap[api.name]\n                                  })}\n                                />\n                              </div>\n                            </Box>\n                            <Collapse in={expandMap[api.name]} timeout=\"auto\" unmountOnExit>\n                              <div\n                                style={{\n                                  border: 1,\n                                  borderTop: 0,\n                                  borderBottom: 0,\n                                  padding: sp1,\n                                  borderColor: isDark ? theme.palette.grey[900] : theme.palette.grey[100],\n                                  backgroundColor: theme.palette.background.default\n                                }}\n                              >\n                                <Grid container alignItems=\"center\">\n                                  <>\n                                    <Grid item xs={8} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('complete')}:</div>\n                                    </Grid>\n                                    <Grid item xs={4} sm={8} md={9} lg={4}>\n                                      {api.complete ? (\n                                        <CheckOutlinedIcon htmlColor={theme.palette.success.main} />\n                                      ) : (\n                                        <ClearOutlinedIcon htmlColor={theme.palette.error.main} />\n                                      )}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={8} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('protected')}:</div>\n                                    </Grid>\n                                    <Grid item xs={4} sm={8} md={9} lg={4}>\n                                      {api.protected ? (\n                                        <CheckOutlinedIcon htmlColor={theme.palette.success.main} />\n                                      ) : (\n                                        <ClearOutlinedIcon htmlColor={theme.palette.error.main} />\n                                      )}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('require_type')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      {api.require_type.map((utype, uidx) => {\n                                        return (\n                                          <CustomChip\n                                            key={uidx}\n                                            color={userColor[utype]}\n                                            type=\"rounded\"\n                                            size=\"tiny\"\n                                            label={t(`user_type.${utype}`)}\n                                          />\n                                        );\n                                      })}\n                                    </Grid>\n                                  </>\n                                  {api.required_priv ? (\n                                    <>\n                                      <Grid item xs={12} sm={4} md={3} lg={2}>\n                                        <div style={{ fontWeight: 500 }}>{t('required_priv')}:</div>\n                                      </Grid>\n                                      <Grid item xs={12} sm={8} md={9} lg={4}>\n                                        {api.required_priv.map((ptype, pidx) => {\n                                          return (\n                                            <CustomChip\n                                              key={pidx}\n                                              color={privColor[ptype]}\n                                              type=\"rounded\"\n                                              size=\"tiny\"\n                                              label={t(`priv.${ptype}`)}\n                                            />\n                                          );\n                                        })}\n                                      </Grid>\n                                    </>\n                                  ) : null}\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('methods')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      {api.methods.map((met, metid) => {\n                                        return (\n                                          <CustomChip\n                                            key={metid}\n                                            color={methodColor[met]}\n                                            type=\"rounded\"\n                                            size=\"tiny\"\n                                            label={t(met)}\n                                          />\n                                        );\n                                      })}\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12} sm={4} md={3} lg={2}>\n                                      <div style={{ fontWeight: 500 }}>{t('path')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12} sm={8} md={9} lg={4}>\n                                      <div style={{ lineHeight: 2, fontFamily: 'Monospace', wordBreak: 'break-word' }}>\n                                        {api.path}\n                                      </div>\n                                    </Grid>\n                                  </>\n                                  <>\n                                    <Grid item xs={12}>\n                                      <div style={{ fontWeight: 500, lineHeight: 2 }}>{t('description')}:</div>\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                      <Card variant=\"outlined\" style={{ overflowX: 'auto' }}>\n                                        <pre style={{ paddingLeft: sp2, paddingRight: sp2 }}>{api.description}</pre>\n                                      </Card>\n                                    </Grid>\n                                  </>\n                                </Grid>\n                              </div>\n                            </Collapse>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </Collapse>\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            {[...Array(21)].map((_, i) => {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    paddingLeft: sp1,\n                    paddingRight: sp1,\n                    display: 'flex',\n                    flexDirection: 'row',\n                    flexWrap: 'wrap',\n                    borderBottom: 1\n                  }}\n                  className={classes.blueprintSkel}\n                >\n                  <Typography variant=\"body2\" style={{ paddingRight: '8px' }}>\n                    <Skeleton width=\"2rem\" />\n                  </Typography>\n                  <div style={{ flexGrow: 1 }}>\n                    <Typography variant=\"h6\">\n                      <Skeleton width=\"12rem\" />\n                    </Typography>\n                  </div>\n                  <div style={{ display: 'inline-flex', width: downSM ? '100%' : null, justifyContent: 'flex-end' }}>\n                    <Typography variant=\"body2\" style={{ paddingRight: '16px', lineHeight: 2 }}>\n                      <Skeleton width=\"14rem\" />\n                    </Typography>\n                    <Skeleton width=\"1rem\" />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport NotFoundPage from 'components/routes/404_dl';\nimport Classification from 'components/visual/Classification';\nimport React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nexport default function HelpClassification() {\n  const { t } = useTranslation(['helpClassification']);\n  const { c12nDef } = useALContext();\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n\n  return c12nDef.enforce ? (\n    <PageCenter margin={4} width=\"100%\" textAlign=\"left\">\n      <div style={{ marginBottom: theme.spacing(4) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n      <div style={{ paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('desc_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('desc_1')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('desc_2')}\n        </Typography>\n      </div>\n      <div style={{ paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('submission_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('submission_desc')}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('ex_title')}\n        </Typography>\n        <div style={{ paddingLeft: sp2 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('assumptions')}\n          </Typography>\n          <ul>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_1\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_2\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"submission_a_3\" components={{ bold: <strong /> }} />\n            </li>\n          </ul>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"submission_a_res_1_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.UNRESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"submission_a_res_1_p2\" components={{ bold: <strong /> }} />\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans\n              ns=\"helpClassification\"\n              i18nKey=\"submission_a_res_2_p1\"\n              components={{ italic: <i />, bold: <strong /> }}\n            />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans\n              ns=\"helpClassification\"\n              i18nKey=\"submission_a_res_2_p2\"\n              components={{ italic: <i />, bold: <strong /> }}\n            />\n          </Typography>\n        </div>\n      </div>\n      <div style={{ paddingBottom: sp4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('result_title')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          {t('result_desc')}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('ex_title')}\n        </Typography>\n        <div style={{ paddingLeft: sp2 }}>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('assumptions')}\n          </Typography>\n          <ul>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_1\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_2\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_3\" components={{ bold: <strong /> }} />\n              <Classification\n                inline\n                size=\"tiny\"\n                type=\"text\"\n                c12n={c12nDef ? c12nDef.UNRESTRICTED : null}\n                format=\"long\"\n              />\n            </li>\n            <li>\n              <Trans ns=\"helpClassification\" i18nKey=\"result_a_4\" components={{ bold: <strong /> }} />\n              <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            </li>\n          </ul>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p2\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.UNRESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_1_p3\" components={{ bold: <strong /> }} />\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_2_p1\" components={{ bold: <strong /> }} />\n            <Classification size=\"tiny\" type=\"text\" c12n={c12nDef ? c12nDef.RESTRICTED : null} format=\"long\" />\n            <Trans ns=\"helpClassification\" i18nKey=\"result_a_res_2_p2\" components={{ bold: <strong /> }} />\n          </Typography>\n        </div>\n      </div>\n      <div>\n        <Typography variant=\"h5\" gutterBottom>\n          {t('validation_title')}\n        </Typography>\n      </div>\n      <div style={{ paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_level')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_level_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_level_supported')}\n        </Typography>\n        <ul>\n          {c12nDef\n            ? c12nDef.original_definition.levels.map((lvl, idx) => {\n                return (\n                  <li key={idx}>\n                    <Classification size=\"tiny\" type=\"text\" c12n={lvl.name} format=\"long\" /> :: {lvl.description}\n                  </li>\n                );\n              })\n            : [...Array(2)].map((_, i) => {\n                return (\n                  <li>\n                    <Skeleton />\n                  </li>\n                );\n              })}\n        </ul>\n      </div>\n      <div style={{ paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_required')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_required_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_required_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.required.length !== 0 ? (\n              c12nDef.original_definition.required.map((req, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{req.name}</div>\n                    {` :: ${req.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_required_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n      </div>\n      <div style={{ paddingBottom: sp1 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_groups')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_groups_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_groups_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.groups.length !== 0 ? (\n              c12nDef.original_definition.groups.map((grp, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{grp.name}</div>\n                    {` :: ${grp.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_groups_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n        <Typography variant=\"subtitle2\" gutterBottom color=\"error\">\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_groups_note\" components={{ bold: <strong /> }} />\n        </Typography>\n      </div>\n      <div>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('validation_subgroups')}\n        </Typography>\n        <Typography variant=\"body2\" gutterBottom>\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_subgroups_desc\" components={{ bold: <strong /> }} />\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          {t('validation_subgroups_supported')}\n        </Typography>\n        <ul>\n          {c12nDef ? (\n            c12nDef.original_definition.subgroups.length !== 0 ? (\n              c12nDef.original_definition.subgroups.map((sgrp, idx) => {\n                return (\n                  <li key={idx}>\n                    <div style={{ display: 'inline-block', fontWeight: 700 }}>{sgrp.name}</div>\n                    {` :: ${sgrp.description}`}\n                  </li>\n                );\n              })\n            ) : (\n              <Typography variant=\"body2\" color=\"secondary\">\n                {t('validation_subgroups_none')}\n              </Typography>\n            )\n          ) : (\n            [...Array(2)].map((_, i) => {\n              return (\n                <li>\n                  <Skeleton />\n                </li>\n              );\n            })\n          )}\n        </ul>\n        <Typography variant=\"subtitle2\" gutterBottom color=\"error\">\n          <Trans ns=\"helpClassification\" i18nKey=\"validation_subgroups_note\" components={{ bold: <strong /> }} />\n        </Typography>\n      </div>\n    </PageCenter>\n  ) : (\n    <NotFoundPage />\n  );\n}\n","import { Grid, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default function Configuration() {\n  const apiCall = useMyAPI();\n  const [configuration, setConfiguration] = useState(null);\n  const [constants, setConstants] = useState(null);\n  const { t } = useTranslation(['helpConfiguration']);\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  function isArrayOfArray(val) {\n    if (Array.isArray(val)) {\n      if (Array.isArray(val[0])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  useEffect(() => {\n    // Load all services on start\n    apiCall({\n      url: '/api/v4/help/constants/',\n      onSuccess: api_data => {\n        setConstants(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: '/api/v4/help/configuration/',\n      onSuccess: api_data => {\n        setConfiguration(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ marginBottom: theme.spacing(4) }}>\n          <Typography variant=\"h4\">{t('title')}</Typography>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('tags')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('tags.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('tags.desc_list')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2, display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}>\n            {constants\n              ? constants.tag_types.map((tag, id) => {\n                  return <CustomChip type=\"rounded\" size=\"tiny\" key={id} label={tag} style={{ padding: '5px' }} />;\n                })\n              : [...Array(192)].map((_, i) => {\n                  return <Skeleton key={i} style={{ height: '2rem', width: '8rem', marginRight: '3px' }} />;\n                })}\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('priorities')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('priorities.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('priorities.desc_list')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants ? (\n                <>\n                  {Object.keys(constants.priorities).map((priority, id) => {\n                    return (\n                      <Grid key={id} item xs={12} sm={6} md={4} lg={3} xl={2}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{priority}:&nbsp;&nbsp;</div>\n                        <div style={{ display: 'inline-block', fontWeight: 300 }}>{constants.priorities[priority]}</div>\n                      </Grid>\n                    );\n                  })}\n\n                  <Grid item xs={12} sm={6} md={4} lg={3} xl={2}>\n                    <div style={{ display: 'inline-block', fontWeight: 500 }}>{t('priorities.max')}:&nbsp;&nbsp;</div>\n                    <div style={{ display: 'inline-block', fontWeight: 300 }}>{constants.max_priority}</div>\n                  </Grid>\n                </>\n              ) : (\n                [...Array(8)].map((_, i) => {\n                  return (\n                    <Grid item key={i} xs={12} sm={6} md={4} lg={3} xl={2}>\n                      <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                        <Skeleton key={i} style={{ height: '2rem', width: '5rem', margin: '2px' }} />\n                      </div>\n                      <div style={{ display: 'inline-block' }}>\n                        <Skeleton key={i} style={{ height: '2rem', width: '3rem', margin: '2px' }} />\n                      </div>\n                    </Grid>\n                  );\n                })\n              )}\n            </Grid>\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('file_types')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.desc')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.specific')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants\n                ? constants.file_types.map((type, id) => {\n                    return type[0] !== '*' && type[1].length !== 0 ? (\n                      <Grid key={id} item xs={12} md={6} lg={4} xl={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{type[0]}</div>\n                        <div style={{ display: 'inline-block', fontWeight: 300 }}>\n                          &nbsp;::&nbsp;{type[1].join(', ')}\n                        </div>\n                      </Grid>\n                    ) : null;\n                  })\n                : [...Array(40)].map((_, i) => {\n                    return (\n                      <Grid key={i} item xs={12} md={6} lg={4} xl={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                          <Skeleton style={{ height: '2rem', width: '4rem', margin: '2px' }} />\n                        </div>\n                        <div style={{ display: 'inline-block' }}>\n                          <Skeleton style={{ height: '2rem', width: '8rem', margin: '2px' }} />\n                        </div>\n                      </Grid>\n                    );\n                  })}\n            </Grid>\n          </div>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.non_specific')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            <Grid container>\n              {constants\n                ? constants.file_types.map((type, id) => {\n                    return type[0] !== '*' && type[1].length === 0 ? (\n                      <Grid key={id} item xs={12} sm={6} md={4} lg={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>{type[0]}</div>\n                      </Grid>\n                    ) : null;\n                  })\n                : [...Array(60)].map((_, i) => {\n                    return (\n                      <Grid key={i} item xs={12} sm={6} md={4} lg={3}>\n                        <div style={{ display: 'inline-block', fontWeight: 500 }}>\n                          <Skeleton style={{ height: '2rem', width: '8rem', margin: '2px' }} />\n                        </div>\n                      </Grid>\n                    );\n                  })}\n            </Grid>\n          </div>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('file_types.non_specific_service')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            {constants ? (\n              <div style={{ fontWeight: 500 }}>{constants.file_types[0][1].join(', ')}</div>\n            ) : (\n              <Skeleton style={{ height: '2rem' }} />\n            )}\n          </div>\n\n          <Typography variant=\"h6\" gutterBottom>\n            {t('config')}\n          </Typography>\n          <Typography variant=\"body2\" gutterBottom>\n            {t('config.desc')}\n          </Typography>\n          <div style={{ paddingTop: sp1, paddingBottom: sp2 }}>\n            {configuration\n              ? Object.keys(configuration).map((key, idx) => {\n                  return (\n                    <Grid key={idx} container spacing={1}>\n                      <Grid\n                        item\n                        xs={12}\n                        sm={5}\n                        md={4}\n                        lg={3}\n                        style={{\n                          overflowX: 'hidden',\n                          whiteSpace: 'nowrap',\n                          textOverflow: 'ellipsis'\n                        }}\n                      >\n                        <span style={{ fontWeight: 500 }}>{key}</span>\n                      </Grid>\n                      <Grid item xs={12} sm={7} md={8} lg={9}>\n                        <div style={{ fontWeight: 300 }}>\n                          {typeof configuration[key] !== 'object' ? (\n                            <div>{String(configuration[key])}</div>\n                          ) : isArrayOfArray(configuration[key]) ? (\n                            configuration[key].map((sub_key, sub_idx) => {\n                              return (\n                                <div key={sub_idx} style={{ display: 'flex' }}>\n                                  <div style={{ fontWeight: 500, whiteSpace: 'nowrap' }}>{sub_key[0]}:&nbsp;</div>\n                                  <div>{sub_key[1].join(', ')}</div>\n                                </div>\n                              );\n                            })\n                          ) : (\n                            <div>{configuration[key].join(' | ')}</div>\n                          )}\n                        </div>\n                      </Grid>\n                    </Grid>\n                  );\n                })\n              : [...Array(10)].map((_, i) => {\n                  return (\n                    <Grid key={i} container spacing={1}>\n                      <Grid key={i} item xs={12} sm={5} md={4} lg={3}>\n                        <Skeleton style={{ height: '2rem' }} />\n                      </Grid>\n                      <Grid item xs={12} sm={7} md={8} lg={9}>\n                        <Skeleton style={{ height: '2rem' }} />\n                      </Grid>\n                    </Grid>\n                  );\n                })}\n          </div>\n        </div>\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport React, { ReactNode, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  tocBar: {\n    display: 'none',\n    paddingLeft: '16px',\n    [theme.breakpoints.up('md')]: {\n      display: 'block'\n    }\n  },\n  toc: {\n    listStyle: 'none',\n    paddingInlineStart: 0,\n    position: 'sticky',\n    top: theme.spacing(10),\n    [theme.breakpoints.only('md')]: {\n      width: '124px'\n    },\n    [theme.breakpoints.up('lg')]: {\n      width: '164px'\n    },\n    '& li': {\n      color: theme.palette.text.primary,\n      marginLeft: theme.spacing(1),\n      marginBottom: theme.spacing(0.5),\n      paddingLeft: theme.spacing(1.25),\n      paddingRight: theme.spacing(1)\n    },\n    '& .active': {\n      borderLeft: `solid ${theme.palette.primary.main} 2px`,\n      paddingLeft: theme.spacing(1),\n      color: theme.palette.primary.main\n    },\n    '& li:hover': {\n      borderLeft: `solid ${theme.palette.text.disabled} 1px`,\n      paddingLeft: '9px',\n      color: theme.palette.text.disabled\n    },\n    '& li > a': {\n      color: 'inherit',\n      display: 'block',\n      textDecoration: 'none',\n      width: '100%'\n    }\n  },\n  top: {\n    paddingTop: theme.spacing(2.5),\n    marginLeft: theme.spacing(2.25),\n    color: theme.palette.text.primary,\n    '& a': {\n      color: 'inherit',\n      display: 'block',\n      textDecoration: 'none'\n    },\n    '& :hover': {\n      color: theme.palette.text.disabled\n    }\n  }\n}));\n\nconst ContentItem: React.FC<ContentItemProps> = ({ name, id, subItems = [] }) => {\n  const classes = useStyles();\n  const location = useLocation();\n  const currentHash = location.hash && location.hash !== '' ? location.hash.substring(1) : null;\n  const active = currentHash && currentHash.startsWith(id) ? 'active' : null;\n\n  return (\n    <>\n      <li className={active}>\n        <Link to={`#${id}`} target=\"_self\">\n          {name}\n        </Link>\n      </li>\n      {active && (\n        <ul className={classes.toc} style={{ fontSize: 'smaller', paddingInlineStart: '8px' }}>\n          {subItems.map(item => {\n            return <ContentItem key={item.id} name={item.name} id={item.id} />;\n          })}\n        </ul>\n      )}\n    </>\n  );\n};\n\ntype ContentItemProps = {\n  name: string;\n  id: string;\n  subItems?: ContentItemProps[];\n};\n\ntype ContentManagedSectionProps = {\n  children: ReactNode;\n  items: ContentItemProps[];\n  title?: string;\n  top?: ContentItemProps;\n};\n\nconst WrappedContentManagedSection: React.FC<ContentManagedSectionProps> = ({\n  children,\n  items,\n  title = null,\n  top = null\n}) => {\n  const classes = useStyles();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.hash && location.hash !== '') {\n      const scrollElement = document.getElementById(location.hash.substring(1));\n      if (scrollElement) {\n        // If element exists already, use native scrollIntoView.\n        scrollElement.scrollIntoView(true);\n      } else {\n        // eslint-disable-next-line no-console\n        console.log('[WARN] Trying to scroll to unknown ID:', location.hash);\n      }\n    }\n  }, [location.hash]);\n\n  return (\n    <div id=\"top\" style={{ display: 'flex' }}>\n      <div id=\"content\">{children}</div>\n      <div id=\"toc\" className={classes.tocBar}>\n        {title && <div style={{ fontSize: '1.25rem', marginLeft: '18px' }}>{title}</div>}\n        <ul className={classes.toc}>\n          {items.map(item => {\n            return <ContentItem key={item.id} name={item.name} id={item.id} subItems={item.subItems} />;\n          })}\n          {top && (\n            <div className={classes.top}>\n              <Link to={`#${top.id}`} target=\"_self\">\n                {top.name}\n              </Link>\n            </div>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst ContentManagedSection = React.memo(WrappedContentManagedSection);\nexport default ContentManagedSection;\n","import {\n  Card,\n  createStyles,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport ContentManagedSection from 'commons/addons/section/ContentManagedSection';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingRight: '8px',\n      paddingLeft: '8px'\n    },\n    head: {\n      backgroundColor: theme.palette.type === 'dark' ? '#404040' : '#EEE',\n      whiteSpace: 'nowrap'\n    }\n  })\n)(TableCell);\n\nconst useStyles = makeStyles(theme => ({\n  multipleEx: {\n    marginBlockStart: theme.spacing(1),\n    paddingInlineStart: theme.spacing(2)\n  },\n  padded: {\n    paddingBottom: theme.spacing(1),\n    paddingTop: theme.spacing(1)\n  },\n  paragraph: {\n    marginTop: theme.spacing(-8),\n    paddingTop: theme.spacing(12),\n    '& h6': {\n      fontWeight: 300\n    }\n  },\n  pre: {\n    fontFamily: 'monospace',\n    fontSize: '1rem',\n    margin: `0 0 ${theme.spacing(1)}px 0`,\n    padding: `${theme.spacing(1)}px ${theme.spacing(1.5)}px`,\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  title: {\n    paddingBottom: theme.spacing(6)\n  },\n  toc: {\n    listStyle: 'none',\n    position: 'sticky',\n    top: theme.spacing(10),\n    '& li': {\n      marginBottom: theme.spacing(0.5)\n    },\n    '& li > a': {\n      color: theme.palette.text.primary,\n      textDecoration: 'none',\n      '&:hover': {\n        color: theme.palette.text.disabled\n      }\n    }\n  }\n}));\n\nexport default function Search() {\n  const { t } = useTranslation(['helpSearch']);\n  const classes = useStyles();\n  const { indexes } = useALContext();\n  const theme = useTheme();\n  const [toc, setToc] = useState([]);\n  const [top] = useState({ name: t('top'), id: 'title' });\n\n  useEffect(() => {\n    setToc([\n      { name: t('overview'), id: 'overview' },\n      { name: t('basic'), id: 'basic' },\n      {\n        name: t('fields.toc'),\n        id: 'fields',\n        subItems: [\n          { name: t('fields.idx_alert.toc'), id: 'fields.idx_alert' },\n          { name: t('fields.idx_file.toc'), id: 'fields.idx_file' },\n          { name: t('fields.idx_heuristic.toc'), id: 'fields.idx_heuristic' },\n          { name: t('fields.idx_result.toc'), id: 'fields.idx_result' },\n          { name: t('fields.idx_signature.toc'), id: 'fields.idx_signature' },\n          { name: t('fields.idx_submission.toc'), id: 'fields.idx_submission' },\n          { name: t('fields.idx_workflow.toc'), id: 'fields.idx_workflow' }\n        ]\n      },\n      { name: t('wildcard'), id: 'wildcard' },\n      {\n        name: t('regex'),\n        id: 'regex',\n        subItems: [\n          { name: t('regex.anchoring'), id: 'regex.anchoring' },\n          { name: t('regex.chars'), id: 'regex.chars' },\n          { name: t('regex.any'), id: 'regex.any' },\n          { name: t('regex.oneplus'), id: 'regex.oneplus' },\n          { name: t('regex.zeroplus'), id: 'regex.zeroplus' },\n          { name: t('regex.zeroone'), id: 'regex.zeroone' },\n          { name: t('regex.minmax'), id: 'regex.minmax' },\n          { name: t('regex.grouping'), id: 'regex.grouping' },\n          { name: t('regex.alternation'), id: 'regex.alternation' },\n          { name: t('regex.class'), id: 'regex.class' }\n        ]\n      },\n      { name: t('fuzziness'), id: 'fuzziness' },\n      { name: t('proximity'), id: 'proximity' },\n      { name: t('ranges'), id: 'ranges', subItems: [{ name: t('ranges.datemath'), id: 'ranges.datemath' }] },\n      { name: t('operator'), id: 'operator' },\n      { name: t('grouping'), id: 'grouping' },\n      { name: t('reserved'), id: 'reserved' }\n    ]);\n  }, [t]);\n\n  return (\n    <PageCenter margin={4} textAlign=\"left\">\n      <ContentManagedSection title={t('toc')} top={top} items={toc}>\n        {useMemo(() => {\n          return (\n            <>\n              <div id=\"title\" className={classes.paragraph} style={{ marginTop: theme.spacing(-12) }}>\n                <Typography variant=\"h4\">{t('title')}</Typography>\n                <Typography variant=\"subtitle2\">{t('subtitle')}</Typography>\n              </div>\n\n              <div id=\"overview\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('overview')}</Typography>\n                {t('overview.text')}\n              </div>\n\n              <div id=\"basic\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('basic')}</Typography>\n                {t('basic.text')}\n                <Typography variant=\"subtitle2\" className={classes.padded}>\n                  {t('exemples')}\n                </Typography>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('basic.ex1')}\n                </Card>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('basic.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"fields\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('fields')}</Typography>\n                {t('fields.text')}\n                <Typography variant=\"subtitle2\" className={classes.padded}>\n                  {t('exemples')}\n                </Typography>\n                <ul className={classes.multipleEx}>\n                  <li>\n                    {t('fields.ex1.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('fields.ex1')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('fields.ex2.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('fields.ex2')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('fields.ex3.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('fields.ex3')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('fields.ex4.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('fields.ex4')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('fields.ex5.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('fields.ex5')}\n                    </Card>\n                  </li>\n                </ul>\n                <div className={classes.padded}>{t('fields.text2')}</div>\n                <div>\n                  <b>\n                    <i>{`${t('fields.important')}:`}</i>\n                  </b>\n                  {` ${t('fields.important.text')}`}\n                </div>\n              </div>\n\n              {Object.keys(indexes).map(idx => {\n                return (\n                  <div id={`fields.idx_${idx}`} key={idx} className={classes.paragraph}>\n                    <Typography variant=\"h5\" gutterBottom>\n                      {t(`fields.idx_${idx}`)}\n                    </Typography>\n                    <Table size=\"small\">\n                      <TableHead>\n                        <TableRow>\n                          <StyledTableCell>{t('fields.table.name')}</StyledTableCell>\n                          <StyledTableCell>{t('fields.table.type')}</StyledTableCell>\n                          <StyledTableCell>{t('fields.table.attrib')}</StyledTableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        {Object.keys(indexes[idx]).map(field => {\n                          return (\n                            indexes[idx][field].indexed && (\n                              <TableRow hover key={field}>\n                                <StyledTableCell width=\"50%\" style={{ wordBreak: 'break-word' }}>\n                                  {field}\n                                </StyledTableCell>\n                                <StyledTableCell>{indexes[idx][field].type}</StyledTableCell>\n                                <StyledTableCell>\n                                  {indexes[idx][field].stored && (\n                                    <CustomChip\n                                      color=\"info\"\n                                      size=\"tiny\"\n                                      type=\"rounded\"\n                                      label={t('fields.att.stored')}\n                                      tooltip={t('fields.att.stored.tooltip')}\n                                    />\n                                  )}\n                                  {indexes[idx][field].list && (\n                                    <CustomChip\n                                      color=\"warning\"\n                                      size=\"tiny\"\n                                      type=\"rounded\"\n                                      label={t('fields.att.list')}\n                                      tooltip={t('fields.att.list.tooltip')}\n                                    />\n                                  )}\n                                  {indexes[idx][field].default && (\n                                    <CustomChip\n                                      color=\"primary\"\n                                      size=\"tiny\"\n                                      type=\"rounded\"\n                                      label={t('fields.att.default')}\n                                      tooltip={t('fields.att.default.tooltip')}\n                                    />\n                                  )}\n                                </StyledTableCell>\n                              </TableRow>\n                            )\n                          );\n                        })}\n                      </TableBody>\n                    </Table>\n                  </div>\n                );\n              })}\n\n              <div id=\"wildcard\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('wildcard')}</Typography>\n                <div className={classes.padded}>{t('wildcard.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('wildcard.ex')}\n                </Card>\n                <div className={classes.padded}>{t('wildcard.text2')}</div>\n                <div>\n                  <b>\n                    <i>{`${t('wildcard.note')}:`}</i>\n                  </b>\n                  {` ${t('wildcard.note.text')}`}\n                </div>\n              </div>\n\n              <div id=\"regex\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('regex')}</Typography>\n                <div className={classes.padded}>{t('regex.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.ex')}\n                </Card>\n                <div>\n                  <b>\n                    <i>{t('regex.warning')}</i>\n                  </b>\n                </div>\n                <div className={classes.padded}>{t('regex.warning.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.warning.ex')}\n                </Card>\n                <div className={classes.padded}>{t('regex.warning.follow')}</div>\n              </div>\n\n              <div id=\"regex.anchoring\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.anchoring')}</Typography>\n                <div className={classes.padded}>{t('regex.anchoring.text')}</div>\n                <div className={classes.padded}>{t('regex.anchoring.text2')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.anchoring.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.chars\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.chars')}</Typography>\n                <div className={classes.padded}>{t('regex.chars.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.chars.ex')}\n                </Card>\n                <div className={classes.padded}>{t('regex.chars.text2')}</div>\n                <div className={classes.padded}>{t('regex.chars.text3')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.chars.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"regex.any\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.any')}</Typography>\n                <div className={classes.padded}>{t('regex.any.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.any.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.oneplus\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.oneplus')}</Typography>\n                <div className={classes.padded}>{t('regex.oneplus.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.oneplus.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.zeroplus\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.zeroplus')}</Typography>\n                <div className={classes.padded}>{t('regex.zeroplus.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.zeroplus.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.zeroone\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.zeroone')}</Typography>\n                <div className={classes.padded}>{t('regex.zeroone.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.zeroone.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.minmax\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.minmax')}</Typography>\n                <div className={classes.padded}>{t('regex.minmax.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.minmax.ex')}\n                </Card>\n                <div className={classes.padded}>{t('regex.minmax.text2')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.minmax.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"regex.grouping\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.grouping')}</Typography>\n                <div className={classes.padded}>{t('regex.grouping.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.grouping.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.alternation\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.alternation')}</Typography>\n                <div className={classes.padded}>{t('regex.alternation.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.alternation.ex')}\n                </Card>\n              </div>\n\n              <div id=\"regex.class\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('regex.class')}</Typography>\n                <div className={classes.padded}>{t('regex.class.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.class.ex')}\n                </Card>\n                <div className={classes.padded}>{t('regex.class.text2')}</div>\n                <div className={classes.padded}>{t('regex.class.text3')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('regex.class.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"fuzziness\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('fuzziness')}</Typography>\n                <div className={classes.padded}>{t('fuzziness.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('fuzziness.ex')}\n                </Card>\n                <div className={classes.padded}>{t('fuzziness.text2')}</div>\n                <div className={classes.padded}>{t('fuzziness.text3')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('fuzziness.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"proximity\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('proximity')}</Typography>\n                <div className={classes.padded}>{t('proximity.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('proximity.ex')}\n                </Card>\n                <div className={classes.padded}>{t('proximity.text2')}</div>\n              </div>\n\n              <div id=\"ranges\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('ranges')}</Typography>\n                {t('ranges.text')}\n                <Typography variant=\"subtitle2\" className={classes.padded}>\n                  {t('exemples')}\n                </Typography>\n                <ul className={classes.multipleEx}>\n                  <li>\n                    {t('ranges.ex1.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex1')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('ranges.ex2.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex2')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('ranges.ex3.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex3')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('ranges.ex4.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex4')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('ranges.ex5.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex5')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('ranges.ex6.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex6')}\n                    </Card>\n                  </li>\n                  <li>\n                    {t('ranges.ex7.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex7')}\n                    </Card>\n                  </li>\n                </ul>\n                <div className={classes.padded}>{t('ranges.text2')}</div>\n                <ul className={classes.multipleEx}>\n                  <li>\n                    {t('ranges.ex8.title')}\n                    <Card variant=\"outlined\" className={classes.pre}>\n                      {t('ranges.ex8')}\n                    </Card>\n                  </li>\n                </ul>\n                <div className={classes.padded}>{t('ranges.text3')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('ranges.ex9')}\n                </Card>\n                <div className={classes.padded}>{t('ranges.text4')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('ranges.ex10')}\n                </Card>\n              </div>\n\n              <div id=\"ranges.datemath\" className={classes.paragraph}>\n                <Typography variant=\"h6\">{t('ranges.datemath')}</Typography>\n                <div className={classes.padded}>{t('ranges.datemath.text')}</div>\n                <ul>\n                  <li>{t('ranges.datemath.list1')}</li>\n                  <li>{t('ranges.datemath.list2')}</li>\n                  <li>{t('ranges.datemath.list3')}</li>\n                </ul>\n                <div className={classes.padded}>{t('ranges.datemath.text2')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('ranges.datemath.ex1')}\n                </Card>\n                <div className={classes.padded}>{t('ranges.datemath.text3')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('ranges.datemath.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"operator\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('operator')}</Typography>\n                <div className={classes.padded}>{t('operator.text')}</div>\n                <div className={classes.padded}>{t('operator.text2')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('operator.ex1')}\n                </Card>\n                <div className={classes.padded}>{t('operator.text3')}</div>\n                <ul>\n                  <li>{t('operator.list1')}</li>\n                  <li>{t('operator.list2')}</li>\n                  <li>{t('operator.list3')}</li>\n                </ul>\n                <div className={classes.padded}>{t('operator.text4')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('operator.ex2')}\n                </Card>\n                <div className={classes.padded}>{t('operator.text5')}</div>\n              </div>\n\n              <div id=\"grouping\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('grouping')}</Typography>\n                <div className={classes.padded}>{t('grouping.text')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('grouping.ex')}\n                </Card>\n                <div className={classes.padded}>{t('grouping.text2')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('grouping.ex2')}\n                </Card>\n              </div>\n\n              <div id=\"reserved\" className={classes.paragraph}>\n                <Typography variant=\"h5\">{t('reserved')}</Typography>\n                <div className={classes.padded}>{t('reserved.text')}</div>\n                <div className={classes.padded}>{t('reserved.text2')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('reserved.ex')}\n                </Card>\n                <div className={classes.padded}>{t('reserved.text3')}</div>\n                <Card variant=\"outlined\" className={classes.pre}>\n                  {t('reserved.ex2')}\n                </Card>\n                <div className={classes.padded}>{t('reserved.text4')}</div>\n                <div className={classes.padded}>\n                  <b>\n                    <i>{t('reserved.note')}</i>\n                  </b>\n                  {`: ${t('reserved.text5')}`}\n                </div>\n              </div>\n            </>\n          );\n        }, [classes.multipleEx, classes.padded, classes.paragraph, classes.pre, indexes, t, theme])}\n      </ContentManagedSection>\n    </PageCenter>\n  );\n}\n","import { Card, CardHeader, Grid, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport CustomChip from 'components/visual/CustomChip';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction ServiceCard({ service }) {\n  const { t } = useTranslation(['helpServices']);\n  const theme = useTheme();\n  const isDark = theme.palette.type === 'dark';\n  const minCardHeight = '240px';\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n\n  return (\n    <Card\n      style={{\n        minHeight: minCardHeight,\n        backgroundColor: service.enabled ? null : isDark ? '#ff000017' : '#FFE4E4',\n        border: `solid 1px ${\n          service.enabled ? theme.palette.divider : isDark ? theme.palette.error.light : theme.palette.error.dark\n        }`\n      }}\n    >\n      <CardHeader\n        title={service.name}\n        subheader={service.version}\n        action={\n          service.enabled ? null : (\n            <div style={{ padding: sp2 }}>\n              <CustomChip type=\"rounded\" variant=\"outlined\" size=\"small\" color=\"error\" label={t('disabled')} />\n            </div>\n          )\n        }\n        style={{ padding: theme.spacing(1) }}\n      />\n      <div style={{ padding: sp1 }}>\n        <div style={{ minHeight: '110px', whiteSpace: 'pre-wrap', paddingBottom: theme.spacing(1) }}>\n          {service.description}\n        </div>\n        <Grid container spacing={1}>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('accepts')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.accepts}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('rejects')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.rejects}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('category')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.category}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <label style={{ fontWeight: 500 }}>{t('stage')}:&nbsp;&nbsp;</label>\n            <Typography variant=\"caption\" style={{ overflowWrap: 'anywhere', display: 'inline-block' }}>\n              {service.stage}\n            </Typography>\n          </Grid>\n        </Grid>\n      </div>\n    </Card>\n  );\n}\n\nexport default function Services() {\n  const apiCall = useMyAPI();\n  const { t } = useTranslation(['helpServices']);\n  const theme = useTheme();\n  const [services, setServices] = useState(null);\n  const minCardHeight = '240px';\n\n  useEffect(() => {\n    // Load all services on start\n    apiCall({\n      url: '/api/v4/service/all/',\n      onSuccess: api_data => {\n        setServices(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ marginBottom: theme.spacing(4) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n        {services ? (\n          <Typography variant=\"caption\">{`${services.length} ${t('count')}`}</Typography>\n        ) : (\n          <Skeleton width=\"8rem\" />\n        )}\n      </div>\n      {services ? (\n        <Grid container spacing={2}>\n          {services.map((s, i) => (\n            <Grid key={i} item xs={12} md={6} xl={4}>\n              <ServiceCard service={s} />\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Grid container spacing={2}>\n          {[...Array(8)].map((_, i) => (\n            <Grid key={i} item xs={12} md={6} xl={4}>\n              <Skeleton variant=\"rect\" style={{ height: minCardHeight }} />\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </PageFullWidth>\n  );\n}\n","import { CircularProgress, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction Logout() {\n  const { t } = useTranslation(['logout']);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { getBanner, hideMenus } = useAppLayout();\n\n  useEffect(() => {\n    hideMenus();\n\n    apiCall({\n      url: '/api/v4/auth/logout/',\n      onSuccess: () => {\n        setTimeout(() => {\n          window.location.replace(`${process.env.PUBLIC_URL}/`);\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <CardCentered>\n      <div style={{ textAlign: 'center' }}>\n        {getBanner(theme)}\n        <div style={{ marginBottom: theme.spacing(3) }}>\n          <Typography>{t('title')}</Typography>\n        </div>\n        <CircularProgress size={24} />\n      </div>\n    </CardCentered>\n  );\n}\n\nexport default Logout;\n","import PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport LinkGrid from 'components/layout/linkgrid';\nimport React from 'react';\n\nexport default function Manage() {\n  const layout = useMyLayout();\n  let items = [];\n  for (const item of layout.leftnav.elements) {\n    if (item.type === 'group' && item.element.id === 'manage') {\n      // eslint-disable-next-line @typescript-eslint/dot-notation\n      items = item.element['items'];\n    }\n  }\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <LinkGrid items={items} />\n    </PageCenter>\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport { Statistics } from 'components/routes/manage/heuristic_detail';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type HeuristicResult = {\n  attack_id: string[];\n  classification: string;\n  description: string;\n  filetype: string;\n  heur_id: string;\n  id: string;\n  max_score: number;\n  name: string;\n  score: number;\n  stats: Statistics;\n};\n\ntype SearchResults = {\n  items: HeuristicResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype HeuristicsTableProps = {\n  heuristicResults: SearchResults;\n  setHeuristicID?: (id: string) => void;\n  allowSort?: boolean;\n};\n\nconst WrappedHeuristicsTable: React.FC<HeuristicsTableProps> = ({\n  heuristicResults,\n  setHeuristicID = null,\n  allowSort = true\n}) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return heuristicResults ? (\n    heuristicResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"heur_id\" allowSort={allowSort}>\n                {t('header.id')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\" allowSort={allowSort}>\n                {t('header.name')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"filetype\" allowSort={allowSort}>\n                {t('header.filetype')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"score\" allowSort={allowSort}>\n                {t('header.score')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.count\" allowSort={allowSort}>\n                {t('header.hit_count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.last_hit\" allowSort={allowSort}>\n                {t('header.last_hit')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {heuristicResults.items.map(heuristic => (\n              <LinkRow\n                key={heuristic.heur_id}\n                component={Link}\n                to={`/manage/heuristic/${heuristic.heur_id}`}\n                onClick={event => {\n                  if (setHeuristicID) {\n                    event.preventDefault();\n                    setHeuristicID(heuristic.heur_id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>{heuristic.heur_id}</DivTableCell>\n                <DivTableCell>{heuristic.name}</DivTableCell>\n                <DivTableCell>{heuristic.filetype}</DivTableCell>\n                <DivTableCell>{heuristic.score}</DivTableCell>\n                <DivTableCell>{heuristic.stats ? heuristic.stats.count || 0 : 0}</DivTableCell>\n                <DivTableCell>\n                  {heuristic.stats && heuristic.stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {heuristic.stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('never')\n                  )}\n                </DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={heuristic.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_heuristics_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst HeuristicsTable = React.memo(WrappedHeuristicsTable);\nexport default HeuristicsTable;\n","import { useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\n\ntype HistogramProps = {\n  data: {\n    labels: string[];\n    datasets: { label: string; data: number[] }[];\n  };\n  title?: string;\n  height?: number;\n  isDate?: boolean;\n};\n\nconst WrappedHistogram = ({ data, height, title, isDate }: HistogramProps) => {\n  const theme = useTheme();\n  const [max, setMax] = useState(5);\n  const [histData, setHistData] = useState(null);\n  const options = {\n    maintainAspectRatio: false,\n    responsive: true,\n    scales: {\n      xAxes: [\n        {\n          gridLines: { display: false, drawBorder: true },\n          ticks: { fontColor: theme.palette.text.secondary },\n          time: isDate ? { unit: 'day' } : null,\n          type: isDate ? 'time' : null\n        }\n      ],\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: max,\n            fontColor: theme.palette.text.secondary,\n            precision: 0\n          }\n        }\n      ]\n    },\n    title: title\n      ? {\n          display: true,\n          text: title,\n          fontColor: theme.palette.text.primary,\n          fontFamily: 'Roboto',\n          fontSize: 14\n        }\n      : null\n  };\n\n  useEffect(() => {\n    if (data) {\n      const tempDatasets = [];\n      let maxValue = max;\n\n      data.datasets.forEach(dataset => {\n        maxValue = Math.max(maxValue, ...Object.values<number>(dataset.data));\n        tempDatasets.push({\n          ...dataset,\n          backgroundColor: theme.palette.primary.dark,\n          borderColor: theme.palette.primary.light,\n          borderWidth: 1,\n          hoverBackgroundColor: theme.palette.primary.main\n        });\n      });\n\n      setMax(maxValue);\n      setHistData({ ...data, datasets: tempDatasets });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data, theme]);\n\n  return histData ? (\n    <Line redraw data={histData} legend={{ display: false }} height={height} options={options} />\n  ) : (\n    <Skeleton variant=\"rect\" height={height} />\n  );\n};\n\nWrappedHistogram.defaultProps = {\n  title: null,\n  height: null,\n  isDate: false\n};\n\nconst Histogram = React.memo(WrappedHistogram);\nexport default Histogram;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type ResultResult = {\n  classification: string;\n  created: number;\n  drop_file: boolean;\n  id: string;\n  response: {\n    service_name: string;\n    service_tool_version: string;\n  };\n  result: {\n    score: number;\n  };\n};\n\ntype SearchResults = {\n  items: ResultResult[];\n  total: number;\n};\n\ntype ResultsTableProps = {\n  resultResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedResultsTable: React.FC<ResultsTableProps> = ({ resultResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return resultResults ? (\n    resultResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"created\" allowSort={allowSort}>\n                {t('header.created')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"result.score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"id\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"response.service_name\" allowSort={allowSort}>\n                {t('header.service')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {resultResults.items.map(result => (\n              <LinkRow\n                key={result.id}\n                component={Link}\n                to={`/file/detail/${result.id.substring(0, 64)}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={result.created}>\n                    <Moment fromNow locale={i18n.language}>\n                      {result.created}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={result.result.score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{result.id.substring(0, 64)}</DivTableCell>\n                <DivTableCell>{result.response.service_name}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={result.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_results_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst ResultsTable = React.memo(WrappedResultsTable);\nexport default ResultsTable;\n","import { Grid, IconButton, makeStyles, Paper, Tooltip, Typography, useTheme } from '@material-ui/core';\nimport YoutubeSearchedForIcon from '@material-ui/icons/YoutubeSearchedFor';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport Classification from 'components/visual/Classification';\nimport Histogram from 'components/visual/Histogram';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useParams } from 'react-router-dom';\n\nexport type Heuristic = {\n  attack_id: string[];\n  avg: number;\n  classification: string;\n  count: number;\n  description: string;\n  filetype: string;\n  heur_id: string;\n  max: number;\n  max_score: number;\n  min: number;\n  name: string;\n  score: number;\n  signature_score_map: {\n    [key: string]: number;\n  };\n  stats: Statistics;\n};\n\nexport type Statistics = {\n  avg: number;\n  min: number;\n  max: number;\n  count: number;\n  sum: number;\n  last_hit: string;\n  first_hit: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype HeuristicDetailProps = {\n  heur_id?: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  preview: {\n    margin: 0,\n    padding: `${theme.spacing(0.75)}px ${theme.spacing(1)}px`,\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  drawerPaper: {\n    maxWidth: '1200px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst HeuristicDetail = ({ heur_id }: HeuristicDetailProps) => {\n  const { t, i18n } = useTranslation(['manageHeuristicDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [heuristic, setHeuristic] = useState<Heuristic>(null);\n  const [stats, setStats] = useState<Statistics>(null);\n  const [histogram, setHistogram] = useState<any>(null);\n  const [results, setResults] = useState<any>(null);\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { c12nDef } = useALContext();\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/heuristics/${heur_id || id}/`,\n      onSuccess: api_data => {\n        setHeuristic(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heur_id, id]);\n\n  useEffect(() => {\n    if (heuristic) {\n      if (!heuristic.stats) {\n        apiCall({\n          method: 'POST',\n          url: '/api/v4/search/stats/result/result.score/',\n          body: { query: `result.sections.heuristic.heur_id:${heur_id || id}` },\n          onSuccess: api_data => {\n            setStats(api_data.api_response);\n          }\n        });\n      } else {\n        setStats(heuristic.stats);\n      }\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/histogram/result/created/',\n        body: {\n          query: `result.sections.heuristic.heur_id:${heur_id || id}`,\n          mincount: 0,\n          start: 'now-30d/d',\n          end: 'now+1d/d-1s',\n          gap: '+1d'\n        },\n        onSuccess: api_data => {\n          const chartData = {\n            labels: Object.keys(api_data.api_response).map((key: string) => key.replace('T00:00:00.000Z', '')),\n            datasets: [\n              {\n                label: heur_id || id,\n                data: Object.values(api_data.api_response)\n              }\n            ]\n          };\n          setHistogram(chartData);\n        }\n      });\n      apiCall({\n        method: 'GET',\n        url: `/api/v4/search/result/?query=result.sections.heuristic.heur_id:${heur_id || id}&rows=10`,\n        onSuccess: api_data => {\n          setResults(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [heuristic]);\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification size=\"tiny\" c12n={heuristic ? heuristic.classification : null} />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n              <Typography variant=\"caption\">\n                {heuristic ? heuristic.heur_id : <Skeleton style={{ width: '10rem' }} />}\n              </Typography>\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n              {heuristic ? (\n                <Tooltip title={t('usage')}>\n                  <IconButton\n                    component={Link}\n                    style={{ color: theme.palette.action.active }}\n                    to={`/search/result/?query=result.sections.heuristic.heur_id:\"${heuristic.heur_id}\"`}\n                  >\n                    <YoutubeSearchedForIcon />\n                  </IconButton>\n                </Tooltip>\n              ) : (\n                <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n              )}\n            </Grid>\n          </Grid>\n        </div>\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('name')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.name}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('filetype')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.filetype}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('desc')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.description}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('score')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.score}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('max_score')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.max_score || t('no_max')}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <Typography variant=\"subtitle2\">{t('attack_id')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.attack_id && heuristic.attack_id.length !== 0\n                  ? heuristic.attack_id.join(', ')\n                  : t('no_attack_id')}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('signature_score_map')}</Typography>\n            {heuristic ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {heuristic.signature_score_map && Object.keys(heuristic.signature_score_map).length !== 0 ? (\n                  <Grid container spacing={1}>\n                    {Object.keys(heuristic.signature_score_map).map((key, i) => {\n                      return (\n                        <Grid key={i} item xs>\n                          {`${key} = ${heuristic.signature_score_map[key]}`}\n                        </Grid>\n                      );\n                    })}\n                  </Grid>\n                ) : (\n                  t('no_sigs')\n                )}\n              </Paper>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('statistics')}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('hits')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.count')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.count : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.first')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? (\n                  stats.first_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.first_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.last')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? (\n                  stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('contribution')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.min')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.min : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.avg')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? Number(stats.avg).toFixed(0) : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.max')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {heuristic && stats ? stats.max : <Skeleton />}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Histogram data={histogram} height={300} isDate title={t('chart.title')} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('last10')}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsTable resultResults={results} allowSort={false} />\n          </Grid>\n        </Grid>\n      </div>\n    </PageCenter>\n  );\n};\n\nHeuristicDetail.defaultProps = {\n  heur_id: null\n};\n\nexport default HeuristicDetail;\n","import { makeStyles, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport HeuristicsTable from 'components/visual/SearchResult/heuristics';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport HeuristicDetail from './heuristic_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Heuristics() {\n  const { t } = useTranslation(['manageHeuristics']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [heuristicResults, setHeuristicResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { setGlobalDrawer } = useDrawer();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.heuristic).filter(name => {\n      return indexes.heuristic[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      query.set('rows', PAGE_SIZE);\n      query.set('offset', 0);\n      setSearching(true);\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/heuristic/',\n        body: query.getParams(),\n        onSuccess: api_data => {\n          setHeuristicResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setHeuristicID = useCallback(\n    (heur_id: string) => {\n      setGlobalDrawer(<HeuristicDetail heur_id={heur_id} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      {useMemo(() => {\n        return (\n          <>\n            <div style={{ paddingBottom: theme.spacing(2) }}>\n              <Typography variant=\"h4\">{t('title')}</Typography>\n            </div>\n\n            <PageHeader isSticky>\n              <div style={{ paddingTop: theme.spacing(1) }}>\n                <SearchBar\n                  initValue={query ? query.get('query', '') : ''}\n                  placeholder={t('filter')}\n                  searching={searching}\n                  suggestions={suggestions}\n                  onValueChange={onFilterValueChange}\n                  onClear={onClear}\n                  onSearch={onSearch}\n                >\n                  {heuristicResults !== null && (\n                    <div className={classes.searchresult}>\n                      {heuristicResults.total !== 0 && (\n                        <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                          {searching ? (\n                            <span>{t('searching')}</span>\n                          ) : (\n                            <span>\n                              {heuristicResults.total}&nbsp;\n                              {query.get('query')\n                                ? t(`filtered${heuristicResults.total === 1 ? '' : 's'}`)\n                                : t(`total${heuristicResults.total === 1 ? '' : 's'}`)}\n                            </span>\n                          )}\n                        </Typography>\n                      )}\n\n                      <SearchPager\n                        total={heuristicResults.total}\n                        setResults={setHeuristicResults}\n                        pageSize={pageSize}\n                        index=\"heuristic\"\n                        query={query}\n                        setSearching={setSearching}\n                      />\n                    </div>\n                  )}\n                </SearchBar>\n              </div>\n            </PageHeader>\n          </>\n        );\n      }, [\n        classes.searchresult,\n        heuristicResults,\n        onClear,\n        onSearch,\n        pageSize,\n        query,\n        searching,\n        suggestions,\n        t,\n        theme\n      ])}\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <HeuristicsTable heuristicResults={heuristicResults} setHeuristicID={setHeuristicID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CustomChip from './CustomChip';\n\nconst COLOR_MAP = {\n  DEPLOYED: 'success' as 'success',\n  NOISY: 'info' as 'info',\n  DISABLED: 'error' as 'error'\n};\n\ntype SignatureStatusProps = {\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  fullWidth?: boolean;\n  onClick?: () => void;\n};\n\nconst WrappedSignatureStatus: React.FC<SignatureStatusProps> = ({ status, fullWidth = true, onClick = null }) => {\n  const { t } = useTranslation();\n\n  return (\n    <CustomChip\n      size=\"tiny\"\n      fullWidth={fullWidth}\n      color={COLOR_MAP[status]}\n      label={t(`signature.status.${status}`)}\n      onClick={onClick}\n    />\n  );\n};\n\nconst SignatureStatus = React.memo(WrappedSignatureStatus);\nexport default SignatureStatus;\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport { Statistics } from 'components/routes/manage/signature_detail';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\nimport SignatureStatus from '../SignatureStatus';\n\nexport type SignatureResult = {\n  classification: string;\n  id: string;\n  last_modified: string;\n  name: string;\n  revision: string;\n  signature_id: string;\n  source: string;\n  stats: Statistics;\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  type: string;\n};\n\ntype SearchResults = {\n  items: SignatureResult[];\n  total: number;\n};\n\ntype SignaturesTableProps = {\n  signatureResults: SearchResults;\n  setSignatureID?: (id: string) => void;\n  allowSort?: boolean;\n};\n\nconst WrappedSignaturesTable: React.FC<SignaturesTableProps> = ({\n  signatureResults,\n  setSignatureID = null,\n  allowSort = true\n}) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return signatureResults ? (\n    signatureResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.type')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"source\" allowSort={allowSort}>\n                {t('header.source')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\" allowSort={allowSort}>\n                {t('header.name')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.count\" allowSort={allowSort}>\n                {t('header.hit_count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"stats.last_hit\" allowSort={allowSort}>\n                {t('header.last_hit')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"status\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {signatureResults.items.map(signature => (\n              <LinkRow\n                key={signature.signature_id}\n                component={Link}\n                to={`/manage/signature/${signature.id}`}\n                onClick={event => {\n                  if (setSignatureID) {\n                    event.preventDefault();\n                    setSignatureID(signature.id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>{signature.type}</DivTableCell>\n                <DivTableCell>{signature.source}</DivTableCell>\n                <DivTableCell>{signature.name}</DivTableCell>\n                <DivTableCell>{signature.stats ? signature.stats.count || 0 : 0}</DivTableCell>\n                <DivTableCell>\n                  {signature.stats && signature.stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {signature.stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('never')\n                  )}\n                </DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={signature.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell>\n                  <SignatureStatus status={signature.status} />\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_signatures_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst SignaturesTable = React.memo(WrappedSignaturesTable);\nexport default SignaturesTable;\n","import {\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport YoutubeSearchedForIcon from '@material-ui/icons/YoutubeSearchedFor';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport Histogram from 'components/visual/Histogram';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport SignatureStatus from 'components/visual/SignatureStatus';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\nexport type Signature = {\n  classification: string;\n  data: string;\n  last_modified: string;\n  name: string;\n  order: number;\n  revision: string;\n  signature_id: string;\n  source: string;\n  state_change_data: string;\n  state_change_user: string;\n  stats: Statistics;\n  status: 'DEPLOYED' | 'NOISY' | 'DISABLED';\n  type: string;\n};\n\nexport type Statistics = {\n  avg: number;\n  min: number;\n  max: number;\n  count: number;\n  sum: number;\n  last_hit: string;\n  first_hit: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype SignatureDetailProps = {\n  signature_id?: string;\n  onUpdated?: () => void;\n  onDeleted?: () => void;\n};\n\nconst useStyles = makeStyles(theme => ({\n  preview: {\n    padding: theme.spacing(2),\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word'\n  },\n  stats: {\n    margin: 0,\n    padding: `${theme.spacing(0.75)}px ${theme.spacing(1)}px`\n  },\n  openPaper: {\n    maxWidth: '1200px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst SignatureDetail = ({ signature_id, onUpdated, onDeleted }: SignatureDetailProps) => {\n  const { t, i18n } = useTranslation(['manageSignatureDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [signature, setSignature] = useState<Signature>(null);\n  const [stats, setStats] = useState<Statistics>(null);\n  const [histogram, setHistogram] = useState<any>(null);\n  const [results, setResults] = useState<any>(null);\n  const [open, setOpen] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [modified, setModified] = useState(false);\n  const history = useHistory();\n  const { showSuccessMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { user: currentUser, c12nDef } = useALContext();\n\n  useEffect(() => {\n    if (signature_id || id) {\n      apiCall({\n        url: `/api/v4/signature/${signature_id || id}/`,\n        onSuccess: api_data => {\n          setSignature(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [signature_id, id]);\n\n  useEffect(() => {\n    if (signature) {\n      if (!signature.stats) {\n        apiCall({\n          method: 'POST',\n          url: '/api/v4/search/stats/result/result.score/',\n          body: { query: `result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"` },\n          onSuccess: api_data => {\n            setStats(api_data.api_response);\n          }\n        });\n      } else {\n        setStats(signature.stats);\n      }\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/histogram/result/created/',\n        body: {\n          query: `result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"`,\n          mincount: 0,\n          start: 'now-30d/d',\n          end: 'now+1d/d-1s',\n          gap: '+1d'\n        },\n        onSuccess: api_data => {\n          const chartData = {\n            labels: Object.keys(api_data.api_response).map((key: string) => key.replace('T00:00:00.000Z', '')),\n            datasets: [\n              {\n                label: signature_id || id,\n                data: Object.values(api_data.api_response)\n              }\n            ]\n          };\n          setHistogram(chartData);\n        }\n      });\n      apiCall({\n        method: 'GET',\n        url: `/api/v4/search/result/?query=result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"&rows=10`,\n        onSuccess: api_data => {\n          setResults(api_data.api_response);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [signature]);\n\n  const closeDialog = () => {\n    setOpen(false);\n  };\n\n  const handleSelectChange = event => {\n    setModified(true);\n    setSignature({ ...signature, status: event.target.value });\n    closeDialog();\n  };\n\n  const handleStateSaveButtonClick = () => {\n    apiCall({\n      url: `/api/v4/signature/change_status/${signature_id || id}/${signature.status}/`,\n      onSuccess: () => {\n        showSuccessMessage(t('change.success'));\n        setModified(false);\n        onUpdated();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  const handleExecuteDeleteButtonClick = () => {\n    closeDialog();\n    apiCall({\n      url: `/api/v4/signature/${signature_id || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        showSuccessMessage(t('delete.success'));\n        if (id) setTimeout(() => history.push('/manage/signatures'), 1000);\n        onDeleted();\n      }\n    });\n  };\n\n  const handleDeleteButtonClick = () => {\n    setDeleteDialog(true);\n  };\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={handleExecuteDeleteButtonClick}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      <Dialog\n        open={open}\n        onClose={closeDialog}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{t('change.title')}</DialogTitle>\n        <DialogContent>\n          <p>{t('change.warning')}</p>\n          <ul>\n            <li>{t('change.warning.1')}</li>\n            <li>{t('change.warning.2')}</li>\n          </ul>\n          <div>{t('change.warning.action')}</div>\n          {signature ? (\n            <Select fullWidth onChange={handleSelectChange} variant=\"outlined\" margin=\"dense\" value={signature.status}>\n              <MenuItem value=\"DEPLOYED\">{t('status.DEPLOYED')}</MenuItem>\n              <MenuItem value=\"NOISY\">{t('status.NOISY')}</MenuItem>\n              <MenuItem value=\"DISABLED\">{t('status.DISABLED')}</MenuItem>\n            </Select>\n          ) : (\n            <Skeleton height={2} />\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={closeDialog} color=\"primary\">\n            {t('change.close')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification size=\"tiny\" c12n={signature ? signature.classification : null} />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <Grid container alignItems=\"center\" spacing={3}>\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n            <Typography variant=\"caption\">\n              {signature ? (\n                `${signature.type}_${signature.source}_${signature.signature_id}`\n              ) : (\n                <Skeleton style={{ width: '10rem' }} />\n              )}\n            </Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n            {signature ? (\n              <>\n                <div style={{ display: 'flex', marginBottom: theme.spacing(1), justifyContent: 'flex-end' }}>\n                  <Tooltip title={t('usage')}>\n                    <IconButton\n                      component={Link}\n                      style={{ color: theme.palette.action.active }}\n                      to={`/search/result/?query=result.sections.tags.file.rule.${signature.type}:\"${signature.source}.${signature.name}\"`}\n                    >\n                      <YoutubeSearchedForIcon />\n                    </IconButton>\n                  </Tooltip>\n                  {(currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1) && (\n                    <Tooltip title={t('remove')}>\n                      <IconButton\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                        onClick={handleDeleteButtonClick}\n                      >\n                        <RemoveCircleOutlineOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                </div>\n                <SignatureStatus\n                  status={signature.status}\n                  onClick={\n                    currentUser.is_admin || currentUser.roles.indexOf('signature_manager') !== -1\n                      ? () => setOpen(true)\n                      : null\n                  }\n                />\n              </>\n            ) : (\n              <>\n                <div style={{ display: 'flex' }}>\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                </div>\n                <Skeleton\n                  variant=\"rect\"\n                  height=\"1rem\"\n                  width=\"6rem\"\n                  style={{\n                    marginBottom: theme.spacing(1),\n                    marginTop: theme.spacing(1),\n                    borderRadius: theme.spacing(1)\n                  }}\n                />\n              </>\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            {signature ? (\n              <Paper component=\"pre\" variant=\"outlined\" className={classes.preview}>\n                {signature.data}\n              </Paper>\n            ) : (\n              <Skeleton variant=\"rect\" height=\"6rem\" />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('statistics')}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('hits')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.count')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.count : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.first')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? (\n                  stats.first_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.first_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('hit.last')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? (\n                  stats.last_hit ? (\n                    <Moment fromNow locale={i18n.language}>\n                      {stats.last_hit}\n                    </Moment>\n                  ) : (\n                    t('hit.none')\n                  )\n                ) : (\n                  <Skeleton />\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle1\" style={{ fontWeight: 600, fontStyle: 'italic' }}>\n              {t('contribution')}\n            </Typography>\n            <Grid container>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.min')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.min : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.avg')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? Number(stats.avg).toFixed(0) : <Skeleton />}\n              </Grid>\n              <Grid item xs={3} sm={4} md={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('score.max')}</span>\n              </Grid>\n              <Grid item xs={9} sm={8} md={9} lg={10}>\n                {signature && stats ? stats.max : <Skeleton />}\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Histogram data={histogram} height={300} isDate title={t('chart.title')} />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('last10')}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ResultsTable resultResults={results} allowSort={false} />\n          </Grid>\n        </Grid>\n\n        {signature && modified ? (\n          <div\n            style={{\n              paddingTop: id ? theme.spacing(1) : theme.spacing(2),\n              paddingBottom: id ? theme.spacing(1) : theme.spacing(2),\n              position: id ? 'fixed' : 'inherit',\n              bottom: id ? 0 : 'inherit',\n              left: id ? 0 : 'inherit',\n              width: id ? '100%' : 'inherit',\n              textAlign: id ? 'center' : 'right',\n              zIndex: id ? theme.zIndex.drawer - 1 : 'auto',\n              backgroundColor: id ? theme.palette.background.default : 'inherit',\n              boxShadow: id ? theme.shadows[4] : 'inherit'\n            }}\n          >\n            <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading} onClick={handleStateSaveButtonClick}>\n              {t('change.save')}\n              {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Button>\n          </div>\n        ) : null}\n      </div>\n    </PageCenter>\n  );\n};\n\nSignatureDetail.defaultProps = {\n  signature_id: null,\n  onUpdated: () => {},\n  onDeleted: () => {}\n};\n\nexport default SignatureDetail;\n","import { Grid, IconButton, Link, makeStyles, Tooltip, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport BlockIcon from '@material-ui/icons/Block';\nimport GetAppOutlinedIcon from '@material-ui/icons/GetAppOutlined';\nimport RecordVoiceOverOutlinedIcon from '@material-ui/icons/RecordVoiceOverOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport SignaturesTable from 'components/visual/SearchResult/signatures';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport SignatureDetail from './signature_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Signatures() {\n  const { t } = useTranslation(['manageSignatures']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [signatureResults, setSignatureResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const isXL = useMediaQuery(theme.breakpoints.only('xl'));\n  const [suggestions] = useState([\n    ...Object.keys(indexes.signature).filter(name => {\n      return indexes.signature[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      reload(0);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    function handleReload() {\n      reload(signatureResults ? signatureResults.offset : 0);\n    }\n\n    window.addEventListener('reloadSignatures', handleReload);\n\n    return () => {\n      window.removeEventListener('reloadSignatures', handleReload);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, signatureResults]);\n\n  const reload = offset => {\n    query.set('rows', PAGE_SIZE);\n    query.set('offset', offset);\n    apiCall({\n      method: 'POST',\n      url: '/api/v4/search/signature/',\n      body: query.getParams(),\n      onSuccess: api_data => {\n        if (\n          api_data.api_response.items.length === 0 &&\n          api_data.api_response.offset !== 0 &&\n          api_data.api_response.offset >= api_data.api_response.total\n        ) {\n          reload(Math.max(0, api_data.api_response.offset - api_data.api_response.rows));\n        } else {\n          setSignatureResults(api_data.api_response);\n        }\n      },\n      onEnter: () => setSearching(true),\n      onExit: () => setSearching(false)\n    });\n  };\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setSignatureID = useCallback(\n    (sig_id: string) => {\n      setGlobalDrawer(\n        <SignatureDetail signature_id={sig_id} onUpdated={handleSignatureUpdated} onDeleted={handleSignatureDeleted} />\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query]\n  );\n\n  const handleSignatureUpdated = () => {\n    if (!isXL) closeGlobalDrawer();\n    setTimeout(() => window.dispatchEvent(new CustomEvent('reloadSignatures')), 1000);\n  };\n\n  const handleSignatureDeleted = () => {\n    closeGlobalDrawer();\n    setTimeout(() => window.dispatchEvent(new CustomEvent('reloadSignatures')), 1000);\n  };\n\n  return (\n    <PageFullWidth margin={4}>\n      {useMemo(() => {\n        return (\n          <>\n            <div style={{ paddingBottom: theme.spacing(2) }}>\n              <Grid container alignItems=\"center\">\n                <Grid item xs>\n                  <Typography variant=\"h4\">{t('title')}</Typography>\n                </Grid>\n                <Grid item xs style={{ textAlign: 'right' }}>\n                  <Tooltip title={t('download_desc')}>\n                    <IconButton\n                      component={Link}\n                      style={{ color: theme.palette.action.active }}\n                      href={`/api/v4/signature/download/?query=${query ? query.get('query', '*') : '*'}`}\n                    >\n                      <GetAppOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                </Grid>\n              </Grid>\n            </div>\n\n            <PageHeader isSticky>\n              <div style={{ paddingTop: theme.spacing(1) }}>\n                <SearchBar\n                  initValue={query ? query.get('query', '') : ''}\n                  placeholder={t('filter')}\n                  searching={searching}\n                  suggestions={suggestions}\n                  onValueChange={onFilterValueChange}\n                  onClear={onClear}\n                  onSearch={onSearch}\n                  buttons={[\n                    {\n                      icon: <RecordVoiceOverOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                      tooltip: t('noisy'),\n                      props: {\n                        onClick: () => {\n                          query.set('query', 'status:NOISY');\n                          history.push(`${location.pathname}?${query.getDeltaString()}`);\n                        }\n                      }\n                    },\n\n                    {\n                      icon: <BlockIcon fontSize={upMD ? 'default' : 'small'} />,\n                      tooltip: t('disabled'),\n                      props: {\n                        onClick: () => {\n                          query.set('query', 'status:DISABLED');\n                          history.push(`${location.pathname}?${query.getDeltaString()}`);\n                        }\n                      }\n                    }\n                  ]}\n                >\n                  {signatureResults !== null && (\n                    <div className={classes.searchresult}>\n                      {signatureResults.total !== 0 && (\n                        <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                          {searching ? (\n                            <span>{t('searching')}</span>\n                          ) : (\n                            <span>\n                              {signatureResults.total}&nbsp;\n                              {query.get('query')\n                                ? t(`filtered${signatureResults.total === 1 ? '' : 's'}`)\n                                : t(`total${signatureResults.total === 1 ? '' : 's'}`)}\n                            </span>\n                          )}\n                        </Typography>\n                      )}\n\n                      <SearchPager\n                        total={signatureResults.total}\n                        setResults={setSignatureResults}\n                        pageSize={pageSize}\n                        index=\"signature\"\n                        query={query}\n                        setSearching={setSearching}\n                      />\n                    </div>\n                  )}\n                </SearchBar>\n              </div>\n            </PageHeader>\n          </>\n        );\n      }, [\n        classes.searchresult,\n        history,\n        location.pathname,\n        onClear,\n        onSearch,\n        pageSize,\n        query,\n        searching,\n        signatureResults,\n        suggestions,\n        t,\n        theme,\n        upMD\n      ])}\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <SignaturesTable signatureResults={signatureResults} setSignatureID={setSignatureID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type WorkflowResult = {\n  classification: string;\n  creation_date: string;\n  creator: string;\n  edited_by: string;\n  hit_count: string;\n  id: string;\n  last_edit: string;\n  last_seen: string;\n  name: string;\n  priority: string;\n  query: string;\n  status: string;\n  workflow_id: string;\n};\n\ntype SearchResults = {\n  items: WorkflowResult[];\n  rows: number;\n  offset: number;\n  total: number;\n};\n\ntype WorkflowTableProps = {\n  workflowResults: SearchResults;\n  setWorkflowID?: (id: string) => void;\n};\n\nconst WrappedWorflowTable: React.FC<WorkflowTableProps> = ({ workflowResults, setWorkflowID = null }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return workflowResults ? (\n    workflowResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"creation_date\">{t('header.created')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"last_seen\">{t('header.lasttimeseen')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"name\">{t('header.name')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"priority\">{t('header.priority')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"status\">{t('header.status')}</SortableHeaderCell>\n              <SortableHeaderCell sortField=\"hit_count\">{t('header.hit_count')}</SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\">{t('header.classification')}</SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {workflowResults.items.map(workflow => (\n              <LinkRow\n                key={workflow.workflow_id}\n                component={Link}\n                to={`/manage/workflow/${workflow.workflow_id}`}\n                onClick={event => {\n                  if (setWorkflowID) {\n                    event.preventDefault();\n                    setWorkflowID(workflow.workflow_id);\n                  }\n                }}\n                hover\n              >\n                <DivTableCell>\n                  <Moment fromNow locale={i18n.language}>\n                    {workflow.creation_date}\n                  </Moment>\n                </DivTableCell>\n                <DivTableCell>\n                  {workflow.last_seen && (\n                    <Moment fromNow locale={i18n.language}>\n                      {workflow.last_seen}\n                    </Moment>\n                  )}\n                </DivTableCell>\n                <DivTableCell>{workflow.name}</DivTableCell>\n                <DivTableCell>{workflow.priority}</DivTableCell>\n                <DivTableCell>{workflow.status}</DivTableCell>\n                <DivTableCell>{workflow.hit_count}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={workflow.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_workflows_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst WorflowTable = React.memo(WrappedWorflowTable);\nexport default WorflowTable;\n","import {\n  Button,\n  CircularProgress,\n  createStyles,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Select,\n  TextField,\n  Theme,\n  Tooltip,\n  Typography,\n  useTheme,\n  withStyles\n} from '@material-ui/core';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport { Autocomplete, Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport 'moment/locale/fr';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst DEFAULT_LABELS = [\n  'PHISHING',\n  'CRIME',\n  'ATTRIBUTED',\n  'WHITELISTED',\n  'FALSE_POSITIVE',\n  'REPORTED',\n  'MITIGATED',\n  'PENDING'\n];\n\nexport type Workflow = {\n  classification: string;\n  creation_date?: number;\n  creator?: string;\n  edited_by?: string;\n  hit_count: number;\n  labels: string[];\n  last_edit?: string;\n  last_seen?: string;\n  name: string;\n  priority: string;\n  query: string;\n  status: string;\n  workflow_id?: string;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype WorkflowDetailProps = {\n  workflow_id?: string;\n  close?: () => void;\n};\n\nconst MyMenuItem = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      minHeight: theme.spacing(4)\n    }\n  })\n)(MenuItem);\n\nconst useStyles = makeStyles(theme => ({\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst WorkflowDetail = ({ workflow_id, close }: WorkflowDetailProps) => {\n  const { t, i18n } = useTranslation(['manageWorkflowDetail']);\n  const { id } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [workflow, setWorkflow] = useState<Workflow>(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const { c12nDef } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const history = useHistory();\n\n  const DEFAULT_WORKFLOW = {\n    classification: c12nDef.UNRESTRICTED,\n    hit_count: 0,\n    labels: [],\n    name: '',\n    priority: '',\n    query: '',\n    status: ''\n  };\n\n  useEffect(() => {\n    if (workflow_id || id) {\n      apiCall({\n        url: `/api/v4/workflow/${workflow_id || id}/`,\n        onSuccess: api_data => {\n          setWorkflow({\n            ...api_data.api_response,\n            status: api_data.api_response.status || '',\n            priority: api_data.api_response.priority || ''\n          });\n        }\n      });\n    } else {\n      setWorkflow({ ...DEFAULT_WORKFLOW });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [workflow_id, id]);\n\n  const handleNameChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, name: event.target.value });\n  };\n\n  const handleQueryChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, query: event.target.value });\n  };\n\n  const handleLabelsChange = labels => {\n    setModified(true);\n    setWorkflow({ ...workflow, labels: labels.map(label => label.toUpperCase()) });\n  };\n\n  const handlePriorityChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, priority: event.target.value });\n  };\n\n  const handleStatusChange = event => {\n    setModified(true);\n    setWorkflow({ ...workflow, status: event.target.value });\n  };\n\n  const setClassification = classification => {\n    setModified(true);\n    setWorkflow({ ...workflow, classification });\n  };\n\n  const removeWorkflow = () => {\n    apiCall({\n      url: `/api/v4/workflow/${workflow_id || id}/`,\n      method: 'DELETE',\n      onSuccess: () => {\n        setDeleteDialog(false);\n        showSuccessMessage(t('delete.success'));\n        if (id) {\n          setTimeout(() => history.push('/manage/workflows'), 1000);\n        }\n        setTimeout(() => window.dispatchEvent(new CustomEvent('reloadWorkflows')), 1000);\n        close();\n      }\n    });\n  };\n\n  const saveWorkflow = () => {\n    apiCall({\n      url: workflow_id || id ? `/api/v4/workflow/${workflow_id || id}/` : '/api/v4/workflow/',\n      method: workflow_id || id ? 'POST' : 'PUT',\n      body: {\n        ...workflow,\n        priority: workflow.priority === '' ? null : workflow.priority,\n        status: workflow.status === '' ? null : workflow.status\n      },\n      onSuccess: () => {\n        showSuccessMessage(t(workflow_id || id ? 'save.success' : 'add.success'));\n        setModified(false);\n        setTimeout(() => window.dispatchEvent(new CustomEvent('reloadWorkflows')), 1000);\n        if (!(workflow_id || id)) close();\n      },\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  };\n\n  return (\n    <PageCenter margin={!id ? 2 : 4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={removeWorkflow}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n\n      {c12nDef.enforce && (\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Classification\n            type=\"picker\"\n            c12n={workflow ? workflow.classification : null}\n            setClassification={setClassification}\n          />\n        </div>\n      )}\n      <div style={{ textAlign: 'left' }}>\n        <div style={{ paddingBottom: theme.spacing(4) }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <Typography variant=\"h4\">{t(workflow_id || id ? 'title' : 'add.title')}</Typography>\n              <Typography variant=\"caption\">\n                {workflow ? workflow.workflow_id : <Skeleton style={{ width: '10rem' }} />}\n              </Typography>\n            </Grid>\n            {(workflow_id || id) && (\n              <Grid item xs style={{ textAlign: 'right', flexGrow: 0 }}>\n                {workflow ? (\n                  <Tooltip title={t('remove')}>\n                    <IconButton\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                      onClick={() => setDeleteDialog(true)}\n                    >\n                      <RemoveCircleOutlineOutlinedIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : (\n                  <Skeleton variant=\"circle\" height=\"2.5rem\" width=\"2.5rem\" style={{ margin: theme.spacing(0.5) }} />\n                )}\n              </Grid>\n            )}\n          </Grid>\n        </div>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('name')}</Typography>\n            {workflow ? (\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleNameChange}\n                value={workflow.name}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('query')}</Typography>\n            {workflow ? (\n              <TextField\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n                variant=\"outlined\"\n                onChange={handleQueryChange}\n                value={workflow.query}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\">{t('labels')}</Typography>\n            {workflow ? (\n              <Autocomplete\n                fullWidth\n                multiple\n                freeSolo\n                options={DEFAULT_LABELS}\n                value={workflow.labels}\n                renderInput={params => <TextField {...params} variant=\"outlined\" />}\n                onChange={(event, value) => handleLabelsChange(value as string[])}\n              />\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('priority')}</Typography>\n            {workflow ? (\n              <Select\n                id=\"priority\"\n                fullWidth\n                value={workflow.priority}\n                onChange={handlePriorityChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              >\n                <MyMenuItem value=\"\">{t('priority.null')}</MyMenuItem>\n                <MyMenuItem value=\"LOW\">{t('priority.LOW')}</MyMenuItem>\n                <MyMenuItem value=\"MEDIUM\">{t('priority.MEDIUM')}</MyMenuItem>\n                <MyMenuItem value=\"HIGH\">{t('priority.HIGH')}</MyMenuItem>\n                <MyMenuItem value=\"CRITICAL\">{t('priority.CRITICAL')}</MyMenuItem>\n              </Select>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"subtitle2\">{t('status')}</Typography>\n            {workflow ? (\n              <Select\n                id=\"priority\"\n                fullWidth\n                value={workflow.status}\n                onChange={handleStatusChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              >\n                <MyMenuItem value=\"\">{t('status.null')}</MyMenuItem>\n                <MyMenuItem value=\"MALICIOUS\">{t('status.MALICIOUS')}</MyMenuItem>\n                <MyMenuItem value=\"NON-MALICIOUS\">{t('status.NON-MALICIOUS')}</MyMenuItem>\n                <MyMenuItem value=\"ASSESS\">{t('status.ASSESS')}</MyMenuItem>\n              </Select>\n            ) : (\n              <Skeleton style={{ height: '2.5rem' }} />\n            )}\n          </Grid>\n        </Grid>\n        <div style={{ textAlign: 'center', paddingTop: theme.spacing(3) }}>\n          {workflow ? (\n            workflow.creator && (\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {`${t('created_by')} ${workflow.creator} `}\n                <Moment fromNow locale={i18n.language}>\n                  {workflow.creation_date}\n                </Moment>\n              </Typography>\n            )\n          ) : (\n            <Skeleton />\n          )}\n          {workflow ? (\n            workflow.edited_by && (\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                {`${t('edited_by')} ${workflow.edited_by} `}\n                <Moment fromNow locale={i18n.language}>\n                  {workflow.last_edit}\n                </Moment>\n              </Typography>\n            )\n          ) : (\n            <Skeleton />\n          )}{' '}\n        </div>\n      </div>\n\n      {workflow && modified && workflow.name && workflow.query ? (\n        <div\n          style={{\n            paddingTop: id ? theme.spacing(1) : theme.spacing(2),\n            paddingBottom: id ? theme.spacing(1) : theme.spacing(2),\n            position: id ? 'fixed' : 'inherit',\n            bottom: id ? 0 : 'inherit',\n            left: id ? 0 : 'inherit',\n            width: id ? '100%' : 'inherit',\n            textAlign: id ? 'center' : 'right',\n            zIndex: id ? theme.zIndex.drawer - 1 : 'auto',\n            backgroundColor: id ? theme.palette.background.default : 'inherit',\n            boxShadow: id ? theme.shadows[4] : 'inherit'\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading} onClick={saveWorkflow}>\n            {t(workflow_id || id ? 'save' : 'add.button')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      ) : null}\n    </PageCenter>\n  );\n};\n\nWorkflowDetail.defaultProps = {\n  workflow_id: null,\n  close: () => {}\n};\n\nexport default WorkflowDetail;\n","import { Grid, IconButton, makeStyles, Tooltip, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport EventBusyOutlinedIcon from '@material-ui/icons/EventBusyOutlined';\nimport EventOutlinedIcon from '@material-ui/icons/EventOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport WorkflowTable from 'components/visual/SearchResult/workflow';\nimport 'moment/locale/fr';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport WorkflowDetail from './workflow_detail';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  drawerPaper: {\n    width: '80%',\n    maxWidth: '800px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  }\n}));\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Workflows() {\n  const { t } = useTranslation(['manageWorkflows']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const [workflowResults, setWorkflowResults] = useState<SearchResults>(null);\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const history = useHistory();\n  const theme = useTheme();\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const apiCall = useMyAPI();\n  const classes = useStyles();\n  const { closeGlobalDrawer, setGlobalDrawer } = useDrawer();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.workflow).filter(name => {\n      return indexes.workflow[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n  const filterValue = useRef<string>('');\n\n  useEffect(() => {\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.pathname, location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      reload(0);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  useEffect(() => {\n    function handleReload() {\n      reload(workflowResults ? workflowResults.offset : 0);\n    }\n\n    window.addEventListener('reloadWorkflows', handleReload);\n\n    return () => {\n      window.removeEventListener('reloadWorkflows', handleReload);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, workflowResults]);\n\n  const reload = offset => {\n    query.set('rows', PAGE_SIZE);\n    query.set('offset', offset);\n    apiCall({\n      method: 'POST',\n      url: '/api/v4/search/workflow/',\n      body: query.getParams(),\n      onSuccess: api_data => {\n        if (\n          api_data.api_response.items.length === 0 &&\n          api_data.api_response.offset !== 0 &&\n          api_data.api_response.offset >= api_data.api_response.total\n        ) {\n          reload(Math.max(0, api_data.api_response.offset - api_data.api_response.rows));\n        } else {\n          setWorkflowResults(api_data.api_response);\n        }\n      },\n      onEnter: () => setSearching(true),\n      onExit: () => setSearching(false)\n    });\n  };\n\n  const onClear = useCallback(\n    () => {\n      history.push(location.pathname);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.pathname]\n  );\n\n  const onSearch = useCallback(\n    () => {\n      if (filterValue.current !== '') {\n        query.set('query', filterValue.current);\n        history.push(`${location.pathname}?${query.toString()}`);\n      } else {\n        onClear();\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [query, location.pathname, onClear]\n  );\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  const setWorkflowID = useCallback(\n    (wf_id: string) => {\n      setGlobalDrawer(<WorkflowDetail workflow_id={wf_id} close={closeGlobalDrawer} />);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Grid container alignItems=\"center\">\n          <Grid item xs>\n            <Typography variant=\"h4\">{t('title')}</Typography>\n          </Grid>\n          <Grid item xs style={{ textAlign: 'right' }}>\n            <Tooltip title={t('add_workflow')}>\n              <IconButton\n                style={{\n                  color: theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark\n                }}\n                onClick={() => setGlobalDrawer(<WorkflowDetail workflow_id={null} close={closeGlobalDrawer} />)}\n              >\n                <AddCircleOutlineOutlinedIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </div>\n\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <EventBusyOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('never_used'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'hit_count:0');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <EventOutlinedIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('old'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'last_seen:[* TO now-3m]');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {workflowResults !== null && (\n              <div className={classes.searchresult}>\n                {workflowResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {workflowResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${workflowResults.total === 1 ? '' : 's'}`)\n                          : t(`total${workflowResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  total={workflowResults.total}\n                  setResults={setWorkflowResults}\n                  pageSize={pageSize}\n                  index=\"workflow\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <WorkflowTable workflowResults={workflowResults} setWorkflowID={setWorkflowID} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { CircularProgress, Typography, useTheme } from '@material-ui/core';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport CardCentered from 'commons/components/layout/pages/CardCentered';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nfunction Optout() {\n  const { t } = useTranslation(['optout']);\n  const theme = useTheme();\n  const apiCall = useMyAPI();\n  const { getBanner, hideMenus } = useAppLayout();\n\n  useEffect(() => {\n    hideMenus();\n\n    apiCall({\n      body: false,\n      method: 'PUT',\n      url: '/api/v4/user/ui4/',\n      onSuccess: () => {\n        setTimeout(() => {\n          window.location.replace('/');\n        }, 500);\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <CardCentered>\n      <div style={{ textAlign: 'center' }}>\n        {getBanner(theme)}\n        <div style={{ marginBottom: theme.spacing(3) }}>\n          <Typography>{t('title')}</Typography>\n        </div>\n        <CircularProgress size={24} />\n      </div>\n    </CardCentered>\n  );\n}\n\nexport default Optout;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type AlertResult = {\n  al: {\n    av: string[];\n    score: number;\n  };\n  alert_id: string;\n  classification: string;\n  file: {\n    md5: string;\n    sha1: string;\n    sha256: string;\n    type: string;\n  };\n  filtered: boolean;\n  id: string;\n  label: string[];\n  owner: string;\n  priority: string;\n  reporting_ts: string;\n  status: string;\n  ts: string;\n  type: string;\n};\n\ntype SearchResults = {\n  items: AlertResult[];\n  total: number;\n};\n\ntype AlertsTableProps = {\n  alertResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedAlertsTable: React.FC<AlertsTableProps> = ({ alertResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return alertResults ? (\n    alertResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"reporting_ts\" allowSort={allowSort}>\n                {t('header.reporting_ts')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"al.score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"file.sha256\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"status\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.type')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {alertResults.items.map(alert => (\n              <LinkRow\n                key={alert.id}\n                component={Link}\n                to={`/alerts/${alert.id}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={alert.reporting_ts}>\n                    <Moment fromNow locale={i18n.language}>\n                      {alert.reporting_ts}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={alert.al.score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{alert.file.sha256}</DivTableCell>\n                <DivTableCell>{alert.status}</DivTableCell>\n                <DivTableCell>{alert.type}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={alert.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_alerts_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst AlertsTable = React.memo(WrappedAlertsTable);\nexport default AlertsTable;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type FileResult = {\n  classification: string;\n  entropy: number;\n  id: string;\n  md5: string;\n  seen: {\n    count: number;\n    first: string;\n    last: string;\n  };\n  sha1: string;\n  sha256: string;\n  size: number;\n  type: string;\n};\n\ntype SearchResults = {\n  items: FileResult[];\n  total: number;\n};\n\ntype FilesTableProps = {\n  fileResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedFilesTable: React.FC<FilesTableProps> = ({ fileResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return fileResults ? (\n    fileResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"seen.last\" allowSort={allowSort}>\n                {t('header.lasttimeseen')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"seen.count\" allowSort={allowSort}>\n                {t('header.count')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"sha256\" allowSort={allowSort}>\n                {t('header.sha256')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"type\" allowSort={allowSort}>\n                {t('header.filetype')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"size\" allowSort={allowSort}>\n                {t('header.size')}\n              </SortableHeaderCell>\n              {c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {fileResults.items.map(file => (\n              <LinkRow\n                key={file.id}\n                component={Link}\n                to={`/file/detail/${file.sha256}`}\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={file.seen.last}>\n                    <Moment fromNow locale={i18n.language}>\n                      {file.seen.last}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>{file.seen.count}</DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>{file.sha256}</DivTableCell>\n                <DivTableCell>{file.type}</DivTableCell>\n                <DivTableCell>{file.size}</DivTableCell>\n                {c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={file.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_files_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst FilesTable = React.memo(WrappedFilesTable);\nexport default FilesTable;\n","import { Tooltip } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst STATE_ICON_MAP = {\n  error: <ClearIcon color=\"error\" />,\n  completed: <DoneIcon color=\"primary\" />,\n  submitted: <UpdateIcon color=\"action\" />\n};\n\ntype SubmissionStateProps = {\n  state: string;\n  error_count?: number;\n};\n\nconst WrappedSubmissionState: React.FC<SubmissionStateProps> = ({ state, error_count = 0 }) => {\n  const { t } = useTranslation();\n  const curState = error_count !== 0 ? 'error' : state;\n  const icon = STATE_ICON_MAP[curState];\n\n  return <Tooltip title={t(`submission.state.${curState}`)}>{icon}</Tooltip>;\n};\n\nconst SubmissionState = React.memo(WrappedSubmissionState);\nexport default SubmissionState;\n","import { Tooltip } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { AlertTitle, Skeleton } from '@material-ui/lab';\nimport useALContext from 'components/hooks/useALContext';\nimport Classification from 'components/visual/Classification';\nimport SubmissionState from 'components/visual/SubmissionState';\nimport Verdict from 'components/visual/Verdict';\nimport 'moment/locale/fr';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport {\n  DivTable,\n  DivTableBody,\n  DivTableCell,\n  DivTableHead,\n  DivTableRow,\n  LinkRow,\n  SortableHeaderCell\n} from '../DivTable';\nimport InformativeAlert from '../InformativeAlert';\n\nexport type SubmissionResult = {\n  classification: string;\n  error_count: number;\n  file_count: number;\n  id: string;\n  max_score: number;\n  params: {\n    description: string;\n    submitter: string;\n  };\n  sid: string;\n  state: string;\n  times: {\n    submitted: string;\n  };\n};\n\ntype SearchResults = {\n  items: SubmissionResult[];\n  total: number;\n};\n\ntype SubmissionsTableProps = {\n  submissionResults: SearchResults;\n  allowSort?: boolean;\n};\n\nconst WrappedSubmissionsTable: React.FC<SubmissionsTableProps> = ({ submissionResults, allowSort = true }) => {\n  const { t, i18n } = useTranslation(['search']);\n  const { c12nDef } = useALContext();\n\n  return submissionResults ? (\n    submissionResults.total !== 0 ? (\n      <TableContainer component={Paper}>\n        <DivTable>\n          <DivTableHead>\n            <DivTableRow>\n              <SortableHeaderCell sortField=\"times.submitted\" allowSort={allowSort}>\n                {t('header.starttime')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"max_score\" allowSort={allowSort}>\n                {t('header.verdict')}\n              </SortableHeaderCell>\n              <DivTableCell>{t('header.description')}</DivTableCell>\n              <SortableHeaderCell sortField=\"params.submitter\" allowSort={allowSort}>\n                {t('header.user')}\n              </SortableHeaderCell>\n              <SortableHeaderCell sortField=\"file_count\" allowSort={allowSort}>\n                {t('header.numfiles')}\n              </SortableHeaderCell>\n              {c12nDef && c12nDef.enforce && (\n                <SortableHeaderCell sortField=\"classification\" allowSort={allowSort}>\n                  {t('header.classification')}\n                </SortableHeaderCell>\n              )}\n              <SortableHeaderCell sortField=\"error_count\" allowSort={allowSort}>\n                {t('header.status')}\n              </SortableHeaderCell>\n            </DivTableRow>\n          </DivTableHead>\n          <DivTableBody>\n            {submissionResults.items.map(submission => (\n              <LinkRow\n                key={submission.id}\n                component={Link}\n                to={\n                  submission.state === 'completed'\n                    ? `/submission/${submission.id}`\n                    : `/submission/detail/${submission.id}`\n                }\n                hover\n                style={{ textDecoration: 'none' }}\n              >\n                <DivTableCell>\n                  <Tooltip title={submission.times.submitted}>\n                    <Moment fromNow locale={i18n.language}>\n                      {submission.times.submitted}\n                    </Moment>\n                  </Tooltip>\n                </DivTableCell>\n                <DivTableCell>\n                  <Verdict score={submission.max_score} fullWidth />\n                </DivTableCell>\n                <DivTableCell style={{ wordBreak: 'break-word' }}>\n                  {submission.params.description.length > 150\n                    ? `${submission.params.description.substr(0, 147)}...`\n                    : submission.params.description}\n                </DivTableCell>\n                <DivTableCell style={{ whiteSpace: 'nowrap' }}>{submission.params.submitter}</DivTableCell>\n                <DivTableCell>{submission.file_count}</DivTableCell>\n                {c12nDef && c12nDef.enforce && (\n                  <DivTableCell>\n                    <Classification type=\"text\" size=\"tiny\" c12n={submission.classification} format=\"short\" />\n                  </DivTableCell>\n                )}\n                <DivTableCell style={{ textAlign: 'center' }}>\n                  <SubmissionState state={submission.state} error_count={submission.error_count} />\n                </DivTableCell>\n              </LinkRow>\n            ))}\n          </DivTableBody>\n        </DivTable>\n      </TableContainer>\n    ) : (\n      <div style={{ width: '100%' }}>\n        <InformativeAlert>\n          <AlertTitle>{t('no_submissions_title')}</AlertTitle>\n          {t('no_results_desc')}\n        </InformativeAlert>\n      </div>\n    )\n  ) : (\n    <Skeleton variant=\"rect\" style={{ height: '6rem', borderRadius: '4px' }} />\n  );\n};\n\nconst SubmissionsTable = React.memo(WrappedSubmissionsTable);\nexport default SubmissionsTable;\n","import {\n  createStyles,\n  IconButton,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  Theme,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport CenterFocusStrongOutlinedIcon from '@material-ui/icons/CenterFocusStrongOutlined';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FolderOutlinedIcon from '@material-ui/icons/FolderOutlined';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport AlertsTable from 'components/visual/SearchResult/alerts';\nimport FilesTable from 'components/visual/SearchResult/files';\nimport ResultsTable from 'components/visual/SearchResult/results';\nimport SignaturesTable from 'components/visual/SearchResult/signatures';\nimport SubmissionsTable from 'components/visual/SearchResult/submissions';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    tweaked_tabs: {\n      minHeight: 'unset',\n      [theme.breakpoints.up('md')]: {\n        '& [role=tab]': {\n          padding: '8px 20px',\n          fontSize: '13px',\n          minHeight: 'unset',\n          minWidth: 'unset'\n        }\n      },\n      [theme.breakpoints.down('sm')]: {\n        minHeight: 'unset',\n        '& [role=tab]': {\n          fontSize: '12px',\n          minHeight: 'unset',\n          minWidth: 'unset'\n        }\n      }\n    },\n    searchresult: {\n      paddingLeft: theme.spacing(1),\n      color: theme.palette.primary.main,\n      fontStyle: 'italic'\n    }\n  })\n);\n\ntype SearchProps = {\n  index?: string | null;\n};\n\ntype ParamProps = {\n  id: string;\n};\n\ntype SearchResults = {\n  items: any[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nfunction Search({ index }: SearchProps) {\n  const { id } = useParams<ParamProps>();\n  const { t } = useTranslation(['search']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [searching, setSearching] = useState(false);\n  const { indexes } = useALContext();\n  const location = useLocation();\n  const history = useHistory();\n  const theme = useTheme();\n  const classes = useStyles();\n  const apiCall = useMyAPI();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const [searchSuggestion, setSearchSuggestion] = useState<string[]>(null);\n  const [tab, setTab] = useState(null);\n  const { showErrorMessage } = useMySnackbar();\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n\n  // Result lists\n  const [submissionResults, setSubmissionResults] = useState<SearchResults>(null);\n  const [fileResults, setFileResults] = useState<SearchResults>(null);\n  const [resultResults, setResultResults] = useState<SearchResults>(null);\n  const [signatureResults, setSignatureResults] = useState<SearchResults>(null);\n  const [alertResults, setAlertResults] = useState<SearchResults>(null);\n\n  const stateMap = {\n    submission: setSubmissionResults,\n    file: setFileResults,\n    result: setResultResults,\n    signature: setSignatureResults,\n    alert: setAlertResults\n  };\n\n  const resMap = {\n    submission: submissionResults,\n    file: fileResults,\n    result: resultResults,\n    signature: signatureResults,\n    alert: alertResults\n  };\n\n  const queryValue = useRef<string>('');\n\n  const handleChangeTab = (event, newTab) => {\n    history.push(`${location.pathname}?${query.toString()}#${newTab}`);\n  };\n\n  const onClear = () => {\n    query.delete('query');\n    history.push(`${location.pathname}?${query.toString()}${location.hash}`);\n  };\n\n  const onSearch = () => {\n    if (queryValue.current !== '') {\n      query.set('query', queryValue.current);\n      history.push(`${location.pathname}?${query.toString()}${location.hash}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    queryValue.current = inputValue;\n  };\n\n  const resetResults = () => {\n    setSubmissionResults(null);\n    setFileResults(null);\n    setResultResults(null);\n    setSignatureResults(null);\n    setAlertResults(null);\n  };\n\n  useEffect(() => {\n    // On index change we need to update the search suggestion\n    setSearchSuggestion([\n      ...Object.keys(indexes[index || id] || {}).filter(name => {\n        return indexes[index || id][name].indexed;\n      }),\n      ...DEFAULT_SUGGESTION\n    ]);\n  }, [index, id, indexes]);\n\n  useEffect(() => {\n    // On location.search change we need to change the query object and reset the results\n    setQuery(new SimpleSearchQuery(location.search, `rows=${pageSize}&offset=0`));\n    resetResults();\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    // On location.hash change, we need to change the tab\n    const newTab = location.hash.substring(1, location.hash.length) || index || id || 'submission';\n    setTab(newTab);\n  }, [id, index, location.hash]);\n\n  useEffect(() => {\n    if (query) {\n      queryValue.current = query.get('query', '');\n      if (query.get('query')) {\n        const searchList = [];\n        if (!(index || id)) {\n          searchList.push(...Object.keys(stateMap));\n        } else {\n          searchList.push(tab);\n          if (!searching) setSearching(true);\n        }\n        for (const searchIndex of searchList) {\n          apiCall({\n            method: 'POST',\n            url: `/api/v4/search/${searchIndex}/`,\n            body: { ...query.getParams(), rows: pageSize, offset: 0 },\n            onSuccess: api_data => {\n              stateMap[searchIndex](api_data.api_response);\n            },\n            onFailure: api_data => {\n              if (index || id || !api_data.api_error_message.includes('Rewrite first')) {\n                showErrorMessage(api_data.api_error_message);\n              } else {\n                stateMap[searchIndex]({ total: 0, offset: 0, items: [], rows: pageSize });\n              }\n            },\n            onFinalize: () => {\n              if (index || id) {\n                setSearching(false);\n              }\n            }\n          });\n        }\n      }\n    }\n    // eslint-disable-next-line\n  }, [query]);\n\n  const TabSpacer = props => {\n    return <div style={{ flexGrow: 1 }} />;\n  };\n\n  const SpecialTab = ({ children, ...otherProps }) => {\n    return children;\n  };\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2), textAlign: 'left', width: '100%' }}>\n        <Typography variant=\"h4\">{t(`title_${index || id || 'all'}`)}</Typography>\n      </div>\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            searching={searching}\n            placeholder={t(`search_${index || id || 'all'}`)}\n            suggestions={searchSuggestion}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon:\n                  query && query.get('use_archive') === 'false' ? (\n                    <FolderOutlinedIcon fontSize={downSM ? 'small' : 'default'} />\n                  ) : (\n                    <FolderIcon fontSize={downSM ? 'small' : 'default'} />\n                  ),\n                tooltip:\n                  query && query.get('use_archive') === 'false' ? t('use_archive.turn_on') : t('use_archive.turn_off'),\n                props: {\n                  onClick: () => {\n                    query.set('use_archive', query.get('use_archive') === 'false');\n                    history.push(`${location.pathname}?${query.getDeltaString()}${location.hash}`);\n                  }\n                }\n              }\n            ]}\n          />\n\n          {!(index || id) && query && query.get('query') && (\n            <Paper square style={{ marginBottom: theme.spacing(0.5) }}>\n              <Tabs\n                className={classes.tweaked_tabs}\n                value={tab}\n                onChange={handleChangeTab}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                scrollButtons=\"auto\"\n                variant=\"scrollable\"\n              >\n                <Tab\n                  label={`${t('submission')} (${submissionResults ? submissionResults.total : '...'})`}\n                  value=\"submission\"\n                />\n                <Tab label={`${t('file')} (${fileResults ? fileResults.total : '...'})`} value=\"file\" />\n                <Tab label={`${t('result')} (${resultResults ? resultResults.total : '...'})`} value=\"result\" />\n                <Tab\n                  label={`${t('signature')} (${signatureResults ? signatureResults.total : '...'})`}\n                  value=\"signature\"\n                />\n                <Tab label={`${t('alert')} (${alertResults ? alertResults.total : '...'})`} value=\"alert\" />\n                <TabSpacer />\n                <SpecialTab>\n                  <Tooltip title={t('focus_search')}>\n                    <IconButton\n                      size={downSM ? 'small' : 'medium'}\n                      component={Link}\n                      to={`/search/${tab}${location.search}`}\n                    >\n                      <CenterFocusStrongOutlinedIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                </SpecialTab>\n              </Tabs>\n            </Paper>\n          )}\n          <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap', marginBottom: theme.spacing(0.5) }}>\n            {resMap[tab] && resMap[tab].total !== 0 && (index || id) && (\n              <div className={classes.searchresult}>\n                {`${resMap[tab].total} ${t(resMap[tab].total === 1 ? 'matching_result' : 'matching_results')}`}\n              </div>\n            )}\n            <div style={{ flexGrow: 1 }} />\n            {resMap[tab] && (\n              <SearchPager\n                total={resMap[tab].total}\n                setResults={stateMap[tab]}\n                page={resMap[tab].offset / resMap[tab].rows + 1}\n                pageSize={pageSize}\n                index={tab}\n                query={query}\n                setSearching={setSearching}\n              />\n            )}\n          </div>\n        </div>\n      </PageHeader>\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        {tab === 'submission' && query && query.get('query') && (\n          <SubmissionsTable submissionResults={submissionResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'file' && query && query.get('query') && (\n          <FilesTable fileResults={fileResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'result' && query && query.get('query') && (\n          <ResultsTable resultResults={resultResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'signature' && query && query.get('query') && (\n          <SignaturesTable signatureResults={signatureResults} allowSort={!!(index || id)} />\n        )}\n        {tab === 'alert' && query && query.get('query') && (\n          <AlertsTable alertResults={alertResults} allowSort={!!(index || id)} />\n        )}\n      </div>\n    </PageFullWidth>\n  );\n}\n\nSearch.defaultProps = {\n  index: null\n};\n\nexport default Search;\n","import { Checkbox, createStyles, FormControlLabel, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport React from 'react';\nimport { HiOutlineExternalLink } from 'react-icons/hi';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    item: {\n      width: '100%',\n      '&:hover': {\n        background: theme.palette.action.hover\n      }\n    }\n  })\n);\n\ntype ServiceTreeItemSkelProps = {\n  size: 'medium' | 'small';\n};\n\nfunction ServiceTreeItemSkel({ size = 'medium' }: ServiceTreeItemSkelProps) {\n  return (\n    <div style={{ display: 'flex', flexDirection: 'row', paddingBottom: '8px' }}>\n      <Skeleton style={{ height: size === 'medium' ? '2.5rem' : '2rem', width: '1.5rem' }} />\n      <Skeleton style={{ marginLeft: '1rem', height: size === 'medium' ? '2.5rem' : '2rem', width: '100%' }} />\n    </div>\n  );\n}\n\ntype ServiceTreeItemProps = {\n  item: any;\n  onChange: (name: string, category: string) => void;\n  size: 'medium' | 'small';\n};\n\nfunction ServiceTreeItem({ item, onChange, size = 'medium' as 'medium' }: ServiceTreeItemProps) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const sp1 = theme.spacing(1);\n  const sp4 = theme.spacing(4);\n  return (\n    <div\n      style={{\n        paddingLeft: sp1,\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid'\n      }}\n    >\n      <FormControlLabel\n        control={\n          <Checkbox\n            size={size}\n            indeterminate={\n              item.services ? !item.services.every(e => e.selected) && !item.services.every(e => !e.selected) : false\n            }\n            checked={item.services ? item.services.some(e => e.selected) : item.selected}\n            name=\"label\"\n            onChange={() => onChange(item.name, item.category)}\n          />\n        }\n        label={\n          <Typography variant={size === 'small' ? 'body2' : 'body1'}>\n            {item.name}\n            {item.is_external && (\n              <HiOutlineExternalLink\n                style={{ fontSize: 'large', verticalAlign: 'middle', marginLeft: theme.spacing(2) }}\n              />\n            )}\n          </Typography>\n        }\n        className={classes.item}\n      />\n      <div style={{ paddingLeft: sp4 }}>\n        {item.services\n          ? item.services.map((service, service_id) => {\n              return <ServiceTreeItem size={size} key={service_id} item={service} onChange={onChange} />;\n            })\n          : null}\n      </div>\n    </div>\n  );\n}\n\ntype SkelItemsProps = {\n  size: 'medium' | 'small';\n  spacing: number;\n};\n\nfunction SkelItems({ size, spacing }: SkelItemsProps) {\n  return (\n    <>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n      <div\n        style={{\n          height: '100%',\n          width: '100%',\n          display: 'inline-block',\n          pageBreakInside: 'avoid'\n        }}\n      >\n        <ServiceTreeItemSkel size={size} />\n        <div style={{ paddingLeft: spacing }}>\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n          <ServiceTreeItemSkel size={size} />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype ServiceTreeProps = {\n  settings: any;\n  setSettings: (settings: any) => void;\n  setModified?: (isModified: boolean) => void;\n  compressed?: boolean;\n  size?: 'medium' | 'small';\n};\n\nconst ServiceTree: React.FC<ServiceTreeProps> = ({\n  settings,\n  setSettings,\n  setModified = null,\n  compressed = false,\n  size = 'medium' as 'medium'\n}) => {\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  function handleServiceChange(name, category) {\n    if (settings) {\n      const newServices = settings.services;\n      if (category) {\n        for (const cat of newServices) {\n          if (cat.name === category) {\n            for (const srv of cat.services) {\n              if (srv.name === name) {\n                srv.selected = !srv.selected;\n                break;\n              }\n            }\n            cat.selected = cat.services.every(e => e.selected);\n            break;\n          }\n        }\n      } else {\n        for (const cat of newServices) {\n          if (cat.name === name) {\n            cat.selected = !cat.selected;\n            for (const srv of cat.services) {\n              srv.selected = cat.selected;\n            }\n            break;\n          }\n        }\n      }\n      if (setModified) {\n        setModified(true);\n      }\n      setSettings({ ...settings, services: newServices });\n    }\n  }\n\n  function sortFunc(a, b) {\n    const nameA = a.name.toUpperCase(); // ignore upper and lowercase\n    const nameB = b.name.toUpperCase(); // ignore upper and lowercase\n    if (nameA < nameB) {\n      return -1;\n    }\n    if (nameA > nameB) {\n      return 1;\n    }\n\n    // names must be equal\n    return 0;\n  }\n\n  return compressed ? (\n    <div\n      style={{\n        paddingTop: sp2,\n        paddingBottom: sp2,\n        columnWidth: '18rem',\n        columnGap: '1rem',\n        columnRuleWidth: '1px',\n        columnRuleStyle: 'dotted',\n        columnRuleColor: theme.palette.divider\n      }}\n    >\n      {settings ? (\n        settings.services.sort(sortFunc).map((category, cat_id) => {\n          return <ServiceTreeItem size={size} key={cat_id} item={category} onChange={handleServiceChange} />;\n        })\n      ) : (\n        <SkelItems size={size} spacing={sp4} />\n      )}\n    </div>\n  ) : settings ? (\n    settings.services.sort(sortFunc).map((category, cat_id) => {\n      return <ServiceTreeItem size={size} key={cat_id} item={category} onChange={handleServiceChange} />;\n    })\n  ) : (\n    <SkelItems size={size} spacing={sp4} />\n  );\n};\n\nexport default ServiceTree;\n","import {\n  Button,\n  CircularProgress,\n  Drawer,\n  IconButton,\n  isWidthDown,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Switch,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n  useTheme,\n  withWidth\n} from '@material-ui/core';\nimport ChevronRightOutlinedIcon from '@material-ui/icons/ChevronRightOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ServiceTree from 'components/layout/serviceTree';\nimport Classification from 'components/visual/Classification';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype SettingsProps = {\n  width: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n};\n\nfunction Settings<SettingsProps>({ width }) {\n  const { t } = useTranslation(['settings']);\n  const theme = useTheme();\n  const [drawerType, setDrawerType] = useState(null);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [settings, setSettings] = useState(null);\n  const [modified, setModified] = useState(false);\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { user: currentUser, c12nDef } = useALContext();\n  const { showSuccessMessage } = useMySnackbar();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const sp6 = theme.spacing(6);\n\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    drawer: {\n      width: '500px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100vw'\n      }\n    },\n    row: {\n      height: '62px'\n    },\n    group: {\n      marginTop: '1rem'\n    },\n    skelItem: {\n      display: 'inline-block'\n    },\n    skelButton: {\n      display: 'inline-block',\n      width: '9rem',\n      height: '4rem'\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n\n  function setClassification(value) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, classification: value });\n    }\n  }\n\n  function setTTL(value) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ttl: parseInt(value) });\n    }\n  }\n\n  function toggleDynamicPrevention() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_dynamic_recursion_prevention: !settings.ignore_dynamic_recursion_prevention });\n    }\n  }\n\n  function toggleFiltering() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_filtering: !settings.ignore_filtering });\n    }\n  }\n\n  function toggleCaching() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, ignore_cache: !settings.ignore_cache });\n    }\n  }\n\n  function toggleDeepScan() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, deep_scan: !settings.deep_scan });\n    }\n  }\n\n  function toggleProfile() {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, profile: !settings.profile });\n    }\n  }\n\n  function handleViewChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, submission_view: event.target.value });\n    }\n  }\n\n  function handleEncodingChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, download_encoding: event.target.value });\n    }\n  }\n\n  function handleScoreChange(event) {\n    if (settings) {\n      setModified(true);\n      setSettings({ ...settings, expand_min_score: event.target.value });\n    }\n  }\n\n  function saveSettings() {\n    if (settings) {\n      apiCall({\n        url: `/api/v4/user/settings/${currentUser.username}/`,\n        method: 'POST',\n        body: settings,\n        onSuccess: () => {\n          setModified(false);\n          showSuccessMessage(t('success_save'));\n        },\n        onEnter: () => setButtonLoading(true),\n        onExit: () => setButtonLoading(false)\n      });\n    }\n  }\n\n  function toggleDrawer(type) {\n    if (settings) {\n      setDrawerType(type);\n      setDrawerOpen(true);\n    }\n  }\n\n  useEffect(() => {\n    // Load user on start\n    apiCall({\n      url: `/api/v4/user/settings/${currentUser.username}/`,\n      onSuccess: api_data => {\n        setSettings(api_data.api_response);\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <React.Fragment key=\"right\">\n        <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n          <div style={{ alignSelf: 'flex-end' }}>\n            <IconButton onClick={() => setDrawerOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n          <div\n            className={classes.drawer}\n            style={{\n              paddingTop: sp4,\n              paddingBottom: sp6,\n              paddingLeft: sp4,\n              paddingRight: sp4,\n              display: 'flex',\n              flexDirection: 'column'\n            }}\n          >\n            {drawerType &&\n              settings &&\n              {\n                ttl: (\n                  <>\n                    <Typography variant=\"h4\">{t('submissions.ttl')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('submissions.ttl_desc')}\n                    </Typography>\n                    <TextField\n                      autoFocus\n                      type=\"number\"\n                      margin=\"normal\"\n                      variant=\"outlined\"\n                      onChange={event => setTTL(event.target.value)}\n                      value={settings.ttl}\n                      inputProps={{ min: 0, max: 365 }}\n                    />\n                  </>\n                ),\n                view: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.view')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.view_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.submission_view}\n                        onChange={handleViewChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"report\">{t('interface.view_report')}</MenuItem>\n                        <MenuItem value=\"details\">{t('interface.view_details')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                ),\n                encoding: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.encoding')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.encoding_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.download_encoding}\n                        onChange={handleEncodingChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"raw\">{t('interface.encoding_raw')}</MenuItem>\n                        <MenuItem value=\"cart\">{t('interface.encoding_cart')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                ),\n                score: (\n                  <>\n                    <Typography variant=\"h4\">{t('interface.score')}</Typography>\n                    <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                      {t('interface.score_desc')}\n                    </Typography>\n                    <div style={{ paddingTop: sp2, width: '100%' }}>\n                      <Select\n                        id=\"view\"\n                        margin=\"dense\"\n                        value={settings.expand_min_score}\n                        onChange={handleScoreChange}\n                        variant=\"outlined\"\n                        style={{ width: '100%' }}\n                      >\n                        <MenuItem value=\"-1000000\">{t('interface.score_-1000000')}</MenuItem>\n                        <MenuItem value=\"0\">{t('interface.score_0')}</MenuItem>\n                        <MenuItem value=\"100\">{t('interface.score_100')}</MenuItem>\n                        <MenuItem value=\"500\">{t('interface.score_500')}</MenuItem>\n                        <MenuItem value=\"2000\">{t('interface.score_2000')}</MenuItem>\n                        <MenuItem value=\"100000000\">{t('interface.score_100000000')}</MenuItem>\n                      </Select>\n                    </div>\n                  </>\n                )\n              }[drawerType]}\n          </div>\n        </Drawer>\n      </React.Fragment>\n\n      <TableContainer className={classes.group} component={Paper}>\n        <Table aria-label={t('submissions')}>\n          <TableHead>\n            <TableRow>\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 3}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('submissions')}\n                </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDynamicPrevention()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.dynamic_recursion')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.dynamic_recursion_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_dynamic_recursion_prevention : true}\n                  disabled={settings === null}\n                  onChange={() => toggleDynamicPrevention()}\n                  color=\"secondary\"\n                  name=\"dynamic_resursion\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleFiltering()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.filtering')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.filtering_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_filtering : true}\n                  disabled={settings === null}\n                  onChange={() => toggleFiltering()}\n                  color=\"secondary\"\n                  name=\"filtering\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleCaching()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.result_caching')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.result_caching_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.ignore_cache : true}\n                  disabled={settings === null}\n                  onChange={() => toggleCaching()}\n                  color=\"secondary\"\n                  name=\"result_caching\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleDeepScan()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.deep_scan')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.deep_scan_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? settings.deep_scan : true}\n                  disabled={settings === null}\n                  onChange={() => toggleDeepScan()}\n                  color=\"secondary\"\n                  name=\"deep_scan\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={() => toggleProfile()}>\n              <TableCell colSpan={2} width=\"100%\">\n                <Typography variant=\"body1\">{t('submissions.profile')}</Typography>\n                <Typography variant=\"caption\">{t('submissions.profile_desc')}</Typography>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Switch\n                  checked={settings ? !settings.profile : true}\n                  disabled={settings === null}\n                  onChange={() => toggleProfile()}\n                  color=\"secondary\"\n                  name=\"profile\"\n                />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('ttl')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('submissions.ttl')}</Typography>\n                  <Typography variant=\"caption\">{t('submissions.ttl_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('submissions.ttl')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('submissions.ttl_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {settings.ttl === 0 ? t('submissions.ttl_forever') : `${settings.ttl} ${t('submissions.ttl_days')}`}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            {c12nDef.enforce && (\n              <TableRow style={{ cursor: 'pointer' }}>\n                {isWidthDown('xs', width) ? null : (\n                  <TableCell>\n                    <Typography variant=\"body1\">{t('submissions.classification')}</Typography>\n                    <Typography variant=\"caption\">{t('submissions.classification_desc')}</Typography>\n                  </TableCell>\n                )}\n                <TableCell colSpan={isWidthDown('xs', width) ? 3 : 2}>\n                  {!isWidthDown('xs', width) ? null : (\n                    <>\n                      <Typography variant=\"body1\">{t('submissions.classification')}</Typography>\n                      <Typography variant=\"caption\" gutterBottom>\n                        {t('submissions.classification_desc')}\n                      </Typography>\n                    </>\n                  )}\n                  <Classification\n                    type=\"picker\"\n                    size=\"small\"\n                    c12n={settings ? settings.classification : null}\n                    setClassification={setClassification}\n                  />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <TableContainer className={classes.group} component={Paper}>\n        <Table aria-label={t('interface')}>\n          <TableHead>\n            <TableRow>\n              <TableCell colSpan={3}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('interface')}\n                </Typography>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('view')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.view')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.view_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.view')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.view_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.view_${settings.submission_view}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('encoding')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.encoding')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.encoding_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.encoding')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.encoding_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.encoding_${settings.download_encoding}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n            <TableRow hover style={{ cursor: 'pointer' }} onClick={event => toggleDrawer('score')}>\n              {isWidthDown('xs', width) ? null : (\n                <TableCell>\n                  <Typography variant=\"body1\">{t('interface.score')}</Typography>\n                  <Typography variant=\"caption\">{t('interface.score_desc')}</Typography>\n                </TableCell>\n              )}\n              <TableCell colSpan={isWidthDown('xs', width) ? 2 : 1}>\n                {!isWidthDown('xs', width) ? null : (\n                  <>\n                    <Typography variant=\"body1\">{t('interface.score')}</Typography>\n                    <Typography variant=\"caption\" gutterBottom>\n                      {t('interface.score_desc')}\n                    </Typography>\n                  </>\n                )}\n                {settings ? (\n                  <Typography variant=\"subtitle2\" color=\"primary\">\n                    {t(`interface.score_${settings.expand_min_score}`)}\n                  </Typography>\n                ) : (\n                  <Skeleton />\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <ChevronRightOutlinedIcon />\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <Paper className={classes.group}>\n        <div style={{ padding: sp2, textAlign: 'left' }}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('service')}\n          </Typography>\n          <ServiceTree settings={settings} setSettings={setSettings} setModified={setModified} compressed />\n        </div>\n      </Paper>\n\n      {settings && modified && (\n        <div\n          style={{\n            paddingTop: sp1,\n            paddingBottom: sp1,\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            width: '100%',\n            zIndex: theme.zIndex.drawer - 1,\n            backgroundColor: theme.palette.background.default,\n            boxShadow: theme.shadows[4]\n          }}\n        >\n          <Button variant=\"contained\" color=\"primary\" disabled={buttonLoading || !modified} onClick={saveSettings}>\n            {t('save')}\n            {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n          </Button>\n        </div>\n      )}\n    </PageCenter>\n  );\n}\n\nexport default withWidth()(Settings);\n","export const getErrorTypeFromKey = key => {\n  let eID = key.substr(65, key.length);\n\n  if (eID.indexOf('.e') !== -1) {\n    eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n  }\n\n  if (eID === '21') {\n    return 'down';\n  }\n  if (eID === '12') {\n    return 'retry';\n  }\n  if (eID === '10') {\n    return 'depth';\n  }\n  if (eID === '30') {\n    return 'preempted';\n  }\n  if (eID === '20') {\n    return 'busy';\n  }\n  if (eID === '11') {\n    return 'files';\n  }\n  if (eID === '1') {\n    return 'exception';\n  }\n\n  return 'unknown';\n};\n\nexport const getServiceFromKey = key => {\n  let srv = key.substr(65, key.length);\n\n  if (srv.indexOf('.') !== -1) {\n    srv = srv.substr(0, srv.indexOf('.'));\n  }\n\n  return srv;\n};\n\nexport const getErrorIDFromKey = key => {\n  let eID = key.substr(65, key.length);\n\n  if (eID.indexOf('.e') !== -1) {\n    eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n  }\n\n  return eID;\n};\n\nexport const getHashFromKey = key => {\n  return key.substr(0, 64);\n};\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Attack from 'components/visual/Attack';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype AttackSectionProps = {\n  attack_matrix: any;\n};\n\nconst WrappedAttackSection: React.FC<AttackSectionProps> = ({ attack_matrix }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('attack_matrix')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {attack_matrix\n                ? Object.keys(attack_matrix).map((cat, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>{cat.replace(/-/g, ' ')}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {attack_matrix[cat].map(([cid, name, lvl], idx) => {\n                            return (\n                              <Attack\n                                key={`${cid}_${idx}`}\n                                text={name}\n                                lvl={lvl}\n                                highlight_key={getKey('attack_pattern', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [attack_matrix, getKey]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst AttackSection = React.memo(WrappedAttackSection);\n\nexport default AttackSection;\n","import { Collapse, Divider, Link as MaterialLink, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { getErrorTypeFromKey, getHashFromKey, getServiceFromKey } from 'helpers/errors';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype ErrorSectionProps = {\n  sid: string;\n  parsed_errors: {\n    aggregated: {\n      depth: string[];\n      files: string[];\n      retry: string[];\n      down: string[];\n      busy: string[];\n    };\n    listed: string[];\n  };\n};\n\nconst WrappedErrorSection: React.FC<ErrorSectionProps> = ({ sid, parsed_errors }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        style={{\n          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n        }}\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('errors')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <div>\n                {Object.keys(parsed_errors.aggregated).map((errorType, i) => {\n                  return (\n                    parsed_errors.aggregated[errorType].length > 0 && (\n                      <div\n                        key={i}\n                        style={{\n                          color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                        }}\n                      >\n                        {`${t('errors.aggregated').replace(\n                          '{errorType}',\n                          t(`errors.type.${errorType}`)\n                        )}: ${parsed_errors.aggregated[errorType].join(' | ')}`}\n                      </div>\n                    )\n                  );\n                })}\n                {parsed_errors.listed.map((error, i) => {\n                  return (\n                    <div\n                      key={i}\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                    >\n                      <strong>{getServiceFromKey(error)}</strong>\n                      {t('errors.listed')}\n                      <strong>\n                        <MaterialLink\n                          component={Link}\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                          }}\n                          to={`/submission/detail/${sid}/${getHashFromKey(error)}`}\n                        >\n                          {getHashFromKey(error)}\n                        </MaterialLink>\n                      </strong>\n                      <span style={{ fontSize: 'smaller' }}>\n                        &nbsp;::&nbsp;{t(`errors.type.${getErrorTypeFromKey(error)}`)}\n                      </span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [parsed_errors, sid, theme, t]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst ErrorSection = React.memo(WrappedErrorSection);\n\nexport default ErrorSection;\n","import { Box, Collapse, Divider, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Verdict from 'components/visual/Verdict';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  file_item: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.action.hover\n    }\n  },\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  noMaxWidth: {\n    maxWidth: 'none'\n  }\n}));\n\ntype FileItemProps = {\n  children: {\n    [key: string]: FileItemProps;\n  };\n  name: string[];\n  score: number;\n  sha256: string;\n  size: number;\n  truncated: boolean;\n  type: string;\n};\n\ntype FileTreeProps = {\n  tree: {\n    [key: string]: FileItemProps;\n  };\n  sid: string;\n};\n\nconst WrappedFileTreeSection: React.FC<FileTreeProps> = ({ tree, sid }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n\n  return (\n    <div style={{ paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('tree')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        <div style={{ paddingTop: sp2 }}>\n          {tree !== null ? (\n            <FileTree tree={tree} sid={sid} />\n          ) : (\n            [...Array(3)].map((_, i) => {\n              return (\n                <div style={{ display: 'flex' }} key={i}>\n                  <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '0.5rem' }} />\n                  <Skeleton style={{ flexGrow: 1 }} />\n                </div>\n              );\n            })\n          )}\n        </div>\n      </Collapse>\n    </div>\n  );\n};\n\nconst WrappedFileTree: React.FC<FileTreeProps> = ({ tree, sid }) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const history = useHistory();\n  const { isHighlighted } = useHighlighter();\n\n  return (\n    <>\n      {Object.keys(tree).map((sha256, i) => {\n        const item = tree[sha256];\n        return (\n          <div key={i}>\n            <Box\n              className={classes.file_item}\n              onClick={\n                item.sha256\n                  ? () => {\n                      history.push(`/submission/detail/${sid}/${item.sha256}?name=${encodeURI(item.name[0])}`);\n                    }\n                  : null\n              }\n              style={{\n                wordBreak: 'break-word',\n                backgroundColor: isHighlighted(sha256) ? (theme.palette.type === 'dark' ? '#343a44' : '#d8e3ea') : null\n              }}\n            >\n              <span>\n                <Verdict score={item.score} mono short />\n                {`:: ${item.name.join(' | ')} `}\n                <span style={{ fontSize: '80%', color: theme.palette.text.secondary }}>{`[${item.type}]`}</span>\n              </span>\n            </Box>\n            <div style={{ marginLeft: theme.spacing(3) }}>\n              <FileTree tree={item.children} sid={sid} />\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nconst FileTree = React.memo(WrappedFileTree);\nconst FileTreeSection = React.memo(WrappedFileTreeSection);\n\nexport default FileTreeSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Heuristic from 'components/visual/Heuristic';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype HeuristicSectionProps = {\n  heuristics: any;\n};\n\nconst WrappedHeuristicSection: React.FC<HeuristicSectionProps> = ({ heuristics }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('heuristics')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {heuristics\n                ? Object.keys(heuristics).map((lvl, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500, wordBreak: 'break-word' }}>{t(`verdict.${lvl}`)}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          {heuristics[lvl].map(([cid, name], idx) => {\n                            return (\n                              <Heuristic\n                                key={`${cid}_${idx}`}\n                                text={name}\n                                lvl={lvl}\n                                highlight_key={getKey('heuristic', cid)}\n                              />\n                            );\n                          })}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [getKey, heuristics]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst HeuristicSection = React.memo(WrappedHeuristicSection);\n\nexport default HeuristicSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport Verdict from 'components/visual/Verdict';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  }\n}));\n\ntype InfoSectionProps = {\n  submission: any;\n};\n\nconst WrappedInfoSection: React.FC<InfoSectionProps> = ({ submission }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('information')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              <Grid container>\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.description')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.description : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.groups')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.groups.join(' | ') : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.services.selected')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.services.selected.join(' | ') : <Skeleton />}\n                </Grid>\n\n                {['deep_scan', 'ignore_cache', 'ignore_dynamic_recursion_prevention', 'ignore_filtering'].map(\n                  (k, i) => {\n                    return (\n                      <div key={i} style={{ display: 'contents' }}>\n                        <Grid item xs={4} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500 }}>{t(`params.${k}`)}</span>\n                        </Grid>\n                        <Grid item xs={8} sm={9} lg={10}>\n                          {submission ? (\n                            submission.params[k] ? (\n                              <DoneOutlinedIcon color=\"primary\" />\n                            ) : (\n                              <ClearOutlinedIcon color=\"error\" />\n                            )\n                          ) : (\n                            <Skeleton />\n                          )}\n                        </Grid>\n                      </div>\n                    );\n                  }\n                )}\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('params.submitter')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                  {submission ? submission.params.submitter : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('max_score')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission ? <Verdict score={submission.max_score} /> : <Skeleton />}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('times.submitted')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission ? (\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{submission.times.submitted}</Moment>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n\n                <Grid item xs={4} sm={3} lg={2}>\n                  <span style={{ fontWeight: 500 }}>{t('times.completed')}</span>\n                </Grid>\n                <Grid item xs={8} sm={9} lg={10}>\n                  {submission && submission.times.completed ? (\n                    <Moment format=\"YYYY-MM-DD HH:mm:ss\">{submission.times.completed}</Moment>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </Grid>\n              </Grid>\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [submission]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst InfoSection = React.memo(WrappedInfoSection);\n\nexport default InfoSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype MetaSectionProps = {\n  metadata: any;\n};\n\nconst WrappedMetaSection: React.FC<MetaSectionProps> = ({ metadata }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography\n        variant=\"h6\"\n        onClick={() => {\n          setOpen(!open);\n        }}\n        className={classes.title}\n      >\n        {t('metadata')}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {metadata\n                ? Object.keys(metadata).map((meta, i) => {\n                    return (\n                      <Grid container key={i}>\n                        <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                          <span style={{ fontWeight: 500 }}>{meta}</span>\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                          {metadata[meta]}\n                        </Grid>\n                      </Grid>\n                    );\n                  })\n                : [...Array(3)].map((_, i) => {\n                    return (\n                      <Grid container key={i} spacing={1}>\n                        <Grid item xs={12} sm={3} lg={2}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                        <Grid item xs={12} sm={9} lg={10}>\n                          <Skeleton style={{ height: '2rem' }} />\n                        </Grid>\n                      </Grid>\n                    );\n                  })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [metadata]\n        )}\n      </Collapse>\n    </div>\n  );\n};\nconst MetaSection = React.memo(WrappedMetaSection);\n\nexport default MetaSection;\n","import { Collapse, Divider, Grid, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport Tag from 'components/visual/Tag';\nimport React, { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    cursor: 'pointer',\n    '&:hover, &:focus': {\n      color: theme.palette.text.secondary\n    }\n  },\n  meta_key: {\n    overflowX: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis'\n  }\n}));\n\ntype TagSectionProps = {\n  tag_group: string;\n  tags: any;\n};\n\nconst WrappedTagSection: React.FC<TagSectionProps> = ({ tag_group, tags }) => {\n  const { t } = useTranslation(['submissionDetail']);\n  const [open, setOpen] = React.useState(true);\n  const theme = useTheme();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const { getKey } = useHighlighter();\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n      <Typography variant=\"h6\" onClick={() => setOpen(!open)} className={classes.title}>\n        {t(tag_group)}\n      </Typography>\n      <Divider />\n      <Collapse in={open} timeout=\"auto\">\n        {useMemo(\n          () => (\n            <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n              {Object.keys(tags).map((tag_type, i) => {\n                return (\n                  <Grid container key={i}>\n                    <Grid className={classes.meta_key} item xs={12} sm={3} lg={2}>\n                      <span style={{ fontWeight: 500 }}>{tag_type}</span>\n                    </Grid>\n                    <Grid item xs={12} sm={9} lg={10}>\n                      {tags[tag_type].map(([value, lvl], idx) => {\n                        return (\n                          <Tag\n                            key={idx}\n                            value={value}\n                            type={tag_type}\n                            lvl={lvl}\n                            highlight_key={getKey(tag_type, value)}\n                          />\n                        );\n                      })}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </div>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [getKey, tags]\n        )}\n      </Collapse>\n    </div>\n  );\n};\n\nconst TagSection = React.memo(WrappedTagSection);\n\nexport default TagSection;\n","import {\n  Grid,\n  IconButton,\n  LinearProgress,\n  Link as MaterialLink,\n  Snackbar,\n  Tooltip,\n  Typography,\n  useTheme\n} from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport ChromeReaderModeOutlinedIcon from '@material-ui/icons/ChromeReaderModeOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CloudDownloadOutlinedIcon from '@material-ui/icons/CloudDownloadOutlined';\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport ReplayOutlinedIcon from '@material-ui/icons/ReplayOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Alert, Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useDrawer from 'components/hooks/useDrawer';\nimport useHighlighter from 'components/hooks/useHighlighter';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport FileDetail from 'components/visual/FileDetail';\nimport VerdictBar from 'components/visual/VerdictBar';\nimport { getErrorIDFromKey, getServiceFromKey } from 'helpers/errors';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport AttackSection from './detail/attack';\nimport ErrorSection from './detail/errors';\nimport FileTreeSection from './detail/file_tree';\nimport HeuristicSection from './detail/heuristics';\nimport InfoSection from './detail/info';\nimport MetaSection from './detail/meta';\nimport TagSection from './detail/tags';\n\nconst NAMESPACE = '/live_submission';\nconst MESSAGE_TIMEOUT = 5000;\nconst OUTSTANDING_TRIGGER_COUNT = 4;\n\ntype ParamProps = {\n  id: string;\n  fid?: string;\n};\n\nconst resultReducer = (currentResults, newResults) => {\n  if (newResults === null) return null;\n  if (currentResults === null) return newResults;\n\n  return {\n    result: { ...currentResults.result, ...newResults.result },\n    error: { ...currentResults.error, ...newResults.error }\n  };\n};\n\nconst messageReducer = (messages: string[], receivedMessages: string[]) => {\n  if (receivedMessages === null) return [];\n\n  const newMessages = receivedMessages.filter(item => messages.indexOf(item) === -1);\n  if (newMessages.length !== 0) {\n    return [...messages, ...newMessages];\n  }\n  return messages;\n};\n\nconst incrementReducer = (old: number, increment: number) => {\n  if (increment === null) return 0;\n  return old + increment;\n};\n\nexport default function SubmissionDetail() {\n  const { t } = useTranslation(['submissionDetail']);\n  const { id, fid } = useParams<ParamProps>();\n  const theme = useTheme();\n  const [submission, setSubmission] = useState(null);\n  const [summary, setSummary] = useState(null);\n  const [tree, setTree] = useState(null);\n  const [watchQueue, setWatchQueue] = useState(null);\n  const [liveResultKeys, setLiveResultKeys] = useReducer(messageReducer, []);\n  const [liveErrorKeys, setLiveErrorKeys] = useReducer(messageReducer, []);\n  const [processedKeys, setProcessedKeys] = useReducer(messageReducer, []);\n  const [liveResults, setLiveResults] = useReducer(resultReducer, null);\n  const [configuration, setConfiguration] = useState(null);\n  const [liveErrors, setLiveErrors] = useState(null);\n  const [liveTagMap, setLiveTagMap] = useState(null);\n  const [outstanding, setOutstanding] = useState(null);\n  const [loadTrigger, incrementLoadTrigger] = useReducer(incrementReducer, 0);\n  const [socket, setSocket] = useState(null);\n  const [loadInterval, setLoadInterval] = useState(null);\n  const [lastSuccessfulTrigger, setLastSuccessfulTrigger] = useState(0);\n  const [deleteDialog, setDeleteDialog] = useState(false);\n  const apiCall = useMyAPI();\n  const sp4 = theme.spacing(4);\n  const { showSuccessMessage, showErrorMessage } = useMySnackbar();\n  const history = useHistory();\n  const { user: currentUser, c12nDef } = useALContext();\n  const { setHighlightMap } = useHighlighter();\n  const { setGlobalDrawer, globalDrawer } = useDrawer();\n\n  const updateLiveSumary = (results: object) => {\n    const tempSummary = summary !== null ? { ...summary } : { tags: {}, heuristics: {}, attack_matrix: {} };\n    const tempTagMap = liveTagMap !== null ? { ...liveTagMap } : {};\n\n    Object.entries(results).forEach(([resultKey, result]) => {\n      const key = resultKey.substr(0, 64);\n\n      if (!Object.hasOwnProperty.call(tempTagMap, key)) {\n        tempTagMap[key] = [];\n      }\n\n      // eslint-disable-next-line guard-for-in\n      for (const sectionID in result.result.sections) {\n        const section = result.result.sections[sectionID];\n        let hType = 'info';\n        if (section.heuristic !== null && section.heuristic !== undefined) {\n          // #1: Get heuristic score\n          if (section.heuristic.score < 100) {\n            hType = 'info';\n          } else if (section.heuristic.score < 1000) {\n            hType = 'suspicious';\n          } else {\n            hType = 'malicious';\n          }\n\n          // #2: Parse heuristics\n          if (!Object.hasOwnProperty.call(tempSummary.heuristics, hType)) {\n            tempSummary.heuristics[hType] = [];\n          }\n\n          let heurExists = false;\n          const heurItem = [section.heuristic.heur_id, section.heuristic.name];\n          for (const i in tempSummary.heuristics[hType]) {\n            if (\n              tempSummary.heuristics[hType][i][0] === heurItem[0] &&\n              tempSummary.heuristics[hType][i][1] === heurItem[1]\n            ) {\n              heurExists = true;\n              break;\n            }\n          }\n\n          if (!heurExists) {\n            tempSummary.heuristics[hType].push(heurItem);\n\n            const heurKey = `heuristic__${section.heuristic.heur_id}`;\n            tempTagMap[key].push(heurKey);\n            if (!Object.hasOwnProperty.call(tempTagMap, heurKey)) {\n              tempTagMap[heurKey] = [];\n            }\n            tempTagMap[heurKey].push(key);\n          }\n\n          // #3: Parse Att&cks\n          if (section.heuristic.attack) {\n            // eslint-disable-next-line guard-for-in\n            for (const i in section.heuristic.attack) {\n              const attack = section.heuristic.attack[i];\n              // eslint-disable-next-line guard-for-in\n              for (const j in attack.categories) {\n                const cat = attack.categories[j];\n                if (!Object.hasOwnProperty.call(tempSummary.attack_matrix, cat)) {\n                  tempSummary.attack_matrix[cat] = [];\n                }\n\n                let attExists = false;\n                const attackItem = [attack.attack_id, attack.pattern, hType];\n                for (const k in tempSummary.attack_matrix[cat]) {\n                  if (\n                    tempSummary.attack_matrix[cat][k][0] === attackItem[0] &&\n                    tempSummary.attack_matrix[cat][k][1] === attackItem[1] &&\n                    tempSummary.attack_matrix[cat][k][2] === attackItem[2]\n                  ) {\n                    attExists = true;\n                    break;\n                  }\n                }\n                if (!attExists) {\n                  tempSummary.attack_matrix[cat].push(attackItem);\n\n                  const attKey = `attack_pattern__${attack.attack_id}`;\n                  tempTagMap[key].push(attKey);\n                  if (!Object.hasOwnProperty.call(tempTagMap, attKey)) {\n                    tempTagMap[attKey] = [];\n                  }\n                  tempTagMap[attKey].push(key);\n                }\n              }\n            }\n          }\n        }\n\n        // #3: Parse Tags\n        // eslint-disable-next-line guard-for-in\n        for (const tagID in section.tags) {\n          const tag = section.tags[tagID];\n          let summaryType = null;\n          if (configuration['submission.tag_types.attribution'].indexOf(tag.type) !== -1) {\n            summaryType = 'attribution';\n          } else if (configuration['submission.tag_types.behavior'].indexOf(tag.type) !== -1) {\n            summaryType = 'behavior';\n          } else if (configuration['submission.tag_types.ioc'].indexOf(tag.type) !== -1) {\n            summaryType = 'ioc';\n          }\n\n          if (summaryType !== null) {\n            if (!Object.hasOwnProperty.call(tempSummary.tags, summaryType)) {\n              tempSummary.tags[summaryType] = {};\n            }\n\n            if (!Object.hasOwnProperty.call(tempSummary.tags[summaryType], tag.type)) {\n              tempSummary.tags[summaryType][tag.type] = [];\n            }\n\n            let exists = false;\n            const tagVal = [tag.value, hType];\n            for (const i in tempSummary.tags[summaryType][tag.type]) {\n              if (\n                tempSummary.tags[summaryType][tag.type][i][0] === tagVal[0] &&\n                tempSummary.tags[summaryType][tag.type][i][1] === tagVal[1]\n              ) {\n                exists = true;\n                break;\n              }\n            }\n\n            if (!exists) {\n              tempSummary.tags[summaryType][tag.type].push(tagVal);\n\n              const tagKey = `${tag.type}__${tag.value}`;\n              tempTagMap[key].push(tagKey);\n              if (!Object.hasOwnProperty.call(tempTagMap, tagKey)) {\n                tempTagMap[tagKey] = [];\n              }\n              tempTagMap[tagKey].push(key);\n            }\n          }\n        }\n      }\n    });\n    setLiveTagMap(tempTagMap);\n    setHighlightMap(tempTagMap);\n    setSummary(tempSummary);\n  };\n\n  const updateLiveFileTree = (results: object) => {\n    const tempTree = tree !== null ? { ...tree } : {};\n\n    const searchFileTree = (sha256: string, currentTree: object) => {\n      let output = [];\n      Object.entries(currentTree).forEach(([key, val]) => {\n        if (Object.keys(val.children).length !== 0) {\n          output = [...output, ...searchFileTree(sha256, val.children)];\n        }\n        if (key === sha256) {\n          output.push(val);\n        }\n      });\n      return output;\n    };\n\n    const getFilenameFromSHA256 = sha256 => {\n      if (submission !== null) {\n        for (const i in submission.files) {\n          if (submission.files[i].sha256 === sha256) {\n            return submission.files[i].name;\n          }\n        }\n      }\n\n      return null;\n    };\n    Object.entries(results).forEach(([resultKey, result]) => {\n      const key = resultKey.substr(0, 64);\n\n      const toUpdate = searchFileTree(key, tempTree);\n\n      if (toUpdate.length === 0) {\n        const fname = getFilenameFromSHA256(key);\n\n        if (fname != null) {\n          tempTree[key] = { children: {}, name: [fname], score: 0, sha256: key, type: 'N/A' };\n          toUpdate.push(tempTree[key]);\n        } else {\n          if (!Object.hasOwnProperty.call(tempTree, 'TBD')) {\n            tempTree.TBD = { children: {}, name: ['Undetermined Parent'], score: 0, type: 'N/A' };\n          }\n\n          tempTree.TBD.children[key] = { children: {}, name: [key], score: 0, sha256: key, type: 'N/A' };\n          toUpdate.push(tempTree.TBD.children[key]);\n        }\n      }\n      const toDelTDB = [];\n      for (const idx in toUpdate) {\n        if (Object.hasOwnProperty.call(toUpdate, idx)) {\n          const item = toUpdate[idx];\n          if (result.result.score !== undefined) {\n            item.score += result.result.score;\n          }\n\n          for (const i in result.response.extracted) {\n            if (Object.hasOwnProperty.call(result.response.extracted, i)) {\n              const { sha256, name } = result.response.extracted[i];\n\n              if (!Object.hasOwnProperty.call(item.children, sha256)) {\n                if (\n                  Object.hasOwnProperty.call(tempTree, 'TBD') &&\n                  Object.hasOwnProperty.call(tempTree.TBD.children, sha256)\n                ) {\n                  item.children[sha256] = tempTree.TBD.children[sha256];\n                  item.children[sha256].name = [name];\n                  if (toDelTDB.indexOf(sha256) === -1) toDelTDB.push(sha256);\n                } else {\n                  item.children[sha256] = { children: {}, name: [name], score: 0, sha256, type: 'N/A' };\n                }\n              } else {\n                item.children[sha256].name.push(name);\n              }\n            }\n          }\n        }\n      }\n\n      for (const idxDel in toDelTDB) {\n        if (Object.hasOwnProperty.call(toDelTDB, idxDel)) {\n          delete tempTree.TBD.children[toDelTDB[idxDel]];\n        }\n      }\n    });\n\n    if (tempTree.TBD && Object.keys(tempTree.TBD.children).length === 0) delete tempTree.TBD;\n    setTree(tempTree);\n  };\n\n  const getParsedErrors = errorList => {\n    const relevantErrors = errors => {\n      return errors.filter(error => {\n        let eID = error.substr(65, error.length);\n\n        if (eID.indexOf('.e') !== -1) {\n          eID = eID.substr(eID.indexOf('.e') + 2, eID.length);\n        }\n\n        return ['20', '21', '12', '10', '11'].indexOf(eID) === -1;\n      });\n    };\n    const futileErrors = errors => {\n      const out = {\n        depth: [],\n        files: [],\n        retry: [],\n        down: [],\n        busy: []\n      };\n      errors.forEach(error => {\n        const srv = getServiceFromKey(error);\n        const eID = getErrorIDFromKey(error);\n\n        if (eID === '20') {\n          if (out.busy.indexOf(srv) === -1) {\n            out.busy.push(srv);\n          }\n        }\n        if (eID === '21') {\n          if (out.down.indexOf(srv) === -1) {\n            out.down.push(srv);\n          }\n        } else if (eID === '12') {\n          if (out.retry.indexOf(srv) === -1) {\n            out.retry.push(srv);\n          }\n        } else if (eID === '10') {\n          if (out.depth.indexOf(srv) === -1) {\n            out.depth.push(srv);\n          }\n        } else if (eID === '11') {\n          if (out.files.indexOf(srv) === -1) {\n            out.files.push(srv);\n          }\n        }\n      });\n\n      out.busy.sort();\n      out.down.sort();\n      out.depth.sort();\n      out.files.sort();\n      out.retry.sort();\n\n      return out;\n    };\n\n    return {\n      aggregated: futileErrors(errorList),\n      listed: relevantErrors(errorList)\n    };\n  };\n\n  const parseSubmissionErrors = currentSubmission => {\n    return {\n      ...currentSubmission,\n      parsed_errors: getParsedErrors(currentSubmission.errors)\n    };\n  };\n\n  const resetLiveMode = useCallback(() => {\n    if (socket) {\n      // Disconnect socket\n      socket.disconnect();\n\n      // Reset all live mode states\n      setLiveResultKeys(null);\n      setLiveErrorKeys(null);\n      setProcessedKeys(null);\n      setLiveResults(null);\n      setLiveErrors(null);\n      setLiveTagMap(null);\n      setSocket(null);\n      setOutstanding(null);\n      incrementLoadTrigger(null);\n      setLastSuccessfulTrigger(0);\n      setWatchQueue(null);\n    }\n  }, [socket]);\n\n  const resubmit = useCallback(() => {\n    if (submission != null) {\n      apiCall({\n        url: `/api/v4/submit/resubmit/${submission.sid}/`,\n        onSuccess: api_data => {\n          showSuccessMessage(t('submit.success'));\n          resetLiveMode();\n          setSubmission(null);\n          setSummary(null);\n          setTree(null);\n          setTimeout(() => {\n            history.push(`/submission/detail/${api_data.api_response.sid}`);\n          }, 500);\n        }\n      });\n    }\n  }, [apiCall, history, resetLiveMode, showSuccessMessage, submission, t]);\n\n  const deleteSubmission = () => {\n    if (submission != null) {\n      apiCall({\n        method: 'DELETE',\n        url: `/api/v4/submission/${submission.sid}/`,\n        onSuccess: api_data => {\n          showSuccessMessage(t('delete.success'));\n          setDeleteDialog(false);\n          setTimeout(() => {\n            history.push('/submissions');\n          }, 500);\n        }\n      });\n    }\n  };\n\n  const setVerdict = useCallback(\n    verdict => {\n      if (submission != null && submission.verdict[verdict].indexOf(currentUser.username) === -1) {\n        apiCall({\n          method: 'PUT',\n          url: `/api/v4/submission/verdict/${submission.sid}/${verdict}/`,\n          onSuccess: api_data => {\n            if (!api_data.api_response.success) {\n              return;\n            }\n            const newSubmission = { ...submission };\n            if (verdict === 'malicious') {\n              if (newSubmission.verdict.malicious.indexOf(currentUser.username) === -1) {\n                newSubmission.verdict.malicious.push(currentUser.username);\n              }\n              if (newSubmission.verdict.non_malicious.indexOf(currentUser.username) !== -1) {\n                newSubmission.verdict.non_malicious.splice(\n                  newSubmission.verdict.non_malicious.indexOf(currentUser.username),\n                  1\n                );\n              }\n            } else {\n              if (newSubmission.verdict.non_malicious.indexOf(currentUser.username) === -1) {\n                newSubmission.verdict.non_malicious.push(currentUser.username);\n              }\n              if (newSubmission.verdict.malicious.indexOf(currentUser.username) !== -1) {\n                newSubmission.verdict.malicious.splice(submission.verdict.malicious.indexOf(currentUser.username), 1);\n              }\n            }\n            setSubmission(newSubmission);\n          }\n        });\n      }\n    },\n    [apiCall, currentUser.username, submission]\n  );\n\n  useEffect(() => {\n    apiCall({\n      url: '/api/v4/help/configuration/',\n      onSuccess: api_data => {\n        setConfiguration(api_data.api_response);\n      }\n    });\n    apiCall({\n      url: `/api/v4/submission/${id}/`,\n      onSuccess: api_data => {\n        setSubmission(parseSubmissionErrors(api_data.api_response));\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    if (submission) {\n      if (submission.state === 'completed') {\n        resetLiveMode();\n        apiCall({\n          url: `/api/v4/submission/summary/${id}/`,\n          onSuccess: summ_data => {\n            setHighlightMap(summ_data.api_response.map);\n            setSummary(summ_data.api_response);\n          }\n        });\n        apiCall({\n          url: `/api/v4/submission/tree/${id}/`,\n          onSuccess: tree_data => {\n            setTree(tree_data.api_response.tree);\n          }\n        });\n      } else {\n        if (!socket) {\n          // eslint-disable-next-line no-console\n          console.debug('SocketIO :: Init => Create SocketIO client...');\n          const tempSocket = io(NAMESPACE);\n          tempSocket.on('connect', () => {\n            // eslint-disable-next-line no-console\n            console.debug('SocketIO :: Conn => Connecting to socketIO server...');\n          });\n          tempSocket.on('disconnect', () => {\n            // eslint-disable-next-line no-console\n            console.debug('SocketIO :: Conn => Disconnected from socketIO server...');\n          });\n          setSocket(tempSocket);\n        }\n        setLoadInterval(setInterval(() => incrementLoadTrigger(1), MESSAGE_TIMEOUT));\n\n        apiCall({\n          url: `/api/v4/live/setup_watch_queue/${id}/`,\n          onSuccess: summ_data => {\n            setWatchQueue(summ_data.api_response.wq_id);\n          }\n        });\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [submission]);\n\n  const handleErrorMessage = useCallback(\n    data => {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: onError => ${data.msg}`);\n      showErrorMessage(t('dispatcher.not_responding'), 15000);\n      apiCall({\n        url: `/api/v4/live/setup_watch_queue/${id}/`,\n        onSuccess: summ_data => {\n          setWatchQueue(summ_data.api_response.wq_id);\n        }\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  const handleStartMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onStart => ${data.msg}`);\n    setTimeout(() => incrementLoadTrigger(1), 500);\n  };\n\n  const handleStopMessage = useCallback(\n    data => {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: onStop => ${data.msg}`);\n\n      setTimeout(() => {\n        if (loadInterval) clearInterval(loadInterval);\n        setLoadInterval(null);\n        setOutstanding(null);\n        // Loading final submission\n        apiCall({\n          url: `/api/v4/submission/${id}/`,\n          onSuccess: api_data => {\n            setSubmission(parseSubmissionErrors(api_data.api_response));\n          }\n        });\n      }, 2000);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  const handleCacheKeyMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onCacheKey => ${data.msg}`);\n    setLiveResultKeys([data.msg]);\n  };\n\n  const handleCacheKeyErrrorMessage = data => {\n    // eslint-disable-next-line no-console\n    console.debug(`SocketIO :: onCacheKeyError => ${data.msg}`);\n    setLiveErrorKeys([data.msg]);\n  };\n\n  const resetOutstanding = () => {\n    setLastSuccessfulTrigger(loadTrigger);\n    setOutstanding(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (loadInterval) clearInterval(loadInterval);\n    };\n  }, [loadInterval]);\n\n  useEffect(() => {\n    if (socket) {\n      // eslint-disable-next-line no-console\n      console.debug('SocketIO :: Init => Registering SocketIO Callbacks...');\n      socket.on('error', handleErrorMessage);\n      socket.on('start', handleStartMessage);\n      socket.on('stop', handleStopMessage);\n      socket.on('cachekey', handleCacheKeyMessage);\n      socket.on('cachekeyerr', handleCacheKeyErrrorMessage);\n    }\n\n    return () => {\n      if (socket) socket.disconnect();\n    };\n  }, [socket, handleErrorMessage, handleStopMessage]);\n\n  useEffect(() => {\n    if (watchQueue && socket) {\n      // eslint-disable-next-line no-console\n      console.debug(`SocketIO :: emitListen => Listening for messages on watch queue: ${watchQueue}`);\n      socket.emit('listen', { wq_id: watchQueue, from_start: true });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [watchQueue, socket, handleErrorMessage]);\n\n  useEffect(() => {\n    if (submission !== null && globalDrawer === null && fid !== undefined) {\n      history.push(`/submission/detail/${id}`);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalDrawer]);\n\n  useEffect(() => {\n    if (fid) {\n      if (liveResults) {\n        const curFileLiveResults = [];\n        const curFileLiveErrors = [];\n        Object.entries(liveResults.result).forEach(([resultKey, result]) => {\n          if (resultKey.startsWith(fid)) {\n            curFileLiveResults.push(result);\n          }\n        });\n        Object.entries(liveResults.error).forEach(([errorKey, error]) => {\n          if (errorKey.startsWith(fid)) {\n            curFileLiveErrors.push(error);\n          }\n        });\n        setGlobalDrawer(\n          <FileDetail sha256={fid} sid={id} liveResultKeys={liveResultKeys} liveErrors={curFileLiveErrors} />\n        );\n      } else {\n        setGlobalDrawer(<FileDetail sha256={fid} sid={id} />);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fid]);\n\n  useEffect(() => {\n    if (loadTrigger === 0) return;\n\n    // eslint-disable-next-line no-console\n    console.debug('LIVE :: Checking for new keys to load...');\n    const newResults = liveResultKeys.filter(msg => processedKeys.indexOf(msg) === -1);\n    const newErrors = liveErrorKeys.filter(msg => processedKeys.indexOf(msg) === -1);\n    if (newResults.length !== 0 || newErrors.length !== 0) {\n      // eslint-disable-next-line no-console\n      console.debug(`LIVE :: New Results: ${newResults.join(' | ')} - New Errors: ${newErrors.join(' | ')}`);\n      setLiveErrors(getParsedErrors(liveErrorKeys));\n\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/result/multiple_keys/',\n        body: { error: newErrors, result: newResults },\n        onSuccess: api_data => {\n          setLastSuccessfulTrigger(loadTrigger);\n          setProcessedKeys([...newResults, ...newErrors]);\n          setLiveResults(api_data.api_response);\n          updateLiveFileTree(api_data.api_response.result);\n          updateLiveSumary(api_data.api_response.result);\n        }\n      });\n    } else if (\n      loadTrigger >= lastSuccessfulTrigger + OUTSTANDING_TRIGGER_COUNT &&\n      (!outstanding || loadTrigger % OUTSTANDING_TRIGGER_COUNT === 0)\n    ) {\n      // eslint-disable-next-line no-console\n      console.debug('LIVE :: Finding out oustanding services...');\n\n      apiCall({\n        url: `/api/v4/live/outstanding_services/${id}/`,\n        onSuccess: api_data => {\n          setOutstanding(api_data.api_response);\n        }\n      });\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadTrigger]);\n\n  return (\n    <PageCenter margin={4} width=\"100%\">\n      <ConfirmationDialog\n        open={deleteDialog}\n        handleClose={() => setDeleteDialog(false)}\n        handleAccept={deleteSubmission}\n        title={t('delete.title')}\n        cancelText={t('delete.cancelText')}\n        acceptText={t('delete.acceptText')}\n        text={t('delete.text')}\n      />\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={outstanding !== null}\n        key=\"outstanding\"\n        style={{ top: theme.spacing(8), zIndex: 100 }}\n      >\n        {outstanding &&\n          (Object.keys(outstanding).length > 0 ? (\n            <Alert\n              elevation={6}\n              severity=\"info\"\n              style={{ textAlign: 'left' }}\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={resetOutstanding}\n                  style={{ alignSelf: 'start', margin: '6px 6px 0 0' }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              <span style={{ fontWeight: 500, textAlign: 'left' }}>{t('outstanding.title')}</span>\n              <Grid container style={{ marginTop: theme.spacing(1) }}>\n                <Grid item xs={6}>\n                  <b>{t('outstanding.services')}</b>\n                </Grid>\n                <Grid item xs={6}>\n                  <b>{t('outstanding.files')}</b>\n                </Grid>\n              </Grid>\n              {Object.keys(outstanding).map(service => {\n                return (\n                  <Grid key={service} container>\n                    <Grid item xs={6}>\n                      <b>{service}</b>\n                    </Grid>\n                    <Grid item xs={6}>\n                      {outstanding[service]}\n                    </Grid>\n                  </Grid>\n                );\n              })}\n            </Alert>\n          ) : (\n            <Alert\n              elevation={6}\n              severity=\"error\"\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={resetOutstanding}\n                  style={{ alignSelf: 'start', margin: '6px 6px 0 0' }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              <div style={{ textAlign: 'left' }}>{t('outstanding.error')}</div>\n            </Alert>\n          ))}\n      </Snackbar>\n      <div style={{ textAlign: 'left' }}>\n        {useMemo(\n          () => (\n            <>\n              {c12nDef.enforce && (\n                <div style={{ paddingBottom: sp4 }}>\n                  <Classification size=\"tiny\" c12n={submission ? submission.classification : null} />\n                </div>\n              )}\n              <div style={{ paddingBottom: sp4 }}>\n                <Grid container>\n                  <Grid item xs>\n                    <div>\n                      <Typography variant=\"h4\">{t('title')}</Typography>\n                      <Typography variant=\"caption\">\n                        {submission ? submission.sid : <Skeleton style={{ width: '10rem' }} />}\n                      </Typography>\n                    </div>\n                    {socket && (\n                      <div\n                        style={{\n                          paddingBottom: theme.spacing(3),\n                          paddingTop: theme.spacing(2),\n                          color:\n                            theme.palette.type === 'dark' ? theme.palette.primary.light : theme.palette.primary.dark\n                        }}\n                      >\n                        <PlayCircleOutlineIcon\n                          style={{\n                            height: theme.spacing(2),\n                            width: theme.spacing(2),\n                            verticalAlign: 'sub',\n                            marginRight: theme.spacing(1)\n                          }}\n                        />\n                        {t('live_mode')}\n                        <LinearProgress />\n                      </div>\n                    )}\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={4}>\n                    <div style={{ textAlign: 'right' }}>\n                      <Tooltip title={t('delete')}>\n                        <IconButton\n                          onClick={() => setDeleteDialog(true)}\n                          style={{\n                            color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                          }}\n                        >\n                          <RemoveCircleOutlineOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('download')}>\n                        <IconButton\n                          component={MaterialLink}\n                          href={`/api/v4/bundle/${submission ? submission.sid : id}/?XSRF_TOKEN=${getXSRFCookie()}`}\n                        >\n                          <CloudDownloadOutlinedIcon color=\"action\" />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('resubmit')}>\n                        <IconButton onClick={resubmit}>\n                          <ReplayOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title={t('report_view')}>\n                        <IconButton component={Link} to={`/submission/report/${submission ? submission.sid : id}`}>\n                          <ChromeReaderModeOutlinedIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </div>\n                    <div\n                      style={{\n                        textAlign: 'right',\n                        width: '164px',\n                        marginTop: '8px',\n                        marginLeft: 'auto',\n                        marginRight: '12px'\n                      }}\n                    >\n                      {submission ? <VerdictBar verdicts={submission.verdict} /> : <Skeleton />}\n                      <Grid container>\n                        <Grid item xs={5} style={{ textAlign: 'left' }}>\n                          <Tooltip\n                            title={t(\n                              `verdict.${\n                                submission && submission.verdict.malicious.indexOf(currentUser.username) !== -1\n                                  ? 'is'\n                                  : 'set'\n                              }.malicious`\n                            )}\n                          >\n                            <IconButton size=\"small\" onClick={() => setVerdict('malicious')}>\n                              <BugReportOutlinedIcon\n                                style={{\n                                  color:\n                                    submission && submission.verdict.malicious.indexOf(currentUser.username) !== -1\n                                      ? theme.palette.error.dark\n                                      : null\n                                }}\n                              />\n                            </IconButton>\n                          </Tooltip>\n                        </Grid>\n                        <Grid item xs={2} />\n                        <Grid item xs={5} style={{ textAlign: 'right' }}>\n                          <Tooltip\n                            title={t(\n                              `verdict.${\n                                submission && submission.verdict.non_malicious.indexOf(currentUser.username) !== -1\n                                  ? 'is'\n                                  : 'set'\n                              }.non_malicious`\n                            )}\n                          >\n                            <IconButton size=\"small\" onClick={() => setVerdict('non_malicious')}>\n                              <VerifiedUserOutlinedIcon\n                                style={{\n                                  color:\n                                    submission && submission.verdict.non_malicious.indexOf(currentUser.username) !== -1\n                                      ? theme.palette.success.dark\n                                      : null\n                                }}\n                              />\n                            </IconButton>\n                          </Tooltip>\n                        </Grid>\n                      </Grid>\n                    </div>\n                  </Grid>\n                </Grid>\n              </div>\n            </>\n          ),\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          [submission, id, socket, theme, t]\n        )}\n\n        <InfoSection submission={submission} />\n\n        {(!submission || Object.keys(submission.metadata).length !== 0) && (\n          <MetaSection metadata={submission ? submission.metadata : null} />\n        )}\n\n        {(!summary || Object.keys(summary.attack_matrix).length !== 0) && (\n          <AttackSection attack_matrix={summary ? summary.attack_matrix : null} />\n        )}\n\n        {(!summary || Object.keys(summary.heuristics).length !== 0) && (\n          <HeuristicSection heuristics={summary ? summary.heuristics : null} />\n        )}\n\n        {summary &&\n          Object.keys(summary.tags).length !== 0 &&\n          Object.keys(summary.tags).map((tag_group, group_idx) => {\n            return (\n              Object.keys(summary.tags[tag_group]).length !== 0 && (\n                <TagSection key={group_idx} tag_group={tag_group} tags={summary.tags[tag_group]} />\n              )\n            );\n          })}\n\n        {submission && submission.state === 'completed' && Object.keys(submission.errors).length !== 0 && (\n          <ErrorSection sid={id} parsed_errors={submission.parsed_errors} />\n        )}\n\n        {submission && submission.state !== 'completed' && liveErrorKeys.length !== 0 && liveErrors !== null && (\n          <ErrorSection sid={id} parsed_errors={liveErrors} />\n        )}\n\n        <FileTreeSection tree={tree} sid={id} />\n      </div>\n    </PageCenter>\n  );\n}\n","import { Tooltip } from '@material-ui/core';\nimport CustomChip from 'components/visual/CustomChip';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst VERDICT_COLOR_MAP = {\n  info: 'default',\n  safe: 'success',\n  suspicious: 'warning',\n  highly_suspicious: 'warning',\n  malicious: 'error'\n};\n\ntype TextVerdictProps = {\n  verdict: string;\n  variant?: 'outlined' | 'default';\n  size?: 'tiny' | 'small' | 'medium';\n  mono?: boolean;\n  fullWidth?: boolean;\n};\n\nconst WrappedTextVerdict: React.FC<TextVerdictProps> = ({\n  verdict,\n  variant = 'default',\n  size = 'tiny',\n  mono = false,\n  fullWidth = false\n}) => {\n  const { t } = useTranslation();\n  const color = VERDICT_COLOR_MAP[verdict];\n\n  return (\n    <Tooltip title={t(`verdict.${verdict}`)}>\n      <span>\n        <CustomChip\n          type=\"rounded\"\n          variant={variant}\n          size={size}\n          label={t(`verdict.${verdict}.short`)}\n          color={color}\n          mono={mono}\n          fullWidth={fullWidth}\n        />\n      </span>\n    </Tooltip>\n  );\n};\n\nconst TextVerdict = React.memo(WrappedTextVerdict);\nexport default TextVerdict;\n","import { makeStyles, Tooltip, useTheme } from '@material-ui/core';\nimport { scaleLinear } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n  circle: {\n    position: 'relative',\n    zIndex: 1,\n    top: '-90px',\n    left: '15px',\n    borderRadius: '50%',\n    width: '70px',\n    height: '70px',\n    boxShadow: theme.shadows[2],\n    backgroundColor: theme.palette.background.paper,\n    textAlign: 'center',\n    '@media print': {\n      backgroundColor: '#FFFFFF'\n    }\n  },\n  text: {\n    fontSize: '30px',\n    lineHeight: '30px',\n    paddingTop: '15px',\n    fontWeight: 900,\n    color: theme.palette.text.secondary,\n    '@media print': {\n      color: '#00000066'\n    }\n  },\n  under_text: {\n    fontSize: '13px',\n    lineHeight: '13px',\n    fontWeight: 300,\n    color: theme.palette.text.secondary,\n    '@media print': {\n      color: '#00000066'\n    }\n  }\n}));\n\ntype VerdictGaugeProps = {\n  verdicts: {\n    malicious: any[];\n    non_malicious: any[];\n  };\n  max?: number;\n  colorBack?: string;\n};\n\nconst VerdictGauge: React.FC<VerdictGaugeProps> = ({ verdicts, max = 20, colorBack = '#68686815' }) => {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const theme = useTheme();\n  const colorMalicious = theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark;\n  const colorNonMalicious = theme.palette.type === 'dark' ? theme.palette.success.light : theme.palette.success.dark;\n\n  const backgroundArc = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(-Math.PI)\n    .endAngle(Math.PI)\n    .cornerRadius(0)();\n  const percentScale = scaleLinear().domain([0, max]).range([0, 1]);\n\n  const angleScaleRight = scaleLinear().domain([0, 1]).range([0, Math.PI]).clamp(true);\n  const filledArcRight = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(0)\n    .endAngle(angleScaleRight(percentScale(verdicts.malicious.length)))\n    .cornerRadius(0)();\n\n  const angleScaleLeft = scaleLinear().domain([0, 1]).range([0, -Math.PI]).clamp(true);\n  const filledArcLeft = arc()\n    .innerRadius(0.7)\n    .outerRadius(0.95)\n    .startAngle(angleScaleLeft(percentScale(verdicts.non_malicious.length)))\n    .endAngle(0)\n    .cornerRadius(0)();\n\n  return (\n    <div>\n      <Tooltip\n        title={`${t('verdict.non_malicious')}: ${verdicts.non_malicious.length} / ${t('verdict.malicious')}: ${\n          verdicts.malicious.length\n        }`}\n      >\n        <div style={{ width: '100px', height: '100px', display: 'block' }}>\n          <svg style={{ position: 'relative', width: '100px', height: '100px' }} viewBox={[-1, -1, 2, 1].join(' ')}>\n            <g style={{ transform: 'translateY(-50%)' }}>\n              <path d={backgroundArc} fill={colorBack} />\n              <path d={filledArcLeft} fill={colorNonMalicious} />\n              <path d={filledArcRight} fill={colorMalicious} />\n            </g>\n          </svg>\n          <div className={classes.circle}>\n            <div\n              className={classes.text}\n              style={{\n                color:\n                  verdicts.non_malicious.length > verdicts.malicious.length\n                    ? colorNonMalicious\n                    : verdicts.malicious.length > verdicts.non_malicious.length\n                    ? colorMalicious\n                    : null\n              }}\n            >\n              {verdicts.non_malicious.length > verdicts.malicious.length\n                ? verdicts.non_malicious.length\n                : verdicts.malicious.length}\n            </div>\n            <div className={classes.under_text}>{`/ ${verdicts.non_malicious.length + verdicts.malicious.length}`}</div>\n          </div>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default VerdictGauge;\n","import {\n  Divider,\n  Grid,\n  Hidden,\n  IconButton,\n  makeStyles,\n  Tooltip,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport BugReportOutlinedIcon from '@material-ui/icons/BugReportOutlined';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport MoodBadIcon from '@material-ui/icons/MoodBad';\nimport PrintOutlinedIcon from '@material-ui/icons/PrintOutlined';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport { Skeleton } from '@material-ui/lab';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport Classification from 'components/visual/Classification';\nimport TextVerdict from 'components/visual/TextVerdict';\nimport Verdict from 'components/visual/Verdict';\nimport VerdictGauge from 'components/visual/VerdictGauge';\nimport { bytesToSize, scoreToVerdict } from 'helpers/utils';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Moment from 'react-moment';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\ntype ParamProps = {\n  id: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    display: 'inline-flex',\n    width: theme.spacing(16),\n    height: theme.spacing(16),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.down('xs')]: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n      marginRight: 0\n    }\n  },\n  banner_title: {\n    fontWeight: 500,\n    fontSize: '200%',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '180%'\n    }\n  },\n  divider: {\n    '@media print': {\n      backgroundColor: '#0000001f !important'\n    }\n  },\n  file_details: {\n    fontFamily: 'monospace',\n    color: theme.palette.text.secondary,\n    wordBreak: 'break-word',\n    paddingBottom: '4px',\n    '@media print': {\n      color: 'rgba(0, 0, 0, 0.54)'\n    }\n  },\n  icon: {\n    marginLeft: '24px',\n    marginRight: '36px',\n    fontSize: '400%',\n    [theme.breakpoints.down('xs')]: {\n      marginLeft: '16px',\n      marginRight: '20px',\n      fontSize: '350%'\n    },\n    '@media print': {\n      marginLeft: '24px',\n      marginRight: '36px',\n      fontSize: '400%'\n    }\n  },\n  malicious_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#f2000015 !important',\n    borderBottom: '1px solid #d9534f !important'\n  },\n  suspicious_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#ff970015 !important',\n    borderBottom: '1px solid #f0ad4e !important'\n  },\n  info_heur: {\n    textTransform: 'capitalize',\n    fontWeight: 700,\n    padding: '5px',\n    WebkitPrintColorAdjust: 'exact',\n    backgroundColor: '#6e6e6e15 !important',\n    borderBottom: '1px solid #aaa !important'\n  }\n}));\n\nfunction AttributionBanner({ report }) {\n  const { t } = useTranslation(['submissionReport']);\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classes = useStyles();\n  const score = report ? report.max_score : 0;\n\n  const BANNER_COLOR_MAP = {\n    info: {\n      icon: <HelpOutlineIcon className={classes.icon} />,\n      bgColor: '#6e6e6e15',\n      textColor: theme.palette.type === 'dark' ? '#AAA' : '#888'\n    },\n    safe: {\n      icon: <VerifiedUserOutlinedIcon className={classes.icon} />,\n      bgColor: '#00f20015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.success.dark : theme.palette.success.light\n    },\n    suspicious: {\n      icon: <MoodBadIcon className={classes.icon} />,\n      bgColor: '#ff970015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    highly_suspicious: {\n      icon: <MoodBadIcon className={classes.icon} />,\n      bgColor: '#ff970015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.warning.dark : theme.palette.warning.light\n    },\n    malicious: {\n      icon: <BugReportOutlinedIcon className={classes.icon} />,\n      bgColor: '#f2000015',\n      textColor: theme.palette.type !== 'dark' ? theme.palette.error.dark : theme.palette.error.light\n    }\n  };\n\n  const { bgColor, icon, textColor } = BANNER_COLOR_MAP[scoreToVerdict(score)];\n  const implant =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.implant']\n      ? Object.keys(report.tags.attributions['attribution.implant']).join(' | ')\n      : null;\n  const family =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.family']\n      ? Object.keys(report.tags.attributions['attribution.family']).join(' | ')\n      : null;\n  const actor =\n    report && report.tags && report.tags.attributions && report.tags.attributions['attribution.actor']\n      ? Object.keys(report.tags.attributions['attribution.actor']).join(' | ')\n      : null;\n\n  return (\n    <div\n      style={{\n        marginBottom: sp2,\n        marginTop: sp2,\n        padding: sp1,\n        backgroundColor: bgColor,\n        border: `solid 1px ${textColor}`,\n        borderRadius: '4px'\n      }}\n    >\n      <Grid container alignItems=\"center\" justify=\"center\">\n        <Hidden smDown>\n          <Grid item xs style={{ color: textColor }}>\n            {icon}\n          </Grid>\n        </Hidden>\n        <Grid item xs style={{ flexGrow: 10 }}>\n          <div className={classes.banner_title}>\n            {report ? <Verdict type=\"text\" size=\"medium\" score={report.max_score} /> : <Skeleton />}\n          </div>\n          <table width={report ? null : '100%'} style={{ borderSpacing: 0 }}>\n            <tbody>\n              <tr>\n                {report ? (\n                  implant && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('implant')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.implant']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n              <tr>\n                {report ? (\n                  family && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('family')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.family']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n              <tr>\n                {report ? (\n                  actor && (\n                    <>\n                      <td style={{ whiteSpace: 'nowrap', fontStyle: 'italic', verticalAlign: 'top' }}>\n                        {`${t('actor')}: `}\n                      </td>\n                      <td style={{ fontWeight: 500, paddingLeft: sp1 }}>\n                        {Object.keys(report.tags.attributions['attribution.actor']).join(' | ')}\n                      </td>\n                    </>\n                  )\n                ) : (\n                  <td>\n                    <Skeleton />\n                  </td>\n                )}\n              </tr>\n            </tbody>\n          </table>\n        </Grid>\n        <Grid item xs style={{ color: textColor, paddingLeft: sp1, paddingRight: sp1 }}>\n          {report ? (\n            <VerdictGauge verdicts={report.verdict} />\n          ) : (\n            <Skeleton variant=\"circle\" height=\"100px\" width=\"100px\" />\n          )}\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nfunction TagTable({ group, items }) {\n  const { t } = useTranslation(['submissionReport']);\n  const theme = useTheme();\n  const orderedItems = {};\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classes = useStyles();\n\n  Object.keys(items).map(tagType =>\n    Object.keys(items[tagType]).map(tagValue => {\n      const key = `${items[tagType][tagValue].h_type}_${tagType}`;\n      if (!Object.hasOwnProperty.call(orderedItems, key)) {\n        orderedItems[key] = { verdict: items[tagType][tagValue].h_type, type: tagType, values: [] };\n      }\n      orderedItems[key].values.push(tagValue);\n      return null;\n    })\n  );\n\n  return (\n    <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n      <Typography variant=\"h6\">{t(`tag.${group}`)}</Typography>\n      <Divider className={classes.divider} />\n      <div\n        style={{\n          paddingTop: sp2,\n          paddingBottom: sp2,\n          paddingLeft: sp1,\n          paddingRight: sp1\n        }}\n      >\n        <Grid container spacing={1}>\n          {Object.keys(orderedItems).map((k, idx) => {\n            return (\n              <Grid key={idx} style={{ marginBottom: sp2, paddingLeft: sp1, paddingRight: sp1, minWidth: '21rem' }}>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <div style={{ display: 'flex', minWidth: '5rem' }}>\n                      <TextVerdict verdict={orderedItems[k].verdict} mono />\n                      <Tooltip title={orderedItems[k].type}>\n                        <span style={{ fontSize: '110%', flexGrow: 1, textTransform: 'capitalize' }}>\n                          {orderedItems[k].type.split('.').pop().replace('_', ' ')}\n                        </span>\n                      </Tooltip>\n                    </div>\n                  </Grid>\n                  <Grid item>\n                    {orderedItems[k].values.map((v, vidx) => {\n                      return (\n                        <div\n                          key={vidx}\n                          style={{\n                            paddingBottom: '5px',\n                            wordBreak: 'break-word'\n                          }}\n                        >\n                          {v}\n                        </div>\n                      );\n                    })}\n                  </Grid>\n                </Grid>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </div>\n  );\n}\n\nfunction AttackMatrixBlock({ attack, items }) {\n  const theme = useTheme();\n  const sp2 = theme.spacing(2);\n  return (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid',\n        paddingBottom: sp2\n      }}\n    >\n      <span style={{ fontSize: '1rem', textTransform: 'capitalize' }}>{attack.replace(/-/g, ' ')}</span>\n      {Object.keys(items).map((cat, idx) => {\n        return (\n          <div key={idx}>\n            <TextVerdict verdict={items[cat].h_type} mono />\n            <span style={{ verticalAlign: 'middle' }}>{cat}</span>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction AttackMatrixSkel() {\n  return (\n    <div\n      style={{\n        paddingBottom: '1rem',\n        height: '100%',\n        width: '100%',\n        display: 'inline-block',\n        pageBreakInside: 'avoid'\n      }}\n    >\n      <Skeleton style={{ height: '2rem' }} />\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '8px' }} />\n        <Skeleton style={{ height: '2rem', flexGrow: 1 }} />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'row' }}>\n        <Skeleton style={{ height: '2rem', width: '1.5rem', marginRight: '8px' }} />\n        <Skeleton style={{ height: '2rem', flexGrow: 1 }} />\n      </div>\n    </div>\n  );\n}\n\nfunction HeuristicsList({ verdict, items }) {\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const sp2 = theme.spacing(2);\n  const sp1 = theme.spacing(1);\n  const classMap = {\n    malicious: classes.malicious_heur,\n    suspicious: classes.suspicious_heur,\n    info: classes.info_heur\n  };\n\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        minWidth: '200px'\n      }}\n    >\n      <div className={classMap[verdict]} style={{ marginBottom: sp2, marginTop: sp2, fontSize: '1.2rem' }}>\n        {t(`verdict.${verdict}`)}\n      </div>\n      <div style={{ paddingLeft: sp1, paddingRight: sp1 }}>\n        {Object.keys(items).map((heur, idx) => {\n          return (\n            <div key={idx} style={{ fontSize: '1rem', verticalAlign: 'middle', paddingBottom: '2px' }}>\n              {heur}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction HeuristicsListSkel() {\n  return (\n    <div\n      style={{\n        flexGrow: 1,\n        margin: 5\n      }}\n    >\n      <Skeleton style={{ height: '3.5rem' }} />\n\n      <Skeleton style={{ height: '2rem' }} />\n      <Skeleton style={{ height: '2rem' }} />\n      <Skeleton style={{ height: '2rem' }} />\n    </div>\n  );\n}\n\nfunction FileTree({ tree, important_files }) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      {Object.keys(tree).map((f, i) => {\n        return important_files.indexOf(f) !== -1 ? (\n          <div key={i} style={{ pageBreakInside: 'avoid' }}>\n            <table style={{ borderSpacing: 0 }}>\n              <tbody>\n                <tr>\n                  <td style={{ verticalAlign: 'top' }}>\n                    <Verdict score={tree[f].score} short mono />\n                  </td>\n                  <td>\n                    <b style={{ fontSize: '110%', wordBreak: 'break-word' }}>{tree[f].name.join(' | ')}</b>\n                  </td>\n                </tr>\n                <tr>\n                  <td />\n                  <td>\n                    <div className={classes.file_details}>\n                      {`${tree[f].sha256} - ${tree[f].type} - `}\n                      <b>{tree[f].size}</b>\n                      <span style={{ fontWeight: 300 }}> ({bytesToSize(tree[f].size)})</span>\n                    </div>\n                  </td>\n                </tr>\n                <tr>\n                  <td />\n                  <td>\n                    <FileTree tree={tree[f].children} important_files={important_files} />\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        ) : null;\n      })}\n    </div>\n  );\n}\n\nfunction FileTreeSkel() {\n  function FileItemSkel() {\n    return (\n      <>\n        <div style={{ display: 'flex' }}>\n          <Skeleton style={{ height: '2rem', width: '2rem' }} />\n          <Skeleton style={{ height: '2rem', marginLeft: '1rem', flexGrow: 1 }} />\n        </div>\n        <Skeleton />\n        <Skeleton />\n        <Skeleton />\n      </>\n    );\n  }\n\n  return (\n    <div>\n      <FileItemSkel />\n      <div style={{ marginLeft: '2rem' }}>\n        <FileItemSkel />\n      </div>\n    </div>\n  );\n}\n\nexport default function SubmissionReport() {\n  const { t } = useTranslation(['submissionReport']);\n  const { id } = useParams<ParamProps>();\n  const { c12nDef } = useALContext();\n  const history = useHistory();\n  const theme = useTheme();\n  const [report, setReport] = useState(null);\n  const apiCall = useMyAPI();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const classes = useStyles();\n  const { showErrorMessage, showWarningMessage } = useMySnackbar();\n  const isPrinting = useMediaQuery('print');\n\n  useEffect(() => {\n    apiCall({\n      url: `/api/v4/submission/report/${id}/`,\n      onSuccess: api_data => {\n        setReport(api_data.api_response);\n      },\n      onFailure: api_data => {\n        if (api_data.api_status_code === 425) {\n          showWarningMessage(t('error.too_early'));\n          history.replace(`/submission/detail/${id}`);\n        } else if (api_data.api_status_code === 404) {\n          showErrorMessage(t('error.notfound'));\n          history.replace('/notfound');\n        } else {\n          showErrorMessage(api_data.api_error_message);\n        }\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter\n      mt={isPrinting ? 0 : 4}\n      mb={isPrinting ? 0 : 4}\n      ml={isPrinting ? 2 : 4}\n      mr={isPrinting ? 2 : 4}\n      width=\"100%\"\n    >\n      <div style={{ textAlign: 'left' }}>\n        {c12nDef.enforce && (\n          <div style={{ paddingBottom: sp4 }}>\n            <Classification size=\"tiny\" c12n={report ? report.classification : null} />\n          </div>\n        )}\n\n        {c12nDef.enforce && (\n          <div className=\"print-footer print-only\">\n            {`${t('title')} :: ${id} :: `}\n            <Classification type=\"text\" size=\"tiny\" c12n={report ? report.classification : null} />\n          </div>\n        )}\n        <div style={{ paddingBottom: sp2 }}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs>\n              <div>\n                <Typography variant=\"h4\">{t('title')}</Typography>\n                <Typography variant=\"caption\">\n                  {report ? report.sid : <Skeleton style={{ width: '10rem' }} />}\n                </Typography>\n              </div>\n            </Grid>\n            <Grid item className=\"print-only\">\n              <img\n                src={`${process.env.PUBLIC_URL}/images/banner.svg`}\n                alt=\"Assemblyline Banner\"\n                style={{ height: '72px' }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} className=\"no-print\">\n              <div style={{ textAlign: 'right' }}>\n                <Tooltip title={t('print')}>\n                  <IconButton onClick={() => window.print()}>\n                    <PrintOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={t('detail_view')}>\n                  <IconButton component={Link} to={`/submission/detail/${report ? report.sid : id}`}>\n                    <ListAltOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n\n        <AttributionBanner report={report} />\n\n        <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n          <Typography variant=\"h6\">{t('general')}</Typography>\n          <Divider className={classes.divider} />\n          <div style={{ paddingBottom: sp2, paddingTop: sp2 }}>\n            <Grid container spacing={1}>\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.name')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                {report ? report.files[0].name : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.description')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10} style={{ wordBreak: 'break-word' }}>\n                {report ? report.params.description : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={12}>\n                <div style={{ height: sp2 }} />\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.date')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? <Moment date={report.times.submitted} /> : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.user')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.params.submitter : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('submission.services')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.params.services.selected.join(' | ') : <Skeleton />}\n              </Grid>\n\n              {report && report.params.services.errors.length !== 0 && (\n                <>\n                  <Grid item xs={4} sm={3} lg={2}>\n                    <span style={{ fontWeight: 500 }}>{t('submission.services.errors')}</span>\n                  </Grid>\n                  <Grid item xs={8} sm={9} lg={10}>\n                    <span\n                      style={{\n                        color: theme.palette.type === 'dark' ? theme.palette.error.light : theme.palette.error.dark\n                      }}\n                    >\n                      {report.params.services.errors.join(' | ')}\n                    </span>\n                  </Grid>\n                </>\n              )}\n\n              <Grid item xs={12}>\n                <div style={{ height: sp2 }} />\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.type')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.type : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.mime')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.mime : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.magic')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.magic : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.size')}</span>\n              </Grid>\n              <Grid item xs={8} sm={9} lg={10}>\n                {report ? report.file_info.size : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.md5')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.md5 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.sha1')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.sha1 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.sha256')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.sha256 : <Skeleton />}\n              </Grid>\n\n              <Grid item xs={4} sm={3} lg={2}>\n                <span style={{ fontWeight: 500 }}>{t('file.ssdeep')}</span>\n              </Grid>\n              <Grid\n                item\n                xs={8}\n                md={9}\n                lg={10}\n                style={{ fontFamily: 'monospace', fontSize: 'larger', wordBreak: 'break-word' }}\n              >\n                {report ? report.file_info.ssdeep : <Skeleton />}\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        {(!report || Object.keys(report.metadata).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('metadata')}</Typography>\n            <Divider className={classes.divider} />\n            <table style={{ paddingBottom: sp2, paddingTop: sp2, width: '100%' }}>\n              <tbody>\n                {report\n                  ? Object.keys(report.metadata).map((meta, i) => {\n                      return (\n                        <tr key={i}>\n                          <td style={{ width: '20%' }}>\n                            <span style={{ fontWeight: 500 }}>{meta}</span>\n                          </td>\n                          <td style={{ paddingLeft: sp1, width: '80%', wordBreak: 'break-word' }}>\n                            {report.metadata[meta]}\n                          </td>\n                        </tr>\n                      );\n                    })\n                  : [...Array(3)].map((_, i) => {\n                      return (\n                        <tr key={i} style={{ width: '100%' }}>\n                          <td width=\"33%\">\n                            <Skeleton />\n                          </td>\n                          <td width=\"67%\">\n                            <Skeleton />\n                          </td>\n                        </tr>\n                      );\n                    })}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {(!report || Object.keys(report.attack_matrix).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('attack')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                paddingTop: sp2,\n                paddingBottom: sp2,\n                columnWidth: '21rem',\n                columnGap: '1rem'\n              }}\n            >\n              {report\n                ? Object.keys(report.attack_matrix).map((att, i) => {\n                    return <AttackMatrixBlock key={i} attack={att} items={report.attack_matrix[att]} />;\n                  })\n                : [...Array(5)].map((_, i) => {\n                    return <AttackMatrixSkel key={i} />;\n                  })}\n            </div>\n          </div>\n        )}\n\n        {(!report ||\n          Object.keys(report.heuristics.malicious).length !== 0 ||\n          Object.keys(report.heuristics.suspicious).length !== 0 ||\n          Object.keys(report.heuristics.info).length !== 0) && (\n          <div style={{ paddingBottom: sp2, paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('heuristics')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                display: 'flex',\n                flexWrap: 'wrap'\n              }}\n            >\n              {report ? (\n                <>\n                  {Object.keys(report.heuristics.malicious).length !== 0 && (\n                    <HeuristicsList verdict=\"malicious\" items={report.heuristics.malicious} />\n                  )}\n                  {Object.keys(report.heuristics.suspicious).length !== 0 && (\n                    <HeuristicsList verdict=\"suspicious\" items={report.heuristics.suspicious} />\n                  )}\n                  {Object.keys(report.heuristics.info).length !== 0 && (\n                    <HeuristicsList verdict=\"info\" items={report.heuristics.info} />\n                  )}\n                </>\n              ) : (\n                [...Array(3)].map((_, i) => {\n                  return <HeuristicsListSkel key={i} />;\n                })\n              )}\n            </div>\n          </div>\n        )}\n\n        {report &&\n          Object.keys(report.tags).length !== 0 &&\n          Object.keys(report.tags).map((tagGroup, groupIdx) => {\n            return <TagTable key={groupIdx} group={tagGroup} items={report.tags[tagGroup]} />;\n          })}\n\n        {(!report || report.important_files.length !== 0) && (\n          <div style={{ paddingTop: sp2, pageBreakInside: 'avoid' }}>\n            <Typography variant=\"h6\">{t('important_files')}</Typography>\n            <Divider className={classes.divider} />\n            <div\n              style={{\n                paddingTop: sp2\n              }}\n            >\n              {report ? (\n                <FileTree\n                  tree={report.file_tree[report.files[0].sha256].children}\n                  important_files={report.important_files}\n                />\n              ) : (\n                <FileTreeSkel />\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </PageCenter>\n  );\n}\n","import { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport PersonIcon from '@material-ui/icons/Person';\nimport PageFullWidth from 'commons/components/layout/pages/PageFullWidth';\nimport PageHeader from 'commons/components/layout/pages/PageHeader';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport SearchBar from 'components/visual/SearchBar/search-bar';\nimport { DEFAULT_SUGGESTION } from 'components/visual/SearchBar/search-textfield';\nimport SimpleSearchQuery from 'components/visual/SearchBar/simple-search-query';\nimport SearchPager from 'components/visual/SearchPager';\nimport SubmissionsTable, { SubmissionResult } from 'components/visual/SearchResult/submissions';\nimport 'moment/locale/fr';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst PAGE_SIZE = 25;\n\nconst useStyles = makeStyles(theme => ({\n  searchresult: {\n    fontStyle: 'italic',\n    paddingTop: theme.spacing(0.5),\n    display: 'flex',\n    flexWrap: 'wrap'\n  }\n}));\n\ntype SearchResults = {\n  items: SubmissionResult[];\n  offset: number;\n  rows: number;\n  total: number;\n};\n\nexport default function Submissions() {\n  const { t } = useTranslation(['submissions']);\n  const [pageSize] = useState(PAGE_SIZE);\n  const [submissionResults, setSubmissionResults] = useState<SearchResults>(null);\n  const [searching, setSearching] = useState(false);\n  const { user: currentUser, indexes } = useALContext();\n  const history = useHistory();\n  const apiCall = useMyAPI();\n  const theme = useTheme();\n  const location = useLocation();\n  const [query, setQuery] = useState<SimpleSearchQuery>(null);\n  const upMD = useMediaQuery(theme.breakpoints.up('md'));\n  const filterValue = useRef<string>('');\n  const classes = useStyles();\n  const [suggestions] = useState([\n    ...Object.keys(indexes.submission).filter(name => {\n      return indexes.submission[name].indexed;\n    }),\n    ...DEFAULT_SUGGESTION\n  ]);\n\n  const onClear = () => {\n    history.push(location.pathname);\n  };\n\n  const onSearch = () => {\n    if (filterValue.current !== '') {\n      query.set('query', filterValue.current);\n      history.push(`${location.pathname}?${query.toString()}`);\n    } else {\n      onClear();\n    }\n  };\n\n  const onFilterValueChange = (inputValue: string) => {\n    filterValue.current = inputValue;\n  };\n\n  useEffect(() => {\n    setSearching(true);\n    setQuery(new SimpleSearchQuery(location.search, `query=*&rows=${pageSize}&offset=0`));\n  }, [location.search, pageSize]);\n\n  useEffect(() => {\n    if (query) {\n      query.set('rows', pageSize);\n      query.set('offset', 0);\n      apiCall({\n        method: 'POST',\n        url: '/api/v4/search/submission/',\n        body: query.getParams(),\n        onSuccess: api_data => {\n          setSubmissionResults(api_data.api_response);\n        },\n        onFinalize: () => {\n          setSearching(false);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  return (\n    <PageFullWidth margin={4}>\n      <div style={{ paddingBottom: theme.spacing(2) }}>\n        <Typography variant=\"h4\">{t('title')}</Typography>\n      </div>\n      <PageHeader isSticky>\n        <div style={{ paddingTop: theme.spacing(1) }}>\n          <SearchBar\n            initValue={query ? query.get('query', '') : ''}\n            placeholder={t('filter')}\n            searching={searching}\n            suggestions={suggestions}\n            onValueChange={onFilterValueChange}\n            onClear={onClear}\n            onSearch={onSearch}\n            buttons={[\n              {\n                icon: <PersonIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('my_submission'),\n                props: {\n                  onClick: () => {\n                    query.set('query', `params.submitter:\"${currentUser.username}\"`);\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <AssignmentTurnedInIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('completed_submissions'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'state:completed');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              },\n              {\n                icon: <BugReportIcon fontSize={upMD ? 'default' : 'small'} />,\n                tooltip: t('malicious_submissions'),\n                props: {\n                  onClick: () => {\n                    query.set('query', 'max_score:>1000');\n                    history.push(`${location.pathname}?${query.getDeltaString()}`);\n                  }\n                }\n              }\n            ]}\n          >\n            {submissionResults !== null && (\n              <div className={classes.searchresult}>\n                {submissionResults.total !== 0 && (\n                  <Typography variant=\"subtitle1\" color=\"secondary\" style={{ flexGrow: 1 }}>\n                    {searching ? (\n                      <span>{t('searching')}</span>\n                    ) : (\n                      <span>\n                        {submissionResults.total}&nbsp;\n                        {query.get('query')\n                          ? t(`filtered${submissionResults.total === 1 ? '' : 's'}`)\n                          : t(`total${submissionResults.total === 1 ? '' : 's'}`)}\n                      </span>\n                    )}\n                  </Typography>\n                )}\n\n                <SearchPager\n                  total={submissionResults.total}\n                  setResults={setSubmissionResults}\n                  pageSize={pageSize}\n                  index=\"submission\"\n                  query={query}\n                  setSearching={setSearching}\n                />\n              </div>\n            )}\n          </SearchBar>\n        </div>\n      </PageHeader>\n      <div style={{ paddingTop: theme.spacing(2), paddingLeft: theme.spacing(0.5), paddingRight: theme.spacing(0.5) }}>\n        <SubmissionsTable submissionResults={submissionResults} />\n      </div>\n    </PageFullWidth>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport React, { useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useTranslation } from 'react-i18next';\nimport { AiOutlineSecurityScan } from 'react-icons/ai';\n\ntype FileDropperProps = {\n  file: File;\n  setFile: (file: File) => void;\n  disabled: boolean;\n};\n\nexport default function FileDropper({ file, setFile, disabled }: FileDropperProps) {\n  const { t } = useTranslation(['submit']);\n  const { acceptedFiles, getRootProps, getInputProps, isDragActive } = useDropzone({ disabled });\n  const useStyles = ctrlDisabled => {\n    return makeStyles(theme => ({\n      drop_zone: {\n        flex: '1',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: theme.spacing(3),\n        backgroundColor: theme.palette.action.hover,\n        outline: 'none',\n        border: `2px ${theme.palette.action.disabled} dashed`,\n        borderRadius: '6px',\n        color: theme.palette.action.disabled,\n        '&:hover': {\n          border: !ctrlDisabled ? `2px ${theme.palette.text.disabled} dashed` : null,\n          backgroundColor: !ctrlDisabled ? theme.palette.action.selected : null,\n          color: !ctrlDisabled ? theme.palette.text.disabled : null,\n          cursor: !ctrlDisabled ? 'pointer' : null\n        }\n      },\n      drag_enter: {\n        border: `2px ${theme.palette.text.disabled} dashed`,\n        backgroundColor: theme.palette.action.selected,\n        color: theme.palette.text.disabled\n      }\n    }))();\n  };\n  const classes = useStyles(disabled);\n\n  useEffect(() => {\n    if (acceptedFiles.length !== 0) {\n      setFile(acceptedFiles[0]);\n    }\n    // eslint-disable-next-line\n  }, [acceptedFiles]);\n\n  return (\n    <div\n      {...getRootProps()}\n      className={isDragActive && !disabled ? `${classes.drop_zone} ${classes.drag_enter}` : classes.drop_zone}\n    >\n      <input {...getInputProps()} />\n      <AiOutlineSecurityScan style={{ fontSize: '140px' }} />\n      <div style={{ height: '44px', textAlign: 'center' }}>\n        <Typography variant=\"body1\">\n          <b>{isDragActive && !disabled ? t('file.drophere') : file ? file.name : t('file.dragzone')}</b>\n        </Typography>\n        {file && (!isDragActive || disabled) && (\n          <Typography variant=\"body2\" align=\"center\">\n            {file.size} {t('file.dragzone.byte')}\n          </Typography>\n        )}\n      </div>\n    </div>\n  );\n}\n","import {\n  Button,\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  makeStyles,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  TextField,\n  Typography,\n  useMediaQuery,\n  useTheme\n} from '@material-ui/core';\nimport { Alert, Skeleton, TabContext, TabList, TabPanel } from '@material-ui/lab';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport ServiceTree from 'components/layout/serviceTree';\nimport Classification from 'components/visual/Classification';\nimport ConfirmationDialog from 'components/visual/ConfirmationDialog';\nimport Empty from 'components/visual/Empty';\nimport FileDropper from 'components/visual/FileDropper';\nimport Flow from 'helpers/flow';\nimport generateUUID from 'helpers/uuid';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction Submit() {\n  const { getBanner } = useAppLayout();\n  const apiCall = useMyAPI();\n  const { t, i18n } = useTranslation(['submit']);\n  const theme = useTheme();\n  const { user: currentUser, c12nDef, configuration } = useALContext();\n  const [uuid, setUUID] = useState(null);\n  const [flow, setFlow] = useState(null);\n  const [settings, setSettings] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(null);\n  const [url, setUrl] = useState('');\n  const [urlHasError, setUrlHasError] = useState(false);\n  const [validate, setValidate] = useState(false);\n  const [validateCB, setValidateCB] = useState(null);\n  const [allowClick, setAllowClick] = useState(true);\n  const [file, setFile] = useState(null);\n  const [value, setValue] = useState('0');\n  const downSM = useMediaQuery(theme.breakpoints.down('sm'));\n  const md = useMediaQuery(theme.breakpoints.only('md'));\n  const { showErrorMessage, showSuccessMessage, closeSnackbar } = useMySnackbar();\n  const history = useHistory();\n  const sp1 = theme.spacing(1);\n  const sp2 = theme.spacing(2);\n  const sp4 = theme.spacing(4);\n  const sp8 = theme.spacing(8);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const useStyles = makeStyles(curTheme => ({\n    no_pad: {\n      padding: 0\n    },\n    item: {\n      marginLeft: 0,\n      width: '100%',\n      '&:hover': {\n        background: theme.palette.action.hover\n      }\n    }\n  }));\n  const classes = useStyles();\n\n  const getFileUUID = selectedFile => {\n    const relativePath =\n      selectedFile.relativePath || selectedFile.webkitRelativePath || selectedFile.fileName || selectedFile.name;\n    return `${uuid}_${file.size}_${relativePath.replace(/[^0-9a-zA-Z_-]/gim, '')}`;\n  };\n\n  const cancelUpload = () => {\n    setFile(null);\n    setAllowClick(true);\n    setUploadProgress(null);\n    flow.cancel();\n    flow.off('complete');\n    flow.off('fileError');\n    flow.off('progress');\n  };\n\n  const validateServiceSelection = cbType => {\n    let showPopup = false;\n\n    // Check if we need the popup, and if we do\n    settings.services.forEach(cat => {\n      cat.services.forEach(srv => {\n        if (srv.selected && srv.is_external) {\n          showPopup = true;\n        }\n      });\n    });\n\n    if (showPopup) {\n      // External service selected, show popup\n      setValidateCB(cbType);\n      setValidate(true);\n    } else if (cbType === 'file') {\n      // No external service and file submitted\n      uploadAndScan();\n    } else {\n      // No external service and url submitted\n      analyseUrl();\n    }\n  };\n\n  const cleanupServiceSelection = () => {\n    // eslint-disable-next-line guard-for-in\n    for (const i in settings.services) {\n      const cat = settings.services[i];\n      // eslint-disable-next-line guard-for-in\n      for (const j in settings.services[i].services) {\n        const srv = settings.services[i].services[j];\n        if (srv.selected && srv.is_external) {\n          srv.selected = false;\n        }\n      }\n      cat.selected = cat.services.every(e => e.selected);\n    }\n\n    executeCB();\n  };\n\n  const executeCB = () => {\n    setValidate(false);\n    if (validateCB === 'file') {\n      uploadAndScan();\n    } else {\n      analyseUrl();\n    }\n  };\n\n  const uploadAndScan = () => {\n    flow.opts.generateUniqueIdentifier = getFileUUID;\n    setAllowClick(false);\n    setUploadProgress(0);\n    flow.on('fileError', (event, api_data) => {\n      try {\n        const data = JSON.parse(api_data);\n        if (Object.hasOwnProperty.call(data, 'api_status_code')) {\n          if (data.api_status_code === 401) {\n            window.location.reload(false);\n          }\n        }\n      } catch (ex) {\n        cancelUpload();\n        showErrorMessage(t('submit.file.upload_fail'));\n      }\n    });\n    flow.on('progress', () => {\n      setUploadProgress(Math.trunc(flow.progress() * 100));\n    });\n    flow.on('complete', () => {\n      if (flow.files.length === 0) {\n        return;\n      }\n\n      for (let x = 0; x < flow.files.length; x++) {\n        if (flow.files[x].error) {\n          return;\n        }\n      }\n      apiCall({\n        url: `/api/v4/ui/start/${uuid}/`,\n        method: 'POST',\n        body: settings,\n        onSuccess: api_data => {\n          showSuccessMessage(`${t('submit.success')} ${api_data.api_response.sid}`);\n          setTimeout(() => {\n            history.push(`/submission/detail/${api_data.api_response.sid}`);\n          }, 500);\n        },\n        onFailure: api_data => {\n          if (\n            api_data.api_status_code === 503 ||\n            api_data.api_status_code === 403 ||\n            api_data.api_status_code === 404 ||\n            api_data.api_status_code === 400\n          ) {\n            showErrorMessage(api_data.api_error_message);\n          } else {\n            showErrorMessage(t('submit.file.failure'));\n          }\n          setAllowClick(true);\n          cancelUpload();\n        }\n      });\n    });\n\n    flow.addFile(file);\n    flow.upload();\n  };\n\n  const setFileDropperFile = selectedFile => {\n    setFile(selectedFile);\n  };\n\n  const setParam = (service_idx, param_idx, p_value) => {\n    if (settings) {\n      const newSettings = { ...settings };\n      newSettings.service_spec[service_idx].params[param_idx].value = p_value;\n      setSettings(newSettings);\n    }\n  };\n\n  function setParamAsync(service_idx, param_idx, p_value) {\n    if (settings) {\n      settings.service_spec[service_idx].params[param_idx].value = p_value;\n    }\n  }\n\n  function setSettingValue(field, fieldValue) {\n    if (settings) {\n      setSettings({ ...settings, [field]: fieldValue });\n    }\n  }\n\n  function setSettingAsyncValue(field, fieldValue) {\n    if (settings) {\n      settings[field] = fieldValue;\n    }\n  }\n\n  function setClassification(c12n) {\n    if (settings) {\n      setSettings({ ...settings, classification: c12n });\n    }\n  }\n\n  function handleUrlChange(event) {\n    closeSnackbar();\n    setUrlHasError(false);\n    setUrl(event.target.value);\n  }\n\n  function analyseUrl() {\n    const urlParseRE = /^(((([^:/#?]+:)?(?:(\\/\\/)((?:(([^:@/#?]+)(?::([^:@/#?]+))?)@)?(([^:/#?\\][]+|\\[[^/\\]@#?]+])(?::([0-9]+))?))?)?)?((\\/?(?:[^/?#]+\\/+)*)([^?#]*)))?(\\?[^#]+)?)(#.*)?/;\n    const matches = urlParseRE.exec(url);\n\n    if (matches[15] === undefined || matches[15] === '') {\n      matches[15] = 'file';\n    }\n\n    const data = {\n      name: matches[15],\n      url,\n      ui_params: settings\n    };\n\n    setUrlHasError(false);\n    apiCall({\n      url: '/api/v4/submit/',\n      method: 'POST',\n      body: data,\n      onSuccess: api_data => {\n        setAllowClick(false);\n        showSuccessMessage(`${t('submit.success')} ${api_data.api_response.sid}`);\n        setTimeout(() => {\n          history.push(`/submission/detail/${api_data.api_response.sid}`);\n        }, 500);\n      },\n      onFailure: api_data => {\n        showErrorMessage(t('submit.url.failure'));\n        setUrlHasError(true);\n      }\n    });\n  }\n\n  useEffect(() => {\n    // Setup Flow\n    setFlow(\n      new Flow({\n        target: '/api/v4/ui/flowjs/',\n        permanentErrors: [412, 404, 500],\n        maxChunkRetries: 1,\n        chunkRetryInterval: 500,\n        simultaneousUploads: 4\n      })\n    );\n\n    // Load user on start\n    apiCall({\n      url: `/api/v4/user/settings/${currentUser.username}/`,\n      onSuccess: api_data => {\n        setSettings(api_data.api_response);\n      }\n    });\n    setUUID(generateUUID());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <PageCenter maxWidth={md ? '800px' : downSM ? '100%' : '1024px'} margin={4} width=\"100%\">\n      <ConfirmationDialog\n        open={validate}\n        handleClose={cleanupServiceSelection}\n        handleAccept={executeCB}\n        title={t('validate.title')}\n        cancelText={t('validate.cancelText')}\n        acceptText={t('validate.acceptText')}\n        text={t('validate.text')}\n      />\n      <div style={{ marginBottom: !downSM && !configuration.ui.banner ? '2rem' : null }}>{getBanner(theme)}</div>\n      {configuration.ui.banner && (\n        <Alert severity={configuration.ui.banner_level} style={{ marginBottom: '2rem' }}>\n          {configuration.ui.banner[i18n.language] ? configuration.ui.banner[i18n.language] : configuration.ui.banner.en}\n        </Alert>\n      )}\n      {c12nDef.enforce ? (\n        <div style={{ paddingBottom: sp8 }}>\n          <div style={{ padding: sp1, fontSize: 16 }}>{t('classification')}</div>\n          <Classification\n            format=\"long\"\n            type=\"picker\"\n            c12n={settings ? settings.classification : null}\n            setClassification={setClassification}\n          />\n        </div>\n      ) : null}\n      <TabContext value={value}>\n        <Paper square>\n          <TabList centered onChange={handleChange} indicatorColor=\"primary\" textColor=\"primary\">\n            <Tab label={t('file')} value=\"0\" />\n            {configuration.ui.allow_url_submissions ? (\n              <Tab label={t('url')} value=\"1\" disabled={!configuration.ui.allow_url_submissions} />\n            ) : (\n              <Empty />\n            )}\n            <Tab label={t('options')} value=\"2\" />\n          </TabList>\n        </Paper>\n        <TabPanel value=\"0\" className={classes.no_pad}>\n          {settings ? (\n            <div style={{ marginTop: '30px' }}>\n              <FileDropper file={file} setFile={setFileDropperFile} disabled={!allowClick} />\n              <div style={{ marginTop: '2rem' }}>\n                {file ? (\n                  <>\n                    <Button\n                      disabled={!allowClick}\n                      color=\"primary\"\n                      variant=\"contained\"\n                      onClick={() => validateServiceSelection('file')}\n                    >\n                      {uploadProgress === null ? t('file.button') : `${uploadProgress}${t('submit.progress')}`}\n                    </Button>\n                    <Button style={{ marginLeft: '16px' }} color=\"secondary\" variant=\"contained\" onClick={cancelUpload}>\n                      {t('file.cancel')}\n                    </Button>\n                  </>\n                ) : null}\n              </div>\n            </div>\n          ) : (\n            <Skeleton style={{ height: '280px' }} />\n          )}\n          {configuration.ui.tos ? (\n            <div style={{ marginTop: '50px', textAlign: 'center' }}>\n              <Typography variant=\"body2\">\n                {t('terms1')}\n                <i>{t('file.button')}</i>\n                {t('terms2')}\n                <Link style={{ textDecoration: 'none', color: theme.palette.primary.main }} to=\"/tos\">\n                  {t('terms3')}\n                </Link>\n                .\n              </Typography>\n            </div>\n          ) : null}\n        </TabPanel>\n        {configuration.ui.allow_url_submissions && (\n          <TabPanel value=\"1\" className={classes.no_pad}>\n            <div style={{ display: 'flex', flexDirection: 'row', marginTop: '30px', alignItems: 'flex-start' }}>\n              {settings ? (\n                <>\n                  <TextField\n                    label={t('url.input')}\n                    error={urlHasError}\n                    size=\"small\"\n                    type=\"url\"\n                    variant=\"outlined\"\n                    value={url}\n                    onChange={handleUrlChange}\n                    style={{ flexGrow: 1, marginRight: '1rem' }}\n                  />\n                  <Button\n                    disabled={!url || !allowClick}\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={() => validateServiceSelection('url')}\n                  >\n                    {t('url.button')}\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Skeleton style={{ flexGrow: 1, height: '3rem' }} />\n                  <Skeleton style={{ marginLeft: '16px', height: '3rem', width: '5rem' }} />\n                </>\n              )}\n            </div>\n            {configuration.ui.tos ? (\n              <div style={{ marginTop: '50px', textAlign: 'center' }}>\n                <Typography variant=\"body2\">\n                  {t('terms1')}\n                  <i>{t('url.button')}</i>\n                  {t('terms2')}\n                  <Link style={{ textDecoration: 'none', color: theme.palette.primary.main }} to=\"/tos\">\n                    {t('terms3')}\n                  </Link>\n                  .\n                </Typography>\n              </div>\n            ) : null}\n          </TabPanel>\n        )}\n        <TabPanel value=\"2\" className={classes.no_pad}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} md>\n              <div style={{ paddingLeft: sp2, textAlign: 'left', marginTop: sp4 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('options.service')}\n                </Typography>\n                <ServiceTree size=\"small\" settings={settings} setSettings={setSettings} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md>\n              <div style={{ textAlign: 'left', marginTop: sp4 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  {t('options.submission')}\n                </Typography>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.desc')}\n                  </Typography>\n                  {settings ? (\n                    <TextField\n                      id=\"desc\"\n                      size=\"small\"\n                      type=\"text\"\n                      defaultValue={settings.description}\n                      onChange={event => setSettingAsyncValue('description', event.target.value)}\n                      InputLabelProps={{\n                        shrink: true\n                      }}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.priority')}\n                  </Typography>\n                  {settings ? (\n                    <Select\n                      id=\"priority\"\n                      margin=\"dense\"\n                      value={settings.priority}\n                      variant=\"outlined\"\n                      onChange={event => setSettingValue('priority', event.target.value)}\n                      fullWidth\n                    >\n                      <MenuItem value=\"500\">{t('options.submission.priority.low')}</MenuItem>\n                      <MenuItem value=\"1000\">{t('options.submission.priority.medium')}</MenuItem>\n                      <MenuItem value=\"1500\">{t('options.submission.priority.high')}</MenuItem>\n                    </Select>\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_filtering}\n                          name=\"label\"\n                          onChange={event => setSettingValue('ignore_filtering', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.ignore_filtering')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_cache}\n                          name=\"label\"\n                          onChange={event => setSettingValue('ignore_cache', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.ignore_cache')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.ignore_dynamic_recursion_prevention}\n                          name=\"label\"\n                          onChange={event =>\n                            setSettingValue('ignore_dynamic_recursion_prevention', event.target.checked)\n                          }\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={\n                      <Typography variant=\"body2\">\n                        {t('options.submission.ignore_dynamic_recursion_prevention')}\n                      </Typography>\n                    }\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.profile}\n                          name=\"label\"\n                          onChange={event => setSettingValue('profile', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.profile')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                  <FormControlLabel\n                    control={\n                      settings ? (\n                        <Checkbox\n                          size=\"small\"\n                          checked={settings.deep_scan}\n                          name=\"label\"\n                          onChange={event => setSettingValue('deep_scan', event.target.checked)}\n                        />\n                      ) : (\n                        <Skeleton\n                          style={{ height: '2rem', width: '1.5rem', marginLeft: '16px', marginRight: '16px' }}\n                        />\n                      )\n                    }\n                    label={<Typography variant=\"body2\">{t('options.submission.deep_scan')}</Typography>}\n                    className={settings ? classes.item : null}\n                  />\n                </div>\n                <div style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                  <Typography variant=\"caption\" color=\"textSecondary\" gutterBottom>\n                    {t('options.submission.ttl')}\n                  </Typography>\n                  {settings ? (\n                    <TextField\n                      id=\"ttl\"\n                      size=\"small\"\n                      type=\"number\"\n                      inputProps={{ min: 0, max: 365 }}\n                      defaultValue={settings.ttl}\n                      onChange={event => setSettingAsyncValue('ttl', event.target.value)}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  ) : (\n                    <Skeleton style={{ height: '3rem' }} />\n                  )}\n                </div>\n              </div>\n\n              {settings && settings.service_spec.length !== 0 ? (\n                <div style={{ textAlign: 'left', marginTop: sp4 }}>\n                  <Typography variant=\"h6\" gutterBottom>\n                    {t('options.service_spec')}\n                  </Typography>\n                  {settings.service_spec.map((service, idx) => {\n                    return (\n                      <div key={idx} style={{ paddingTop: sp1, paddingBottom: sp1 }}>\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          {service.name}\n                        </Typography>\n                        {service.params.map((param, pidx) => {\n                          return (\n                            <div key={pidx} style={{ paddingBottom: sp1 }}>\n                              {param.type === 'bool' ? (\n                                <div style={{ paddingLeft: sp1 }}>\n                                  <FormControlLabel\n                                    control={\n                                      <Checkbox\n                                        size=\"small\"\n                                        checked={param.value === 'true' || param.value === true}\n                                        name=\"label\"\n                                        onChange={() => setParam(idx, pidx, !param.value)}\n                                      />\n                                    }\n                                    label={\n                                      <Typography variant=\"body2\" style={{ textTransform: 'capitalize' }}>\n                                        {param.name.replace(/_/g, ' ')}\n                                      </Typography>\n                                    }\n                                    className={classes.item}\n                                  />\n                                </div>\n                              ) : (\n                                <>\n                                  <div>\n                                    <Typography variant=\"caption\" gutterBottom style={{ textTransform: 'capitalize' }}>\n                                      {param.name.replace(/_/g, ' ')}\n                                    </Typography>\n                                  </div>\n                                  {param.type === 'list' ? (\n                                    <Select\n                                      margin=\"dense\"\n                                      value={param.value}\n                                      variant=\"outlined\"\n                                      onChange={event => setParam(idx, pidx, event.target.value)}\n                                      fullWidth\n                                    >\n                                      {param.list.map((item, i) => {\n                                        return (\n                                          <MenuItem key={i} value={item}>\n                                            {item}\n                                          </MenuItem>\n                                        );\n                                      })}\n                                    </Select>\n                                  ) : (\n                                    <TextField\n                                      variant=\"outlined\"\n                                      type={param.type === 'int' ? 'number' : 'text'}\n                                      size=\"small\"\n                                      fullWidth\n                                      defaultValue={param.value}\n                                      onChange={event => setParamAsync(idx, pidx, event.target.value)}\n                                    />\n                                  )}\n                                </>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : null}\n            </Grid>\n          </Grid>\n        </TabPanel>\n      </TabContext>\n    </PageCenter>\n  );\n}\n\nexport default Submit;\n","/* eslint-disable no-bitwise */\n\nexport default function generateUUID() {\n  let d = new Date().getTime();\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : (r & 0x7) | 0x8).toString(16);\n  });\n}\n","import { Button, CircularProgress, Link, makeStyles, Typography, useTheme } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport PageCenter from 'commons/components/layout/pages/PageCenter';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyAPI from 'components/hooks/useMyAPI';\nimport NotFoundPage from 'components/routes/404_dl';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst Markdown = require('react-markdown');\n\nexport default function Tos() {\n  const { t } = useTranslation(['tos']);\n  const theme = useTheme();\n  const [tos, setTos] = useState('');\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const { getBanner } = useAppLayout();\n  const { user: currentUser, configuration } = useALContext();\n  const apiCall = useMyAPI();\n  const useStyles = makeStyles(curTheme => ({\n    no_pad: {\n      padding: 0\n    },\n    page: {\n      maxWidth: '960px',\n      width: '100%',\n      [curTheme.breakpoints.down('sm')]: {\n        maxWidth: '100%'\n      },\n      [curTheme.breakpoints.only('md')]: {\n        maxWidth: '630px'\n      }\n    },\n    buttonProgress: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -12,\n      marginLeft: -12\n    }\n  }));\n  const classes = useStyles();\n  const sp6 = theme.spacing(6);\n\n  function acceptTOS() {\n    apiCall({\n      url: `/api/v4/user/tos/${currentUser.username}/`,\n      onSuccess: () => window.location.reload(false),\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  function cancelTOS() {\n    apiCall({\n      url: '/api/v4/auth/logout/',\n      onSuccess: () => window.location.reload(false),\n      onEnter: () => setButtonLoading(true),\n      onExit: () => setButtonLoading(false)\n    });\n  }\n\n  useEffect(() => {\n    if (configuration.ui.tos) {\n      apiCall({\n        url: '/api/v4/help/tos/',\n        onSuccess: api_data => setTos(api_data.api_response)\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return configuration.ui.tos ? (\n    <PageCenter margin={4} width=\"100%\">\n      <div className={classes.page} style={{ display: 'inline-block', textAlign: 'center' }}>\n        <div>{getBanner(theme)}</div>\n        <div style={{ marginBottom: sp6, textAlign: 'left' }}>\n          <Typography variant=\"h3\" gutterBottom>\n            {t('title')}\n          </Typography>\n        </div>\n        {tos ? (\n          <>\n            <div style={{ textAlign: 'left' }}>\n              <Markdown source={tos} renderers={{ link: Link }} />\n            </div>\n            {currentUser.agrees_with_tos ? (\n              <div style={{ marginTop: sp6 }}>\n                <Typography variant=\"subtitle1\" color=\"secondary\">\n                  {t('agreed')}\n                </Typography>\n              </div>\n            ) : (\n              <div>\n                <Button\n                  style={{ marginTop: '3rem', marginBottom: '3rem' }}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={buttonLoading}\n                  onClick={acceptTOS}\n                >\n                  {t('button')}\n                  {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </Button>\n                <Button\n                  style={{ marginLeft: '1rem', marginTop: '3rem', marginBottom: '3rem' }}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  disabled={buttonLoading}\n                  onClick={cancelTOS}\n                >\n                  {t('logout')}\n                  {buttonLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </Button>\n              </div>\n            )}\n          </>\n        ) : (\n          <>\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton style={{ marginBottom: 12 }} />\n            <Skeleton />\n          </>\n        )}\n      </div>\n    </PageCenter>\n  ) : (\n    <NotFoundPage />\n  );\n}\n","import useALContext from 'components/hooks/useALContext';\nimport ForbiddenPage from 'components/routes/403';\nimport NotFoundPage from 'components/routes/404_dl';\nimport Account from 'components/routes/account';\nimport Admin from 'components/routes/admin';\nimport AdminErrorViewer from 'components/routes/admin/error_viewer';\nimport AdminServices from 'components/routes/admin/services';\nimport Service from 'components/routes/admin/service_detail';\nimport AdminSiteMap from 'components/routes/admin/site_map';\nimport AdminUsers from 'components/routes/admin/users';\nimport AlertDetails from 'components/routes/alerts/alert-details';\nimport Alerts from 'components/routes/alerts/alerts';\nimport AlertsLegacy from 'components/routes/alerts/legacy-alert';\nimport AppRegistration from 'components/routes/authorize';\nimport Dashboard from 'components/routes/dashboard';\nimport FileFullDetail from 'components/routes/file/detail';\nimport FileViewer from 'components/routes/file/viewer';\nimport Help from 'components/routes/help';\nimport HelpApiDoc from 'components/routes/help/api';\nimport HelpClassification from 'components/routes/help/classification';\nimport HelpConfiguration from 'components/routes/help/configuration';\nimport HelpSearch from 'components/routes/help/search';\nimport HelpServices from 'components/routes/help/services';\nimport Logout from 'components/routes/logout';\nimport Manage from 'components/routes/manage';\nimport ManageHeuristics from 'components/routes/manage/heuristics';\nimport HeuristicDetail from 'components/routes/manage/heuristic_detail';\nimport ManageSignatures from 'components/routes/manage/signatures';\nimport SignatureDetail from 'components/routes/manage/signature_detail';\nimport ManageSignatureSources from 'components/routes/manage/signature_sources';\nimport ManageWorkflows from 'components/routes/manage/workflows';\nimport WorkflowDetail from 'components/routes/manage/workflow_detail';\nimport Optout from 'components/routes/optout';\nimport Search from 'components/routes/search';\nimport Settings from 'components/routes/settings';\nimport SubmissionDetail from 'components/routes/submission/detail';\nimport SubmissionReport from 'components/routes/submission/report';\nimport Submissions from 'components/routes/submissions';\nimport Submit from 'components/routes/submit';\nimport Tos from 'components/routes/tos';\nimport User from 'components/routes/user';\nimport React, { useEffect, useState } from 'react';\nimport { matchPath, Redirect, Route, Switch, useLocation } from 'react-router-dom';\n\nconst APP_NAME = 'AL4';\n\nfunction RouteActions() {\n  const { pathname } = useLocation();\n  const [oldID, setOldID] = useState(null);\n\n  useEffect(() => {\n    // Scroll to top\n    const { params } = { params: { id: null }, ...matchPath(pathname, { path: '/submission/detail/:id' }) };\n    // eslint-disable-next-line prefer-destructuring, @typescript-eslint/dot-notation\n    const id = params['id'];\n    if (id === null || id === undefined || id === oldID) {\n      window.scrollTo(0, 0);\n      setOldID(id);\n    }\n\n    // Patch window title\n    const currentLocation = pathname.split('/').join(' ').trim();\n    document.title = `${APP_NAME} | ${\n      currentLocation ? currentLocation.charAt(0).toUpperCase() + currentLocation.slice(1) : 'Submit'\n    }`;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname]);\n\n  return null;\n}\n\nconst WrappedRoutes = () => {\n  const { configuration, settings } = useALContext();\n  return (\n    <>\n      <RouteActions />\n      <Switch>\n        <Route exact path=\"/\" component={Submit} />\n        <Route exact path=\"/account\" component={Account} />\n        <Route exact path=\"/alerts\" component={Alerts} />\n        <Route exact path=\"/alerts/legacy\" component={AlertsLegacy} />\n        <Route exact path=\"/alerts/:id\" component={AlertDetails} />\n        <Route exact path=\"/admin\" component={Admin} />\n        <Route exact path=\"/admin/errors\" component={AdminErrorViewer} />\n        <Route exact path=\"/admin/services\" component={AdminServices} />\n        <Route exact path=\"/admin/services/:svc\" component={Service} />\n        <Route exact path=\"/admin/sitemap\" component={AdminSiteMap} />\n        <Route exact path=\"/admin/users\" component={AdminUsers} />\n        <Route exact path=\"/admin/users/:id\" component={User} />\n        <Route exact path=\"/authorize\" component={AppRegistration} />\n        <Route exact path=\"/dashboard\" component={Dashboard} />\n        <Route exact path=\"/file/detail/:id\" component={FileFullDetail} />\n        <Route exact path=\"/file/viewer/:id\" component={FileViewer} />\n        <Route exact path=\"/help\" component={Help} />\n        <Route exact path=\"/help/api\" component={HelpApiDoc} />\n        <Route exact path=\"/help/classification\" component={HelpClassification} />\n        <Route exact path=\"/help/configuration\" component={HelpConfiguration} />\n        <Route exact path=\"/help/search\" component={HelpSearch} />\n        <Route exact path=\"/help/services\" component={HelpServices} />\n        <Route exact path=\"/logout\" component={Logout} />\n        <Route exact path=\"/manage/heuristics\" component={ManageHeuristics} />\n        <Route exact path=\"/manage/heuristic/:id\" component={HeuristicDetail} />\n        <Route exact path=\"/manage/signatures\" component={ManageSignatures} />\n        <Route exact path=\"/manage/signature/:id\" component={SignatureDetail} />\n        <Route exact path=\"/manage/sources\" component={ManageSignatureSources} />\n        <Route exact path=\"/manage/workflow/:id\" component={WorkflowDetail} />\n        <Route exact path=\"/manage/workflows\" component={ManageWorkflows} />\n        <Route exact path=\"/manage\" component={Manage} />\n        <Route exact path=\"/optout\" component={Optout} />\n        <Route exact path=\"/search\" component={Search} />\n        <Route exact path=\"/search/:id\" component={Search} />\n        <Route exact path=\"/settings\" component={Settings} />\n        <Route exact path=\"/submit\" component={Submit} />\n        <Route exact path=\"/submission/detail/:id/:fid\" component={SubmissionDetail} />\n        <Route exact path=\"/submission/detail/:id\" component={SubmissionDetail} />\n        <Route exact path=\"/submission/report/:id\" component={SubmissionReport} />\n        {settings.submission_view === 'details' ? (\n          <Redirect from=\"/submission/:id\" to=\"/submission/detail/:id\" />\n        ) : (\n          <Redirect from=\"/submission/:id\" to=\"/submission/report/:id\" />\n        )}\n        <Route exact path=\"/submissions\" component={Submissions} />\n        <Route exact path=\"/tos\" component={Tos} />\n        <Route exact path=\"/forbidden\" component={ForbiddenPage} />\n        <Route exact path=\"/notfound\" component={NotFoundPage} />\n        <Redirect to=\"/notfound\" />\n      </Switch>\n      {configuration.system && configuration.system.type !== 'production' && (\n        <div\n          style={{\n            position: 'sticky',\n            bottom: '16px',\n            left: '16px',\n            opacity: '0.4',\n            zIndex: 10000,\n            marginTop: 'auto',\n            marginRight: 'auto'\n          }}\n        >\n          {`Assemblyline ${configuration.system.version} :: `}\n          <span style={{ textTransform: 'capitalize' }}>{configuration.system.type}</span>\n        </div>\n      )}\n    </>\n  );\n};\n\nconst Routes = React.memo(WrappedRoutes);\nexport default Routes;\n","import AppContextProvider from 'commons/components/app/AppContextProvider';\nimport useAppLayout from 'commons/components/hooks/useAppLayout';\nimport AppLayoutProvider from 'commons/components/layout/LayoutProvider';\nimport SiteMapProvider from 'commons/components/sitemap/SitemapProvider';\nimport UserProvider from 'commons/components/user/UserProvider';\nimport useALContext from 'components/hooks/useALContext';\nimport useMyLayout from 'components/hooks/useMyLayout';\nimport useMySitemap from 'components/hooks/useMySitemap';\nimport useMySnackbar from 'components/hooks/useMySnackbar';\nimport useMyUser from 'components/hooks/useMyUser';\nimport LoadingScreen from 'components/routes/loading';\nimport LockedPage from 'components/routes/locked';\nimport LoginScreen from 'components/routes/login';\nimport Routes from 'components/routes/routes';\nimport Tos from 'components/routes/tos';\nimport DrawerProvider from 'components/visual/DrawerProvider';\nimport HighlightProvider from 'components/visual/HighlightProvider';\nimport { getProvider } from 'helpers/utils';\nimport getXSRFCookie from 'helpers/xsrf';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BrowserRouter } from 'react-router-dom';\n\ntype LoginParamsProps = {\n  oauth_providers: string[];\n  allow_userpass_login: boolean;\n  allow_signup: boolean;\n  allow_pw_rest: boolean;\n};\n\ntype PossibleApps = 'load' | 'locked' | 'login' | 'routes' | 'tos';\n\nconst MyApp = () => {\n  const storedLoginParams = localStorage.getItem('loginParams');\n  const defaultLoginParams = storedLoginParams ? JSON.parse(storedLoginParams) : null;\n\n  const provider = getProvider();\n  const [renderedApp, setRenderedApp] = useState<PossibleApps>(provider ? 'login' : 'load');\n  const [loginParams, setLoginParams] = useState<LoginParamsProps | null>(defaultLoginParams);\n\n  const { t } = useTranslation();\n  const { setUser, setConfiguration } = useALContext();\n  const { setReady } = useAppLayout();\n  const { showErrorMessage } = useMySnackbar();\n\n  const switchRenderedApp = (value: PossibleApps) => {\n    if (renderedApp !== value) {\n      setRenderedApp(value);\n    }\n  };\n\n  useEffect(() => {\n    if (provider) {\n      return;\n    }\n    const requestOptions: RequestInit = {\n      method: 'GET',\n      headers: {\n        'X-XSRF-TOKEN': getXSRFCookie()\n      },\n      credentials: 'same-origin'\n    };\n\n    fetch('/api/v4/user/whoami/', requestOptions)\n      .then(res => {\n        return res.json();\n      })\n      .catch(() => {\n        return {\n          api_error_message: t('api.unreachable'),\n          api_response: '',\n          api_server_version: '4.0.0',\n          api_status_code: 400\n        };\n      })\n      .then(api_data => {\n        // eslint-disable-next-line no-prototype-builtins\n        if (api_data === undefined || !api_data.hasOwnProperty('api_response')) {\n          showErrorMessage(t('api.unreachable'), 30000);\n          switchRenderedApp('load');\n        } else if (api_data.api_status_code === 403) {\n          setConfiguration(api_data.api_response);\n          switchRenderedApp('locked');\n        } else if (api_data.api_status_code === 401) {\n          localStorage.setItem('loginParams', JSON.stringify(api_data.api_response));\n          setLoginParams(api_data.api_response);\n          switchRenderedApp('login');\n        } else if (api_data.api_status_code === 200) {\n          setUser(api_data.api_response);\n          setReady(true);\n          if (!api_data.api_response.agrees_with_tos && api_data.api_response.configuration.ui.tos) {\n            switchRenderedApp('tos');\n          } else {\n            switchRenderedApp('routes');\n          }\n        } else {\n          showErrorMessage(t('api.unreachable'), 30000);\n          switchRenderedApp('load');\n        }\n      });\n    // eslint-disable-next-line\n  }, []);\n  return {\n    load: <LoadingScreen />,\n    locked: <LockedPage />,\n    login: loginParams ? (\n      <LoginScreen\n        oAuthProviders={loginParams.oauth_providers}\n        allowUserPass={loginParams.allow_userpass_login}\n        allowSignup={loginParams.allow_signup}\n        allowPWReset={loginParams.allow_pw_rest}\n      />\n    ) : (\n      <LoadingScreen />\n    ),\n    routes: <Routes />,\n    tos: <Tos />\n  }[renderedApp];\n};\n\nconst AppInit: React.FC = () => {\n  // WARNING: do not use these hooks any other places than here.\n  // Each of these hooks have corresponding hooks in the commons\n  //  that accesses they global state stored in react context providers.\n  const layoutProps = useMyLayout();\n  const sitemapProps = useMySitemap();\n  const userProps = useMyUser();\n  // For src/components/hooks/useMyLayout -[use]-> src/commons/components/hooks/useAppLayout\n  // For src/components/hooks/useMySiteMap -[use]-> src/commons/components/hooks/useAppSiteMap\n  // For src/components/hooks/useMyUser -[use]-> src/commons/components/hooks/useAppUser\n\n  // General TemplateUI layout structure.\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <UserProvider {...userProps}>\n        <SiteMapProvider {...sitemapProps}>\n          <HighlightProvider>\n            <DrawerProvider>\n              <AppLayoutProvider {...layoutProps}>\n                <MyApp />\n              </AppLayoutProvider>\n            </DrawerProvider>\n          </HighlightProvider>\n        </SiteMapProvider>\n      </UserProvider>\n    </BrowserRouter>\n  );\n};\n\n// Main Application entry component.\n// This will initialize things like theme and snackar providers which will then be available\n//  from this point on.\nconst App = () => {\n  const colors = {\n    darkPrimary: '#7c93b9',\n    darkSecondary: '#929cad',\n    lightPrimary: '#0b65a1',\n    lightSecondary: '#939dac'\n  };\n  return (\n    <AppContextProvider defaultTheme=\"light\" colors={colors}>\n      <AppInit />\n    </AppContextProvider>\n  );\n};\n\nexport default App;\n","import AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AmpStoriesOutlinedIcon from '@material-ui/icons/AmpStoriesOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport BallotOutlinedIcon from '@material-ui/icons/BallotOutlined';\nimport BlockIcon from '@material-ui/icons/Block';\nimport BuildOutlinedIcon from '@material-ui/icons/BuildOutlined';\nimport BusinessOutlinedIcon from '@material-ui/icons/BusinessOutlined';\nimport ChromeReaderModeOutlinedIcon from '@material-ui/icons/ChromeReaderModeOutlined';\nimport CodeOutlinedIcon from '@material-ui/icons/CodeOutlined';\nimport DashboardOutlinedIcon from '@material-ui/icons/DashboardOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport FingerprintOutlinedIcon from '@material-ui/icons/FingerprintOutlined';\nimport HelpOutlineOutlinedIcon from '@material-ui/icons/HelpOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ListOutlinedIcon from '@material-ui/icons/ListOutlined';\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport PageviewOutlinedIcon from '@material-ui/icons/PageviewOutlined';\nimport PublishOutlinedIcon from '@material-ui/icons/PublishOutlined';\nimport ReceiptOutlinedIcon from '@material-ui/icons/ReceiptOutlined';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsApplicationsOutlinedIcon from '@material-ui/icons/SettingsApplicationsOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport SimCardOutlinedIcon from '@material-ui/icons/SimCardOutlined';\nimport SupervisorAccountOutlinedIcon from '@material-ui/icons/SupervisorAccountOutlined';\nimport WebAssetIcon from '@material-ui/icons/WebAsset';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { BiNetworkChart } from 'react-icons/bi';\n\n// SiteMapContextProps configuration properties.\n// exceptLast: boolean = false (default),\n// allLinks: boolean = false (default),\n// lastOnly: boolean = false (default),\n// itemsBefore: number = 1 (default),\n// itemsAfter: number = 1 (default),\n// routes: SiteMapRoute[] = [] (default)\n\n// For each individual SiteMapRoute:\n// path: string -> the react router path to this route.\n// title: string -> the title/lable to display in breadcrumbs for this route.\n// icon?: React.ReactNode -> the icon component to show beside the title/lable.\n// isRoot?: boolean = false -> when true, indicates that the breadcrumbs will reset to this one path each time it is encountered.\n// isLeaf?: boolean = false -> when true, indicates that this path does not aggregate in breadcrumbs, i.e. will be replaced by next path.\n// excluded?: boolean = false -> when true, indicates to breadcrumbs component to not render this route.  This is usefull if you want to use <PageHeader mode='title' />\nexport default function useMySitemap() {\n  const { t } = useTranslation();\n  return {\n    routes: [\n      { path: '/forbidden', title: t('forbidden'), isRoot: true, icon: <BlockIcon /> },\n      { path: '/notfound', title: t('notfound'), isRoot: true, icon: <LinkOffIcon /> },\n\n      { path: '/', title: t('drawer.submit'), isRoot: true, icon: <PublishOutlinedIcon /> },\n      { path: '/submit', title: t('drawer.submit'), isRoot: true, icon: <PublishOutlinedIcon /> },\n      { path: '/submissions', title: t('drawer.submissions'), isRoot: true, icon: <AmpStoriesOutlinedIcon /> },\n      {\n        path: '/submission/detail/:id',\n        title: t('breadcrumb.submission.detail'),\n        icon: <ListAltOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      {\n        path: '/file/detail/:id',\n        title: t('breadcrumb.file.detail'),\n        icon: <DescriptionOutlinedIcon />,\n        isRoot: true\n      },\n      {\n        path: '/file/viewer/:id',\n        title: t('breadcrumb.file.viewer'),\n        icon: <PageviewOutlinedIcon />,\n        isRoot: true\n      },\n      {\n        path: '/submission/detail/:id/:fid',\n        title: t('breadcrumb.submission.detail'),\n        icon: <ListAltOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      {\n        path: '/submission/report/:id',\n        title: t('breadcrumb.submission.report'),\n        icon: <ChromeReaderModeOutlinedIcon />,\n        breadcrumbs: ['/submissions']\n      },\n      { path: '/alerts', title: t('drawer.alerts'), isRoot: true, icon: <NotificationImportantOutlinedIcon /> },\n      {\n        path: '/alerts/:id',\n        title: t('breadcrumb.alert.detail'),\n        icon: <BallotOutlinedIcon />,\n        breadcrumbs: ['/alerts']\n      },\n      { path: '/dashboard', title: t('drawer.dashboard'), isRoot: true, icon: <DashboardOutlinedIcon /> },\n      { path: '/manage', title: t('drawer.manage'), isRoot: true, icon: <BuildOutlinedIcon /> },\n      {\n        path: '/manage/heuristics',\n        title: t('drawer.manage.heuristics'),\n        icon: <SimCardOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/heuristic/:id',\n        title: t('breadcrumb.heuristic.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/heuristics']\n      },\n      {\n        path: '/manage/signatures',\n        title: t('drawer.manage.signatures'),\n        icon: <FingerprintOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/signature/:id',\n        title: t('breadcrumb.signature.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/signatures']\n      },\n      {\n        path: '/manage/sources',\n        title: t('drawer.manage.source'),\n        icon: <CodeOutlinedIcon />,\n        breadcrumbs: ['/manage']\n      },\n      {\n        path: '/manage/workflow/:id',\n        title: t('breadcrumb.workflow.detail'),\n        icon: <ListOutlinedIcon />,\n        breadcrumbs: ['/manage', '/manage/workflows']\n      },\n      {\n        path: '/manage/workflows',\n        title: t('drawer.manage.workflow'),\n        icon: <BiNetworkChart />,\n        breadcrumbs: ['/manage']\n      },\n      { path: '/search', title: t('drawer.search'), isRoot: true, icon: <SearchIcon /> },\n      { path: '/search/alert', title: t('drawer.search.alert'), breadcrumbs: ['/search'] },\n      { path: '/search/file', title: t('drawer.search.file'), breadcrumbs: ['/search'] },\n      { path: '/search/result', title: t('drawer.search.result'), breadcrumbs: ['/search'] },\n      { path: '/search/signature', title: t('drawer.search.signature'), breadcrumbs: ['/search'] },\n      { path: '/search/submission', title: t('drawer.search.submission'), breadcrumbs: ['/search'] },\n      { path: '/help', title: t('drawer.help'), isRoot: true, icon: <HelpOutlineOutlinedIcon /> },\n      { path: '/help/api', title: t('drawer.help.api'), icon: <AssignmentOutlinedIcon />, breadcrumbs: ['/help'] },\n      {\n        path: '/help/classification',\n        title: t('drawer.help.classification'),\n        icon: <LabelOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      {\n        path: '/help/configuration',\n        title: t('drawer.help.configuration'),\n        icon: <SettingsApplicationsOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      { path: '/help/search', title: t('drawer.help.search'), icon: <SearchIcon />, breadcrumbs: ['/help'] },\n      {\n        path: '/help/services',\n        title: t('drawer.help.services'),\n        icon: <AccountTreeOutlinedIcon />,\n        breadcrumbs: ['/help']\n      },\n      { path: '/tos', title: t('breadcrumb.tos'), isRoot: true, icon: <ReceiptOutlinedIcon /> },\n      { path: '/account', title: t('usermenu.account'), isRoot: true, icon: <AccountCircleOutlinedIcon /> },\n      { path: '/settings', title: t('usermenu.settings'), isRoot: true, icon: <SettingsOutlinedIcon /> },\n      { path: '/admin', title: t('adminmenu'), isRoot: true, icon: <BusinessOutlinedIcon /> },\n      {\n        path: '/admin/errors',\n        title: t('adminmenu.errors'),\n        icon: <ErrorOutlineOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/services',\n        title: t('adminmenu.services'),\n        icon: <AccountTreeOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/services/:svc',\n        title: '{:svc}',\n        icon: <WebAssetIcon />,\n        breadcrumbs: ['/admin', '/admin/services']\n      },\n      { path: '/admin/sitemap', title: t('adminmenu.sitemap'), icon: <MapOutlinedIcon />, breadcrumbs: ['/admin'] },\n      {\n        path: '/admin/users',\n        title: t('adminmenu.users'),\n        icon: <SupervisorAccountOutlinedIcon />,\n        breadcrumbs: ['/admin']\n      },\n      {\n        path: '/admin/users/:id',\n        title: '{:id}',\n        isRoot: true,\n        icon: <AccountCircleOutlinedIcon />,\n        breadcrumbs: ['/admin', '/admin/users']\n      }\n    ]\n  };\n}\n","import App from 'components/app/app';\nimport 'fontsource-roboto';\nimport 'i18n';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}